<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Admin Access</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta content="Scroll EclipseHelp Exporter" name="generator"/>

    <link type="text/css" rel="stylesheet" href="css/eclipse-defaults.css" />
    <link type="text/css" rel="stylesheet" href="css/common.css" />
    <link type="text/css" rel="stylesheet" href="css/print.css" media="print" />
</head>
<body>
    <div class="container">
        <div class="header"></div>

        <div id="src-49153856" class="content">
                        <h1>Admin Access</h1>
    <p  >    </p>
<ul class="toc-indentation "><li class=" ">    <p  ><a  class="document-link " href="Admin_Access.html#src-49153856_AdminAccess-Createanadminuser">Create an admin user</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p  ><a  class="document-link " href="Admin_Access.html#src-49153856_AdminAccess-Createanewadminuser">Create a new admin user</a>    </p>
</li><li class=" ">    <p  ><a  class="document-link " href="Admin_Access.html#src-49153856_AdminAccess-Addadminaccesstoanexistinguser">Add admin access to an existing user</a>    </p>
</li></ul></li><li class=" ">    <p  ><a  class="document-link " href="Admin_Access.html#src-49153856_AdminAccess-PerformMobileBackendServicesAPIcallsonbehalfofanotheruser">Perform Mobile Backend Services API calls on behalf of another user</a>    </p>
</li><li class=" ">    <p  ><a  class="document-link " href="Admin_Access.html#src-49153856_AdminAccess-Batchdelete">Batch delete</a>    </p>
</li><li class=" ">    <p  ><a  class="document-link " href="Admin_Access.html#src-49153856_AdminAccess-Admindropcustomcollection">Admin drop custom collection</a>    </p>
</li></ul>    <p  >Mobile Backend Services (MBS) admin access allows application admin users to execute some batch operations and make MBS API calls on behalf of another user.    </p>
    <div class="section section-2 " id="src-49153856_AdminAccess-Createanadminuser">
        <h2 class="heading "><span>Create an admin user</span></h2>
    <p  >Before creating an admin user, log in to the Dashboard and select your application.    </p>
<ol class=" "><li class=" ">    <p  >Log in to <a class="external-link external-link" href="https://platform.appcelerator.com/">https://platform.appcelerator.com</a>.    </p>
</li><li class=" ">    <p  >Select an application from the <strong class=" ">Apps</strong> drop-down list.    </p>
</li></ol>    <p  >Then, either create a new admin user or add admin access to an existing user.    </p>
    <div class="section section-3 " id="src-49153856_AdminAccess-Createanewadminuser">
        <h3 class="heading "><span>Create a new admin user</span></h3>
<ol class=" "><li class=" ">    <p  >In the left navigation bar, click <strong class=" ">Manage Data</strong>.    </p>
</li><li class=" ">    <p  >In the main pane, click <strong class=" ">Users</strong>.    </p>
</li><li class=" ">    <p  >Click <strong class=" ">+ New User</strong>. A dialog appears.    </p>
</li><li class=" ">    <p  >Under the <strong class=" ">Admin</strong> section, click the <strong class=" ">Yes</strong> radio button.    </p>
</li><li class=" ">    <p  >At a minimum, enter a username, password, and confirm the password.    </p>
</li><li class=" ">    <p  >Click <strong class=" ">Save</strong>.    </p>
    <img  src="images/download/attachments/49153856/admin_appc1.png" alt="images/download/attachments/49153856/admin_appc1.png" class="confluence-embedded-image" width="500"  />
        <p  >    </p>
</li></ol>    <p  >Mobile Backend Services creates a new user with admin access.    </p>
    </div>
    <div class="section section-3 " id="src-49153856_AdminAccess-Addadminaccesstoanexistinguser">
        <h3 class="heading "><span>Add admin access to an existing user</span></h3>
<ol class=" "><li class=" ">    <p  >In the left navigation bar, click <strong class=" ">Manage Data</strong>.    </p>
</li><li class=" ">    <p  >In the main pane, click <strong class=" ">Users</strong>.    </p>
</li><li class=" ">    <p  >Locate the user you want to give admin access to and click the pencil icon in the same row to edit the user.    </p>
</li><li class=" ">    <p  >Locate the <strong class=" ">Admin</strong> section and click the <strong class=" ">Yes</strong> radio button.    </p>
</li><li class=" ">    <p  >Scroll down and click <strong class=" ">Save Changes</strong>.    </p>
</li></ol>    <p  >This user now has admin access. To disable access, follow the same steps except click the <strong class=" ">No</strong> radio button.    </p>
    </div>
    </div>
    <div class="section section-2 " id="src-49153856_AdminAccess-PerformMobileBackendServicesAPIcallsonbehalfofanotheruser">
        <h2 class="heading "><span>Perform Mobile Backend Services API calls on behalf of another user</span></h2>
    <p  >An admin user can perform MBS API calls on behalf of another user. For example, when you specify the <tt class=" ">su_id</tt> parameter to an ID of another user as part of the create method, the admin user creates an object on behalf of that user. The <tt class=" ">user</tt> parameter for the object will be reported as the other user, not the admin user.    </p>
    <p  >This admin operation is supported by any create, update and delete method, as well as the following methods:    </p>
<ul class=" "><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/KeyValues-method-append">KeyValues.append</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/KeyValues-method-incrby">KeyValues.incrby</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/KeyValues-method-set">KeyValues.set</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/PushNotifications-method-subscribe">PushNotifications.subscribe</a>    </p>
</li></ul>    <p  >For example, the following curl command creates a new status for the specified user:    </p>
    <div  class="tablewrap">
        <table >
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr >
            <td   rowspan="1" colspan="1">
        <div  class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">curl -b cookies.txt -c cookies.txt -F </code><code class="string">"su_id=520289441e1ef70b1a0236d2"</code><code class="plain"> -F </code><code class="string">"message=Hola, Mundo\!"</code><code class="plain"> </code></div>
<div class="line"><code class="string">"https://api.cloud.appcelerator.com/v1/statuses/create.json?key=APP_API_KEY"</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">  </code><code class="string">"meta"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    </code><code class="string">"code"</code><code class="plain">: 200,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"status"</code><code class="plain">: </code><code class="string">"ok"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"method_name"</code><code class="plain">: </code><code class="string">"createStatus"</code></div>
<div class="line"><code class="plain">  },</code></div>
<div class="line"><code class="plain">  </code><code class="string">"response"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    </code><code class="string">"statuses"</code><code class="plain">: [</code></div>
<div class="line"><code class="plain">      {</code></div>
<div class="line"><code class="plain">        </code><code class="string">"id"</code><code class="plain">: </code><code class="string">"5202c1ed87173a0afc024524"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">        </code><code class="string">"message"</code><code class="plain">: </code><code class="string">"Hola, Mundo\\!"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">        </code><code class="string">"created_at"</code><code class="plain">: </code><code class="string">"2013-08-07T21:53:49+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">        </code><code class="string">"updated_at"</code><code class="plain">: </code><code class="string">"2013-08-07T21:53:49+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">        </code><code class="string">"user"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">          </code><code class="string">"id"</code><code class="plain">: </code><code class="string">"520289441e1ef70b1a0236d2"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"created_at"</code><code class="plain">: </code><code class="string">"2013-08-07T17:52:04+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"updated_at"</code><code class="plain">: </code><code class="string">"2013-08-07T17:52:04+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"external_accounts"</code><code class="plain">: [</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">          ],</code></div>
<div class="line"><code class="plain">          </code><code class="string">"confirmed_at"</code><code class="plain">: </code><code class="string">"2013-08-07T17:52:04+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"username"</code><code class="plain">: </code><code class="string">"not_an_admin"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"admin"</code><code class="plain">: </code><code class="string">"false"</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">      }</code></div>
<div class="line"><code class="plain">    ]</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <p  >To verify that the other user created this status and not the admin user, run the following curl command and compare the user IDs:    </p>
    <div  class="tablewrap">
        <table >
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr >
            <td   rowspan="1" colspan="1">
        <div  class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">curl -b cookies.txt -c cookies.txt </code></div>
<div class="line"><code class="string">"https://api.cloud.appcelerator.com/v1/statuses/show.json?key=APP_API_KEY&amp;status_id=5202c1ed87173a0afc024524"</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">  </code><code class="string">"meta"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    </code><code class="string">"code"</code><code class="plain">: 200,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"status"</code><code class="plain">: </code><code class="string">"ok"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"method_name"</code><code class="plain">: </code><code class="string">"showStatus"</code></div>
<div class="line"><code class="plain">  },</code></div>
<div class="line"><code class="plain">  </code><code class="string">"response"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    </code><code class="string">"statuses"</code><code class="plain">: [</code></div>
<div class="line"><code class="plain">      {</code></div>
<div class="line"><code class="plain">        </code><code class="string">"id"</code><code class="plain">: </code><code class="string">"5202c1ed87173a0afc024524"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">        </code><code class="string">"message"</code><code class="plain">: </code><code class="string">"Hola, Mundo\\!"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">        </code><code class="string">"created_at"</code><code class="plain">: </code><code class="string">"2013-08-07T21:53:49+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">        </code><code class="string">"updated_at"</code><code class="plain">: </code><code class="string">"2013-08-07T21:53:49+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">        </code><code class="string">"user"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">          </code><code class="string">"id"</code><code class="plain">: </code><code class="string">"520289441e1ef70b1a0236d2"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"created_at"</code><code class="plain">: </code><code class="string">"2013-08-07T17:52:04+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"updated_at"</code><code class="plain">: </code><code class="string">"2013-08-07T17:52:04+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"external_accounts"</code><code class="plain">: [</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">          ],</code></div>
<div class="line"><code class="plain">          </code><code class="string">"confirmed_at"</code><code class="plain">: </code><code class="string">"2013-08-07T17:52:04+0000"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"username"</code><code class="plain">: </code><code class="string">"not_an_admin"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"admin"</code><code class="plain">: </code><code class="string">"false"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">          </code><code class="string">"stats"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">            </code><code class="string">"photos"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">              </code><code class="string">"total_count"</code><code class="plain">: 0</code></div>
<div class="line"><code class="plain">            },</code></div>
<div class="line"><code class="plain">            </code><code class="string">"storage"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">              </code><code class="string">"used"</code><code class="plain">: 0</code></div>
<div class="line"><code class="plain">            }</code></div>
<div class="line"><code class="plain">          }</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">      }</code></div>
<div class="line"><code class="plain">    ]</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-2 " id="src-49153856_AdminAccess-Batchdelete">
        <h2 class="heading "><span>Batch delete</span></h2>
    <p  >Mobile Backend Services provides an API endpoint named <tt class=" ">batch_delete</tt> that allows application admins to delete multiple MBS objects in one operation. The method takes a <tt class=" ">where</tt> parameter that constrains the selection of objects to delete. If <tt class=" ">where</tt> is omitted, all objects are deleted. For performance reasons, the number of objects that can be deleted in a single batch delete operation is limited to 100,000. Objects are deleted asynchronously in a separate process, not immediately upon method invocation.    </p>
    <p  >Certain MBS objects can have dependencies on other objects. For example, when you create a <tt class=" ">Checkins</tt> object you can specify a <a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Places">Places</a> or <a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Events">Events</a> object to associate with it. In this case, the Checkins object is a dependency of the Places or Events object. If you delete the Places or Events object, the dependent Checkins object is <strong class=" ">not</strong> deleted.    </p>
    <p  >For example, the following deletes all Users objects whose <tt class=" ">favorite_color</tt> custom field is 'blue'.    </p>
    <div  class="tablewrap">
        <table >
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr >
            <td   rowspan="1" colspan="1">
        <div  class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain"> $curl -b cookies.txt -c cookies.txt -X DELETE -F </code><code class="string">"where={\"favorite_color\":\"blue\"}"</code><code class="plain"> </code></div>
<div class="line"><code class="plain"> https:</code><code class="comments">//api.cloud.appcelerator.com/v1/users/batch_delete.json?key&lt;API_KEY&gt;&amp;pretty_json=true     </code></div>
<div class="line"><code class="plain"> {</code></div>
<div class="line"><code class="plain">  </code><code class="string">"meta"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    </code><code class="string">"status"</code><code class="plain">: </code><code class="string">"ok"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"code"</code><code class="plain">: 200,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"method_name"</code><code class="plain">: </code><code class="string">"adminBatchDelete"</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <p  >Note that the method returns an HTTP 200 code (success) even if the query matched no objects.    </p>
    <p  >The following MBS objects support batch delete operations:    </p>
<ul class=" "><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Checkins">Checkins</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/PhotoCollections">PhotoCollections</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Events">Events</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Files">Files</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/CustomObjects">CustomObjects</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Photos">Photos</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Places">Places</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Posts">Posts</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Reviews">Reviews</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Statuses">Statuses</a>    </p>
</li><li class=" ">    <p  ><a class="external-link external-link" href="http://docs.appcelerator.com/arrowdb/latest/#!/api/Users">Users</a>    </p>
</li></ul>    </div>
    <div class="section section-2 " id="src-49153856_AdminAccess-Admindropcustomcollection">
        <h2 class="heading "><span>Admin drop custom collection</span></h2>
    <p  >An application admin user can also drop a Custom Object collection using <tt class=" ">admin_drop_collection</tt> method. When calling the <tt class=" ">admin_drop_collection</tt> method, the admin user must specify a class name to indicate which custom collection to drop.    </p>
    <p  >For example, the following drops the <tt class=" ">car</tt> collection:    </p>
    <div  class="tablewrap">
        <table >
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr >
            <td   rowspan="1" colspan="1">
        <div  class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">$ curl -b c.txt -c c.txt -X DELETE </code></div>
<div class="line"><code class="string">"https://api.cloud.appcelerator.com/v1/objects/car/admin_drop_collection.json?key=hPkMYgNozXR8xegNvWjqBVTcWK8P5fIX"</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">  </code><code class="string">"meta"</code><code class="plain">: {</code></div>
<div class="line"><code class="plain">    </code><code class="string">"status"</code><code class="plain">: </code><code class="string">"ok"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"code"</code><code class="plain">: 200,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"method_name"</code><code class="plain">: </code><code class="string">"dropCollection"</code></div>
<div class="line"><code class="plain">  }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <p  >Only Custom Objects support the drop custom collection method.    </p>
    </div>
        </div>
    
        <div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
    </div>
</body>
</html>
