<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Models - Predefined or Custom Endpoints</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta content="Scroll EclipseHelp Exporter" name="generator">

    <link type="text/css" rel="stylesheet" href="css/eclipse-defaults.css">
    <link type="text/css" rel="stylesheet" href="css/common.css">
    <link type="text/css" rel="stylesheet" href="css/print.css" media="print">
</head>
<body>
    <div class="container">
        <div class="header"></div>

        <div id="src-49153283" class="content">
                        <h1>Models - Predefined or Custom Endpoints</h1>
    <p>By default, API Builder generates the following API endpoints for models:    </p>
<ul class=" "><li class=" ">    <p><tt class=" ">GET /api/&lt;model_name&gt;</tt> : Return all objects (the first 1000 records).    </p>
</li><li class=" ">    <p><tt class=" ">GET /api/&lt;model_name&gt;/query</tt> : Return all objects that satisfy a query.    </p>
</li><li class=" ">    <p><tt class=" ">GET /api/&lt;model_name&gt;/:id</tt> : Return a specific object by id    </p>
</li><li class=" ">    <p><tt class=" ">GET /api/&lt;model_name&gt;/distinct</tt> : Find distinct objects    </p>
</li><li class=" ">    <p><tt class=" ">GET /api/&lt;model_name&gt;/count</tt> : Count objects    </p>
</li><li class=" ">    <p><tt class=" ">PUT /api/&lt;model_name&gt;/:id</tt> : Update a specific user by id    </p>
</li><li class=" ">    <p><tt class=" ">PUT /api/&lt;model_name&gt;/findAndModify</tt> : Find and modify an object    </p>
</li><li class=" ">    <p><tt class=" ">POST /api/&lt;model_name&gt;</tt> : Create a new object    </p>
</li><li class=" ">    <p><tt class=" ">POST /api/&lt;model_name&gt;/upsert</tt> : Create or update an object    </p>
</li><li class=" ">    <p><tt class=" ">DELETE /api/&lt;model_name&gt;/:id</tt> : Delete a specific object by id    </p>
</li><li class=" ">    <p><tt class=" ">DELETE /api/&lt;model_name&gt;</tt> : Delete all objects    </p>
</li></ul>    <p>To disable API Builder from generating these endpoints, set the Model&apos;s <tt class=" ">autogen</tt> property to <tt class=" ">false</tt> when defining the model. You will need to create <a class="document-link " href="API_Builder_APIs.html">API Builder APIs</a> to access the model.    </p>
    <p><strong class=" ">Example:</strong>    </p>
    <p>The following model disabled generating pre-defined endpoints. An API endpoint needs to be defined to access the model data as shown below.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                    <div class="title">modes/employee.js</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="modes/employee.js">
<div class="line"><code class="plain">var Arrow = require(</code><code class="string">&apos;arrow&apos;</code><code class="plain">);</code></div>
<div class="line">&#xA0;</div>
<div class="line"><code class="plain">var employee = createModel(</code><code class="string">&apos;employee&apos;</code><code class="plain">, {</code></div>
<div class="line"><code class="plain">    fields: {</code></div>
<div class="line"><code class="plain">        first_name: {type:String, description:</code><code class="string">&apos;First name&apos;</code><code class="plain">, required:</code><code class="keyword">true</code><code class="plain">},</code></div>
<div class="line"><code class="plain">        last_name: {type:String, description:</code><code class="string">&apos;Last name&apos;</code><code class="plain">, required:</code><code class="keyword">true</code><code class="plain">},</code></div>
<div class="line"><code class="plain">        email_address: {type:String, description:</code><code class="string">&apos;Email address&apos;</code><code class="plain">, required:</code><code class="keyword">true</code><code class="plain">}</code></div>
<div class="line"><code class="plain">    },</code></div>
<div class="line"><code class="plain">    connector: </code><code class="string">&apos;memory&apos;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    autogen: </code><code class="keyword">false</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line">&#xA0;</div>
<div class="line"><code class="plain">module.exports = employee;</code></div>
</div>
    </div>
    <p>The example below implements the <tt class=" ">GET /api/&lt;employee&gt;/:id</tt> endpoint that would normally be generated by API Builder.    </p>
    <div class="confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code">
                    <div class="title">apis/employeeFindOne.js</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="apis/employeeFindOne.js">
<div class="line"><code class="plain">var Arrow = require(</code><code class="string">&apos;arrow&apos;</code><code class="plain">);</code></div>
<div class="line">&#xA0;</div>
<div class="line"><code class="plain">var employeeFindOne = Arrow.API.extend({</code></div>
<div class="line"><code class="plain">    group: </code><code class="string">&apos;employeeAPIs&apos;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    path: </code><code class="string">&apos;/api/employee/:id&apos;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    method: </code><code class="string">&apos;GET&apos;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    description: </code><code class="string">&apos;This API finds one employee record&apos;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    model: </code><code class="string">&apos;employee&apos;</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    parameters: {</code></div>
<div class="line"><code class="plain">        id: {description: </code><code class="string">&apos;the employee id&apos;</code><code class="plain">}</code></div>
<div class="line"><code class="plain">    },</code></div>
<div class="line"><code class="plain">    action: function (req, resp, next) {</code></div>
<div class="line"><code class="plain">        resp.stream(req.model.find, req.params.id, next);</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">});</code></div>
<div class="line">&#xA0;</div>
<div class="line"><code class="plain">module.exports = employeeFindOne;</code></div>
</div>
    </div>
        </div>
    
        
    </div>
</body>
</html>
