;
/* module-key = 'jira.webresources:field-templates', location = '/includes/jira/field/templates/singleUserPicker.soy' */
// This file was automatically generated from singleUserPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.Pickers.User.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }
if (typeof JIRA.Templates.Fields.Pickers == 'undefined') { JIRA.Templates.Fields.Pickers = {}; }
if (typeof JIRA.Templates.Fields.Pickers.User == 'undefined') { JIRA.Templates.Fields.Pickers.User = {}; }


JIRA.Templates.Fields.Pickers.User.single = function(opt_data, opt_ignored) {
  var output = '<select id="' + soy.$$escapeHtml(opt_data.field.id) + '" name="' + soy.$$escapeHtml(opt_data.field.name) + '" class="single-user-picker js-' + ((opt_data.type) ? soy.$$escapeHtml(opt_data.type) : 'default-user-picker') + '"' + ((opt_data.inputText) ? ' data-input-text="' + soy.$$escapeHtml(opt_data.inputText) + '"' : '') + ((opt_data.editValue) ? ' data-edit-value="' + soy.$$escapeHtml(opt_data.editValue) + '"' : '') + ((opt_data.showDropdownButton) ? ' data-show-dropdown-button="true"' : '') + ((opt_data.userType) ? ' data-user-type="' + soy.$$escapeHtml(opt_data.userType) + '"' : '') + ((opt_data.containerClass) ? ' data-container-class="' + soy.$$escapeHtml(opt_data.containerClass) + '"' : '') + '>';
  var optionList38 = opt_data.options;
  var optionListLen38 = optionList38.length;
  for (var optionIndex38 = 0; optionIndex38 < optionListLen38; optionIndex38++) {
    var optionData38 = optionList38[optionIndex38];
    if (optionData38.optionGroup) {
      output += '<optgroup id="' + soy.$$escapeHtml(opt_data.field.id) + '-group-' + soy.$$escapeHtml(optionData38.id) + '" label="' + soy.$$escapeHtml(optionData38.display) + '"' + ((optionData38.footer) ? ' data-footer-text="' + soy.$$escapeHtml(optionData38.footer) + '"' : '') + ((optionData38.weight != -1) ? ' data-weight="' + soy.$$escapeHtml(optionData38.weight) + '"' : '') + '>';
      var groupOptionList59 = optionData38.groupOptions;
      var groupOptionListLen59 = groupOptionList59.length;
      for (var groupOptionIndex59 = 0; groupOptionIndex59 < groupOptionListLen59; groupOptionIndex59++) {
        var groupOptionData59 = groupOptionList59[groupOptionIndex59];
        output += JIRA.Templates.Fields.Pickers.User.option(groupOptionData59);
      }
      output += '</optgroup>';
    } else {
      output += JIRA.Templates.Fields.Pickers.User.option(optionData38);
    }
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.single.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.single';
}


JIRA.Templates.Fields.Pickers.User.option = function(opt_data, opt_ignored) {
  return '<option ' + ((opt_data.loggedInUser) ? 'class="current-user" ' : '') + ((opt_data.selected) ? 'selected="selected" ' : '') + 'value="' + soy.$$escapeHtml(opt_data.optionName) + '" data-field-text="' + soy.$$escapeHtml(opt_data.displayName) + '" data-field-label="' + soy.$$escapeHtml(opt_data.displayName) + ((opt_data.emailAddress) ? ' - ' + soy.$$escapeHtml(opt_data.emailAddress) : '') + ((opt_data.optionName && opt_data.optionName != '-1') ? ' (' + soy.$$escapeHtml(opt_data.optionName) + ')' : '') + '" data-icon="' + soy.$$escapeHtml(opt_data.avatarURL) + '" >' + soy.$$escapeHtml(opt_data.displayName) + '</option>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.option.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.option';
}
;
;
/* module-key = 'jira.webresources:field-templates', location = '/includes/jira/field/templates/assigneeField.soy' */
// This file was automatically generated from assigneeField.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.Pickers.User.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }
if (typeof JIRA.Templates.Fields.Pickers == 'undefined') { JIRA.Templates.Fields.Pickers = {}; }
if (typeof JIRA.Templates.Fields.Pickers.User == 'undefined') { JIRA.Templates.Fields.Pickers.User = {}; }


JIRA.Templates.Fields.Pickers.User.assignee = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.Fields.Pickers.User.single(soy.$$augmentMap(opt_data, {options: opt_data.assigneeOptions.options, showDropdownButton: true, userType: 'assignee', type: 'assignee-picker', containerClass: 'long-field'})) + ((opt_data.isLoggedInUserAssignable) ? '<a href="#' + soy.$$escapeHtml(opt_data.field.id) + '" id="assign-to-me-trigger">' + soy.$$escapeHtml("Assign to me") + '</a>' : '') + '<fieldset class="hidden parameters"><input type="hidden" title="projectKeys" value="' + soy.$$escapeHtml(opt_data.projectKeys) + '"/>' + ((opt_data.issueKey) ? '<input type="hidden" title="assigneeEditIssueKey" value="' + soy.$$escapeHtml(opt_data.issueKey) + '"/>' : '') + ((opt_data.actionDescriptorId) ? '<input type="hidden" title="actionDescriptorId" value="' + soy.$$escapeHtml(opt_data.actionDescriptorId) + '"/>' : '') + '</fieldset>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.assignee.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.assignee';
}
;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/userPickerUtil.js' */
define("jira/field/user-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery"],function(ItemDescriptor,GroupDescriptor,jQuery){return{formatResponse:function(data){var ret=[];jQuery(data).each(function(i,suggestions){var groupDescriptor=new GroupDescriptor({weight:i,label:suggestions.footer});jQuery(suggestions.users).each(function(){groupDescriptor.addItem(new ItemDescriptor({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:false,highlighted:true}))});ret.push(groupDescriptor)});return ret}}});AJS.namespace("JIRA.UserPickerUtil",null,require("jira/field/user-picker-util"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initSingleUserPickers.js' */
define("jira/field/init-single-user-pickers",["jquery","jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/user-picker-util","jira/util/formatter"],function(jQuery,SingleSelect,Reasons,Types,Events,UserPickerUtil,formatter){function createSingleUserPickers(ctx){var restPath="/rest/api/1.0/users/picker";jQuery(".js-default-user-picker",ctx).each(function(){var $this=jQuery(this);if($this.data("aui-ss")){return }var data={showAvatar:true},inputText=$this.data("inputValue");new SingleSelect({element:$this,submitInputVal:true,showDropdownButton:!!$this.data("show-dropdown-button"),errorMessage:formatter.format("There is no user \'\'{0}\'\'.","'{0}'"),ajaxOptions:{url:contextPath+restPath,query:true,data:data,formatResponse:UserPickerUtil.formatResponse},inputText:inputText})})}Events.bind(Types.NEW_CONTENT_ADDED,function(e,context,reason){if(reason!==Reasons.panelRefreshed){createSingleUserPickers(context)}})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/NoBrowseUserNamePicker.js' */
define("jira/field/no-browser-user-name-picker",["require"],function(require){var jQuery=require("jquery");var ItemDescriptor=require("jira/ajs/list/item-descriptor");var MultiSelect=require("jira/ajs/select/multi-select");var formatter=require("jira/util/formatter");return MultiSelect.extend({_getDefaultOptions:function(){return jQuery.extend(true,this._super(),{errorMessage:"The requested user does not exist.",showDropdownButton:false,removeOnUnSelect:true,itemAttrDisplayed:"label"})},_handleCharacterInput:function(){},_setSuggestions:function(){},_handleServerError:function(smartAjaxResult){if(smartAjaxResult.status===404){this.showErrorMessage()}else{this._super()}},_deactivate:function(){this.validateAndAdd()},validateAndAdd:function(){var instance=this;if(jQuery.trim(this.$field.val())===""){this.hideErrorMessage()}else{jQuery.ajax({url:contextPath+"/rest/api/2/user",data:{username:jQuery.trim(instance.getQueryVal())},success:function(user){instance.hideErrorMessage();instance.$field.val("");instance.addItem(new ItemDescriptor({label:user.displayName,value:user.name}))},error:function(){instance.showErrorMessage()}})}},_handleSpace:function(){this.validate()},_handleServerSuggestions:function(){this.hideErrorMessage();this.handleFreeInput()},handleFreeInput:function(){var value=jQuery.trim(this.$field.val());if(value!==""){this.addItem({value:value,label:value});this.model.$element.trigger("change")}this.$field.val("")},keys:{"Return":function(event){event.preventDefault();this.validateAndAdd()},"Spacebar":function(event){event.preventDefault();this.validateAndAdd()}}})});AJS.namespace("AJS.NoBrowseUserNamePicker",null,require("jira/field/no-browser-user-name-picker"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initMultiUserPickers.js' */
define("jira/field/init-multi-user-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/no-browser-user-name-picker","jira/field/user-picker-util"],function(jQuery,MultiSelect,Reasons,Types,Events,NoBrowseUserNamePicker,UserPickerUtil){function initMultiUserPicker(ctx){ctx.find(".js-default-multi-user-picker").each(function(){var $el=jQuery(this);if(AJS.params.currentUserCanBrowseUsers){new MultiSelect({element:this,itemAttrDisplayed:"label",showDropdownButton:false,removeOnUnSelect:true,submitInputVal:true,ajaxOptions:{url:contextPath+"/rest/api/1.0/users/picker",query:true,data:function(query){return{showAvatar:true,query:query,exclude:$el.val()}},formatResponse:UserPickerUtil.formatResponse}})}else{new NoBrowseUserNamePicker({element:this})}})}Events.bind(Types.NEW_CONTENT_ADDED,function(e,context,reason){if(reason!==Reasons.panelRefreshed){initMultiUserPicker(context)}})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/init/init-user-pickers-webresource.js' */
require("jira/field/init-multi-user-pickers");require("jira/field/init-single-user-pickers");;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/lib/jquery.dotdotdot-1.5.7.js' */
(function(i){if(i.fn.dotdotdot){return}i.fn.dotdotdot=function(v){if(this.length==0){if(!v||v.debug!==false){b(true,'No element found for "'+this.selector+'".')}return this}if(this.length>1){return this.each(function(){i(this).dotdotdot(v)})}var r=this;if(r.data("dotdotdot")){r.trigger("destroy.dot")}r.bind_events=function(){r.bind("update.dot",function(y,A){y.preventDefault();y.stopPropagation();t.maxHeight=(typeof t.height=="number")?t.height:o(r);t.maxHeight+=t.tolerance;if(typeof A!="undefined"){if(typeof A=="string"||A instanceof HTMLElement){A=i("<div />").append(A).contents()}if(A instanceof i){w=A}}s=r.wrapInner('<div class="dotdotdot" />').children();s.empty().append(w.clone(true)).css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var z=false,x=false;if(q.afterElement){z=q.afterElement.clone(true);q.afterElement.remove()}if(k(s,t)){if(t.wrap=="children"){x=d(s,t,z)}else{x=m(s,r,s,t,z)}}s.replaceWith(s.contents());s=null;if(i.isFunction(t.callback)){t.callback.call(r[0],x,w)}q.isTruncated=x;return x}).bind("isTruncated.dot",function(y,x){y.preventDefault();y.stopPropagation();if(typeof x=="function"){x.call(r[0],q.isTruncated)}return q.isTruncated}).bind("originalContent.dot",function(y,x){y.preventDefault();y.stopPropagation();if(typeof x=="function"){x.call(r[0],w)}return w}).bind("destroy.dot",function(x){x.preventDefault();x.stopPropagation();r.unwatch().unbind_events().empty().append(w).data("dotdotdot",false)});return r};r.unbind_events=function(){r.unbind(".dot");return r};r.watch=function(){r.unwatch();if(t.watch=="window"){var z=i(window),y=z.width(),x=z.height();z.bind("resize.dot"+q.dotId,function(){if(y!=z.width()||x!=z.height()||!t.windowResizeFix){y=z.width();x=z.height();if(p){clearInterval(p)}p=setTimeout(function(){r.trigger("update.dot")},10)}})}else{u=j(r);p=setInterval(function(){var A=j(r);if(u.width!=A.width||u.height!=A.height){r.trigger("update.dot");u=j(r)}},100)}return r};r.unwatch=function(){i(window).unbind("resize.dot"+q.dotId);if(p){clearInterval(p)}return r};var w=r.contents(),t=i.extend(true,{},i.fn.dotdotdot.defaults,v),q={},u={},p=null,s=null;q.afterElement=c(t.after,r);q.isTruncated=false;q.dotId=l++;r.data("dotdotdot",true).bind_events().trigger("update.dot");if(t.watch){r.watch()}return r};i.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true,debug:false};var l=1;function d(s,w,v){var u=s.children(),p=false;s.empty();for(var r=0,q=u.length;r<q;r++){var t=u.eq(r);s.append(t);if(v){s.append(v)}if(k(s,w)){t.remove();p=true;break}else{if(v){v.remove()}}}return p}function m(s,r,A,t,q){var w=s.contents(),x=false;s.empty();var z="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style";for(var y=0,u=w.length;y<u;y++){if(x){break}var v=w[y],p=i(v);if(typeof v=="undefined"){continue}s.append(p);if(q){s[(s.is(z))?"after":"append"](q)}if(v.nodeType==3){if(k(A,t)){x=e(p,r,A,t,q)}}else{x=m(p,r,A,t,q)}if(!x){if(q){q.remove()}}}return x}function e(q,r,p,w,s){var D=false,A=q[0];if(typeof A=="undefined"){return false}var E=(w.wrap=="letter")?"":" ",t=h(A).split(E),F=-1,v=-1,G=0,y=t.length-1;while(G<=y){var x=Math.floor((G+y)/2);if(x==v){break}v=x;a(A,t.slice(0,v+1).join(E)+w.ellipsis);if(!k(p,w)){F=v;G=v}else{y=v}}if(F!=-1&&!(t.length==1&&t[0].length==0)){var u=f(t.slice(0,F+1).join(E),w);D=true;a(A,u)}else{var z=q.parent();q.remove();var C=(s)?s.length:0;if(z.contents().size()>C){var B=z.contents().eq(-1-C);D=e(B,r,p,w,s)}else{var A=z.prev().contents().eq(-1)[0];if(typeof A!="undefined"){var u=f(h(A),w);a(A,u);z.remove();D=true}}}return D}function k(q,p){return q.innerHeight()>p.maxHeight}function f(p,q){while(i.inArray(p.slice(-1),q.lastCharacter.remove)>-1){p=p.slice(0,-1)}if(i.inArray(p.slice(-1),q.lastCharacter.noEllipsis)<0){p+=q.ellipsis}return p}function j(p){return{width:p.innerWidth(),height:p.innerHeight()}}function a(q,p){if(q.innerText){q.innerText=p}else{if(q.nodeValue){q.nodeValue=p}else{if(q.textContent){q.textContent=p}}}}function h(p){if(p.innerText){return p.innerText}else{if(p.nodeValue){return p.nodeValue}else{if(p.textContent){return p.textContent}else{return""}}}}function c(p,q){if(typeof p=="undefined"){return false}if(!p){return false}if(typeof p=="string"){p=i(p,q);return(p.length)?p:false}if(typeof p=="object"){return(typeof p.jquery=="undefined")?false:p}return false}function o(s){var t=s.innerHeight(),r=["paddingTop","paddingBottom"];for(var u=0,q=r.length;u<q;u++){var p=parseInt(s.css(r[u]),10);if(isNaN(p)){p=0}t-=p}return t}function b(q,p){if(!q){return false}if(typeof p=="string"){p="dotdotdot: "+p}else{p=["dotdotdot:",p]}if(typeof window.console!="undefined"){if(typeof window.console.log!="undefined"){window.console.log(p)}}return false}var n=i.fn.html;i.fn.html=function(p){if(typeof p!="undefined"){if(this.data("dotdotdot")){if(typeof p!="function"){return this.trigger("update",[p])}}return n.call(this,p)}return n.call(this)};var g=i.fn.text;i.fn.text=function(q){if(typeof q!="undefined"){if(this.data("dotdotdot")){var p=i("<div />");p.text(q);q=p.html();p.remove();return this.trigger("update",[q])}return g.call(this,q)}return g.call(this)}})(require("jquery"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/ProjectTemplatesList.soy' */
// This file was automatically generated from ProjectTemplatesList.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.renderProjectTemplates = function(opt_data, opt_ignored) {
  return '' + ((soy.$$getMapKeys(opt_data.projectTemplates).length == 0) ? JIRA.Templates.errorMsg({closeable: false, msg: "No project templates could be found."}) : JIRA.Templates.ProjectTemplates.renderTemplates(opt_data));
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderProjectTemplates.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderProjectTemplates';
}


JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.projectTemplatesByType.length == 0) {
    output += JIRA.Templates.errorMsg({closeable: false, msg: "No project templates could be found."});
  } else {
    var projectTypeTemplatesGroupList18 = opt_data.projectTemplatesByType;
    var projectTypeTemplatesGroupListLen18 = projectTypeTemplatesGroupList18.length;
    for (var projectTypeTemplatesGroupIndex18 = 0; projectTypeTemplatesGroupIndex18 < projectTypeTemplatesGroupListLen18; projectTypeTemplatesGroupIndex18++) {
      var projectTypeTemplatesGroupData18 = projectTypeTemplatesGroupList18[projectTypeTemplatesGroupIndex18];
      output += '<div class="template-group" id="project-template-group-' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.projectTypeKey) + '"><div class="template-group-header"><h6><img class="project-type-icon" src="data:image/svg+xml;base64, ' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.icon) + ' "/><span>' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.projectTypeDisplayKey) + '</span></h6></div>' + JIRA.Templates.ProjectTemplates.renderTemplates({projectTemplates: projectTypeTemplatesGroupData18.projectTemplates}) + '</div>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType';
}


JIRA.Templates.ProjectTemplates.renderTemplates = function(opt_data, opt_ignored) {
  return '<div class="pt-templates-list">' + JIRA.Templates.ProjectTemplates.renderItems(opt_data) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderTemplates.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderTemplates';
}


JIRA.Templates.ProjectTemplates.renderItems = function(opt_data, opt_ignored) {
  var output = '<ol class="templates" tabindex="100">';
  var templateList37 = opt_data.projectTemplates;
  var templateListLen37 = templateList37.length;
  for (var templateIndex37 = 0; templateIndex37 < templateListLen37; templateIndex37++) {
    var templateData37 = templateList37[templateIndex37];
    output += '<li class="template"' + ((templateData37.itemModuleCompleteKey) ? 'data-item-module-complete-key="' + soy.$$escapeHtml(templateData37.itemModuleCompleteKey) + '"' : '') + ((templateData37.projectTemplateModuleCompleteKey) ? 'data-project-template-module-complete-key="' + soy.$$escapeHtml(templateData37.projectTemplateModuleCompleteKey) + '"' : '') + ((templateData37.createProject) ? 'data-create-project="' + soy.$$escapeHtml(templateData37.createProject) + '"' : '') + ((templateData37.demoProject) ? 'data-demo-project="' + soy.$$escapeHtml(templateData37.demoProject) + '"' : '') + ((templateData37.backgroundIconUrl) ? 'data-background-icon-url="' + soy.$$escapeHtml(templateData37.backgroundIconUrl) + '"' : '') + ((templateData37.name) ? 'data-name="' + soy.$$escapeHtml(templateData37.name) + '"' : '') + ((templateData37.description) ? 'data-description="' + soy.$$escapeHtml(templateData37.description) + '"' : '') + ((templateData37.longDescriptionContent) ? 'data-long-description-content="' + soy.$$escapeHtml(templateData37.longDescriptionContent) + '"' : '') + ((templateData37.infoSoyPath) ? 'data-info-soy-path="' + soy.$$escapeHtml(templateData37.infoSoyPath) + '"' : '') + '><img class="template-preview" src="' + soy.$$escapeHtml(templateData37.iconUrl) + '" /><div class="template-meta"><div class="template-name" title="' + soy.$$escapeHtml(templateData37.name) + '">' + soy.$$escapeHtml(templateData37.name) + '</div><div class="template-description" title="' + soy.$$escapeHtml(templateData37.description) + '">' + soy.$$escapeHtml(templateData37.description) + '</div></div></li>';
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderItems.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderItems';
}


JIRA.Templates.ProjectTemplates.loadingTemplatesList = function(opt_data, opt_ignored) {
  return '<div class="wait-container"><img class="wait-icon" src="' + soy.$$escapeHtml("") + '/images/icons/wait.gif"><span class="wait-text">' + soy.$$escapeHtml("Loading project templates") + '&hellip;</span></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.loadingTemplatesList.soyTemplateName = 'JIRA.Templates.ProjectTemplates.loadingTemplatesList';
}


JIRA.Templates.ProjectTemplates.footerLinks = function(opt_data, opt_ignored) {
  return '<div class="footer-links"><a class="import-project-trigger button-panel-link" href="' + soy.$$escapeHtml("") + '/secure/admin/views/ExternalImport1.jspa">' + soy.$$escapeHtml("Import a project") + '</a>|<a class="create-with-shared-config button-panel-link" href="#"><span class="aui-icon aui-icon-create-shared">' + soy.$$escapeHtml("Create with shared configuration") + '</span> ' + soy.$$escapeHtml("Create with shared configuration") + '</a>' + ((opt_data.showDemoLink) ? '| <a class="add-demo-project-trigger button-panel-link" href="#">' + soy.$$escapeHtml("Create sample data") + '</a>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.footerLinks.soyTemplateName = 'JIRA.Templates.ProjectTemplates.footerLinks';
}


JIRA.Templates.ProjectTemplates.addWorkflowsLink = function(opt_data, opt_ignored) {
  return '<a class="add-workflow-link" href="' + soy.$$escapeHtml(opt_data.baseUrl) + '/plugins/servlet/wfshare-import?src=projecttemplates" tabindex="-1">' + soy.$$escapeHtml("View Marketplace Workflows") + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addWorkflowsLink.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addWorkflowsLink';
}
;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/AddProject.soy' */
// This file was automatically generated from AddProject.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.addProjectForm = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.errorMessages) {
    var errorList5 = opt_data.errors.errorMessages;
    var errorListLen5 = errorList5.length;
    for (var errorIndex5 = 0; errorIndex5 < errorListLen5; errorIndex5++) {
      var errorData5 = errorList5[errorIndex5];
      output += JIRA.Templates.errorMsg({closeable: false, msg: errorData5});
    }
  }
  output += '<div class="add-project-wrapper"><div class="add-project-form-wrapper">' + aui.form.form({content: '' + aui.form.fieldset({legendContent: '', content: '' + JIRA.Templates.ProjectTemplates.longTextField({id: 'name', name: 'name', isRequired: false, maxLength: opt_data.maxNameLength, labelContent: "Name", descriptionText: AJS.format("Max. {0} characters.",opt_data.maxNameLength), value: opt_data.currentName ? opt_data.currentName : '', errorTexts: opt_data.errors.errors.projectName ? [opt_data.errors.errors.projectName] : []}) + JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon({id: 'key', name: 'key', isRequired: false, maxLength: opt_data.maxKeyLength, labelContent: "Key", descriptionText: AJS.format("Max. {0} characters.",opt_data.maxKeyLength), helpTitle: "What\x27s a project key?", value: opt_data.currentKey ? opt_data.currentKey : '', errorTexts: opt_data.errors.errors.projectKey ? [opt_data.errors.errors.projectKey] : []}) + ((opt_data.shouldShowLead) ? JIRA.Templates.ProjectTemplates.projectLeadField({field: opt_data.projectLeadPickerField, isRequired: false, errorTexts: opt_data.errors.errors.projectLead ? [opt_data.errors.errors.projectLead] : [], options: opt_data.leadOptions}) : '') + ((opt_data.addUserToLicense.displayCheckbox) ? JIRA.Templates.ProjectTemplates.addUserToLicense({fieldId: opt_data.addUserToLicense.fieldId, fieldName: opt_data.addUserToLicense.fieldName, applicationName: opt_data.addUserToLicense.applicationName, usedSeats: opt_data.addUserToLicense.usedSeats, totalSeats: opt_data.addUserToLicense.totalSeats, disableCheckbox: opt_data.addUserToLicense.disableCheckbox, licensingUrl: opt_data.addUserToLicense.licensingUrl}) : '') + '<input type="hidden" name="keyEdited" id="keyEdited" value="false"><input type="hidden" name="projectTemplateWebItemKey" value="' + soy.$$escapeHtml(opt_data.projectTemplateWebItemKey) + '"><input type="hidden" name="projectTemplateModuleKey" value="' + soy.$$escapeHtml(opt_data.projectTemplateModuleKey) + '"><input type="submit" class="pt-hidden-submit offscreen-left">'}), id: 'add-project-form'}) + '</div>' + ((opt_data.projectTemplateDescriptionContent) ? '<div class="add-project-description-wrapper"><div class="project-template-title"><h3>' + soy.$$escapeHtml(opt_data.projectTemplateTitle) + '</h3></div><div class="project-template-description">' + soy.$$filterNoAutoescape(opt_data.projectTemplateDescriptionContent) + '</div></div>' : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addProjectForm.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addProjectForm';
}


JIRA.Templates.ProjectTemplates.keyHelp = function(opt_data, opt_ignored) {
  return '<div class="project-key-help"><p><b>' + soy.$$escapeHtml("What\x27s a project key?") + '</b></p><ul><li>' + soy.$$escapeHtml("It prefixes each issue in the project") + '</li><li>' + soy.$$escapeHtml("It can be changed, but this is not a trivial task") + '</li></ul></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.keyHelp.soyTemplateName = 'JIRA.Templates.ProjectTemplates.keyHelp';
}


JIRA.Templates.ProjectTemplates.projectLeadField = function(opt_data, opt_ignored) {
  var param77 = '' + aui.form.label({forField: opt_data.field.name + '-field', isRequired: opt_data.isRequired, content: "Project Lead"}) + JIRA.Templates.Fields.Pickers.User.single({field: opt_data.field, options: opt_data.options, editValue: opt_data.value}) + aui.form.fieldDescription({message: "Enter the username of the Project Lead."});
  if (opt_data.errorTexts) {
    var errorList90 = opt_data.errorTexts;
    var errorListLen90 = errorList90.length;
    for (var errorIndex90 = 0; errorIndex90 < errorListLen90; errorIndex90++) {
      var errorData90 = errorList90[errorIndex90];
      param77 += aui.form.fieldError({message: errorData90});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param77});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.projectLeadField.soyTemplateName = 'JIRA.Templates.ProjectTemplates.projectLeadField';
}


JIRA.Templates.ProjectTemplates.addUserToLicense = function(opt_data, opt_ignored) {
  var output = '';
  var labelMessage__soy96 = '' + soy.$$escapeHtml(AJS.format("Give me a {0} license so I can access this project.",opt_data.applicationName)) + ((opt_data.totalSeats > 0) ? '<br/>' + soy.$$escapeHtml(AJS.format("({0} of {1} licenses now used)",opt_data.usedSeats,opt_data.totalSeats)) : '');
  output += aui.form.fieldGroup({content: '' + aui.form.label({forField: opt_data.fieldName, content: 'License'}) + ((opt_data.disableCheckbox) ? aui.form.field({id: opt_data.fieldId, name: opt_data.fieldName, value: 'true', type: 'checkbox', isChecked: false, labelContent: labelMessage__soy96, isDisabled: true, descriptionContent: AJS.format("We can\x27\x27t give you access to {0} automatically. You can {1}manage application access{2} to work on {0} projects.",opt_data.applicationName,'<a href="' + "" + opt_data.licensingUrl + '">','</a>')}) : aui.form.field({id: opt_data.fieldId, name: opt_data.fieldName, value: 'true', type: 'checkbox', isChecked: false, labelContent: labelMessage__soy96, isDisabled: false}))});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addUserToLicense.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addUserToLicense';
}


JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon = function(opt_data, opt_ignored) {
  var param128 = '' + aui.form.label({forField: opt_data.name, isRequired: opt_data.isRequired, content: opt_data.labelContent}) + aui.form.input({id: opt_data.id, name: opt_data.name, type: 'text', maxLength: opt_data.maxLength, value: opt_data.value}) + '<a class="help-lnk" title="' + soy.$$escapeHtml(opt_data.helpTitle) + '" id="' + soy.$$escapeHtml(opt_data.id) + '-help-icon"><span class="aui-icon aui-icon-help">' + soy.$$escapeHtml(opt_data.helpTitle) + '</span></a>' + ((opt_data.descriptionText) ? aui.form.fieldDescription({message: opt_data.descriptionText}) : '');
  if (opt_data.errorTexts) {
    var errorList152 = opt_data.errorTexts;
    var errorListLen152 = errorList152.length;
    for (var errorIndex152 = 0; errorIndex152 < errorListLen152; errorIndex152++) {
      var errorData152 = errorList152[errorIndex152];
      param128 += aui.form.fieldError({message: errorData152});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param128});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon.soyTemplateName = 'JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon';
}


JIRA.Templates.ProjectTemplates.longTextField = function(opt_data, opt_ignored) {
  var param158 = '' + aui.form.label({forField: opt_data.name, isRequired: opt_data.isRequired, content: opt_data.labelContent}) + aui.form.input({id: opt_data.id, name: opt_data.name, type: 'text', maxLength: opt_data.maxLength, value: opt_data.value, extraClasses: 'long-field'}) + ((opt_data.descriptionText) ? aui.form.fieldDescription({message: opt_data.descriptionText}) : '');
  if (opt_data.errorTexts) {
    var errorList176 = opt_data.errorTexts;
    var errorListLen176 = errorList176.length;
    for (var errorIndex176 = 0; errorIndex176 < errorListLen176; errorIndex176++) {
      var errorData176 = errorList176[errorIndex176];
      param158 += aui.form.fieldError({message: errorData176});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param158});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.longTextField.soyTemplateName = 'JIRA.Templates.ProjectTemplates.longTextField';
}


JIRA.Templates.ProjectTemplates.spinner = function(opt_data, opt_ignored) {
  return '<span id=\'' + soy.$$escapeHtml(opt_data.id) + '\' class=\'icon throbber loading\'/>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.spinner.soyTemplateName = 'JIRA.Templates.ProjectTemplates.spinner';
}


JIRA.Templates.ProjectTemplates.formatAnchor = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.href) + '"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.body) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.formatAnchor.soyTemplateName = 'JIRA.Templates.ProjectTemplates.formatAnchor';
}
;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/CreateSharedProject.soy' */
// This file was automatically generated from CreateSharedProject.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.createSharedProjectForm = function(opt_data, opt_ignored) {
  return '<div class="create-shared-project-wrapper"><div class="create-shared-project-form-wrapper">' + aui.form.form({content: '' + aui.form.fieldset({content: '<p>' + soy.$$escapeHtml("Select the existing project that you\x27d like to share configurations with.") + '<a class="help-lnk" title="' + soy.$$escapeHtml("What will be shared?") + '" id="shared-help-icon"><span class="aui-icon aui-icon-help">' + soy.$$escapeHtml("What will be shared?") + '</span></a></p>' + aui.form.fieldGroup({extraClasses: 'project-picker-group', content: '' + aui.form.label({forField: 'project-picker', isRequired: false, content: "Choose a project"}) + aui.form.input({id: 'project-picker', name: 'project', type: 'text'}) + '<div id="project-picker-options" data-suggestions="' + soy.$$escapeHtml(opt_data.projectSuggestions) + '"></div>'}) + '<p class="create-shared-info">' + soy.$$escapeHtml("When a configuration is shared with several projects, it means that any changes made to the configuration will affect all the projects.") + '</p>'}), id: 'create-shared-project-form'}) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.createSharedProjectForm.soyTemplateName = 'JIRA.Templates.ProjectTemplates.createSharedProjectForm';
}


JIRA.Templates.ProjectTemplates.loading = function(opt_data, opt_ignored) {
  return '<div><div class="dialog-spinner"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.loading.soyTemplateName = 'JIRA.Templates.ProjectTemplates.loading';
}


JIRA.Templates.ProjectTemplates.noProjects = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml("Looks like no other projects exist yet. Please create a brand new project first before trying to share an existing project\x27s configuration.") + '</p>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.noProjects.soyTemplateName = 'JIRA.Templates.ProjectTemplates.noProjects';
}


JIRA.Templates.ProjectTemplates.sharedHelp = function(opt_data, opt_ignored) {
  return '<div class="shared-help"><p><strong>' + soy.$$escapeHtml("What will be shared?") + '</strong></p><p>' + soy.$$escapeHtml("Configuration refers to the set of schemes used by a project") + '</p><ul><li>' + soy.$$escapeHtml("Permission Scheme") + '</li><li>' + soy.$$escapeHtml("Notification Scheme") + '</li><li>' + soy.$$escapeHtml("Issue Security Scheme") + '</li><li>' + soy.$$escapeHtml("Workflow Scheme") + '</li><li>' + soy.$$escapeHtml("Issue Type Scheme") + '</li><li>' + soy.$$escapeHtml("Issue Type Screen Scheme") + '</li><li>' + soy.$$escapeHtml("Field Configuration Scheme") + '</li></ul></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.sharedHelp.soyTemplateName = 'JIRA.Templates.ProjectTemplates.sharedHelp';
}
;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/Config.js' */
define("jira/project-templates/config",{model:{}});AJS.namespace("JPT.ConfigModel",null,require("jira/project-templates/config"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/ProjectKeyGenerator.js' */
define("jira/project-templates/project-key-generator",["jquery","underscore"],function(d,h){var c={};c.IGNORED_WORDS=["THE","A","AN","AS","AND","OF","OR"];c.CHARACTER_MAP={};c.CHARACTER_MAP[199]="C";c.CHARACTER_MAP[231]="c";c.CHARACTER_MAP[252]="u";c.CHARACTER_MAP[251]="u";c.CHARACTER_MAP[250]="u";c.CHARACTER_MAP[249]="u";c.CHARACTER_MAP[233]="e";c.CHARACTER_MAP[234]="e";c.CHARACTER_MAP[235]="e";c.CHARACTER_MAP[232]="e";c.CHARACTER_MAP[226]="a";c.CHARACTER_MAP[228]="a";c.CHARACTER_MAP[224]="a";c.CHARACTER_MAP[229]="a";c.CHARACTER_MAP[225]="a";c.CHARACTER_MAP[239]="i";c.CHARACTER_MAP[238]="i";c.CHARACTER_MAP[236]="i";c.CHARACTER_MAP[237]="i";c.CHARACTER_MAP[196]="A";c.CHARACTER_MAP[197]="A";c.CHARACTER_MAP[201]="E";c.CHARACTER_MAP[230]="ae";c.CHARACTER_MAP[198]="Ae";c.CHARACTER_MAP[244]="o";c.CHARACTER_MAP[246]="o";c.CHARACTER_MAP[242]="o";c.CHARACTER_MAP[243]="o";c.CHARACTER_MAP[220]="U";c.CHARACTER_MAP[255]="Y";c.CHARACTER_MAP[214]="O";c.CHARACTER_MAP[241]="n";c.CHARACTER_MAP[209]="N";c.desiredKeyLength=4;c.maxKeyLength=10;c.getTotalLength=function a(k){return k.join("").length};c.removeIgnoredWords=function f(k){return h.reject(k,function(l){return d.inArray(l,c.IGNORED_WORDS)!==-1})};c.createAcronym=function b(l){var k="";d.each(l,function(m,n){k+=n.charAt(0)});return k};c.getFirstSyllable=function i(m){var l=false;var k;for(k=0;k<m.length;k++){if(c.isVowelOrY(m[k])){l=true}else{if(l){return m.substring(0,k+1)}}}return m};c.isVowelOrY=function g(k){return k&&k.length===1&&k.search("[AEIOUY]")!==-1};c.init=function j(l,k){c.desiredKeyLength=l;c.maxKeyLength=k};c.generate=function e(l){l=d.trim(l);if(!l){return""}var k=[];for(var n=0,p=l.length;n<p;n++){var o=c.CHARACTER_MAP[l.charCodeAt(n)];k.push(o?o:l[n])}l=k.join("");var r=[];d.each(l.split(/\s+/),function(s,t){if(t){t=t.replace(/[^a-zA-Z]/g,"");t=t.toUpperCase();t.length&&r.push(t)}});if(c.desiredKeyLength&&c.getTotalLength(r)>c.desiredKeyLength){r=c.removeIgnoredWords(r)}var m;if(r.length==0){m=""}else{if(r.length==1){var q=r[0];if(c.desiredKeyLength&&q.length>c.desiredKeyLength){m=c.getFirstSyllable(q)}else{m=q}}else{m=c.createAcronym(r)}}if(c.maxKeyLength&&m.length>c.maxKeyLength){m=m.substr(0,c.maxKeyLength)}return m};return c});AJS.namespace("JPT.ProjectKeyGenerator",null,require("jira/project-templates/project-key-generator"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/DialogView.js' */
define("jira/project-templates/dialog-view-impl",["require","backbone","underscore"],function(e,f,d){var b=AJS.Dialog;var a=AJS.trigger;return f.View.extend({events:{"click   .add-project-trigger":"_onClickAddProject","click   .add-demo-project-trigger":"_onClickAddDemoProject","click   .add-workflow-link":"_onClickViewMarketplaceWorkflows","click   #add-project-dialog .add-demo-project-trigger":"_onCreateProjectAddDemoProjectClick","click   #add-project-dialog .import-project-trigger":"_onClickImportProject","click   #add-project-dialog .create-with-shared-config":"_onClickCreateShared","keydown #add-project-dialog .pt-templates-list":"_onKeydownInTemplatesList"},draw:function(){var g=new b({width:840,height:400,id:"add-project-dialog",closeOnOutsideClick:false,keypressListener:d.bind(this._onKeyPressed,this)});var h=g.popup.element;g.addPage("project-templates-page");g.addHeader("Create project","add-project-dialog-header");g.addPanel("ProjectTemplatesListPanel",JIRA.Templates.ProjectTemplates.loadingTemplatesList(),"pt-content");this._dialog=g;this._$dialogElement=h;g.show();return g},remove:function(){this._dialog&&this._dialog.remove()},showErrorMessage:function(g){this._dialog.getPanel(1,0).html(JIRA.Templates.errorMsg({closable:false,msg:g}))},get$PTContent:function c(){return this.getDialogController().$dialogElement.find(".pt-content")},_onKeyPressed:function(h){var g=27;if(this._dialog){if(h.keyCode===g){this.getDialogController().hideDialogFromNewUser("dismissed");this._dialog.remove();return false}}return true},_onKeydownInTemplatesList:function(h){var g=13;if(this._dialog){if(h.keyCode===g){this._$dialogElement.find(".pt-submit-button:visible").click();return false}}return true},_onClickAddProject:function(g){g.preventDefault();this.getDialogController().handleProjectTemplateTriggered()},_onCreateProjectAddDemoProjectClick:function(){a("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.create.project.clicked"})},_onClickViewMarketplaceWorkflows:function(){a("analyticsEvent",{name:"jira.project.templates.dialog.create.viewmarketplaceworkflows.clicked"})},_onClickAddDemoProject:function(h){h.preventDefault();var g=this.getDialogController().dialog;if(g&&g.popup&&g.popup.element){g.remove()}this.getDialogController().handleDemoProjectTemplateTriggered()},_onClickImportProject:function(g){this.getDialogController().hideDialogFromNewUser("importproject")},_onClickCreateShared:function(g){this.getDialogController().handleCreateShared()},getDialogController:function(){return e("jira/project-templates/dialog-controller")}})});define("jira/project-templates/dialog-view",["jira/project-templates/dialog-view-impl","jquery"],function(b,a){return new b({el:a(document)})});AJS.namespace("JPT.DialogView",null,require("jira/project-templates/dialog-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/DialogController.js' */
define("jira/project-templates/dialog-controller",["jira/project-templates/dialog-view","jira/project-templates/config","jira/ajs/ajax/smart-ajax","jira/util/data/meta","jira/lib/class","jquery","underscore","wrm/data"],function(n,e,a,g,b,k,o,m){var d=AJS.contextPath();var f=AJS.isDevMode;var i=AJS.log;function h(p,q){AJS.trigger("analyticsEvent",{name:p,data:q})}var l;var c=function(){if(!l){l=m.claim("com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData")||{}}return l};var j=b.extend({WELCOME_REST_URL:d+"/rest/welcome/1.0/show/welcome",initialize:function(){o.bindAll(this,"handleProjectTemplateTriggered","hideDialogFromNewUser");if(g.getBoolean("show-welcome-screen")){this.handleProjectTemplateTriggered()}},handleProjectTemplateTriggered:function(){this.demoProject=false;h("jira.project.templates.dialog.create.show");this.openWithFirstProjectTemplateOfTypePreSelected()},handleDemoProjectTemplateTriggered:function(){this.demoProject=true;var p=this.getTemplateController().loadDemoProjectTemplatesData();this.openWithFirstProjectTemplateOfTypePreSelected(null,p);this._addAnalyticsToCreateDemoShow(p)},_addAnalyticsToCreateDemoShow:function(p){p.done(function(r){var s={};var q=function(t){return t.projectTemplatesGroupedByType.map(function(u){return u.projectTemplates.map(function(v){return v.itemModuleCompleteKey}).join()}).join()};s.demoSets=q(r);s.instanceCreatedDate=c().instanceCreatedDate;h("jira.project.templates.dialog.create.demo.show",s)}.bind(this))},openWithFirstProjectTemplateOfTypePreSelected:function(p,q){q=q||this.getTemplateController().loadProjectTemplatesData();this.dialog=n.draw();q.fail(o.bind(function(r){this._handleUnknownErrorOfPTRetrieval()},this));q.done(o.bind(function(r){this.$dialogElement=this.dialog.popup.element;var s;if(!o.isUndefined(e.model.selectedTemplate)){s=e.model.selectedTemplate}e.model=r;e.model.selectedTemplate=s;this.getTemplateController().init(r,p)},this))},handleCreateShared:function(){h("jira.project.templates.dialog.create.shared.clicked");this.demoProject=false;this.openWithCreateShared()},openWithCreateShared:function(){var p=require("jira/project-templates/create-shared-controller");p.initCreateShared()},callbackWithResize:function(p){return o.bind(o.wrap(p,function(q){q.call(this);this.dialog.updateHeight()}),this)},addPage:function(r){var q=this.dialog.addPage(r.name).page[this.dialog.curpage];this.dialog.addHeader(r.title,"add-project-dialog-header");this.dialog.addPanel(r.panelName,"","pt-content");if(r.backButton){this._addBackButton(q)}this.dialog.addButton(r.submitButtonText,this.callbackWithResize(r.submitButtonCallback),r.submitButtonClass+" pt-submit-button");var p=this.$dialogElement.find("."+r.submitButtonClass);p.removeClass("button-panel-button").addClass("aui-button aui-button-primary");p.focus();this.dialog.addCancel("Cancel",o.bind(function(s){this.hideDialogFromNewUser("dismissed");this.dialog.remove()},this));return q},_backButtonOnClickCallback:function(p){return o.bind(function(){if(this.demoProject){h("jira.project.templates.dialog.demo.back")}else{h("jira.project.templates.dialog.create.back")}var q=n.get$PTContent();q.css("background-image","none");this.dialog.prevPage();p.remove();this.dialog.page.pop()},this)},_addBackButton:function(q){this.dialog.addButton("Back",this.callbackWithResize(this._backButtonOnClickCallback(q)),"add-project-back-button");var p=this.$dialogElement.find(".add-project-back-button");p.removeClass("button-panel-button").addClass("aui-button")},_handleUnknownErrorOfPTRetrieval:function(){n.showErrorMessage("An error occurred while trying to contact JIRA")},hideDialogFromNewUser:function(p){if(p==="dismissed"){if(this.demoProject){h("jira.project.templates.dialog.demo.dismissed")}else{h("jira.project.templates.dialog.create.dismissed")}}else{if(p==="importproject"){h("jira.project.templates.dialog.import.clicked")}else{if(p==="templateselected"){if(this.demoProject){h("jira.project.templates.dialog.demo.templateselected")}else{h("jira.project.templates.dialog.create.templateselected")}}}}if(g.getBoolean("show-welcome-screen")){k.ajax({url:this.WELCOME_REST_URL+"/"+p,type:"DELETE",success:function(){if(f&&f()){i("don't show project template dialog anymore")}}})}},getTemplateController:function(){return require("jira/project-templates/select-project-template-controller")}});return new j()});AJS.namespace("JPT.DialogController",null,require("jira/project-templates/dialog-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/AddProjectView.js' */
define("jira/project-templates/add-project-view-impl",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/util/events","jira/util/events/types","require","backbone","jquery","underscore"],function(q,n,t,y,m,e,g,D){var f=AJS.InlineDialog;return e.View.extend({TIMEOUT_MS:100,postDrawCallbacks:[],events:{"submit #add-project-form":"onSubmitForm"},page:undefined,isSubmitting:false,initialize:function(F){D.bindAll(this,"bindHook")},addPostDrawCallback:function(F){this.postDrawCallbacks.push(F)},prepareDialog:function(F){this.page=q.addPage({name:"add-project",title:F,panelName:"add-project",backButton:true,submitButtonText:"Submit",submitButtonCallback:this.onSubmitForm.bind(this),submitButtonClass:"add-project-dialog-create-button"})},draw:function(U){function V(X){if(!X.errors){X.errors={}}return X}this.isSubmitting=false;q.dialog.gotoPage(this.page.id);var G=U.webItemData.projectTemplateModuleCompleteKey;var F=D.find(n.model.projectTemplatesGroupedByType,function(X){return D.any(X.projectTemplates,function(Y){return Y.itemModuleCompleteKey==G})});var L=(F&&F.applicationInfo&&F.applicationInfo.applicationName)||"";var K=(F&&F.applicationInfo&&F.applicationInfo.licenseUsedSeats)||0;var H=(F&&F.applicationInfo&&F.applicationInfo.licenseTotalSeats)||0;var T=(F&&F.applicationInfo&&F.applicationInfo.canUserBeAddedToApplication)||false;var J=(F&&F.applicationInfo&&F.applicationInfo.canUserUseApplication)||false;var P=(F&&F.applicationInfo&&F.applicationInfo.ondemand)||false;var I;if(!F||!F.applicationInfo){I=false}else{I=!J}var R={maxNameLength:n.model.maxNameLength,maxKeyLength:n.model.maxKeyLength,shouldShowLead:n.model.shouldShowProjectLead,projectTemplateWebItemKey:n.model.selectedTemplate||U.webItemData.itemModuleCompleteKey,projectTemplateModuleKey:G,projectTemplateTitle:U.webItemData.name,projectTemplateDescriptionContent:U.webItemData.longDescriptionContent,currentKey:U.currentKey||"",currentName:U.currentName||"",errors:V(U.errors),projectLeadPickerField:{id:"lead",name:"lead"},addUserToLicense:{displayCheckbox:I,disableCheckbox:!T,applicationName:L,usedSeats:K,totalSeats:H,fieldId:"licenseUser",fieldName:"licenseUser",licensingUrl:P?"/admin/accessconfig":"/plugins/servlet/applications/versions-licenses"},leadOptions:[{selected:true,displayName:U.currentUserDisplayName,optionName:U.currentUserName,avatarURL:U.currentUserAvatarUrl}]};var N=JIRA.Templates.ProjectTemplates.addProjectForm(R);q.dialog.getPanel(this.page.id,0).html(N);if(U.webItemData&&U.webItemData.backgroundIconUrl){var Q=q.$dialogElement.find(".pt-content");Q.css("background-image",'url("'+U.webItemData.backgroundIconUrl+'")')}var O=g("#add-project-form");t.trigger(y.NEW_CONTENT_ADDED,[O]);this.nameElement=q.$dialogElement.find("#name");this.keyElement=q.$dialogElement.find("#key");this.keyEditedElement=q.$dialogElement.find("#keyEdited");this.leadDisplayElement=q.$dialogElement.find("#lead-field");this.leadValueElement=q.$dialogElement.find("#lead");var W=this.keyElement.parent().find(".aui-icon-help");if(W.length){new f(W,"project-key-help-popup",function(Z,Y,X){Z.html(JIRA.Templates.ProjectTemplates.keyHelp());X()},{width:330,offsetX:-30})}this.keyElement.attr("style","text-transform: uppercase");var S=m("jira/project-templates/add-project-controller");this.nameElement.focus(D.bind(function(X){this.bindHook(X,S.nameTimeout)},this));var M=this;this.nameElement.change(function(X){S.validateName();M.unbindHook(X)});this.nameElement.focus();this.keyElement.focus(D.bind(function(Y){var X=g(Y.target);X.data("lastValue",X.val());this.bindHook(Y,S.keyTimeout)},this));this.keyElement.blur(D.bind(function(X){this.unbindHook(X)},this));this.keyElement.change(function(){S.validateKey();S.autofillKeyIfNeeded()});if(!D.isEmpty(this.postDrawCallbacks)){D.each(this.postDrawCallbacks,function(X){X()})}q.dialog.updateHeight()},onSubmitForm:function(G){var F=m("jira/project-templates/add-project-controller");F.submit();return false},get$SubmitButton:function(){return q.$dialogElement.find(".add-project-dialog-create-button")},get$BackButton:function(){return q.$dialogElement.find(".add-project-back-button")},bindHook:function p(I,G){var F=g(I.target),H;H=D.bind(function(){this.unbindHook(I);G.apply();if(F.is(":visible")){F.data("checkHook",setTimeout(H,this.TIMEOUT_MS))}},this);if(!F.data("checkHook")){F.data("checkHook",setTimeout(H,0))}},unbindHook:function(G){var F=g(G.target);clearTimeout(F.data("checkHook"));F.removeData("checkHook")},showInlineError:function(G,H){if(this.isSubmitting){return}var F=G.parent().find(".error");if(!F.length){F=g("<div class='error'></div>");G.parent().append(F)}F.text(H);F.show()},showInlineErrorForName:function E(F){this.showInlineError(this.nameElement,F)},showInlineErrorForKey:function A(F){this.showInlineError(this.keyElement,F)},hideInlineError:function z(F){F.parent().find(".error").hide()},hideInlineErrorForName:function c(){this.hideInlineError(this.nameElement)},hideInlineErrorForKey:function u(){this.hideInlineError(this.keyElement)},setName:function i(F){this.nameElement.val(F)},getName:function s(){return this.nameElement.val()},setKey:function b(F){this.keyElement.val(F)},getKey:function o(){return this.keyElement.val().toUpperCase()},getLeadDisplayName:function v(){return this.leadDisplayElement.val()},getLeadUserName:function w(){return this.leadValueElement.val()},getAvatarUrlOfSelectedLead:function r(){var F=q.$dialogElement.find("#lead-single-select .aui-ss-entity-icon").css("background-image");if(!D.isUndefined(F)){var G=F.match(/^url\((.+)\)$/);return(G&&G[1])?G[1]:""}else{return""}},setKeyEdited:function l(F){this.keyEditedElement.val(F)},getKeyEdited:function B(){return this.keyEditedElement.val()},setKeyEdited:function l(){var F=this.getKey();if(this.keyElement.data("lastValue")!==F){this.keyEditedElement.val((F)?"true":"false")}this.keyElement.data("lastValue",F)},hasNameErrors:function d(){return this.nameElement.parent().find(".error").size()>0},getAddProjectForm:function h(){return g("#add-project-form")},get$FormFields:function k(){return q.$dialogElement.find(":input")},enterLoadingState:function j(){$submitButton=this.get$SubmitButton();if(!$submitButton.attr("disabled")){$backButton=this.get$BackButton();$submitButton.attr("disabled","disabled");$backButton.attr("disabled","disabled");$backButton.before(JIRA.Templates.ProjectTemplates.spinner({id:"addproject-loading"}));this.get$FormFields().attr("disabled","disabled");this.isSubmitting=true;return true}else{return false}},hideLoadingState:function x(){q.$dialogElement.find("#addproject-loading").remove();this.get$SubmitButton().removeAttr("disabled");this.get$BackButton().removeAttr("disabled");this.get$FormFields().removeAttr("disabled")},avoidDirtyFormWarning:function a(){if(g.fn.removeDirtyWarning){this.getAddProjectForm().removeDirtyWarning()}},hasInlineErrors:function C(){return q.$dialogElement.find(".field-group .error:visible").length!=0}})});define("jira/project-templates/add-project-view",["jira/project-templates/add-project-view-impl","jira/project-templates/dialog-view","jquery"],function(b,a,c){return new b({el:c(document),dialogView:a})});AJS.namespace("JPT.AddProjectView",null,require("jira/project-templates/add-project-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/AddProjectController.js' */
define("jira/project-templates/add-project-controller-impl",["jira/project-templates/add-project-view","jira/project-templates/project-key-generator","jira/project-templates/dialog-controller","jira/project-templates/config","jira/lib/class","jquery","underscore"],function(m,i,k,e,b,l,o){var d=AJS.contextPath();var c=AJS.trigger;return b.extend({postProjectCreationCallbacks:[],projectKeyValidationCallbacks:[],projectNamesUpperCased:[],init:function(p){this._window=p.window||window;o.bindAll(this,"projectCreatedHandler","projectValidationFailedHandler","nameTimeout","keyTimeout","submit")},initCreateShared:function(p){this.existingProjectData=p;this._initAddProject("Create with shared configuration")},initProjectTemplate:function(p){this.existingProjectData=undefined;this.webItemData=p;this._initAddProject(p.name)},_initAddProject:function(p){this.desiredKeyLength=4;this.lastKeyValidated="";this._getExistingProjects();i.init(this.desiredKeyLength,e.model.maxKeyLength);m.prepareDialog(p);m.draw({webItemData:this.webItemData||{},maxKeyLength:e.model.maxKeyLength,maxNameLength:e.model.maxNameLength,currentUserName:e.model.currentUserName,currentUserDisplayName:e.model.currentUserDisplayName,currentUserAvatarUrl:e.model.currentUserAvatarUrl,errors:{}})},_resetProjectLeadValues:function(){e.model.currentUserDisplayName="";e.model.currentUserName="";e.model.currentUserAvatarUrl=""},_hasFullyConfiguredProjectLead:function(){return m.getLeadDisplayName()&&m.getAvatarUrlOfSelectedLead()!=""},submit:function(p){var q;if(this.existingProjectData){q={key:m.getKey(),name:m.getName(),lead:m.getLeadUserName()&&m.getLeadUserName()[0]}}else{q=jQuery.param(m.getAddProjectForm().serializeArray().map(function(r){if(r.name==="key"){r.value=r.value.toUpperCase()}return r}))}if(m.hasInlineErrors()){return}if(m.enterLoadingState()){if(this._hasFullyConfiguredProjectLead()){e.model.currentUserDisplayName=m.getLeadDisplayName();e.model.currentUserName=e.model.currentUserDisplayName?m.getLeadUserName():"";e.model.currentUserAvatarUrl=m.getAvatarUrlOfSelectedLead()}else{this._resetProjectLeadValues()}if(this.existingProjectData){l.ajax({url:d+"/rest/project-templates/1.0/createshared/"+this.existingProjectData.existingProjectId,type:"POST",contentType:"application/json",data:JSON.stringify(q)}).then(this.projectCreatedHandler,this.projectValidationFailedHandler)}else{l.ajax({url:d+(this.webItemData.demoProject?"/rest/jira-importers-plugin/1.0/demo/create":"/rest/project-templates/1.0/templates"),type:"POST",data:q,headers:{"X-Atlassian-Token":"nocheck"}}).then(this.projectCreatedHandler,this.projectValidationFailedHandler)}}},registerPostProjectCreationCallback:function(p){this.postProjectCreationCallbacks.push(p)},registerProjectKeyValidationCallback:function(p){this.projectKeyValidationCallbacks.push(p)},localStoragePrefix:"jira.projecttemplates.",projectCreatedHandler:function(q){if(this.existingProjectData){c("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.success"})}else{if(this.webItemData.demoProject){c("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.success"})}else{c("analyticsEvent",{name:"jira.project.templates.dialog.create.project.success"})}}m.avoidDirtyFormWarning();var p=this.localStoragePrefix;var r=["confluenceProject","fisheyeProject","crucibleProject","bambooProject"];o.map(r,function(s){if(q.remoteProjectLinks&&q.remoteProjectLinks[s]){localStorage.setItem(p+s,q.remoteProjectLinks[s])}});if(!o.isEmpty(this.postProjectCreationCallbacks)){k.dialog.addPage("post-project-created-page");o.each(this.postProjectCreationCallbacks,function(s){s(k.dialog,q.returnUrl,q.projectId,q.projectKey,q.projectName)})}else{this._window.location=d+q.returnUrl}},projectValidationFailedHandler:function(q,s){if(this.existingProjectData){c("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.failure"})}else{if(this.webItemData.demoProject){c("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.failure"})}else{c("analyticsEvent",{name:"jira.project.templates.dialog.create.project.failure"})}}var r={};if(this.isBadRequest(q)){r=JSON.parse(q.responseText)}else{if(this.isUnDefinedServerSideError(q)){r={errorMessages:["Hmm... we couldn\'t create your project due to an unknown error. Try refreshing the page to start again."]}}else{if(this.isDefinedServerSideError(q)){var p=JSON.parse(q.responseText);JIRA.Messages.showReloadErrorMsg(p.message);m.avoidDirtyFormWarning();this._window.location=d+p.returnUrl;return}else{if(this.isTimeoutError(s)){r={errorMessages:["Request timeout when creating project"]}}else{r={errorMessages:[AJS.format("Error creating project, {0}",q.responseText)]}}}}}m.draw({webItemData:this.webItemData||{},errors:r,currentName:m.getName(),currentKey:m.getKey(),currentUserDisplayName:e.model.currentUserDisplayName,currentUserName:e.model.currentUserName,currentUserAvatarUrl:e.model.currentUserAvatarUrl});m.hideLoadingState()},isBadRequest:function(p){return(p.status===400)},isUnDefinedServerSideError:function(p){if(p.status===500){try{JSON.parse(p.responseText)}catch(q){return true}}return false},isDefinedServerSideError:function(p){return p.status===500&&!o.isUndefined(JSON.parse(p.responseText).message)},isTimeoutError:function(p){return p==="timeout"},_updateAndValidateKey:function a(p){m.setKey(p);this.validateKey()},_shouldUpdateKey:function h(){return(m.getKeyEdited()!="true")},autofillKeyIfNeeded:function n(){if(this._shouldUpdateKey()){var p=i.generate(m.getName());if(p.length>1){this._updateAndValidateKey(p)}else{m.setKey("")}}},_doesProjectNameExists:function(q){var p;for(p in this.projectNamesUpperCased){if(q.toUpperCase()==this.projectNamesUpperCased[p]){return true}}return false},validateName:function(){var p=l.trim(m.getName());if(!p){return}if(p.length<e.model.minNameLength){m.showInlineErrorForName(AJS.format("The project name should be at least {0} characters in length.",e.model.minNameLength));return}if(p.length>e.model.maxNameLength){m.showInlineErrorForName(AJS.format("The project name must not exceed {0} characters in length.",e.model.maxNameLength));return}if(this._doesProjectNameExists(p)){m.showInlineErrorForName("A project with that name already exists.");return}m.hideInlineErrorForName()},_performKeyValidationChecks:function(p){var q=l.ajax({url:d+"/rest/api/latest/projectvalidate/key?key="+p.toUpperCase()});q.done(o.bind(function(s){if(s.errors&&s.errors.projectKey){m.showInlineErrorForKey(s.errors.projectKey)}else{var r=false;o.each(this.projectKeyValidationCallbacks,function(u){var t=u(p.toUpperCase());if(t.errors&&t.errors.projectKey){r=true;m.showInlineErrorForKey(t.errors.projectKey)}});if(!r){m.hideInlineErrorForKey()}}},this))},validateKey:function g(){var p=m.getKey();if(this.lastKeyValidated===p){return}if(p){this.lastKeyValidated=p;this._performKeyValidationChecks(p)}else{m.hideInlineErrorForKey()}},nameTimeout:function j(){this.autofillKeyIfNeeded()},keyTimeout:function f(){m.setKeyEdited()},_getExistingProjects:function(){if(this.projectNamesUpperCased.length>0){return this.projectNamesUpperCased}var p=l.ajax({url:d+"/rest/api/latest/project"});p.done(o.bind(function(q){this.projectNamesUpperCased=o.map(q,function(r){return r.name.toUpperCase()})},this))}})});define("jira/project-templates/add-project-controller",["jira/project-templates/add-project-controller-impl","jquery"],function(a,b){return new a({el:b(document)})});AJS.namespace("JPT.AddProjectController",null,require("jira/project-templates/add-project-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/TemplateInfoView.js' */
define("jira/project-templates/template-info-view",["jira/project-templates/dialog-controller","require","backbone","jquery","underscore"],function(e,c,f,d,b){var a=AJS.trigger;return f.View.extend({initialize:function(g){b.bindAll(this,"draw","onNext")},draw:function(i,h){var j=e.addPage({name:"template-info",title:h,panelName:"template-info",backButton:true,submitButtonText:"Select",submitButtonCallback:this.onNext,submitButtonClass:"template-info-dialog-create-button"});var g=this._nameToObj(i)();e.dialog.getPanel(j.id,0).html(g);e.dialog.gotoPage(j.id)},_nameToObj:function(g){return b.reduce(g.split("."),function(i,h){if(i){return i[h]}},window)},onNext:function(h){a("analyticsEvent",{name:"jira.project.templates.dialog.create.templateinfo.next"});var g=c("jira/project-templates/template-info-controller");g.next();return false}})});AJS.namespace("JPT.TemplateInfoView",null,require("jira/project-templates/template-info-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/TemplateInfoController.js' */
define("jira/project-templates/template-info-controller",["jira/project-templates/template-info-view","jira/lib/class","require","underscore"],function(e,a,c,b){var d=a.extend({init:function(f){b.bindAll(this,"initTemplateInfo","next")},initTemplateInfo:function(g){this.projectTemplateData=g;var f=new e();f.draw(g.infoSoyPath,g.name)},next:function(){var f=c("jira/project-templates/select-project-template-controller");f.openAddProjectPage(this.projectTemplateData)}});return new d()});AJS.namespace("JPT.TemplateInfoControllerImpl",null,require("jira/project-templates/template-info-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/SelectProjectTemplateView.js' */
define("jira/project-templates/select-project-template-view",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/featureflags/feature-manager","require","backbone","jquery","underscore"],function(d,b,i,c,g,e,h){var a=AJS.contextPath();var f=AJS.preventDefault;return{ROW_LENGTH:2,DIALOG_BODY_CLASS:"select-project-templates-page",DIALOG_WIDTH:800,draw:function(n,m){var j=c("jira/project-templates/select-project-template-controller");this.page=d.addPage({name:this.DIALOG_BODY_CLASS,title:n.demoProjects?"Create project with sample data":"Create project",panelName:"ProjectTemplatesListPanel",backButton:false,submitButtonText:"Next",submitButtonCallback:j.dialogSubmitted,submitButtonClass:"create-project-dialog-create-button"});function p(){if(j.isProjectTypesEnabled(n)){return JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType({projectTemplatesByType:n.projectTemplatesGroupedByType})}return JIRA.Templates.ProjectTemplates.renderProjectTemplates({projectTemplates:n.projectTemplates})}d.dialog.getPanel(this.page.id,0).html(p());if(b.model.projectCount>=2&&!n.demoProjects){e(JIRA.Templates.ProjectTemplates.addWorkflowsLink({baseUrl:a})).appendTo(d.$dialogElement.find(".dialog-title"))}var o=d.$dialogElement.find(".create-project-dialog-create-button");var l=this;this.getTemplateItems().click(function(){var q=e(this);q.addClass("selected");l.getTemplateItems().not(this).removeClass("selected")}).dblclick(function(){o.click()}).focus(function(){e(this).click()});var k=this.get$TemplatesContainer();if(!n.demoProjects){e(JIRA.Templates.ProjectTemplates.footerLinks({showDemoLink:i.isFeatureEnabled("jira.onboarding.cyoa")})).prependTo(d.$dialogElement.find(".dialog-button-panel"))}this.bindKeyboardEvents(k);if(j.isProjectTypesEnabled(n)){if((n.projectTemplatesGroupedByType).length==0){o.attr("disabled","disabled")}}else{if((n.projectTemplates).length==0){o.attr("disabled","disabled")}}this.focusOnFirstTemplate(k,m);d.dialog.updateHeight();this.truncateTemplateDescriptions();this.resizeTemplateWidths()},get$TemplatesContainer:function(){return d.$dialogElement.find(".templates")},focusOnFirstTemplate:function(j,k){if(k){this.getFirstTemplateItemOfProjectType(k).click()}else{this.getFirstTemplateItem().click()}setTimeout(function(){j.focus()},0)},getSelectedTemplateData:function(){var j=d.$dialogElement.find(".template.selected");return j.data()},getMoveDeltaForKey:function(j){switch(j){case 37:return -1;case 39:return +1;case 38:return -this.ROW_LENGTH;case 40:return +this.ROW_LENGTH}return 0},bindKeyboardEvents:function(j){j.bind("keydown",h.bind(function(k){var l=this.getMoveDeltaForKey(k.which);if(l){this.moveSelection(j,l);return f(k)}},this))},moveSelection:function(l,o){var k=l.find(".template");var n=k.filter(".selected");var m=k.index(n)+o;if(m<k.length&&m>=0){var j=k.eq(m);j.click().focus();this.scrollToSelectedElement(j)}},scrollToSelectedElement:function(l){var o=e(".dialog-panel-body.pt-content");var j=o.offset().top;var k=l.offset().top;var n=k+l.height();var m=j+o.height();if(k<j){o.scrollTop(o.scrollTop()-(j-k))}else{if(n>(j+o.height())){o.scrollTop(o.scrollTop()+n-m)}}},get$NextButton:function(){return d.$dialogElement.find(".create-project-dialog-create-button")},disableNextButton:function(){this.get$NextButton().attr("disabled","disabled")},truncateTemplateDescriptions:function(){var j=AJS.Meta.get("user-locale");var k="word";if(j==="ja_JP"){k="letter"}d.$dialogElement.find(".template-description").each(function(){e(this).dotdotdot({wrap:k,lastCharacter:{remove:[" ",",",";",".","!","?",""],noEllipsis:[]}})})},getTemplatesDialogContainer:function(){return d.$dialogElement.find("."+this.DIALOG_BODY_CLASS).find(".dialog-panel-body.pt-content").get(0)},getFirstTemplateItem:function(){return this.getTemplateItems().first()},getFirstTemplateItemOfProjectType:function(j){return this.getTemplateItems().filter("#project-template-group-"+j+" *").first()},getTemplateItems:function(){return d.$dialogElement.find(".template")},widthOfScrollbarForElement:function(k){var j=k.offsetWidth;var l=k.clientWidth;return j-l},widthOfDialogAvailableForTemplateList:function(){var j=this.widthOfScrollbarForElement(this.getTemplatesDialogContainer());return this.DIALOG_WIDTH-j},widthOfTemplateItem:function(){var j=this.widthOfDialogAvailableForTemplateList()/this.ROW_LENGTH;return j-this.borderWidthOfTemplateItem()},borderWidthOfTemplateItem:function(){var j=this.getFirstTemplateItem().css("border-top-width");return parseInt(j,10)},resizeTemplateWidths:function(){this.getTemplateItems().each(h.bind(function(j,k){e(k).css("width",this.widthOfTemplateItem())},this))}}});AJS.namespace("JPT.SelectProjectTemplateView",null,require("jira/project-templates/select-project-template-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/SelectProjectTemplateController.js' */
define("jira/project-templates/select-project-template-controller",["jira/project-templates/select-project-template-view","jira/project-templates/template-info-controller","jira/project-templates/add-project-controller","jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/project-templates/config","wrm/context-path","jquery","underscore"],function(f,h,k,l,o,g,n,m,p){var e=n();var d={init:function q(s,r){f.draw(s,r)},isProjectTypesEnabled:function c(r){return r.projectTemplatesGroupedByType!=null},loadProjectTemplatesData:function j(){return m.ajax({url:e+"/rest/project-templates/1.0/templates",type:"GET"})},loadDemoProjectTemplatesData:function j(){return m.ajax({url:e+"/rest/project-templates/1.0/templates/demo-projects",type:"GET"}).then(function(r){r.demoProjects=true;return r})},dialogSubmitted:function b(){var r=f.getSelectedTemplateData();l.hideDialogFromNewUser("templateselected");d.raiseAtlassianEvent(r.itemModuleCompleteKey);if(!p.isUndefined(r.infoSoyPath)){h.initTemplateInfo(r)}else{d.openAddProjectPage(r)}},openAddProjectPage:function i(r){if(!r){o.showErrorMessage("An error occurred while trying to contact JIRA");return}if(r.createProject){k.initProjectTemplate(r)}else{l.dialog.addPage("blank-template-page");m("body").trigger(r.itemModuleCompleteKey,l.dialog)}},raiseAtlassianEvent:function a(r){g.model.selectedTemplate=r;if(AJS.EventQueue){AJS.EventQueue.push({name:"projecttemplates.templateselected",properties:{selectedTemplate:r}})}}};return d});AJS.namespace("JPT.SelectProjectTemplateController",null,require("jira/project-templates/select-project-template-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/CreateSharedView.js' */
define("jira/project-templates/create-shared-view",["jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","require","backbone","jquery"],function(d,h,g,i,c,j,e){var f=AJS.InlineDialog;var b=AJS.trigger;var a=j.View.extend({events:{"submit #create-shared-project-form":"onSubmitForm"},page:undefined,prepareDialog:function(l){var k=c("jira/project-templates/create-shared-controller");this.page=d.addPage({name:"create-shared-project",title:l,panelName:"create-shared-project",backButton:true,submitButtonText:"Next",submitButtonCallback:k.dialogSubmitted,submitButtonClass:"create-shared-dialog-button"})},draw:function(l){d.dialog.gotoPage(this.page.id);var k=JIRA.Templates.ProjectTemplates.createSharedProjectForm({projectSuggestions:JSON.stringify(l.projectSuggestions)});d.dialog.getPanel(this.page.id,0).html(k);this._createProjectPicker();var m=d.$dialogElement.find("#shared-help-icon");if(m.length){new f(m,"shared-project-help-popup",function(p,o,n){p.html(JIRA.Templates.ProjectTemplates.sharedHelp());n()},{width:330,offsetX:-30})}d.$dialogElement.find(".dialog-button-panel button").removeAttr("disabled")},showProjectMissingError:function(){this._clearFormErrors();this._getProjectPickerInput().after(aui.form.fieldError({extraClasses:"project-picker-missing-error",message:"Please select an existing project first."}))},drawEmptyInfo:function(){var k=JIRA.Templates.ProjectTemplates.noProjects();d.dialog.getPanel(this.page.id,0).html(k);d.$dialogElement.find(".dialog-button-panel button").hide()},drawError:function(k){d.dialog.getPanel(this.page.id,0).html(JIRA.Templates.errorMsg({closable:false,msg:k}))},drawLoading:function(){d.dialog.gotoPage(this.page.id);var k=JIRA.Templates.ProjectTemplates.loading();d.dialog.getPanel(this.page.id,0).html(k);d.$dialogElement.find(".dialog-spinner").spin();d.$dialogElement.find(".dialog-button-panel button").attr("disabled","disabled")},_clearFormErrors:function(){d.$dialogElement.find(".project-picker-missing-error").remove()},_getProjectPickerInput:function(){return d.$dialogElement.find("#project-picker")},onSubmitForm:function(l){this._clearFormErrors();var k=c("jira/project-templates/create-shared-controller");k.dialogSubmitted();return false},_getExtraInfoMessage:function(){return d.$dialogElement.find(".create-shared-info")},_createProjectPicker:function(){this._getExtraInfoMessage().hide();this.projectSelect=new g({element:this._getProjectPickerInput(),revertOnInvalid:true,pageSize:50,pagingThreshold:100,model:i});this.projectSelect.$field.focus();var k=this;this._getProjectPickerInput().on("selected",function(m,l){if(l.value()){b("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.selected"});k._getExtraInfoMessage().show()}})},getSelectedProject:function(){return this.projectSelect.getSelectedDescriptor()&&this.projectSelect.getSelectedDescriptor().value()}});return new a({el:e(document),dialogView:h})});AJS.namespace("JPT.CreateSharedView",null,require("jira/project-templates/create-shared-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/CreateSharedController.js' */
define("jira/project-templates/create-shared-controller-impl",["jira/project-templates/add-project-controller","jira/project-templates/create-shared-view","jira/lib/class","jquery","underscore"],function(e,f,a,d,c){var b=AJS.contextPath();return a.extend({init:function(g){this._window=g.window||window;c.bindAll(this,"dialogSubmitted")},initCreateShared:function(){f.prepareDialog("Create with shared configuration");var g=this;this._getProjectSuggestions().done(function(h){if(g._hasSuggestions(h)){f.draw({projectSuggestions:h})}else{f.drawEmptyInfo()}}).fail(function(){f.drawError("An error occurred while trying to contact JIRA")});f.drawLoading()},_hasSuggestions:function(h){var g=false;d.each(h,function(j,k){if(k&&k.items&&k.items.length>0){g=true}});return g},_getProjectSuggestions:function(){return d.ajax({url:b+"/rest/project-templates/1.0/createshared"})},dialogSubmitted:function(){var g=f.getSelectedProject();if(g){e.initCreateShared({existingProjectId:g})}else{f.showProjectMissingError()}}})});define("jira/project-templates/create-shared-controller",["jira/project-templates/create-shared-controller-impl","jquery"],function(a,b){return new a({el:b(document)})});AJS.namespace("JPT.CreateSharedController",null,require("jira/project-templates/create-shared-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/RemoteProjectsCreatedMessage.js' */
var $=require("jquery");$(function(){var i=AJS.format;var e=require("jira/project-templates/add-project-controller");var b=localStorage.getItem(e.localStoragePrefix+"confluenceProject");var j=localStorage.getItem(e.localStoragePrefix+"fisheyeProject");var g=localStorage.getItem(e.localStoragePrefix+"crucibleProject");var d=localStorage.getItem(e.localStoragePrefix+"bambooProject");localStorage.removeItem(e.localStoragePrefix+"confluenceProject");localStorage.removeItem(e.localStoragePrefix+"fisheyeProject");localStorage.removeItem(e.localStoragePrefix+"crucibleProject");localStorage.removeItem(e.localStoragePrefix+"bambooProject");var k;function c(m,l){return JIRA.Templates.ProjectTemplates.formatAnchor({href:m,body:l,title:l})}function a(n,o,m,p){var l=[];l.push("a JIRA project");if(n){l.push(c(n,"a Confluence space"))}if(o){l.push(c(o,"a FishEye repository"))}if(m){l.push(c(m,"a Crucible project"))}if(p){l.push(c(p,"a Bamboo project"))}return l}function h(m,o,l,r){var q="The following entities were created: {0} and {1}.";var n=a(m,o,l,r);var p=n.pop();return(n.length>0)?i(q,n.join(", "),p):null}function f(l){var m=$(l).offset();if(m){window.scrollTo(m.left,m.top)}}if(b||j||g||d){k=h(b,j,g,d);if(k){JIRA.Messages.showSuccessMsg(k,{closeable:true})}f("#project-config-webpanel-summary-settings")}});;
;
/* module-key = 'com.atlassian.plugins.jira-project-creation:project-creation-resources', location = '/js/lib/ajaxHooks/xdr.js' */
if(window.XDomainRequest){jQuery.ajaxTransport(function(b){if(b.crossDomain&&b.async){if(b.timeout){b.xdrTimeout=b.timeout;delete b.timeout}var a;return{send:function(d,c){function e(f,i,h,g){a.onload=a.onerror=a.ontimeout=jQuery.noop;a=undefined;c(f,i,h,g)}a=new XDomainRequest();a.onload=function(){e(200,"OK",{text:a.responseText},"Content-Type: "+a.contentType)};a.onerror=function(){e(404,"Not Found")};a.onprogress=jQuery.noop;a.ontimeout=function(){e(0,"timeout")};a.timeout=b.xdrTimeout||Number.MAX_VALUE;a.open(b.type,b.url);a.send((b.hasContent&&b.data)||null)},abort:function(){if(a){a.onerror=jQuery.noop;a.abort()}}}}})};;
;
/* module-key = 'com.atlassian.plugins.jira-project-creation:project-creation-resources', location = '/js/project-creation.js' */
ATLAS_PROJECT_CREATE={};(function(x){AJS.EventQueue=AJS.EventQueue||[];var u="jira.project";var G={"confluence.space":30,"bamboo.project":20,"ondemand.svn-repository":10};ATLAS_PROJECT_CREATE.getFilteredRootTypes=function C(L){var N={};for(var M in L.types){if(M!==u){N[M]=L.types[M]}}return N};ATLAS_PROJECT_CREATE.loadRemoteRoots=function p(L){var N=jQuery.Deferred(),O=[],M=[];t(L,function(P){var Q=P.capabilitiesUrl;return AJS.$.ajax(Q+"/aggregate-root",{success:function(R){var S=ATLAS_PROJECT_CREATE.getFilteredRootTypes(R);O=O.concat(_.map(S,function(U,T){return AJS.$.ajax(U.href,{xhrFields:{withCredentials:true},success:function(V){M.push(ATLAS_PROJECT_CREATE.constructFullRootType(V,U.label,T,Q,P.id))},error:function(X,V,W){AJS.log("Got "+W+" from aggregate root type "+U.href)}}).promise()}))},error:function(T,R,S){AJS.log("Got "+S+" from aggregate roots capapbility for "+Q)}}).promise()}).done(function(){o(O).done(function(){N.resolve(M)})});return N.promise()};ATLAS_PROJECT_CREATE.constructFullRootType=function n(L,M,P,O,N){return{keys:L.keys,url:L.links.self,label:M,capabilityKey:P,baseUrl:O,instanceId:N}};ATLAS_PROJECT_CREATE.createLink=function v(M,L){console.log("creating link from "+M.entityType+" to "+M.remoteEntityType);var N=JSON.stringify({local:M.baseUrl+"/aggregate-root/"+M.entityType+"/"+M.entityKey,target:M.remoteInstanceBaseUrl+"/aggregate-root/"+M.remoteEntityType+"/"+M.remoteEntityKey});AJS.$.ajax(M.baseUrl+"/aggregate-root-link",{type:"POST",contentType:"application/json",data:N,timeout:8000,complete:L})};ATLAS_PROJECT_CREATE.linkAllTheThings=function r(O,R,L,T,S){var N=[];x.each(R,function Q(U,V){N.push({baseUrl:V.type.baseUrl,entityType:V.type.capabilityKey,entityKey:V.data.key,remoteInstanceBaseUrl:h()+"/rest/capabilities",remoteEntityType:u,remoteEntityKey:L});N.push({baseUrl:h()+"/rest/capabilities",entityType:u,entityKey:L,remoteInstanceBaseUrl:V.type.baseUrl,remoteEntityType:V.type.capabilityKey,remoteEntityKey:V.data.key});AJS.$.each(R,function W(Y,X){if(X!==V){N.push({baseUrl:V.type.baseUrl,entityType:V.type.capabilityKey,entityKey:V.data.key,remoteInstanceBaseUrl:X.type.baseUrl,remoteEntityType:X.type.capabilityKey,remoteEntityKey:X.data.key})}})});var P=0;function M(Y,U){if(U!=="success"){P++;var V=Y.statusText;try{var X=JSON.parse(Y.responseText);if(X&&X.message){V=X.message}}catch(W){}AJS.messages.error(".li-linking-status",{title:"Could not create links between created projects",body:V});O.updateHeight()}if(N.length>0){ATLAS_PROJECT_CREATE.createLink(N.pop(),M)}else{if(P>0){T.find(".linking-status").html('<span class="aui-icon aui-icon-small aui-iconfont-error">'+"Error"+"</span>")}else{T.find(".linking-status").html('<span class="aui-icon aui-icon-small aui-iconfont-success">'+"Success"+"</span>")}S.prop("disabled",false);S.attr("aria-disabled","false")}}M(null,"success")};var k;function I(O,L,M){var N=L();x.when(O).then(function(P){N.getCurPanel().body.find(".field-group.loading").remove();P.sort(d);if(P.length!==0){var Q=N.getCurPanel().body.find("form");Q.append(project.creation.remoteRootsCheckboxes({rootTypes:P}));if(M){Q.find('input[type="checkbox"]').filter(".remote-root").change(M)}N.updateHeight()}f(N,true)},function(){N.getCurPanel().body.find(".field-group.loading").remove();f(N,true);N.updateHeight()})}var j;function E(L,M){var N=L();j=N.getCurPanel();j.body.find("form").append(project.creation.remoteRootsLoading({}));f(N,false);N.updateHeight();j.page.element.find(".add-project-back-button").click(function(){N.updateHeight()});b(I,L,M)}function B(M){var N=_.filter(j.body.find("input.remote-root.checkbox"),function(O){return O.checked===true});var L=_.map(N,function(O){return O.id});return _.filter(M,function(O){return _.contains(L,"capability_"+O.capabilityKey)})}var F=AJS.$('meta[name="ajs-remote-user"]');if(!F||!F[0]||!F[0].content){console.log("Project create didn't get a user META tag, or it had no content.  Bailing out");return}if(!AJS.DarkFeatures.isEnabled("rotp.project.create")){return}var w=function w(Q,N,P,M,O){var L=function L(R,S){S.prop("disabled",true);S.attr("aria-disabled","true");S.before('<span class="aui-icon aui-icon-wait project-creation-acknowledge-spinner">'+"Loading, please wait"+"</span>");R()};x.when(k).then(function(S){var R=B(S);H(R);if(R.length===0){Q.prevPage();N();return}c(Q,L,N);var T=[];var U=[];t(R,function(V){var W="creation_status_"+V.capabilityKey.replace(".","_")+"_"+V.instanceId;T.push({statusId:W,label:V.label});return AJS.$.ajax(V.url+"/"+M,{type:"PUT",data:JSON.stringify({label:O}),xhrFields:{withCredentials:true},success:function(X){U=U.concat(D(X,V));i(X,W)},error:function(Y,Z,X){l(W,V,Y,X)},contentType:"application/json",dataType:"json"}).promise()}).always(function(){s(Q);console.log("about to begin linking created objects");ATLAS_PROJECT_CREATE.linkAllTheThings(Q,U,M,AJS.$(".post-project-created-page-content"),AJS.$(".project-create-acknowledge-button"))});AJS.$(".post-project-created-page-content").append(project.creation.remoteRootsSuccess({rootTypes:T}))})};var e=function e(M){var L;x.when(k).then(function(P){var O=B(P);_.each(O,function(R){if(R.keys){for(var Q in R.keys){if(R.keys.hasOwnProperty(Q)){if(M.toUpperCase()===Q.toUpperCase()){L=R}}}}})});var N={errors:{}};if(L){N.errors.projectKey=AJS.format("{0} with that key already exists in the remote instance",L.label)}return N};function m(){return window.location.origin?window.location.origin:(window.location.protocol+"//"+window.location.host)}function h(){var L=m();return L+AJS.contextPath()}function z(M){var L=document.createElement("a");L.href=M;return{host:L.hostname,port:L.port,protocol:L.protocol.replace(":","")}}function K(M,L){var O=z(M);var N=z(L);return O.protocol==="https"&&N.protocol==="http"}function b(O,M,N){AJS.$.ajax(h()+"/rest/capabilities/awareness",{type:"GET",success:function L(Q){var R=_.partial(K,m());var P=_.chain(Q.applications).map(function(T,S){return _.extend(T,{capabilitiesUrl:S})}).filter(function(S){return R(S.capabilitiesUrl)===false}).value();P.push({id:Q.links.selfInstanceId,capabilitiesUrl:Q.links.collection});k=ATLAS_PROJECT_CREATE.loadRemoteRoots(P);A=Q.links.selfInstanceId;if(typeof O==="function"){O(k,M,N)}},error:function(R,P,Q){console.log("Project create error - error gathering roots from awareness capability");if(M){x(M().getCurPanel().page.element).find(".pt-submit-button").attr("aria-disabled","false")}}})}var A;var g=null;function t(N,M){var L=_.map(N,M);return o(L)}function o(M){var L=x.Deferred();var N=0;if(M.length===0){L.resolve()}else{_.each(M,function(O){O.always(function(){N++;if(N===M.length){L.resolve()}})})}return L.promise()}function c(N,L,M){N.addPanel("title","","post-project-created-page-content");N.addHeader("Creating and linking companions for your JIRA project");N.addButton("All done!",function(){L(M,AJS.$(this))},"project-create-acknowledge-button");AJS.$(".project-create-acknowledge-button").removeClass("button-panel-button").addClass("aui-button aui-button-primary").attr("aria-disabled","true").prop("disabled",true)}function D(M,L){var N=[];if(L.capabilityKey==="ondemand.svn-repository"){console.log("got back created SVN repository");N.push({type:{capabilityKey:"fecru.repository",instanceId:g.id,baseUrl:g.capabilitiesUrl},data:{key:M.key}});N.push({type:{capabilityKey:"fecru.project",instanceId:g.id,baseUrl:g.capabilitiesUrl},data:{key:"CR-"+M.key}})}else{console.log("got back created thing "+L.capabilityKey);var O={type:L,data:M};N.push(O)}return N}function i(N,O){var M=AJS.$("."+O);M.empty();M.append('<span class="aui-icon aui-icon-small aui-iconfont-success">'+"Success"+"</span>");if(N.links.resource){var L=AJS.$("<a target='_blank'></a>");L.text(N.label);L.attr("href",N.links.resource);L.attr("title",N.label);M.closest("li").append(L)}}function l(S,M,R,Q){var O=AJS.$("."+S);O.empty();O.append('<span class="aui-icon aui-icon-small aui-iconfont-error">'+"Error"+"</span>");var L=Q;if(R&&R.responseText){try{var P=JSON.parse(R.responseText);if(P&&P.message){L=P.message}}catch(N){L=R.responseText}}AJS.messages.error(".li-"+S,{title:AJS.format("Could not create {0}",M.label),body:L})}function s(L){var M=L.getCurrentPanel();if(M.body.find(".aui-message.error").size()!==0){AJS.messages.warning(".project-creation-success",{title:"We were unable to create everything you requested",body:"<p>"+"However, you can create them yourself and manually set up links."+"</p>"});L.updateHeight()}}function H(L){var M=_.map(L,function(O){return O.capabilityKey});var N=(M.length==0)?"none":M.sort().join("_");AJS.EventQueue.push({name:"project.create.aggregateroots.selected",properties:{capabilitykeys:N}})}function f(M,L){x(M.getCurPanel().page.element).find(".pt-submit-button").attr("aria-disabled",!L)}function d(M,L){return J(L.capabilityKey)-J(M.capabilityKey)}function J(L){return _.has(G,L)?G[L]:0}JPT.AddProjectController.registerProjectKeyValidationCallback(e);var y=function y(){return JPT.DialogView.dialog||JPT.DialogView._dialog};var a=function a(){if(JPT.AddProjectView.getKey().length>=2){JPT.AddProjectController._performKeyValidationChecks(JPT.AddProjectView.getKey())}};JPT.AddProjectView.addPostDrawCallback(function(){E(y,a)});JPT.AddProjectController.registerPostProjectCreationCallback(function(P,Q,O,M,N){var L=function(){window.location=AJS.contextPath()+Q};w(P,L,O,M,N)});var q=function q(){var N="projectCreation";GH.StartWizardView.registerWizardStepPreRenderCallback(function M(Q){if(Q==N){b();GH.StartWizardView.registerWizardStepOnCreateCallbacks(function P(S,T,R){console.log("creating external entities");S.addPage("post-project-created-page");w(S,T,null,R.project.key,R.project.name)})}});GH.StartWizardView.registerWizardStepPostRenderCallback(function O(R,P){if(R==N){E(function Q(){return P});P.updateHeight()}});GH.StartWizardView.registerWizardStepOnValidateCallback(function L(U,R){if(U==N){var T=R.getCurPanel().body.find("#ghx-wizard-project-projectkey");var Q=e(T.val());if(Q.errors.projectKey){var P=AJS.$("<div class='error project-creation-error'></div>");var S=T.parent();S.find(".project-creation-error").remove();S.append(P);P.text(Q.errors.projectKey);P.show();return false}}return true})};x(function(){AJS.$(".add-project-trigger").live("click",b);if(typeof GH!=="undefined"){if(GH.StartWizardView&&GH.StartWizardView.registerWizardStepPreRenderCallback){q()}}});x(function(){AJS.$(".add-project-trigger").live("click",b)})})(jQuery);;
;
/* module-key = 'com.atlassian.plugins.jira-project-creation:project-creation-resources', location = '/templates/project-creation.soy' */
// This file was automatically generated from project-creation.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace project.creation.
 */

if (typeof project == 'undefined') { var project = {}; }
if (typeof project.creation == 'undefined') { project.creation = {}; }


project.creation.remoteRootsLoading = function(opt_data, opt_ignored) {
  return '<div class="field-group loading"><span class="aui-icon aui-icon-wait"/>' + soy.$$escapeHtml("Retrieving additional project types you might want to create") + '</div>';
};
if (goog.DEBUG) {
  project.creation.remoteRootsLoading.soyTemplateName = 'project.creation.remoteRootsLoading';
}


project.creation.remoteRootsCheckboxes = function(opt_data, opt_ignored) {
  var output = '<fieldset class="group remote-root-checkboxes"><h4>' + soy.$$escapeHtml("Create a linked:") + '</h4><div class=\'field-group\'>';
  var rootTypeList10 = opt_data.rootTypes;
  var rootTypeListLen10 = rootTypeList10.length;
  for (var rootTypeIndex10 = 0; rootTypeIndex10 < rootTypeListLen10; rootTypeIndex10++) {
    var rootTypeData10 = rootTypeList10[rootTypeIndex10];
    output += '<div class="checkbox"><input class="checkbox remote-root" type="checkbox" id="capability_' + soy.$$escapeHtml(rootTypeData10.capabilityKey) + '" checked="true" data-url="' + soy.$$escapeHtml(rootTypeData10.url) + '"></input><label for="capability_' + soy.$$escapeHtml(rootTypeData10.capabilityKey) + '">' + soy.$$escapeHtml(rootTypeData10.label) + '</label></div>';
  }
  output += '</div></fieldset>';
  return output;
};
if (goog.DEBUG) {
  project.creation.remoteRootsCheckboxes.soyTemplateName = 'project.creation.remoteRootsCheckboxes';
}


project.creation.remoteRootsSuccess = function(opt_data, opt_ignored) {
  var output = '<div class="project-creation-success"><ul>';
  var rootTypeList24 = opt_data.rootTypes;
  var rootTypeListLen24 = rootTypeList24.length;
  for (var rootTypeIndex24 = 0; rootTypeIndex24 < rootTypeListLen24; rootTypeIndex24++) {
    var rootTypeData24 = rootTypeList24[rootTypeIndex24];
    output += '<li class="li-' + soy.$$escapeHtml(rootTypeData24.statusId) + '"><div class="' + soy.$$escapeHtml(rootTypeData24.statusId) + ' created-entity-status"><span class="aui-icon aui-icon-wait">' + soy.$$escapeHtml("Loading, please wait") + '</span></div><div class="created-entity-status">' + soy.$$escapeHtml(rootTypeData24.label) + '</div></li>';
  }
  output += '<li class="li-linking-status"><div class="linking-status created-entity-status"><span class="aui-icon aui-icon-wait">' + soy.$$escapeHtml("Loading, please wait") + '</span></div><div class="created-entity-status">' + soy.$$escapeHtml("Creating links") + '</div></li></ul></div>';
  return output;
};
if (goog.DEBUG) {
  project.creation.remoteRootsSuccess.soyTemplateName = 'project.creation.remoteRootsSuccess';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-survey-plugin:issue-poll-resource', location = '/js/survey.js' */
function sendOptionRequest(A,F,E,H){var B=AJS.contextPath()+"/rest/jira-poll/latest/jira-poll/"+F+"/"+E;
if(H){B=B+"/"+H
}var C=getPollContainer(E);
var I=C.find(".answer-submitting-indicator");
I.show();
var G=C.find(".submit-vote");
var D=C.find(".cancel-voting");
G.attr("disabled","disabled");
D.addClass("disabled");
AJS.$.ajax({url:B,type:A,cache:false,timeout:60000,success:function(J){setVotesHtml(E,J.html)
},error:function(J){I.hide();
G.removeAttr("disabled");
D.removeClass("disabled");
showErrorMessage(J,C.find(".survey-message-container"))
}})
}function setVotesHtml(C,A){getPollContainer(C).replaceWith(jQuery(A));
var B=getPollContainer(C);
configureVotesTable(B)
}function getPollContainer(A){return jQuery("#poll-container-"+A)
}function configureVotesTable(B){var A=jQuery("meta[name=ajs-issue-key]").attr("content");
jQuery(B).find(".vote-link").click(function(C){C.preventDefault();
var D=jQuery(this).data("poll-id");
showVoting(D,A)
})
}function showVoting(G,A){var C=getPollContainer(G);
var D={};
C.find(".option").each(function(H,J){J=jQuery(J);
var I=J.data("option-id");
D[I]=jQuery(J.find(".option-name")[0]).text()
});
var B=C.data("current-vote");
var F=JIRA.Templates.Poll.voting({options:D,pollId:G,currentVote:B});
C.replaceWith(jQuery(F));
var E=getPollContainer(G);
E.find(".submit-vote").click(function(I){I.preventDefault();
var H=E.find("input:radio[name=vote]:checked").val();
var J;
if(H==="no-vote"){J="delete";
H=null
}else{J="post"
}sendOptionRequest(J,A,G,H)
});
E.find(".cancel-voting").click(function(H){H.preventDefault();
if(jQuery(H.target).hasClass("disabled")){return 
}sendOptionRequest("get",A,G,null)
})
}function showErrorMessage(B,C){var A;
if("Unauthorized"===B.statusText){A="You must be logged in to answer."
}else{if(B.getResponseHeader("Content-Type").indexOf("application/json")<0){A="Error"
}else{A=B.responseText
}}AJS.messages.error(C,{title:A,closeable:true})
}function configureIssuePolls(){jQuery(".edit-poll-link").click(function(A){A.preventDefault();
var B=jQuery(A.target).data("poll-id");
AJS.$.ajax({url:AJS.contextPath()+"/rest/jira-poll/latest/jira-poll/issue-poll/"+B,type:"get",cache:false,timeout:60000,success:function(C){showPollDialog(C)
}})
})
}function showPollDialog(E){var A=jQuery("meta[name=ajs-issue-key]").attr("content");
var C=jQuery(JIRA.Templates.Poll.editPoll({pollName:E?E.name:""}));
var B=new JIRA.FormDialog({id:"add-poll-dialog",content:C,submitHandler:function(I){I.preventDefault();
var H=this;
var G=jQuery("#poll-name").val();
var F=AJS.contextPath()+"/rest/jira-poll/latest/jira-poll/";
if(E){F+="edit-poll/"+A+"/"+E.pollId
}else{F+="new-poll/"+A
}F+="?name="+encodeURIComponent(G);
AJS.$.ajax({url:F,type:"post",cache:false,timeout:60000,success:function(K){var J=jQuery("#issue-polls-container");
J.replaceWith(jQuery(K.html));
configureIssuePolls();
H.hide()
},error:function(J){showErrorMessage(J,jQuery("#add-poll-message-container"))
}})
}});
B.show();
var D=B.get$popupContent();
D.find(".add-option").click(function(I){I.preventDefault();
var H=D.find("#new-option");
var F=H.val();
H.val("");
var G=D.find("#poll-options");
G.append("<li>"+F+"</li>")
})
}jQuery(document).ready(function(){configureVotesTable(document);
configureIssuePolls();
jQuery("#survey-create-poll").click(function(A){A.preventDefault();
showPollDialog(null)
})
});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-survey-plugin:issue-poll-resource', location = '/soy/survey.soy' */
// This file was automatically generated from survey.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Poll.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Poll == 'undefined') { JIRA.Templates.Poll = {}; }


JIRA.Templates.Poll.voting = function(opt_data, opt_ignored) {
  var output = '<div id="poll-container-' + soy.$$escapeHtml(opt_data.pollId) + '" class="poll-container"><div class="survey-message-container"></div><form action="#"><div class="vote-option"><input id="poll-' + soy.$$escapeHtml(opt_data.pollId) + '-option-no-vote" type="radio" name="vote" value="no-vote" ' + ((opt_data.currentVote == 'no-vote') ? 'checked=checked' : '') + '/><label for="poll-' + soy.$$escapeHtml(opt_data.pollId) + '-option-no-vote" class="vote-option-name">' + soy.$$escapeHtml("No answer") + '</label></div><hr />';
  var optionIdList16 = soy.$$getMapKeys(opt_data.options);
  var optionIdListLen16 = optionIdList16.length;
  for (var optionIdIndex16 = 0; optionIdIndex16 < optionIdListLen16; optionIdIndex16++) {
    var optionIdData16 = optionIdList16[optionIdIndex16];
    output += '<div class="vote-option"><input id="poll-' + soy.$$escapeHtml(opt_data.pollId) + '-option-' + soy.$$escapeHtml(optionIdData16) + '" type="radio" name="vote" value="' + soy.$$escapeHtml(optionIdData16) + '" ' + ((opt_data.currentVote == optionIdData16) ? 'checked=checked' : '') + ' /><label for="poll-' + soy.$$escapeHtml(opt_data.pollId) + '-option-' + soy.$$escapeHtml(optionIdData16) + '" class="vote-option-name">' + soy.$$escapeHtml(opt_data.options[optionIdData16]) + '</label></div>';
  }
  output += '<hr /><div class="vote-poll-footer"><input class="aui-button submit-vote" type="submit" value="' + soy.$$escapeHtml("Answer") + '" /><span class="vote-poll-footer-item"><a href="#" class="cancel-voting aui-link-button">' + soy.$$escapeHtml("Cancel") + '</a></span><span class="vote-poll-footer-item answer-submitting-indicator">' + soy.$$escapeHtml("Loading answers...") + '</span></div></form></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Poll.voting.soyTemplateName = 'JIRA.Templates.Poll.voting';
}


JIRA.Templates.Poll.editPoll = function(opt_data, opt_ignored) {
  return '<form id="edit-poll" class="aui"><div id="add-poll-message-container"></div><h2>' + soy.$$escapeHtml("Create new poll") + '</h2><div class="form-body"><div class="field-group"><label for="poll-name">' + soy.$$escapeHtml("Poll name") + '</label><input id="poll-name" type="text" class="text long-field" value="' + soy.$$escapeHtml(opt_data.pollName) + '" /></div><h2>' + soy.$$escapeHtml("Options") + '</h2><div class="field-group"><label for="new-option">' + soy.$$escapeHtml("New option") + '</label><input id="new-option" type="text" class="text" /><button class="aui-button add-option" id="add-option">' + soy.$$escapeHtml("Add") + '</button></div><ul id="poll-options"></ul></div><div class="buttons-container form-footer"><div class="buttons"><button class="aui-button" id="save-poll">' + soy.$$escapeHtml("Save") + '</button><a href="#" class="aui-button-link cancel">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Poll.editPoll.soyTemplateName = 'JIRA.Templates.Poll.editPoll';
}
;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/store-1.3.1.js' */
(function(){var l={},h=window,k=h.document,c="localStorage",n="globalStorage",d="__storejs__",g;l.disabled=false;l.set=function(e,o){};l.get=function(e){};l.remove=function(e){};l.clear=function(){};l.transact=function(e,o){var p=l.get(e);if(typeof p=="undefined"){p={}}o(p);l.set(e,p)};l.serialize=function(e){return JSON.stringify(e)};l.deserialize=function(e){if(typeof e!="string"){return undefined}return JSON.parse(e)};function b(){try{return(c in h&&h[c])}catch(e){return false}}function m(){try{return(n in h&&h[n]&&h[n][h.location.hostname])}catch(e){return false}}if(b()){g=h[c];l.set=function(e,o){if(o===undefined){return l.remove(e)}g.setItem(e,l.serialize(o))};l.get=function(e){return l.deserialize(g.getItem(e))};l.remove=function(e){g.removeItem(e)};l.clear=function(){g.clear()}}else{if(m()){g=h[n][h.location.hostname];l.set=function(e,o){if(o===undefined){return l.remove(e)}g[e]=l.serialize(o)};l.get=function(e){return l.deserialize(g[e]&&g[e].value)};l.remove=function(e){delete g[e]};l.clear=function(){for(var e in g){delete g[e]}}}else{if(k.documentElement.addBehavior){var j,f;try{f=new ActiveXObject("htmlfile");f.open();f.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></frame>');f.close();j=f.w.frames[0].document;g=j.createElement("div")}catch(i){g=k.createElement("div");j=k.body}function a(e){return function(){var p=Array.prototype.slice.call(arguments,0);p.unshift(g);j.appendChild(g);g.addBehavior("#default#userData");g.load(c);var o=e.apply(l,p);j.removeChild(g);return o}}l.set=a(function(p,e,o){if(o===undefined){return l.remove(e)}p.setAttribute(e,l.serialize(o));p.save(c)});l.get=a(function(o,e){return l.deserialize(o.getAttribute(e))});l.remove=a(function(o,e){o.removeAttribute(e);o.save(c)});l.clear=a(function(q){var o=q.XMLDocument.documentElement.attributes;q.load(c);for(var p=0,e;e=o[p];p++){q.removeAttribute(e.name)}q.save(c)})}}}try{l.set(d,d);if(l.get(d)!=d){l.disabled=true}l.remove(d)}catch(i){l.disabled=true}if(typeof module!="undefined"){module.exports=l}else{if(typeof define==="function"&&define.amd){define(l)}else{this.store=l}}})();;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/page-visibility.js' */
define("atlassian/analytics/page-visibility",function(){var a=(document.hidden!==undefined);var b={supported:a,isHidden:function(){return a?document.hidden:false}};return b});;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/user-activity-xhr-header.js' */
define("atlassian/analytics/user-activity-xhr-header",["atlassian/analytics/page-visibility"],function(c){var e="x-atlassian-mau-ignore";var d=XMLHttpRequest.prototype.send;var a=window.fetch;var b=false;return{install:function(){if(!b&&c.supported){XMLHttpRequest.prototype.send=function(){if(c.isHidden()){this.setRequestHeader(e,c.isHidden())}d.apply(this,arguments)};if(a){window.fetch=function(f,i){var g=i||{};var h=g.headers;if(c.isHidden()){g.headers=(h)?new Headers(h):new Headers();g.headers.append(e,c.isHidden())}return a.call(this,f,g)}}b=true}},uninstall:function(){if(b){XMLHttpRequest.prototype.send=d;if(a){window.fetch=a}}b=false}}});require("atlassian/analytics/user-activity-xhr-header").install();;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/atlassian-analytics.js' */
(function(d){var p=AJS.$.ajax;var k="atlassian-analytics";var i=typeof AJS.contextPath=="function"?AJS.contextPath():typeof AJS.Confluence!="undefined"?AJS.Confluence.getContextPath():window.contextPath!=null?window.contextPath:"";var o=null;var l=null;var f=null;var q="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(y){var x=Math.random()*16|0,w=y=="x"?x:(x&3|8);return w.toString(16)});var s=function(){var w="unknown";if(document.body.id=="jira"){w="jira"}else{if(document.body.id=="com-atlassian-confluence"){w="confluence"}}l=k+"."+w;f=l+".lock"};var e=function(){if(store.get(f)){return false}store.set(f,q);return(store.get(f)===q)};var t=function(){store.set(f,null)};var h=function(){var x=[],z,A,w,y;if(AJS.EventQueue.length==0){return}x=store.get(l)||x;for(w=0,y=AJS.EventQueue.length;w<y;++w){A=AJS.EventQueue[w];if(A.name){z={name:A.name,properties:A.properties,time:A.time||0};x.push(z)}}AJS.EventQueue.length=0;store.set(l,x)};var u=0;var a=function(w){return Math.min(5000*Math.pow(2,w),5*60*1000)};var g=function(){var z;function x(){setTimeout(g,a(u=0))}function w(){setTimeout(g,a(++u))}if(!e()){return x()}h();z=store.get(l);if(!z||!z.length){t();return x()}store.remove(l);t();if(!n(z)){return x()}var A=new Date().getTime();for(var y=0;y<z.length;y++){if(z[y].time>0){z[y].timeDelta=z[y].time-A}else{z[y].timeDelta=y-z.length}delete z[y].time}o=p({type:"POST",url:i+"/rest/analytics/1.0/publish/bulk",data:JSON.stringify(z),contentType:"application/json",dataType:"json"});o.fail(function(){AJS.EventQueue.concat(z);h();w()});o.done(function(){x()})};var n=function(y){for(var x=y.length-1;x>=0;x--){var A="";var z=y[x];var w=z.properties;if(typeof z.name==="undefined"){A="you must provide a name for the event."}else{if(typeof w!=="undefined"&&w!==null){if(w.constructor!==Object){A="properties must be an object with key value pairs."}else{b(w)}}}if(A!==""){AJS.log("WARN: Invalid analytics event detected and ignored, "+A+"\nEvent: "+JSON.stringify(z));y.splice(x,1)}}return y.length};var b=function(y){for(var x in y){if(y.hasOwnProperty(x)){var w=y[x];if(c(w)&&j(w)){}else{if(c(w)&&w.toString){y[x]=w.toString()}else{y[x]=""}}}}};function c(w){return typeof w!=="undefined"&&w!==null}function j(w){return typeof w==="number"||typeof w==="string"||typeof w==="boolean"}var m=function(){if(o&&!(o.state()==="resolved"||o.state()==="rejected")){o.abort()}};AJS.EventQueue=AJS.EventQueue||[];var r=Array.prototype.push;AJS.EventQueue.push=function(w){w.time=new Date().getTime();r.call(AJS.EventQueue,w)};AJS.toInit(function(){s();setTimeout(g,500);v()});d(window).unload(function(){m();h()});AJS.Analytics={triggerPrivacyPolicySafeEvent:function(w,x){AJS.log("WARN: 'triggerPrivacyPolicySafeEvent' has been deprecated");AJS.EventQueue.push({name:w,properties:x})}};AJS.bind("analytics",function(w,x){AJS.EventQueue.push({name:x.name,properties:x.data})});AJS.bind("analyticsEvent",function(w,x){AJS.EventQueue.push({name:x.name,properties:x.data})});var v=function(){if(window.location.pathname.indexOf("/secure/admin/ViewApplicationProperties")>-1){AJS.$("[data-property-id='analytics-enabled']").remove()}else{if(window.location.pathname.indexOf("/secure/admin/EditApplicationProperties")>-1){var x=AJS.$(":contains(Enable Atlassian analytics)");if(x.size()>0){var w=x[x.size()-2];if(w){w.remove()}}}}}}(AJS.$));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:application-header-administration-cog-resource', location = 'header/cog.js' */
var NavLinks=(function(a){a.ApplicationHeader=function(b){b.Cog=(function(){var c=function(){var d=AJS.$("#system-admin-menu-content");if(d.length>0){return d}var e=AJS.$("#admin-menu-link-content");if(e.length>0){return e}return AJS.$("#bamboo\\.global\\.header-admin\\.menu")};return{getDropdown:c}}());return b}(a.ApplicationHeader||{});return a}(NavLinks||{}));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminshortcuts.soy' */
// This file was automatically generated from adminshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.adminshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.adminshortcuts == 'undefined') { navlinks.templates.adminshortcuts = {}; }


navlinks.templates.adminshortcuts.section = function(opt_data, opt_ignored) {
  var param5 = '<ul class="aui-list-truncate">';
  var linkList7 = opt_data.links;
  var linkListLen7 = linkList7.length;
  for (var linkIndex7 = 0; linkIndex7 < linkListLen7; linkIndex7++) {
    var linkData7 = linkList7[linkIndex7];
    param5 += '<li><a href="' + soy.$$escapeHtml(linkData7.link) + '">' + soy.$$escapeHtml(linkData7.label) + '</a></li>';
  }
  param5 += '</ul>';
  var output = '' + aui.dropdown2.section({id: 'nl-remote-admin-section', label: "Other applications", content: param5});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.adminshortcuts.section.soyTemplateName = 'navlinks.templates.adminshortcuts.section';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminnavlinks.js' */
var NavLinks=(function(a){a.AdminShortcuts=(function(){var c=function(){return AJS.$.ajax({url:AJS.contextPath()+"/rest/menu/latest/admin",cache:false,dataType:"json"})};var b=function(){AJS.$("#nl-remote-admin-section").on("click","a",function(){NL.trackEvent("remoteAdminItemSelected",NL.getCurrentApplication(),$(this).attr("href"))})};return{render:function(){c().done(function(e){e=_.reject(e,function(f){return f.local===true});if(e.length){var d=navlinks.templates.adminshortcuts.section({links:e});a.ApplicationHeader.Cog.getDropdown().append(d);b()}})}}}());return a}(NavLinks||{}));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts', location = 'adminshortcuts/adminshortcuts-cdn.js' */
AJS.toInit(function(){if(AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled("rotp.admin.shortcuts")){NavLinks.AdminShortcuts.render()}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.soy' */
// This file was automatically generated from projectshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.projectshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.projectshortcuts == 'undefined') { navlinks.templates.projectshortcuts = {}; }


navlinks.templates.projectshortcuts.dialogContent = function(opt_data, opt_ignored) {
  return '' + ((opt_data.localShortcuts && opt_data.localShortcuts.length > 0) ? navlinks.templates.projectshortcuts.dialogContentShortcuts({shortcuts: opt_data.localShortcuts, listClass: 'projectshortcut-links'}) : '') + ((opt_data.remoteShortcuts != null) ? (opt_data.remoteShortcuts.length > 0) ? '<h2 class="projectshortcuts-heading">Related Links</h2>' + navlinks.templates.projectshortcuts.dialogContentShortcuts(soy.$$augmentMap(opt_data.remoteShortcuts, {shortcuts: opt_data.remoteShortcuts, listClass: 'projectshortcut-links'})) : '' : navlinks.templates.projectshortcuts.dialogLoading(null));
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContent.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContent';
}


navlinks.templates.projectshortcuts.headingWrapper = function(opt_data, opt_ignored) {
  return '<div class="project-dialog-header-wrapper"><div class="project-header"><img class="project-img" src="' + soy.$$escapeHtml(opt_data.logoUrl) + '"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.title) + '</h2></div><div class="project-content-wrapper">' + soy.$$filterNoAutoescape(opt_data.contentHtml) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.headingWrapper.soyTemplateName = 'navlinks.templates.projectshortcuts.headingWrapper';
}


navlinks.templates.projectshortcuts.dialogContentShortcuts = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
  var shortcutList35 = opt_data.shortcuts;
  var shortcutListLen35 = shortcutList35.length;
  for (var shortcutIndex35 = 0; shortcutIndex35 < shortcutListLen35; shortcutIndex35++) {
    var shortcutData35 = shortcutList35[shortcutIndex35];
    output += '<li' + ((shortcutIndex35 == shortcutListLen35 - 1) ? ' class="last"' : '') + '>' + navlinks.templates.projectshortcuts.dialogContentShortcut(shortcutData35) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcuts.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcuts';
}


navlinks.templates.projectshortcuts.dialogContentShortcut = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.link) + '"' + ((opt_data.tooltip) ? ' title="' + soy.$$escapeHtml(opt_data.tooltip) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.label) + '</a>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcut.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcut';
}


navlinks.templates.projectshortcuts.dialogLoading = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="projectshortcuts-loading">' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogLoading.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogLoading';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.js' */
(function(e,g){var i,k={},m="key",b="name",j="entity-type";function f(s){var n=e(this),o=n.data(m),q=n.data(b),p=n.data(j);if(typeof o==="undefined"){return}s.preventDefault();i=new AJS.Dialog({width:600,keypressListener:function(u){if(u.which==jQuery.ui.keyCode.ESCAPE){i.remove()}},id:"project-shortcuts-dialog"}).addCancel("Close",function(){i.remove()}).addPanel("",navlinks.templates.projectshortcuts.headingWrapper({title:q,logoUrl:h(),contentHtml:navlinks.templates.projectshortcuts.dialogLoading({text:"Retrieving links"})})).show();c(i);if(!k[o]){k[o]={entity:{title:q},localShortcuts:null,remoteShortcuts:null};d(AJS.contextPath()+"/rest/project-shortcuts/1.0/local/"+o,{entityType:p}).done(t);d(AJS.contextPath()+"/rest/project-shortcuts/1.0/remote/"+o,{entityType:p}).done(r).fail(function(){var u=i.getCurrentPanel().body.find(".project-content-wrapper");u.find(".projectshortcuts-loading").remove();AJS.messages.error(u,{body:"Could not retrieve remote project shortcuts",closeable:false});c(i)})}else{l(k[o])}function t(u){k[o].localShortcuts=u.shortcuts;l(k[o])}function r(u){k[o].remoteShortcuts=u.shortcuts;l(k[o])}}function h(){return e(".project-shortcut-dialog-trigger img").attr("src")}function l(n){if(n.localShortcuts){i.getCurrentPanel().html(navlinks.templates.projectshortcuts.headingWrapper({title:n.entity.title,logoUrl:h(),contentHtml:navlinks.templates.projectshortcuts.dialogContent(n)}));c(i)}}function a(p){var o=210;if(!p||p.length<=o){return p}var n=o;while(n>0&&p.charAt(n)!=" "){n--}if(n==0){n=o}p=p.substring(0,n);if(p.length>=n){p=p+"..."}return p}function c(n){var q=n.popup.element,p=q.find(".dialog-panel-body"),o=q.find(".dialog-components");p.height("auto");q.height(o.outerHeight()-1);e(".aui-shadow").remove()}function d(n,o){return e.ajax({url:n,cache:false,data:o,dataType:"json"})}e(document).on("click",".project-shortcut-dialog-trigger",f)}(jQuery,window.NL=(window.NL||{})));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:atlassian-ui-popup-display-controller', location = 'popups/DisplayController.js' */
AJS.Popups=AJS.Popups||{};AJS.Popups.DisplayController=function(){var c=[];var a=false;var b=false;AJS.toInit(function(){setTimeout(function(){AJS.Popups.DisplayController.render()},0)});return{request:function(d){c.push(d);if(a&&b===false){this.render()}},render:function(){c.sort(function(e,d){return e.weight-d.weight});a=true;if(c.length!==0){b=true;c[0].show()}}}}();;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-web-plugin:issue-link-web-link', location = 'js/issuelink-weblink.js' */
(function(){var $hiddenImg=AJS.$("<img>"),$iconUrlInput,$urlInput,faviconUrl,throbberTimeoutId;$hiddenImg.load(function(){$iconUrlInput.val(faviconUrl);$urlInput.css("background-image",'url("'+faviconUrl+'")');clearTimeout(throbberTimeoutId);$urlInput.removeClass("loading")});$hiddenImg.error(function(){clearTimeout(throbberTimeoutId);$urlInput.removeClass("loading")});function init(context){$iconUrlInput=AJS.$("#web-link-icon-url",context);$urlInput=AJS.$("#web-link-url",context).bind("change",fetchFavicon);if($iconUrlInput.val()){$urlInput.css("background-image","url("+$iconUrlInput.val()+")")}}function fetchFavicon(){$hiddenImg.attr("src","");$iconUrlInput.val("");$urlInput.css("background-image","");faviconUrl=parseFaviconUrl($urlInput.val());if(!faviconUrl){return }setTimeout(function(){$urlInput.addClass("loading")},0);throbberTimeoutId=setTimeout(function(){$urlInput.removeClass("loading")},3000);$hiddenImg.attr("src",faviconUrl)}function parseFaviconUrl(url){var hostUrl=url.match(/^([^/]*\/\/[^/]+)/)[1];if(!hostUrl){return }return hostUrl+"/favicon.ico"}JIRA.bind(JIRA.Events.NEW_PAGE_ADDED,function(e,context){init(context)})})();;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-dialog2', location = 'node_modules/@atlassian/aui/src/js/aui/dialog2.js' */
("undefined"===typeof window?global:window).__356f02b3c0dc797856c7d64ea3da2a1b=function(){function f(a){return a&&a.__esModule?a:{"default":a}}function e(a){var c=this.$el=a?(0,g.default)(a):(0,g.default)(aui.dialog.dialog2({}));g.default.each(i,function(a,b){var d="data-"+a;c[0].hasAttribute(d)||c.attr(d,b)})}var h={};"use strict";Object.defineProperty(h,"__esModule",{value:!0});var g=f(__205998b249afc65053be53fe079b2622),j=f(__dc68b9274c05b6370900ab8f60c2035d),k=f(__90e6b3a7b5f251fe6bee9d0accee9418),
b=f(__90ff25ea2b61f4d5a6b33c1d9f2e12d8),l=f(__7e8c0513b5f4e52873efde1668763f31),i={"aui-focus":"false","aui-blanketed":"true"};e.prototype.on=function(a,c){(0,b.default)(this.$el).on(a,c);return this};e.prototype.off=function(a,c){(0,b.default)(this.$el).off(a,c);return this};e.prototype.show=function(){(0,b.default)(this.$el).show();return this};e.prototype.hide=function(){(0,b.default)(this.$el).hide();return this};e.prototype.remove=function(){(0,b.default)(this.$el).remove();return this};e.prototype.isVisible=
function(){return(0,b.default)(this.$el).isVisible()};var d=(0,l.default)("dialog2",e);d.on=function(a,c){b.default.on(a,".aui-dialog2",c);return this};d.off=function(a,c){b.default.off(a,".aui-dialog2",c);return this};(0,g.default)(document).on("click",".aui-dialog2-header-close",function(a){a.preventDefault();d((0,g.default)(this).closest(".aui-dialog2")).hide()});d.on("show",function(a,c){var b;[".aui-dialog2-content",".aui-dialog2-footer",".aui-dialog2-header"].some(function(a){b=c.find(a+" :aui-tabbable");
return b.length});b&&b.first().focus()});d.on("hide",function(a,c){var d=(0,b.default)(c);c.data("aui-remove-on-hide")&&d.remove()});(0,j.default)("aui/dialog2",d);(0,k.default)("dialog2",d);h.default=d;return h=h["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:dialog2', location = 'src/soy/dialog2.soy' */
// This file was automatically generated from dialog2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dialog.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dialog == 'undefined') { aui.dialog = {}; }


aui.dialog.dialog2 = function(opt_data, opt_ignored) {
  return '' + aui.dialog.dialog2Chrome({id: opt_data.id, titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, modal: opt_data.modal, tagName: opt_data.tagName, removeOnHide: opt_data.removeOnHide, visible: opt_data.visible, size: opt_data.size, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: '' + aui.dialog.dialog2Content({id: null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, headerActionContent: opt_data.headerActionContent, headerSecondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal, content: opt_data.content, footerHintText: opt_data.footerHintText, footerHintContent: opt_data.footerHintContent, footerActionContent: opt_data.footerActionContent})});
};
if (goog.DEBUG) {
  aui.dialog.dialog2.soyTemplateName = 'aui.dialog.dialog2';
}


aui.dialog.dialog2Chrome = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.titleId) ? ' aria-labelledby="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' role="dialog" class=" aui-layer aui-dialog2 aui-dialog2-' + soy.$$escapeHtml(opt_data.size ? opt_data.size : 'medium') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.modal) ? 'data-aui-modal="true"' : '') + ((opt_data.removeOnHide) ? 'data-aui-remove-on-hide="true"' : '') + ((opt_data.visible != true) ? 'aria-hidden="true"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Chrome.soyTemplateName = 'aui.dialog.dialog2Chrome';
}


aui.dialog.dialog2Content = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + aui.dialog.dialog2Header({titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, actionContent: opt_data.headerActionContent, secondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal}) + aui.dialog.dialog2Panel(opt_data) + aui.dialog.dialog2Footer({hintText: opt_data.footerHintText, hintContent: opt_data.footerHintContent, actionContent: opt_data.footerActionContent});
};
if (goog.DEBUG) {
  aui.dialog.dialog2Content.soyTemplateName = 'aui.dialog.dialog2Content';
}


aui.dialog.dialog2Header = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<header' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-header' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><h2 ' + ((opt_data.titleId) ? ' id="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' class="aui-dialog2-header-main">' + ((opt_data.titleText) ? soy.$$escapeHtml(opt_data.titleText) : '') + ((opt_data.titleContent) ? soy.$$filterNoAutoescape(opt_data.titleContent) : '') + '</h2>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-header-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.secondaryContent) ? '<div class="aui-dialog2-header-secondary">' + soy.$$filterNoAutoescape(opt_data.secondaryContent) + '</div>' : '') + ((opt_data.modal != true) ? '<a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a>' : '') + '</header>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Header.soyTemplateName = 'aui.dialog.dialog2Header';
}


aui.dialog.dialog2Footer = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<footer' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-footer' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-footer-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.hintText || opt_data.hintContent) ? '<div class="aui-dialog2-footer-hint">' + ((opt_data.hintText) ? soy.$$escapeHtml(opt_data.hintText) : '') + ((opt_data.hintContent) ? soy.$$filterNoAutoescape(opt_data.hintContent) : '') + '</div>' : '') + '</footer>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Footer.soyTemplateName = 'aui.dialog.dialog2Footer';
}


aui.dialog.dialog2Panel = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-content' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Panel.soyTemplateName = 'aui.dialog.dialog2Panel';
}
;
;
/* module-key = 'com.onresolve.jira.groovy.groovyrunner:livequery', location = 'js/jquery.livequery.js' */
/*! jquery.livequery - v1.3.6 - 2013-08-26
 * Copyright (c)
 *  (c) 2010, Brandon Aaron (http://brandonaaron.net)
 *  (c) 2012 - 2013, Alexander Zaytsev (http://hazzik.ru/en)
 * Dual licensed under the MIT (MIT_LICENSE.txt)
 * and GPL Version 2 (GPL_LICENSE.txt) licenses.
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?a(require("jquery")):a(jQuery)}(function(a,b){function c(a,b,c,d){return!(a.selector!=b.selector||a.context!=b.context||c&&c.$lqguid!=b.fn.$lqguid||d&&d.$lqguid!=b.fn2.$lqguid)}a.extend(a.fn,{livequery:function(b,e){var f,g=this;return a.each(d.queries,function(a,d){return c(g,d,b,e)?(f=d)&&!1:void 0}),f=f||new d(g.selector,g.context,b,e),f.stopped=!1,f.run(),g},expire:function(b,e){var f=this;return a.each(d.queries,function(a,g){c(f,g,b,e)&&!f.stopped&&d.stop(g.id)}),f}});var d=a.livequery=function(b,c,e,f){var g=this;return g.selector=b,g.context=c,g.fn=e,g.fn2=f,g.elements=a([]),g.stopped=!1,g.id=d.queries.push(g)-1,e.$lqguid=e.$lqguid||d.guid++,f&&(f.$lqguid=f.$lqguid||d.guid++),g};d.prototype={stop:function(){var b=this;b.stopped||(b.fn2&&b.elements.each(b.fn2),b.elements=a([]),b.stopped=!0)},run:function(){var b=this;if(!b.stopped){var c=b.elements,d=a(b.selector,b.context),e=d.not(c),f=c.not(d);b.elements=d,e.each(b.fn),b.fn2&&f.each(b.fn2)}}},a.extend(d,{guid:0,queries:[],queue:[],running:!1,timeout:null,registered:[],checkQueue:function(){if(d.running&&d.queue.length)for(var a=d.queue.length;a--;)d.queries[d.queue.shift()].run()},pause:function(){d.running=!1},play:function(){d.running=!0,d.run()},registerPlugin:function(){a.each(arguments,function(b,c){if(a.fn[c]&&!(a.inArray(c,d.registered)>0)){var e=a.fn[c];a.fn[c]=function(){var a=e.apply(this,arguments);return d.run(),a},d.registered.push(c)}})},run:function(c){c!==b?a.inArray(c,d.queue)<0&&d.queue.push(c):a.each(d.queries,function(b){a.inArray(b,d.queue)<0&&d.queue.push(b)}),d.timeout&&clearTimeout(d.timeout),d.timeout=setTimeout(d.checkQueue,20)},stop:function(c){c!==b?d.queries[c].stop():a.each(d.queries,d.prototype.stop)}}),d.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp"),a(function(){d.play()})});;
;
/* module-key = 'com.onresolve.jira.groovy.groovyrunner:web-item-response-renderer-resources', location = 'js/web-item-response-renderer.js.switchable' */
!function(e){function o(e){delete installedChunks[e]}function s(e){var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.src=f.p+""+e+"."+b+".hot-update.js",o.appendChild(s)}function r(e){return e=e||1e4,new Promise(function(o,s){if("undefined"==typeof XMLHttpRequest)return s(new Error("No browser support"));try{var r=new XMLHttpRequest,t=f.p+""+b+".hot-update.json";r.open("GET",t,!0),r.timeout=e,r.send(null)}catch(e){return s(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)s(new Error("Manifest request to "+t+" timed out."));else if(404===r.status)o();else if(200!==r.status&&304!==r.status)s(new Error("Manifest request to "+t+" failed."));else{try{var e=JSON.parse(r.responseText)}catch(e){return void s(e)}o(e)}}})}function t(e){var o=R[e];if(!o)return f;var s=function(s){return o.hot.active?(R[s]?R[s].parents.indexOf(e)<0&&R[s].parents.push(e):(x=[e],_=s),o.children.indexOf(s)<0&&o.children.push(s)):(console.warn("[HMR] unexpected require("+s+") from disposed module "+e),x=[]),f(s)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return f[e]},set:function(o){f[e]=o}}};for(var t in f)Object.prototype.hasOwnProperty.call(f,t)&&"e"!==t&&Object.defineProperty(s,t,r(t));return s.e=function(e){function o(){E--,"prepare"===A&&(k[e]||l(e),0===E&&0===P&&a())}return"ready"===A&&d("prepare"),E++,f.e(e).then(o,function(e){throw o(),e})},s}function n(e){var o={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:_!==e,active:!0,accept:function(e,s){if(void 0===e)o._selfAccepted=!0;else if("function"==typeof e)o._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)o._acceptedDependencies[e[r]]=s||function(){};else o._acceptedDependencies[e]=s||function(){}},decline:function(e){if(void 0===e)o._selfDeclined=!0;else if("object"==typeof e)for(var s=0;s<e.length;s++)o._declinedDependencies[e[s]]=!0;else o._declinedDependencies[e]=!0},dispose:function(e){o._disposeHandlers.push(e)},addDisposeHandler:function(e){o._disposeHandlers.push(e)},removeDisposeHandler:function(e){var s=o._disposeHandlers.indexOf(e);s>=0&&o._disposeHandlers.splice(s,1)},check:i,apply:m,status:function(e){if(!e)return A;S.push(e)},addStatusHandler:function(e){S.push(e)},removeStatusHandler:function(e){var o=S.indexOf(e);o>=0&&S.splice(o,1)},data:w[e]};return _=void 0,o}function d(e){A=e;for(var o=0;o<S.length;o++)S[o].call(null,e)}function u(e){return+e+""===e?+e:e}function i(e){if("idle"!==A)throw new Error("check() is only allowed in idle status");return v=e,d("check"),r(g).then(function(e){if(!e)return d("idle"),null;T={},k={},D=e.c,y=e.h,d("prepare");var o=new Promise(function(e,o){p={resolve:e,reject:o}});return h={},l(19),"prepare"===A&&0===E&&0===P&&a(),o})}function c(e,o){if(D[e]&&T[e]){T[e]=!1;for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(h[s]=o[s]);0==--P&&0===E&&a()}}function l(e){D[e]?(T[e]=!0,P++,s(e)):k[e]=!0}function a(){d("ready");var e=p;if(p=null,e)if(v)Promise.resolve().then(function(){return m(v)}).then(function(o){e.resolve(o)},function(o){e.reject(o)});else{var o=[];for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&o.push(u(s));e.resolve(o)}}function m(s){function r(e){for(var o=[e],s={},r=o.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var n=r.pop(),d=n.id,u=n.chain;if((l=R[d])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:u,moduleId:d};if(l.hot._main)return{type:"unaccepted",chain:u,moduleId:d};for(var i=0;i<l.parents.length;i++){var c=l.parents[i],a=R[c];if(a){if(a.hot._declinedDependencies[d])return{type:"declined",chain:u.concat([c]),moduleId:d,parentId:c};o.indexOf(c)>=0||(a.hot._acceptedDependencies[d]?(s[c]||(s[c]=[]),t(s[c],[d])):(delete s[c],o.push(c),r.push({chain:u.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:o,outdatedDependencies:s}}function t(e,o){for(var s=0;s<o.length;s++){var r=o[s];e.indexOf(r)<0&&e.push(r)}}if("ready"!==A)throw new Error("apply() is only allowed in ready status");s=s||{};var n,i,c,l,a,m={},j=[],_={},p=function(){console.warn("[HMR] unexpected require("+g.moduleId+") to disposed module")};for(var v in h)if(Object.prototype.hasOwnProperty.call(h,v)){a=u(v);var g;g=h[v]?r(a):{type:"disposed",moduleId:v};var O=!1,S=!1,P=!1,E="";switch(g.chain&&(E="\nUpdate propagation: "+g.chain.join(" -> ")),g.type){case"self-declined":s.onDeclined&&s.onDeclined(g),s.ignoreDeclined||(O=new Error("Aborted because of self decline: "+g.moduleId+E));break;case"declined":s.onDeclined&&s.onDeclined(g),s.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+g.moduleId+" in "+g.parentId+E));break;case"unaccepted":s.onUnaccepted&&s.onUnaccepted(g),s.ignoreUnaccepted||(O=new Error("Aborted because "+a+" is not accepted"+E));break;case"accepted":s.onAccepted&&s.onAccepted(g),S=!0;break;case"disposed":s.onDisposed&&s.onDisposed(g),P=!0;break;default:throw new Error("Unexception type "+g.type)}if(O)return d("abort"),Promise.reject(O);if(S){_[a]=h[a],t(j,g.outdatedModules);for(a in g.outdatedDependencies)Object.prototype.hasOwnProperty.call(g.outdatedDependencies,a)&&(m[a]||(m[a]=[]),t(m[a],g.outdatedDependencies[a]))}P&&(t(j,[g.moduleId]),_[a]=p)}var k=[];for(i=0;i<j.length;i++)a=j[i],R[a]&&R[a].hot._selfAccepted&&k.push({module:a,errorHandler:R[a].hot._selfAccepted});d("dispose"),Object.keys(D).forEach(function(e){!1===D[e]&&o(e)});for(var T,B=j.slice();B.length>0;)if(a=B.pop(),l=R[a]){var I={},L=l.hot._disposeHandlers;for(c=0;c<L.length;c++)(n=L[c])(I);for(w[a]=I,l.hot.active=!1,delete R[a],delete m[a],c=0;c<l.children.length;c++){var M=R[l.children[c]];M&&((T=M.parents.indexOf(a))>=0&&M.parents.splice(T,1))}}var F,U;for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)&&(l=R[a]))for(U=m[a],c=0;c<U.length;c++)F=U[c],(T=l.children.indexOf(F))>=0&&l.children.splice(T,1);d("apply"),b=y;for(a in _)Object.prototype.hasOwnProperty.call(_,a)&&(e[a]=_[a]);var H=null;for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)&&(l=R[a])){U=m[a];var C=[];for(i=0;i<U.length;i++)if(F=U[i],n=l.hot._acceptedDependencies[F]){if(C.indexOf(n)>=0)continue;C.push(n)}for(i=0;i<C.length;i++){n=C[i];try{n(U)}catch(e){s.onErrored&&s.onErrored({type:"accept-errored",moduleId:a,dependencyId:U[i],error:e}),s.ignoreErrored||H||(H=e)}}}for(i=0;i<k.length;i++){var N=k[i];a=N.module,x=[a];try{f(a)}catch(e){if("function"==typeof N.errorHandler)try{N.errorHandler(e)}catch(o){s.onErrored&&s.onErrored({type:"self-accept-error-handler-errored",moduleId:a,error:o,orginalError:e,originalError:e}),s.ignoreErrored||H||(H=o),H||(H=e)}else s.onErrored&&s.onErrored({type:"self-accept-errored",moduleId:a,error:e}),s.ignoreErrored||H||(H=e)}}return H?(d("fail"),Promise.reject(H)):(d("idle"),new Promise(function(e){e(j)}))}function f(o){if(R[o])return R[o].exports;var s=R[o]={i:o,l:!1,exports:{},hot:n(o),parents:(O=x,x=[],O),children:[]};return e[o].call(s.exports,s,s.exports,t(o)),s.l=!0,s.exports}var j=this.webpackHotUpdate;this.webpackHotUpdate=function(e,o){c(e,o),j&&j(e,o)};var _,p,h,y,v=!0,b="993306ed3d3875f056f9",g=1e4,w={},x=[],O=[],S=[],A="idle",P=0,E=0,k={},T={},D={},R={};f.m=e,f.c=R,f.d=function(e,o,s){f.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:s})},f.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(o,"a",o),o},f.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},f.p="http://localhost:8099/js/",f.h=function(){return b},t(18)(f.s=18)}({"./node_modules/core-js/es6/promise.js":function(e,o,s){s("./node_modules/core-js/modules/es6.object.to-string.js"),s("./node_modules/core-js/modules/es6.string.iterator.js"),s("./node_modules/core-js/modules/web.dom.iterable.js"),s("./node_modules/core-js/modules/es6.promise.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Promise},"./node_modules/core-js/fn/array/find.js":function(e,o,s){s("./node_modules/core-js/modules/es6.array.find.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Array.find},"./node_modules/core-js/fn/array/from.js":function(e,o,s){s("./node_modules/core-js/modules/es6.string.iterator.js"),s("./node_modules/core-js/modules/es6.array.from.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Array.from},"./node_modules/core-js/fn/array/includes.js":function(e,o,s){s("./node_modules/core-js/modules/es7.array.includes.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Array.includes},"./node_modules/core-js/fn/object/assign.js":function(e,o,s){s("./node_modules/core-js/modules/es6.object.assign.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Object.assign},"./node_modules/core-js/fn/object/entries.js":function(e,o,s){s("./node_modules/core-js/modules/es7.object.entries.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Object.entries},"./node_modules/core-js/fn/object/values.js":function(e,o,s){s("./node_modules/core-js/modules/es7.object.values.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Object.values},"./node_modules/core-js/fn/promise.js":function(e,o,s){s("./node_modules/core-js/modules/es6.object.to-string.js"),s("./node_modules/core-js/modules/es6.string.iterator.js"),s("./node_modules/core-js/modules/web.dom.iterable.js"),s("./node_modules/core-js/modules/es6.promise.js"),s("./node_modules/core-js/modules/es7.promise.finally.js"),s("./node_modules/core-js/modules/es7.promise.try.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Promise},"./node_modules/core-js/fn/string/ends-with.js":function(e,o,s){s("./node_modules/core-js/modules/es6.string.ends-with.js"),e.exports=s("./node_modules/core-js/modules/_core.js").String.endsWith},"./node_modules/core-js/fn/string/includes.js":function(e,o,s){s("./node_modules/core-js/modules/es6.string.includes.js"),e.exports=s("./node_modules/core-js/modules/_core.js").String.includes},"./node_modules/core-js/fn/string/starts-with.js":function(e,o,s){s("./node_modules/core-js/modules/es6.string.starts-with.js"),e.exports=s("./node_modules/core-js/modules/_core.js").String.startsWith},"./node_modules/core-js/modules/_a-function.js":function(e,o){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/modules/_add-to-unscopables.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_wks.js")("unscopables"),t=Array.prototype;void 0==t[r]&&s("./node_modules/core-js/modules/_hide.js")(t,r,{}),e.exports=function(e){t[r][e]=!0}},"./node_modules/core-js/modules/_an-instance.js":function(e,o){e.exports=function(e,o,s,r){if(!(e instanceof o)||void 0!==r&&r in e)throw TypeError(s+": incorrect invocation!");return e}},"./node_modules/core-js/modules/_an-object.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/modules/_array-includes.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_to-iobject.js"),t=s("./node_modules/core-js/modules/_to-length.js"),n=s("./node_modules/core-js/modules/_to-absolute-index.js");e.exports=function(e){return function(o,s,d){var u,i=r(o),c=t(i.length),l=n(d,c);if(e&&s!=s){for(;c>l;)if((u=i[l++])!=u)return!0}else for(;c>l;l++)if((e||l in i)&&i[l]===s)return e||l||0;return!e&&-1}}},"./node_modules/core-js/modules/_array-methods.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_ctx.js"),t=s("./node_modules/core-js/modules/_iobject.js"),n=s("./node_modules/core-js/modules/_to-object.js"),d=s("./node_modules/core-js/modules/_to-length.js"),u=s("./node_modules/core-js/modules/_array-species-create.js");e.exports=function(e,o){var s=1==e,i=2==e,c=3==e,l=4==e,a=6==e,m=5==e||a,f=o||u;return function(o,u,j){for(var _,p,h=n(o),y=t(h),v=r(u,j,3),b=d(y.length),g=0,w=s?f(o,b):i?f(o,0):void 0;b>g;g++)if((m||g in y)&&(_=y[g],p=v(_,g,h),e))if(s)w[g]=p;else if(p)switch(e){case 3:return!0;case 5:return _;case 6:return g;case 2:w.push(_)}else if(l)return!1;return a?-1:c||l?l:w}}},"./node_modules/core-js/modules/_array-species-constructor.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js"),t=s("./node_modules/core-js/modules/_is-array.js"),n=s("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var o;return t(e)&&(o=e.constructor,"function"!=typeof o||o!==Array&&!t(o.prototype)||(o=void 0),r(o)&&null===(o=o[n])&&(o=void 0)),void 0===o?Array:o}},"./node_modules/core-js/modules/_array-species-create.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_array-species-constructor.js");e.exports=function(e,o){return new(r(e))(o)}},"./node_modules/core-js/modules/_classof.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_cof.js"),t=s("./node_modules/core-js/modules/_wks.js")("toStringTag"),n="Arguments"==r(function(){return arguments}()),d=function(e,o){try{return e[o]}catch(e){}};e.exports=function(e){var o,s,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=d(o=Object(e),t))?s:n?r(o):"Object"==(u=r(o))&&"function"==typeof o.callee?"Arguments":u}},"./node_modules/core-js/modules/_cof.js":function(e,o){var s={}.toString;e.exports=function(e){return s.call(e).slice(8,-1)}},"./node_modules/core-js/modules/_core.js":function(e,o){var s=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=s)},"./node_modules/core-js/modules/_create-property.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_object-dp.js"),t=s("./node_modules/core-js/modules/_property-desc.js");e.exports=function(e,o,s){o in e?r.f(e,o,t(0,s)):e[o]=s}},"./node_modules/core-js/modules/_ctx.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_a-function.js");e.exports=function(e,o,s){if(r(e),void 0===o)return e;switch(s){case 1:return function(s){return e.call(o,s)};case 2:return function(s,r){return e.call(o,s,r)};case 3:return function(s,r,t){return e.call(o,s,r,t)}}return function(){return e.apply(o,arguments)}}},"./node_modules/core-js/modules/_defined.js":function(e,o){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/modules/_descriptors.js":function(e,o,s){e.exports=!s("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_dom-create.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js"),t=s("./node_modules/core-js/modules/_global.js").document,n=r(t)&&r(t.createElement);e.exports=function(e){return n?t.createElement(e):{}}},"./node_modules/core-js/modules/_enum-bug-keys.js":function(e,o){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/modules/_export.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js"),t=s("./node_modules/core-js/modules/_core.js"),n=s("./node_modules/core-js/modules/_hide.js"),d=s("./node_modules/core-js/modules/_redefine.js"),u=s("./node_modules/core-js/modules/_ctx.js"),i="prototype",c=function(e,o,s){var l,a,m,f,j=e&c.F,_=e&c.G,p=e&c.S,h=e&c.P,y=e&c.B,v=_?r:p?r[o]||(r[o]={}):(r[o]||{})[i],b=_?t:t[o]||(t[o]={}),g=b[i]||(b[i]={});_&&(s=o);for(l in s)a=!j&&v&&void 0!==v[l],m=(a?v:s)[l],f=y&&a?u(m,r):h&&"function"==typeof m?u(Function.call,m):m,v&&d(v,l,m,e&c.U),b[l]!=m&&n(b,l,f),h&&g[l]!=m&&(g[l]=m)};r.core=t,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"./node_modules/core-js/modules/_fails-is-regexp.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var o=/./;try{"/./"[e](o)}catch(s){try{return o[r]=!1,!"/./"[e](o)}catch(e){}}return!0}},"./node_modules/core-js/modules/_fails.js":function(e,o){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/modules/_for-of.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_ctx.js"),t=s("./node_modules/core-js/modules/_iter-call.js"),n=s("./node_modules/core-js/modules/_is-array-iter.js"),d=s("./node_modules/core-js/modules/_an-object.js"),u=s("./node_modules/core-js/modules/_to-length.js"),i=s("./node_modules/core-js/modules/core.get-iterator-method.js"),c={},l={},o=e.exports=function(e,o,s,a,m){var f,j,_,p,h=m?function(){return e}:i(e),y=r(s,a,o?2:1),v=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(n(h)){for(f=u(e.length);f>v;v++)if((p=o?y(d(j=e[v])[0],j[1]):y(e[v]))===c||p===l)return p}else for(_=h.call(e);!(j=_.next()).done;)if((p=t(_,y,j.value,o))===c||p===l)return p};o.BREAK=c,o.RETURN=l},"./node_modules/core-js/modules/_global.js":function(e,o){var s=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},"./node_modules/core-js/modules/_has.js":function(e,o){var s={}.hasOwnProperty;e.exports=function(e,o){return s.call(e,o)}},"./node_modules/core-js/modules/_hide.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-dp.js"),t=s("./node_modules/core-js/modules/_property-desc.js");e.exports=s("./node_modules/core-js/modules/_descriptors.js")?function(e,o,s){return r.f(e,o,t(1,s))}:function(e,o,s){return e[o]=s,e}},"./node_modules/core-js/modules/_html.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js").document;e.exports=r&&r.documentElement},"./node_modules/core-js/modules/_ie8-dom-define.js":function(e,o,s){e.exports=!s("./node_modules/core-js/modules/_descriptors.js")&&!s("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty(s("./node_modules/core-js/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_invoke.js":function(e,o){e.exports=function(e,o,s){var r=void 0===s;switch(o.length){case 0:return r?e():e.call(s);case 1:return r?e(o[0]):e.call(s,o[0]);case 2:return r?e(o[0],o[1]):e.call(s,o[0],o[1]);case 3:return r?e(o[0],o[1],o[2]):e.call(s,o[0],o[1],o[2]);case 4:return r?e(o[0],o[1],o[2],o[3]):e.call(s,o[0],o[1],o[2],o[3])}return e.apply(s,o)}},"./node_modules/core-js/modules/_iobject.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"./node_modules/core-js/modules/_is-array-iter.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_iterators.js"),t=s("./node_modules/core-js/modules/_wks.js")("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||n[t]===e)}},"./node_modules/core-js/modules/_is-array.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_cof.js");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"./node_modules/core-js/modules/_is-object.js":function(e,o){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/modules/_is-regexp.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js"),t=s("./node_modules/core-js/modules/_cof.js"),n=s("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var o;return r(e)&&(void 0!==(o=e[n])?!!o:"RegExp"==t(e))}},"./node_modules/core-js/modules/_iter-call.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js");e.exports=function(e,o,s,t){try{return t?o(r(s)[0],s[1]):o(s)}catch(o){var n=e.return;throw void 0!==n&&r(n.call(e)),o}}},"./node_modules/core-js/modules/_iter-create.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_object-create.js"),t=s("./node_modules/core-js/modules/_property-desc.js"),n=s("./node_modules/core-js/modules/_set-to-string-tag.js"),d={};s("./node_modules/core-js/modules/_hide.js")(d,s("./node_modules/core-js/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,o,s){e.prototype=r(d,{next:t(1,s)}),n(e,o+" Iterator")}},"./node_modules/core-js/modules/_iter-define.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_library.js"),t=s("./node_modules/core-js/modules/_export.js"),n=s("./node_modules/core-js/modules/_redefine.js"),d=s("./node_modules/core-js/modules/_hide.js"),u=s("./node_modules/core-js/modules/_has.js"),i=s("./node_modules/core-js/modules/_iterators.js"),c=s("./node_modules/core-js/modules/_iter-create.js"),l=s("./node_modules/core-js/modules/_set-to-string-tag.js"),a=s("./node_modules/core-js/modules/_object-gpo.js"),m=s("./node_modules/core-js/modules/_wks.js")("iterator"),f=!([].keys&&"next"in[].keys()),j="keys",_="values",p=function(){return this};e.exports=function(e,o,s,h,y,v,b){c(s,o,h);var g,w,x,O=function(e){if(!f&&e in E)return E[e];switch(e){case j:case _:return function(){return new s(this,e)}}return function(){return new s(this,e)}},S=o+" Iterator",A=y==_,P=!1,E=e.prototype,k=E[m]||E["@@iterator"]||y&&E[y],T=k||O(y),D=y?A?O("entries"):T:void 0,R="Array"==o?E.entries||k:k;if(R&&(x=a(R.call(new e)))!==Object.prototype&&x.next&&(l(x,S,!0),r||u(x,m)||d(x,m,p)),A&&k&&k.name!==_&&(P=!0,T=function(){return k.call(this)}),r&&!b||!f&&!P&&E[m]||d(E,m,T),i[o]=T,i[S]=p,y)if(g={values:A?T:O(_),keys:v?T:O(j),entries:D},b)for(w in g)w in E||n(E,w,g[w]);else t(t.P+t.F*(f||P),o,g);return g}},"./node_modules/core-js/modules/_iter-detect.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_wks.js")("iterator"),t=!1;try{var n=[7][r]();n.return=function(){t=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,o){if(!o&&!t)return!1;var s=!1;try{var n=[7],d=n[r]();d.next=function(){return{done:s=!0}},n[r]=function(){return d},e(n)}catch(e){}return s}},"./node_modules/core-js/modules/_iter-step.js":function(e,o){e.exports=function(e,o){return{value:o,done:!!e}}},"./node_modules/core-js/modules/_iterators.js":function(e,o){e.exports={}},"./node_modules/core-js/modules/_library.js":function(e,o){e.exports=!1},"./node_modules/core-js/modules/_microtask.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js"),t=s("./node_modules/core-js/modules/_task.js").set,n=r.MutationObserver||r.WebKitMutationObserver,d=r.process,u=r.Promise,i="process"==s("./node_modules/core-js/modules/_cof.js")(d);e.exports=function(){var e,o,s,c=function(){var r,t;for(i&&(r=d.domain)&&r.exit();e;){t=e.fn,e=e.next;try{t()}catch(r){throw e?s():o=void 0,r}}o=void 0,r&&r.enter()};if(i)s=function(){d.nextTick(c)};else if(n){var l=!0,a=document.createTextNode("");new n(c).observe(a,{characterData:!0}),s=function(){a.data=l=!l}}else if(u&&u.resolve){var m=u.resolve();s=function(){m.then(c)}}else s=function(){t.call(r,c)};return function(r){var t={fn:r,next:void 0};o&&(o.next=t),e||(e=t,s()),o=t}}},"./node_modules/core-js/modules/_new-promise-capability.js":function(e,o,s){"use strict";function r(e){var o,s;this.promise=new e(function(e,r){if(void 0!==o||void 0!==s)throw TypeError("Bad Promise constructor");o=e,s=r}),this.resolve=t(o),this.reject=t(s)}var t=s("./node_modules/core-js/modules/_a-function.js");e.exports.f=function(e){return new r(e)}},"./node_modules/core-js/modules/_object-assign.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_object-keys.js"),t=s("./node_modules/core-js/modules/_object-gops.js"),n=s("./node_modules/core-js/modules/_object-pie.js"),d=s("./node_modules/core-js/modules/_to-object.js"),u=s("./node_modules/core-js/modules/_iobject.js"),i=Object.assign;e.exports=!i||s("./node_modules/core-js/modules/_fails.js")(function(){var e={},o={},s=Symbol(),r="abcdefghijklmnopqrst";return e[s]=7,r.split("").forEach(function(e){o[e]=e}),7!=i({},e)[s]||Object.keys(i({},o)).join("")!=r})?function(e,o){for(var s=d(e),i=arguments.length,c=1,l=t.f,a=n.f;i>c;)for(var m,f=u(arguments[c++]),j=l?r(f).concat(l(f)):r(f),_=j.length,p=0;_>p;)a.call(f,m=j[p++])&&(s[m]=f[m]);return s}:i},"./node_modules/core-js/modules/_object-create.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js"),t=s("./node_modules/core-js/modules/_object-dps.js"),n=s("./node_modules/core-js/modules/_enum-bug-keys.js"),d=s("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),u=function(){},i="prototype",c=function(){var e,o=s("./node_modules/core-js/modules/_dom-create.js")("iframe"),r=n.length,t="<",d=">";for(o.style.display="none",s("./node_modules/core-js/modules/_html.js").appendChild(o),o.src="javascript:",e=o.contentWindow.document,e.open(),e.write(t+"script"+d+"document.F=Object"+t+"/script"+d),e.close(),c=e.F;r--;)delete c[i][n[r]];return c()};e.exports=Object.create||function(e,o){var s;return null!==e?(u[i]=r(e),s=new u,u[i]=null,s[d]=e):s=c(),void 0===o?s:t(s,o)}},"./node_modules/core-js/modules/_object-dp.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js"),t=s("./node_modules/core-js/modules/_ie8-dom-define.js"),n=s("./node_modules/core-js/modules/_to-primitive.js"),d=Object.defineProperty;o.f=s("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperty:function(e,o,s){if(r(e),o=n(o,!0),r(s),t)try{return d(e,o,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[o]=s.value),e}},"./node_modules/core-js/modules/_object-dps.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-dp.js"),t=s("./node_modules/core-js/modules/_an-object.js"),n=s("./node_modules/core-js/modules/_object-keys.js");e.exports=s("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperties:function(e,o){t(e);for(var s,d=n(o),u=d.length,i=0;u>i;)r.f(e,s=d[i++],o[s]);return e}},"./node_modules/core-js/modules/_object-gops.js":function(e,o){o.f=Object.getOwnPropertySymbols},"./node_modules/core-js/modules/_object-gpo.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_has.js"),t=s("./node_modules/core-js/modules/_to-object.js"),n=s("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),d=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=t(e),r(e,n)?e[n]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?d:null}},"./node_modules/core-js/modules/_object-keys-internal.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_has.js"),t=s("./node_modules/core-js/modules/_to-iobject.js"),n=s("./node_modules/core-js/modules/_array-includes.js")(!1),d=s("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,o){var s,u=t(e),i=0,c=[];for(s in u)s!=d&&r(u,s)&&c.push(s);for(;o.length>i;)r(u,s=o[i++])&&(~n(c,s)||c.push(s));return c}},"./node_modules/core-js/modules/_object-keys.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-keys-internal.js"),t=s("./node_modules/core-js/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,t)}},"./node_modules/core-js/modules/_object-pie.js":function(e,o){o.f={}.propertyIsEnumerable},"./node_modules/core-js/modules/_object-to-array.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-keys.js"),t=s("./node_modules/core-js/modules/_to-iobject.js"),n=s("./node_modules/core-js/modules/_object-pie.js").f;e.exports=function(e){return function(o){for(var s,d=t(o),u=r(d),i=u.length,c=0,l=[];i>c;)n.call(d,s=u[c++])&&l.push(e?[s,d[s]]:d[s]);return l}}},"./node_modules/core-js/modules/_perform.js":function(e,o){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},"./node_modules/core-js/modules/_promise-resolve.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js"),t=s("./node_modules/core-js/modules/_is-object.js"),n=s("./node_modules/core-js/modules/_new-promise-capability.js");e.exports=function(e,o){if(r(e),t(o)&&o.constructor===e)return o;var s=n.f(e);return(0,s.resolve)(o),s.promise}},"./node_modules/core-js/modules/_property-desc.js":function(e,o){e.exports=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}}},"./node_modules/core-js/modules/_redefine-all.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_redefine.js");e.exports=function(e,o,s){for(var t in o)r(e,t,o[t],s);return e}},"./node_modules/core-js/modules/_redefine.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js"),t=s("./node_modules/core-js/modules/_hide.js"),n=s("./node_modules/core-js/modules/_has.js"),d=s("./node_modules/core-js/modules/_uid.js")("src"),u="toString",i=Function[u],c=(""+i).split(u);s("./node_modules/core-js/modules/_core.js").inspectSource=function(e){return i.call(e)},(e.exports=function(e,o,s,u){var i="function"==typeof s;i&&(n(s,"name")||t(s,"name",o)),e[o]!==s&&(i&&(n(s,d)||t(s,d,e[o]?""+e[o]:c.join(String(o)))),e===r?e[o]=s:u?e[o]?e[o]=s:t(e,o,s):(delete e[o],t(e,o,s)))})(Function.prototype,u,function(){return"function"==typeof this&&this[d]||i.call(this)})},"./node_modules/core-js/modules/_set-species.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_global.js"),t=s("./node_modules/core-js/modules/_object-dp.js"),n=s("./node_modules/core-js/modules/_descriptors.js"),d=s("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var o=r[e];n&&o&&!o[d]&&t.f(o,d,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/modules/_set-to-string-tag.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-dp.js").f,t=s("./node_modules/core-js/modules/_has.js"),n=s("./node_modules/core-js/modules/_wks.js")("toStringTag");e.exports=function(e,o,s){e&&!t(e=s?e:e.prototype,n)&&r(e,n,{configurable:!0,value:o})}},"./node_modules/core-js/modules/_shared-key.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_shared.js")("keys"),t=s("./node_modules/core-js/modules/_uid.js");e.exports=function(e){return r[e]||(r[e]=t(e))}},"./node_modules/core-js/modules/_shared.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js"),t="__core-js_shared__",n=r[t]||(r[t]={});e.exports=function(e){return n[e]||(n[e]={})}},"./node_modules/core-js/modules/_species-constructor.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js"),t=s("./node_modules/core-js/modules/_a-function.js"),n=s("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e,o){var s,d=r(e).constructor;return void 0===d||void 0==(s=r(d)[n])?o:t(s)}},"./node_modules/core-js/modules/_string-at.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_to-integer.js"),t=s("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return function(o,s){var n,d,u=String(t(o)),i=r(s),c=u.length;return i<0||i>=c?e?"":void 0:(n=u.charCodeAt(i),n<55296||n>56319||i+1===c||(d=u.charCodeAt(i+1))<56320||d>57343?e?u.charAt(i):n:e?u.slice(i,i+2):d-56320+(n-55296<<10)+65536)}}},"./node_modules/core-js/modules/_string-context.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-regexp.js"),t=s("./node_modules/core-js/modules/_defined.js");e.exports=function(e,o,s){if(r(o))throw TypeError("String#"+s+" doesn't accept regex!");return String(t(e))}},"./node_modules/core-js/modules/_task.js":function(e,o,s){var r,t,n,d=s("./node_modules/core-js/modules/_ctx.js"),u=s("./node_modules/core-js/modules/_invoke.js"),i=s("./node_modules/core-js/modules/_html.js"),c=s("./node_modules/core-js/modules/_dom-create.js"),l=s("./node_modules/core-js/modules/_global.js"),a=l.process,m=l.setImmediate,f=l.clearImmediate,j=l.MessageChannel,_=l.Dispatch,p=0,h={},y="onreadystatechange",v=function(){var e=+this;if(h.hasOwnProperty(e)){var o=h[e];delete h[e],o()}},b=function(e){v.call(e.data)};m&&f||(m=function(e){for(var o=[],s=1;arguments.length>s;)o.push(arguments[s++]);return h[++p]=function(){u("function"==typeof e?e:Function(e),o)},r(p),p},f=function(e){delete h[e]},"process"==s("./node_modules/core-js/modules/_cof.js")(a)?r=function(e){a.nextTick(d(v,e,1))}:_&&_.now?r=function(e){_.now(d(v,e,1))}:j?(t=new j,n=t.port2,t.port1.onmessage=b,r=d(n.postMessage,n,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=y in c("script")?function(e){i.appendChild(c("script"))[y]=function(){i.removeChild(this),v.call(e)}}:function(e){setTimeout(d(v,e,1),0)}),e.exports={set:m,clear:f}},"./node_modules/core-js/modules/_to-absolute-index.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_to-integer.js"),t=Math.max,n=Math.min;e.exports=function(e,o){return e=r(e),e<0?t(e+o,0):n(e,o)}},"./node_modules/core-js/modules/_to-integer.js":function(e,o){var s=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:s)(e)}},"./node_modules/core-js/modules/_to-iobject.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_iobject.js"),t=s("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return r(t(e))}},"./node_modules/core-js/modules/_to-length.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_to-integer.js"),t=Math.min;e.exports=function(e){return e>0?t(r(e),9007199254740991):0}},"./node_modules/core-js/modules/_to-object.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return Object(r(e))}},"./node_modules/core-js/modules/_to-primitive.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js");e.exports=function(e,o){if(!r(e))return e;var s,t;if(o&&"function"==typeof(s=e.toString)&&!r(t=s.call(e)))return t;if("function"==typeof(s=e.valueOf)&&!r(t=s.call(e)))return t;if(!o&&"function"==typeof(s=e.toString)&&!r(t=s.call(e)))return t;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/modules/_uid.js":function(e,o){var s=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++s+r).toString(36))}},"./node_modules/core-js/modules/_wks.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_shared.js")("wks"),t=s("./node_modules/core-js/modules/_uid.js"),n=s("./node_modules/core-js/modules/_global.js").Symbol,d="function"==typeof n;(e.exports=function(e){return r[e]||(r[e]=d&&n[e]||(d?n:t)("Symbol."+e))}).store=r},"./node_modules/core-js/modules/core.get-iterator-method.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_classof.js"),t=s("./node_modules/core-js/modules/_wks.js")("iterator"),n=s("./node_modules/core-js/modules/_iterators.js");e.exports=s("./node_modules/core-js/modules/_core.js").getIteratorMethod=function(e){if(void 0!=e)return e[t]||e["@@iterator"]||n[r(e)]}},"./node_modules/core-js/modules/es6.array.find.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_array-methods.js")(5),n="find",d=!0;n in[]&&Array(1)[n](function(){d=!1}),r(r.P+r.F*d,"Array",{find:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),s("./node_modules/core-js/modules/_add-to-unscopables.js")(n)},"./node_modules/core-js/modules/es6.array.from.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_ctx.js"),t=s("./node_modules/core-js/modules/_export.js"),n=s("./node_modules/core-js/modules/_to-object.js"),d=s("./node_modules/core-js/modules/_iter-call.js"),u=s("./node_modules/core-js/modules/_is-array-iter.js"),i=s("./node_modules/core-js/modules/_to-length.js"),c=s("./node_modules/core-js/modules/_create-property.js"),l=s("./node_modules/core-js/modules/core.get-iterator-method.js");t(t.S+t.F*!s("./node_modules/core-js/modules/_iter-detect.js")(function(e){Array.from(e)}),"Array",{from:function(e){var o,s,t,a,m=n(e),f="function"==typeof this?this:Array,j=arguments.length,_=j>1?arguments[1]:void 0,p=void 0!==_,h=0,y=l(m);if(p&&(_=r(_,j>2?arguments[2]:void 0,2)),void 0==y||f==Array&&u(y))for(o=i(m.length),s=new f(o);o>h;h++)c(s,h,p?_(m[h],h):m[h]);else for(a=y.call(m),s=new f;!(t=a.next()).done;h++)c(s,h,p?d(a,_,[t.value,h],!0):t.value);return s.length=h,s}})},"./node_modules/core-js/modules/es6.array.iterator.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_add-to-unscopables.js"),t=s("./node_modules/core-js/modules/_iter-step.js"),n=s("./node_modules/core-js/modules/_iterators.js"),d=s("./node_modules/core-js/modules/_to-iobject.js");e.exports=s("./node_modules/core-js/modules/_iter-define.js")(Array,"Array",function(e,o){this._t=d(e),this._i=0,this._k=o},function(){var e=this._t,o=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,t(1)):"keys"==o?t(0,s):"values"==o?t(0,e[s]):t(0,[s,e[s]])},"values"),n.Arguments=n.Array,r("keys"),r("values"),r("entries")},"./node_modules/core-js/modules/es6.object.assign.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_export.js");r(r.S+r.F,"Object",{assign:s("./node_modules/core-js/modules/_object-assign.js")})},"./node_modules/core-js/modules/es6.object.to-string.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_classof.js"),t={};t[s("./node_modules/core-js/modules/_wks.js")("toStringTag")]="z",t+""!="[object z]"&&s("./node_modules/core-js/modules/_redefine.js")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},"./node_modules/core-js/modules/es6.promise.js":function(e,o,s){"use strict";var r,t,n,d,u=s("./node_modules/core-js/modules/_library.js"),i=s("./node_modules/core-js/modules/_global.js"),c=s("./node_modules/core-js/modules/_ctx.js"),l=s("./node_modules/core-js/modules/_classof.js"),a=s("./node_modules/core-js/modules/_export.js"),m=s("./node_modules/core-js/modules/_is-object.js"),f=s("./node_modules/core-js/modules/_a-function.js"),j=s("./node_modules/core-js/modules/_an-instance.js"),_=s("./node_modules/core-js/modules/_for-of.js"),p=s("./node_modules/core-js/modules/_species-constructor.js"),h=s("./node_modules/core-js/modules/_task.js").set,y=s("./node_modules/core-js/modules/_microtask.js")(),v=s("./node_modules/core-js/modules/_new-promise-capability.js"),b=s("./node_modules/core-js/modules/_perform.js"),g=s("./node_modules/core-js/modules/_promise-resolve.js"),w="Promise",x=i.TypeError,O=i.process,S=i[w],A="process"==l(O),P=function(){},E=t=v.f,k=!!function(){try{var e=S.resolve(1),o=(e.constructor={})[s("./node_modules/core-js/modules/_wks.js")("species")]=function(e){e(P,P)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof o}catch(e){}}(),T=function(e){var o;return!(!m(e)||"function"!=typeof(o=e.then))&&o},D=function(e,o){if(!e._n){e._n=!0;var s=e._c;y(function(){for(var r=e._v,t=1==e._s,n=0,d=function(o){var s,n,d=t?o.ok:o.fail,u=o.resolve,i=o.reject,c=o.domain;try{d?(t||(2==e._h&&I(e),e._h=1),!0===d?s=r:(c&&c.enter(),s=d(r),c&&c.exit()),s===o.promise?i(x("Promise-chain cycle")):(n=T(s))?n.call(s,u,i):u(s)):i(r)}catch(e){i(e)}};s.length>n;)d(s[n++]);e._c=[],e._n=!1,o&&!e._h&&R(e)})}},R=function(e){h.call(i,function(){var o,s,r,t=e._v,n=B(e);if(n&&(o=b(function(){A?O.emit("unhandledRejection",t,e):(s=i.onunhandledrejection)?s({promise:e,reason:t}):(r=i.console)&&r.error&&r.error("Unhandled promise rejection",t)}),e._h=A||B(e)?2:1),e._a=void 0,n&&o.e)throw o.v})},B=function(e){if(1==e._h)return!1;for(var o,s=e._a||e._c,r=0;s.length>r;)if(o=s[r++],o.fail||!B(o.promise))return!1;return!0},I=function(e){h.call(i,function(){var o;A?O.emit("rejectionHandled",e):(o=i.onrejectionhandled)&&o({promise:e,reason:e._v})})},L=function(e){var o=this;o._d||(o._d=!0,o=o._w||o,o._v=e,o._s=2,o._a||(o._a=o._c.slice()),D(o,!0))},M=function(e){var o,s=this;if(!s._d){s._d=!0,s=s._w||s;try{if(s===e)throw x("Promise can't be resolved itself");(o=T(e))?y(function(){var r={_w:s,_d:!1};try{o.call(e,c(M,r,1),c(L,r,1))}catch(e){L.call(r,e)}}):(s._v=e,s._s=1,D(s,!1))}catch(e){L.call({_w:s,_d:!1},e)}}};k||(S=function(e){j(this,S,w,"_h"),f(e),r.call(this);try{e(c(M,this,1),c(L,this,1))}catch(e){L.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=s("./node_modules/core-js/modules/_redefine-all.js")(S.prototype,{then:function(e,o){var s=E(p(this,S));return s.ok="function"!=typeof e||e,s.fail="function"==typeof o&&o,s.domain=A?O.domain:void 0,this._c.push(s),this._a&&this._a.push(s),this._s&&D(this,!1),s.promise},catch:function(e){return this.then(void 0,e)}}),n=function(){var e=new r;this.promise=e,this.resolve=c(M,e,1),this.reject=c(L,e,1)},v.f=E=function(e){return e===S||e===d?new n(e):t(e)}),a(a.G+a.W+a.F*!k,{Promise:S}),s("./node_modules/core-js/modules/_set-to-string-tag.js")(S,w),s("./node_modules/core-js/modules/_set-species.js")(w),d=s("./node_modules/core-js/modules/_core.js")[w],a(a.S+a.F*!k,w,{reject:function(e){var o=E(this);return(0,o.reject)(e),o.promise}}),a(a.S+a.F*(u||!k),w,{resolve:function(e){return g(u&&this===d?S:this,e)}}),a(a.S+a.F*!(k&&s("./node_modules/core-js/modules/_iter-detect.js")(function(e){S.all(e).catch(P)})),w,{all:function(e){var o=this,s=E(o),r=s.resolve,t=s.reject,n=b(function(){var s=[],n=0,d=1;_(e,!1,function(e){var u=n++,i=!1;s.push(void 0),d++,o.resolve(e).then(function(e){i||(i=!0,s[u]=e,--d||r(s))},t)}),--d||r(s)});return n.e&&t(n.v),s.promise},race:function(e){var o=this,s=E(o),r=s.reject,t=b(function(){_(e,!1,function(e){o.resolve(e).then(s.resolve,r)})});return t.e&&r(t.v),s.promise}})},"./node_modules/core-js/modules/es6.string.ends-with.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_to-length.js"),n=s("./node_modules/core-js/modules/_string-context.js"),d="endsWith",u=""[d];r(r.P+r.F*s("./node_modules/core-js/modules/_fails-is-regexp.js")(d),"String",{endsWith:function(e){var o=n(this,e,d),s=arguments.length>1?arguments[1]:void 0,r=t(o.length),i=void 0===s?r:Math.min(t(s),r),c=String(e);return u?u.call(o,c,i):o.slice(i-c.length,i)===c}})},"./node_modules/core-js/modules/es6.string.includes.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_string-context.js"),n="includes";r(r.P+r.F*s("./node_modules/core-js/modules/_fails-is-regexp.js")(n),"String",{includes:function(e){return!!~t(this,e,n).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es6.string.iterator.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_string-at.js")(!0);s("./node_modules/core-js/modules/_iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,o=this._t,s=this._i;return s>=o.length?{value:void 0,done:!0}:(e=r(o,s),this._i+=e.length,{value:e,done:!1})})},"./node_modules/core-js/modules/es6.string.starts-with.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_to-length.js"),n=s("./node_modules/core-js/modules/_string-context.js"),d="startsWith",u=""[d];r(r.P+r.F*s("./node_modules/core-js/modules/_fails-is-regexp.js")(d),"String",{startsWith:function(e){var o=n(this,e,d),s=t(Math.min(arguments.length>1?arguments[1]:void 0,o.length)),r=String(e);return u?u.call(o,r,s):o.slice(s,s+r.length)===r}})},"./node_modules/core-js/modules/es7.array.includes.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_array-includes.js")(!0);r(r.P,"Array",{includes:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),s("./node_modules/core-js/modules/_add-to-unscopables.js")("includes")},"./node_modules/core-js/modules/es7.object.entries.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_object-to-array.js")(!0);r(r.S,"Object",{entries:function(e){return t(e)}})},"./node_modules/core-js/modules/es7.object.values.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_object-to-array.js")(!1);r(r.S,"Object",{values:function(e){return t(e)}})},"./node_modules/core-js/modules/es7.promise.finally.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_core.js"),n=s("./node_modules/core-js/modules/_global.js"),d=s("./node_modules/core-js/modules/_species-constructor.js"),u=s("./node_modules/core-js/modules/_promise-resolve.js");r(r.P+r.R,"Promise",{finally:function(e){var o=d(this,t.Promise||n.Promise),s="function"==typeof e;return this.then(s?function(s){return u(o,e()).then(function(){return s})}:e,s?function(s){return u(o,e()).then(function(){throw s})}:e)}})},"./node_modules/core-js/modules/es7.promise.try.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_new-promise-capability.js"),n=s("./node_modules/core-js/modules/_perform.js");r(r.S,"Promise",{try:function(e){var o=t.f(this),s=n(e);return(s.e?o.reject:o.resolve)(s.v),o.promise}})},"./node_modules/core-js/modules/web.dom.iterable.js":function(e,o,s){for(var r=s("./node_modules/core-js/modules/es6.array.iterator.js"),t=s("./node_modules/core-js/modules/_object-keys.js"),n=s("./node_modules/core-js/modules/_redefine.js"),d=s("./node_modules/core-js/modules/_global.js"),u=s("./node_modules/core-js/modules/_hide.js"),i=s("./node_modules/core-js/modules/_iterators.js"),c=s("./node_modules/core-js/modules/_wks.js"),l=c("iterator"),a=c("toStringTag"),m=i.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},j=t(f),_=0;_<j.length;_++){var p,h=j[_],y=f[h],v=d[h],b=v&&v.prototype;if(b&&(b[l]||u(b,l,m),b[a]||u(b,a,h),i[h]=m,y))for(p in r)b[p]||n(b,p,r[p],!0)}},"./node_modules/whatwg-fetch/fetch.js":function(e,o){!function(e){"use strict";function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var o={next:function(){var o=e.shift();return{done:void 0===o,value:o}}};return h.iterable&&(o[Symbol.iterator]=function(){return o}),o}function t(e){this.map={},e instanceof t?e.forEach(function(e,o){this.append(o,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(o){this.append(o,e[o])},this)}function n(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(o,s){e.onload=function(){o(e.result)},e.onerror=function(){s(e.error)}})}function u(e){var o=new FileReader,s=d(o);return o.readAsArrayBuffer(e),s}function i(e){var o=new FileReader,s=d(o);return o.readAsText(e),s}function c(e){for(var o=new Uint8Array(e),s=new Array(o.length),r=0;r<o.length;r++)s[r]=String.fromCharCode(o[r]);return s.join("")}function l(e){if(e.slice)return e.slice(0);var o=new Uint8Array(e.byteLength);return o.set(new Uint8Array(e)),o.buffer}function a(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(h.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(h.arrayBuffer&&h.blob&&v(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!h.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!b(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?n(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e){var o=e.toUpperCase();return g.indexOf(o)>-1?o:e}function f(e,o){o=o||{};var s=o.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,o.headers||(this.headers=new t(e.headers)),this.method=e.method,this.mode=e.mode,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=o.credentials||this.credentials||"omit",!o.headers&&this.headers||(this.headers=new t(o.headers)),this.method=m(o.method||this.method||"GET"),this.mode=o.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function j(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var s=e.split("="),r=s.shift().replace(/\+/g," "),t=s.join("=").replace(/\+/g," ");o.append(decodeURIComponent(r),decodeURIComponent(t))}}),o}function _(e){var o=new t;return e.split(/\r?\n/).forEach(function(e){var s=e.split(":"),r=s.shift().trim();if(r){var t=s.join(":").trim();o.append(r,t)}}),o}function p(e,o){o||(o={}),this.type="default",this.status="status"in o?o.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in o?o.statusText:"OK",this.headers=new t(o.headers),this.url=o.url||"",this._initBody(e)}if(!e.fetch){var h={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(h.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(e){return e&&DataView.prototype.isPrototypeOf(e)},b=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};t.prototype.append=function(e,r){e=o(e),r=s(r);var t=this.map[e];this.map[e]=t?t+","+r:r},t.prototype.delete=function(e){delete this.map[o(e)]},t.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},t.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},t.prototype.set=function(e,r){this.map[o(e)]=s(r)},t.prototype.forEach=function(e,o){for(var s in this.map)this.map.hasOwnProperty(s)&&e.call(o,this.map[s],s,this)},t.prototype.keys=function(){var e=[];return this.forEach(function(o,s){e.push(s)}),r(e)},t.prototype.values=function(){var e=[];return this.forEach(function(o){e.push(o)}),r(e)},t.prototype.entries=function(){var e=[];return this.forEach(function(o,s){e.push([s,o])}),r(e)},h.iterable&&(t.prototype[Symbol.iterator]=t.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},a.call(f.prototype),a.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new t(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];p.redirect=function(e,o){if(-1===w.indexOf(o))throw new RangeError("Invalid status code");return new p(null,{status:o,headers:{location:e}})},e.Headers=t,e.Request=f,e.Response=p,e.fetch=function(e,o){return new Promise(function(s,r){var t=new f(e,o),n=new XMLHttpRequest;n.onload=function(){var e={status:n.status,statusText:n.statusText,headers:_(n.getAllResponseHeaders()||"")};e.url="responseURL"in n?n.responseURL:e.headers.get("X-Request-URL");var o="response"in n?n.response:n.responseText;s(new p(o,e))},n.onerror=function(){r(new TypeError("Network request failed"))},n.ontimeout=function(){r(new TypeError("Network request failed"))},n.open(t.method,t.url,!0),"include"===t.credentials&&(n.withCredentials=!0),"responseType"in n&&h.blob&&(n.responseType="blob"),t.headers.forEach(function(e,o){n.setRequestHeader(o,e)}),n.send(void 0===t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},"./src/main/resources/js/polyfills.ts":function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=s("./node_modules/core-js/fn/array/includes.js"),t=(s.n(r),s("./node_modules/core-js/fn/array/find.js")),n=(s.n(t),s("./node_modules/core-js/fn/array/from.js")),d=(s.n(n),s("./node_modules/core-js/fn/object/assign.js")),u=(s.n(d),s("./node_modules/core-js/fn/object/values.js")),i=(s.n(u),s("./node_modules/core-js/fn/object/entries.js")),c=(s.n(i),s("./node_modules/core-js/fn/string/includes.js")),l=(s.n(c),s("./node_modules/core-js/fn/string/starts-with.js")),a=(s.n(l),s("./node_modules/core-js/fn/string/ends-with.js")),m=(s.n(a),s("./node_modules/core-js/es6/promise.js")),f=(s.n(m),s("./node_modules/core-js/fn/promise.js"));s.n(f)},"./src/main/resources/js/productDetection.js":function(e,o){!function(e){function o(){return"undefined"!=typeof bitbucket}function s(){return"undefined"!=typeof JIRA}function r(){return"undefined"!=typeof Confluence}function t(){return"undefined"!=typeof Bamboo}"undefined"==typeof ScriptRunner&&(window.ScriptRunner={});var n;s()?n="jira":r()?n="confluence":o()?n="bitbucket":t()&&(n="bamboo"),ScriptRunner.Product={isBitbucket:o,isConfluence:r,isJira:s,isBamboo:t,productName:n}}(AJS.$)},"./src/main/resources/js/web-response-renderer.js":function(e,o,s){s("./src/main/resources/js/productDetection.js"),function(e){e(function(){function o(o){AJS.$.ajax({type:"GET",dataType:"html",url:o.attr("href")}).done(function(o){AJS.dialog2(e(o)).show()}).fail(function(e,o,s){console.warn("Failed to execute remote:",s)})}function r(e){new Promise(function(e){e()}).then(function(){var o=[s("aui/flag")];(function(o){AJS.$.ajax({type:"GET",dataType:"json",url:e.attr("href")}).done(function(e){o(e)}).fail(function(e,o,s){console.warn("Failed to execute remote:",s)})}).apply(null,o)}).catch(s.oe)}function t(e,s){"RUN_CODE_SHOW_DIALOG"===e&&u(s,o),"RUN_CODE_SHOW_FLAG"===e&&u(s,r)}function n(){u(".sr-trigger-dialog",o),u(".sr-trigger-flag",r)}function d(){n(),e("aui-inline-dialog, aui-inline-dialog2").on("aui-show aui-layer-show",function(){n()})}function u(o,s){var r=e(document);r.off("click.sr-fragments",o).on("click.sr-fragments",o,i(s)),r.children().off("click.sr-fragments",o).on("click.sr-fragments",o,i(s))}function i(o){return function(s){s.preventDefault();var r=e(s.target),t=r.closest("[href]"),n=r.find("[href]").andSelf();return o(0!=t.length?t:n),!1}}function c(){return"jira"===ScriptRunner.Product.productName&&window.location.href.indexOf("/servicedesk/customer")<0}var l="com.onresolve."+ScriptRunner.Product.productName+".groovy.groovyrunner:web-item-response-renderer.web-item-actions-data-provider",a=WRM.data.claim(l),m=function(o,s,r){"panelRefreshed"!=r&&r||(c()&&void 0!==a?e.each(a,function(e,o){var s=o.id;t(o.action,s)}):d(),AJS.dialog2.off("show").on("show",function(o){if("sr-dialog"==o.target.id){var s=AJS.dialog2(o.target);e(o.target).find("#dialog-close-button").click(function(e){e.preventDefault(),s.hide(),s.remove()})}}))};e(document).bind("newContentAdded",m),m(null,e(document),null),window.location.href.indexOf("RapidBoard.jspa?")>-1&&e("#ghx-detail-issue").livequery(function(){m()})})}(AJS.$)},18:function(e,o,s){s("./src/main/resources/js/polyfills.ts"),s("./node_modules/whatwg-fetch/fetch.js"),e.exports=s("./src/main/resources/js/web-response-renderer.js")},"aui/flag":function(e,o){e.exports=require("aui/flag")}});;
;
/* module-key = 'com.onresolve.jira.groovy.groovyrunner:client-common-resource', location = 'js/client-common-resource.js.switchable' */
!function(e){function o(e){delete installedChunks[e]}function t(e){var o=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.src=_.p+""+e+"."+y+".hot-update.js",o.appendChild(t)}function n(e){return e=e||1e4,new Promise(function(o,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var n=new XMLHttpRequest,r=_.p+""+y+".hot-update.json";n.open("GET",r,!0),n.timeout=e,n.send(null)}catch(e){return t(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)t(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)o();else if(200!==n.status&&304!==n.status)t(new Error("Manifest request to "+r+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void t(e)}o(e)}}})}function r(e){var o=F[e];if(!o)return _;var t=function(t){return o.hot.active?(F[t]?F[t].parents.indexOf(e)<0&&F[t].parents.push(e):(b=[e],f=t),o.children.indexOf(t)<0&&o.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),b=[]),_(t)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return _[e]},set:function(o){_[e]=o}}};for(var r in _)Object.prototype.hasOwnProperty.call(_,r)&&"e"!==r&&Object.defineProperty(t,r,n(r));return t.e=function(e){function o(){A--,"prepare"===R&&(I[e]||u(e),0===A&&0===T&&a())}return"ready"===R&&i("prepare"),A++,_.e(e).then(o,function(e){throw o(),e})},t}function s(e){var o={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:f!==e,active:!0,accept:function(e,t){if(void 0===e)o._selfAccepted=!0;else if("function"==typeof e)o._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)o._acceptedDependencies[e[n]]=t||function(){};else o._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)o._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)o._declinedDependencies[e[t]]=!0;else o._declinedDependencies[e]=!0},dispose:function(e){o._disposeHandlers.push(e)},addDisposeHandler:function(e){o._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=o._disposeHandlers.indexOf(e);t>=0&&o._disposeHandlers.splice(t,1)},check:d,apply:m,status:function(e){if(!e)return R;C.push(e)},addStatusHandler:function(e){C.push(e)},removeStatusHandler:function(e){var o=C.indexOf(e);o>=0&&C.splice(o,1)},data:g[e]};return f=void 0,o}function i(e){R=e;for(var o=0;o<C.length;o++)C[o].call(null,e)}function c(e){return+e+""===e?+e:e}function d(e){if("idle"!==R)throw new Error("check() is only allowed in idle status");return v=e,i("check"),n($).then(function(e){if(!e)return i("idle"),null;x={},I={},L=e.c,E=e.h,i("prepare");var o=new Promise(function(e,o){j={resolve:e,reject:o}});return h={},u(21),"prepare"===R&&0===A&&0===T&&a(),o})}function l(e,o){if(L[e]&&x[e]){x[e]=!1;for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(h[t]=o[t]);0==--T&&0===A&&a()}}function u(e){L[e]?(x[e]=!0,T++,t(e)):I[e]=!0}function a(){i("ready");var e=j;if(j=null,e)if(v)Promise.resolve().then(function(){return m(v)}).then(function(o){e.resolve(o)},function(o){e.reject(o)});else{var o=[];for(var t in h)Object.prototype.hasOwnProperty.call(h,t)&&o.push(c(t));e.resolve(o)}}function m(t){function n(e){for(var o=[e],t={},n=o.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var s=n.pop(),i=s.id,c=s.chain;if((u=F[i])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:i};if(u.hot._main)return{type:"unaccepted",chain:c,moduleId:i};for(var d=0;d<u.parents.length;d++){var l=u.parents[d],a=F[l];if(a){if(a.hot._declinedDependencies[i])return{type:"declined",chain:c.concat([l]),moduleId:i,parentId:l};o.indexOf(l)>=0||(a.hot._acceptedDependencies[i]?(t[l]||(t[l]=[]),r(t[l],[i])):(delete t[l],o.push(l),n.push({chain:c.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:o,outdatedDependencies:t}}function r(e,o){for(var t=0;t<o.length;t++){var n=o[t];e.indexOf(n)<0&&e.push(n)}}if("ready"!==R)throw new Error("apply() is only allowed in ready status");t=t||{};var s,d,l,u,a,m={},p=[],f={},j=function(){console.warn("[HMR] unexpected require("+$.moduleId+") to disposed module")};for(var v in h)if(Object.prototype.hasOwnProperty.call(h,v)){a=c(v);var $;$=h[v]?n(a):{type:"disposed",moduleId:v};var S=!1,C=!1,T=!1,A="";switch($.chain&&(A="\nUpdate propagation: "+$.chain.join(" -> ")),$.type){case"self-declined":t.onDeclined&&t.onDeclined($),t.ignoreDeclined||(S=new Error("Aborted because of self decline: "+$.moduleId+A));break;case"declined":t.onDeclined&&t.onDeclined($),t.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+$.moduleId+" in "+$.parentId+A));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted($),t.ignoreUnaccepted||(S=new Error("Aborted because "+a+" is not accepted"+A));break;case"accepted":t.onAccepted&&t.onAccepted($),C=!0;break;case"disposed":t.onDisposed&&t.onDisposed($),T=!0;break;default:throw new Error("Unexception type "+$.type)}if(S)return i("abort"),Promise.reject(S);if(C){f[a]=h[a],r(p,$.outdatedModules);for(a in $.outdatedDependencies)Object.prototype.hasOwnProperty.call($.outdatedDependencies,a)&&(m[a]||(m[a]=[]),r(m[a],$.outdatedDependencies[a]))}T&&(r(p,[$.moduleId]),f[a]=j)}var I=[];for(d=0;d<p.length;d++)a=p[d],F[a]&&F[a].hot._selfAccepted&&I.push({module:a,errorHandler:F[a].hot._selfAccepted});i("dispose"),Object.keys(L).forEach(function(e){!1===L[e]&&o(e)});for(var x,N=p.slice();N.length>0;)if(a=N.pop(),u=F[a]){var O={},w=u.hot._disposeHandlers;for(l=0;l<w.length;l++)(s=w[l])(O);for(g[a]=O,u.hot.active=!1,delete F[a],delete m[a],l=0;l<u.children.length;l++){var D=F[u.children[l]];D&&((x=D.parents.indexOf(a))>=0&&D.parents.splice(x,1))}}var H,P;for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)&&(u=F[a]))for(P=m[a],l=0;l<P.length;l++)H=P[l],(x=u.children.indexOf(H))>=0&&u.children.splice(x,1);i("apply"),y=E;for(a in f)Object.prototype.hasOwnProperty.call(f,a)&&(e[a]=f[a]);var M=null;for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)&&(u=F[a])){P=m[a];var B=[];for(d=0;d<P.length;d++)if(H=P[d],s=u.hot._acceptedDependencies[H]){if(B.indexOf(s)>=0)continue;B.push(s)}for(d=0;d<B.length;d++){s=B[d];try{s(P)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:a,dependencyId:P[d],error:e}),t.ignoreErrored||M||(M=e)}}}for(d=0;d<I.length;d++){var U=I[d];a=U.module,b=[a];try{_(a)}catch(e){if("function"==typeof U.errorHandler)try{U.errorHandler(e)}catch(o){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:a,error:o,orginalError:e,originalError:e}),t.ignoreErrored||M||(M=o),M||(M=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:a,error:e}),t.ignoreErrored||M||(M=e)}}return M?(i("fail"),Promise.reject(M)):(i("idle"),new Promise(function(e){e(p)}))}function _(o){if(F[o])return F[o].exports;var t=F[o]={i:o,l:!1,exports:{},hot:s(o),parents:(S=b,b=[],S),children:[]};return e[o].call(t.exports,t,t.exports,r(o)),t.l=!0,t.exports}var p=this.webpackHotUpdate;this.webpackHotUpdate=function(e,o){l(e,o),p&&p(e,o)};var f,j,h,E,v=!0,y="993306ed3d3875f056f9",$=1e4,g={},b=[],S=[],C=[],R="idle",T=0,A=0,I={},x={},L={},F={};_.m=e,_.c=F,_.d=function(e,o,t){_.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},_.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(o,"a",o),o},_.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},_.p="http://localhost:8099/js/",_.h=function(){return y},r(24)(_.s=24)}({"./node_modules/core-js/es6/promise.js":function(e,o,t){t("./node_modules/core-js/modules/es6.object.to-string.js"),t("./node_modules/core-js/modules/es6.string.iterator.js"),t("./node_modules/core-js/modules/web.dom.iterable.js"),t("./node_modules/core-js/modules/es6.promise.js"),e.exports=t("./node_modules/core-js/modules/_core.js").Promise},"./node_modules/core-js/fn/array/find.js":function(e,o,t){t("./node_modules/core-js/modules/es6.array.find.js"),e.exports=t("./node_modules/core-js/modules/_core.js").Array.find},"./node_modules/core-js/fn/array/from.js":function(e,o,t){t("./node_modules/core-js/modules/es6.string.iterator.js"),t("./node_modules/core-js/modules/es6.array.from.js"),e.exports=t("./node_modules/core-js/modules/_core.js").Array.from},"./node_modules/core-js/fn/array/includes.js":function(e,o,t){t("./node_modules/core-js/modules/es7.array.includes.js"),e.exports=t("./node_modules/core-js/modules/_core.js").Array.includes},"./node_modules/core-js/fn/object/assign.js":function(e,o,t){t("./node_modules/core-js/modules/es6.object.assign.js"),e.exports=t("./node_modules/core-js/modules/_core.js").Object.assign},"./node_modules/core-js/fn/object/entries.js":function(e,o,t){t("./node_modules/core-js/modules/es7.object.entries.js"),e.exports=t("./node_modules/core-js/modules/_core.js").Object.entries},"./node_modules/core-js/fn/object/values.js":function(e,o,t){t("./node_modules/core-js/modules/es7.object.values.js"),e.exports=t("./node_modules/core-js/modules/_core.js").Object.values},"./node_modules/core-js/fn/promise.js":function(e,o,t){t("./node_modules/core-js/modules/es6.object.to-string.js"),t("./node_modules/core-js/modules/es6.string.iterator.js"),t("./node_modules/core-js/modules/web.dom.iterable.js"),t("./node_modules/core-js/modules/es6.promise.js"),t("./node_modules/core-js/modules/es7.promise.finally.js"),t("./node_modules/core-js/modules/es7.promise.try.js"),e.exports=t("./node_modules/core-js/modules/_core.js").Promise},"./node_modules/core-js/fn/string/ends-with.js":function(e,o,t){t("./node_modules/core-js/modules/es6.string.ends-with.js"),e.exports=t("./node_modules/core-js/modules/_core.js").String.endsWith},"./node_modules/core-js/fn/string/includes.js":function(e,o,t){t("./node_modules/core-js/modules/es6.string.includes.js"),e.exports=t("./node_modules/core-js/modules/_core.js").String.includes},"./node_modules/core-js/fn/string/starts-with.js":function(e,o,t){t("./node_modules/core-js/modules/es6.string.starts-with.js"),e.exports=t("./node_modules/core-js/modules/_core.js").String.startsWith},"./node_modules/core-js/modules/_a-function.js":function(e,o){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/modules/_add-to-unscopables.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_wks.js")("unscopables"),r=Array.prototype;void 0==r[n]&&t("./node_modules/core-js/modules/_hide.js")(r,n,{}),e.exports=function(e){r[n][e]=!0}},"./node_modules/core-js/modules/_an-instance.js":function(e,o){e.exports=function(e,o,t,n){if(!(e instanceof o)||void 0!==n&&n in e)throw TypeError(t+": incorrect invocation!");return e}},"./node_modules/core-js/modules/_an-object.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_is-object.js");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/modules/_array-includes.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_to-iobject.js"),r=t("./node_modules/core-js/modules/_to-length.js"),s=t("./node_modules/core-js/modules/_to-absolute-index.js");e.exports=function(e){return function(o,t,i){var c,d=n(o),l=r(d.length),u=s(i,l);if(e&&t!=t){for(;l>u;)if((c=d[u++])!=c)return!0}else for(;l>u;u++)if((e||u in d)&&d[u]===t)return e||u||0;return!e&&-1}}},"./node_modules/core-js/modules/_array-methods.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_ctx.js"),r=t("./node_modules/core-js/modules/_iobject.js"),s=t("./node_modules/core-js/modules/_to-object.js"),i=t("./node_modules/core-js/modules/_to-length.js"),c=t("./node_modules/core-js/modules/_array-species-create.js");e.exports=function(e,o){var t=1==e,d=2==e,l=3==e,u=4==e,a=6==e,m=5==e||a,_=o||c;return function(o,c,p){for(var f,j,h=s(o),E=r(h),v=n(c,p,3),y=i(E.length),$=0,g=t?_(o,y):d?_(o,0):void 0;y>$;$++)if((m||$ in E)&&(f=E[$],j=v(f,$,h),e))if(t)g[$]=j;else if(j)switch(e){case 3:return!0;case 5:return f;case 6:return $;case 2:g.push(f)}else if(u)return!1;return a?-1:l||u?u:g}}},"./node_modules/core-js/modules/_array-species-constructor.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_is-object.js"),r=t("./node_modules/core-js/modules/_is-array.js"),s=t("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var o;return r(e)&&(o=e.constructor,"function"!=typeof o||o!==Array&&!r(o.prototype)||(o=void 0),n(o)&&null===(o=o[s])&&(o=void 0)),void 0===o?Array:o}},"./node_modules/core-js/modules/_array-species-create.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_array-species-constructor.js");e.exports=function(e,o){return new(n(e))(o)}},"./node_modules/core-js/modules/_classof.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_cof.js"),r=t("./node_modules/core-js/modules/_wks.js")("toStringTag"),s="Arguments"==n(function(){return arguments}()),i=function(e,o){try{return e[o]}catch(e){}};e.exports=function(e){var o,t,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=i(o=Object(e),r))?t:s?n(o):"Object"==(c=n(o))&&"function"==typeof o.callee?"Arguments":c}},"./node_modules/core-js/modules/_cof.js":function(e,o){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},"./node_modules/core-js/modules/_core.js":function(e,o){var t=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=t)},"./node_modules/core-js/modules/_create-property.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_object-dp.js"),r=t("./node_modules/core-js/modules/_property-desc.js");e.exports=function(e,o,t){o in e?n.f(e,o,r(0,t)):e[o]=t}},"./node_modules/core-js/modules/_ctx.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_a-function.js");e.exports=function(e,o,t){if(n(e),void 0===o)return e;switch(t){case 1:return function(t){return e.call(o,t)};case 2:return function(t,n){return e.call(o,t,n)};case 3:return function(t,n,r){return e.call(o,t,n,r)}}return function(){return e.apply(o,arguments)}}},"./node_modules/core-js/modules/_defined.js":function(e,o){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/modules/_descriptors.js":function(e,o,t){e.exports=!t("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_dom-create.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_is-object.js"),r=t("./node_modules/core-js/modules/_global.js").document,s=n(r)&&n(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},"./node_modules/core-js/modules/_enum-bug-keys.js":function(e,o){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/modules/_export.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_global.js"),r=t("./node_modules/core-js/modules/_core.js"),s=t("./node_modules/core-js/modules/_hide.js"),i=t("./node_modules/core-js/modules/_redefine.js"),c=t("./node_modules/core-js/modules/_ctx.js"),d="prototype",l=function(e,o,t){var u,a,m,_,p=e&l.F,f=e&l.G,j=e&l.S,h=e&l.P,E=e&l.B,v=f?n:j?n[o]||(n[o]={}):(n[o]||{})[d],y=f?r:r[o]||(r[o]={}),$=y[d]||(y[d]={});f&&(t=o);for(u in t)a=!p&&v&&void 0!==v[u],m=(a?v:t)[u],_=E&&a?c(m,n):h&&"function"==typeof m?c(Function.call,m):m,v&&i(v,u,m,e&l.U),y[u]!=m&&s(y,u,_),h&&$[u]!=m&&($[u]=m)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"./node_modules/core-js/modules/_fails-is-regexp.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var o=/./;try{"/./"[e](o)}catch(t){try{return o[n]=!1,!"/./"[e](o)}catch(e){}}return!0}},"./node_modules/core-js/modules/_fails.js":function(e,o){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/modules/_for-of.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_ctx.js"),r=t("./node_modules/core-js/modules/_iter-call.js"),s=t("./node_modules/core-js/modules/_is-array-iter.js"),i=t("./node_modules/core-js/modules/_an-object.js"),c=t("./node_modules/core-js/modules/_to-length.js"),d=t("./node_modules/core-js/modules/core.get-iterator-method.js"),l={},u={},o=e.exports=function(e,o,t,a,m){var _,p,f,j,h=m?function(){return e}:d(e),E=n(t,a,o?2:1),v=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(s(h)){for(_=c(e.length);_>v;v++)if((j=o?E(i(p=e[v])[0],p[1]):E(e[v]))===l||j===u)return j}else for(f=h.call(e);!(p=f.next()).done;)if((j=r(f,E,p.value,o))===l||j===u)return j};o.BREAK=l,o.RETURN=u},"./node_modules/core-js/modules/_global.js":function(e,o){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},"./node_modules/core-js/modules/_has.js":function(e,o){var t={}.hasOwnProperty;e.exports=function(e,o){return t.call(e,o)}},"./node_modules/core-js/modules/_hide.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_object-dp.js"),r=t("./node_modules/core-js/modules/_property-desc.js");e.exports=t("./node_modules/core-js/modules/_descriptors.js")?function(e,o,t){return n.f(e,o,r(1,t))}:function(e,o,t){return e[o]=t,e}},"./node_modules/core-js/modules/_html.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_global.js").document;e.exports=n&&n.documentElement},"./node_modules/core-js/modules/_ie8-dom-define.js":function(e,o,t){e.exports=!t("./node_modules/core-js/modules/_descriptors.js")&&!t("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty(t("./node_modules/core-js/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_invoke.js":function(e,o){e.exports=function(e,o,t){var n=void 0===t;switch(o.length){case 0:return n?e():e.call(t);case 1:return n?e(o[0]):e.call(t,o[0]);case 2:return n?e(o[0],o[1]):e.call(t,o[0],o[1]);case 3:return n?e(o[0],o[1],o[2]):e.call(t,o[0],o[1],o[2]);case 4:return n?e(o[0],o[1],o[2],o[3]):e.call(t,o[0],o[1],o[2],o[3])}return e.apply(t,o)}},"./node_modules/core-js/modules/_iobject.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"./node_modules/core-js/modules/_is-array-iter.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_iterators.js"),r=t("./node_modules/core-js/modules/_wks.js")("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[r]===e)}},"./node_modules/core-js/modules/_is-array.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_cof.js");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"./node_modules/core-js/modules/_is-object.js":function(e,o){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/modules/_is-regexp.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_is-object.js"),r=t("./node_modules/core-js/modules/_cof.js"),s=t("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var o;return n(e)&&(void 0!==(o=e[s])?!!o:"RegExp"==r(e))}},"./node_modules/core-js/modules/_iter-call.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_an-object.js");e.exports=function(e,o,t,r){try{return r?o(n(t)[0],t[1]):o(t)}catch(o){var s=e.return;throw void 0!==s&&n(s.call(e)),o}}},"./node_modules/core-js/modules/_iter-create.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_object-create.js"),r=t("./node_modules/core-js/modules/_property-desc.js"),s=t("./node_modules/core-js/modules/_set-to-string-tag.js"),i={};t("./node_modules/core-js/modules/_hide.js")(i,t("./node_modules/core-js/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,o,t){e.prototype=n(i,{next:r(1,t)}),s(e,o+" Iterator")}},"./node_modules/core-js/modules/_iter-define.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_library.js"),r=t("./node_modules/core-js/modules/_export.js"),s=t("./node_modules/core-js/modules/_redefine.js"),i=t("./node_modules/core-js/modules/_hide.js"),c=t("./node_modules/core-js/modules/_has.js"),d=t("./node_modules/core-js/modules/_iterators.js"),l=t("./node_modules/core-js/modules/_iter-create.js"),u=t("./node_modules/core-js/modules/_set-to-string-tag.js"),a=t("./node_modules/core-js/modules/_object-gpo.js"),m=t("./node_modules/core-js/modules/_wks.js")("iterator"),_=!([].keys&&"next"in[].keys()),p="keys",f="values",j=function(){return this};e.exports=function(e,o,t,h,E,v,y){l(t,o,h);var $,g,b,S=function(e){if(!_&&e in A)return A[e];switch(e){case p:case f:return function(){return new t(this,e)}}return function(){return new t(this,e)}},C=o+" Iterator",R=E==f,T=!1,A=e.prototype,I=A[m]||A["@@iterator"]||E&&A[E],x=I||S(E),L=E?R?S("entries"):x:void 0,F="Array"==o?A.entries||I:I;if(F&&(b=a(F.call(new e)))!==Object.prototype&&b.next&&(u(b,C,!0),n||c(b,m)||i(b,m,j)),R&&I&&I.name!==f&&(T=!0,x=function(){return I.call(this)}),n&&!y||!_&&!T&&A[m]||i(A,m,x),d[o]=x,d[C]=j,E)if($={values:R?x:S(f),keys:v?x:S(p),entries:L},y)for(g in $)g in A||s(A,g,$[g]);else r(r.P+r.F*(_||T),o,$);return $}},"./node_modules/core-js/modules/_iter-detect.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_wks.js")("iterator"),r=!1;try{var s=[7][n]();s.return=function(){r=!0},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,o){if(!o&&!r)return!1;var t=!1;try{var s=[7],i=s[n]();i.next=function(){return{done:t=!0}},s[n]=function(){return i},e(s)}catch(e){}return t}},"./node_modules/core-js/modules/_iter-step.js":function(e,o){e.exports=function(e,o){return{value:o,done:!!e}}},"./node_modules/core-js/modules/_iterators.js":function(e,o){e.exports={}},"./node_modules/core-js/modules/_library.js":function(e,o){e.exports=!1},"./node_modules/core-js/modules/_microtask.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_global.js"),r=t("./node_modules/core-js/modules/_task.js").set,s=n.MutationObserver||n.WebKitMutationObserver,i=n.process,c=n.Promise,d="process"==t("./node_modules/core-js/modules/_cof.js")(i);e.exports=function(){var e,o,t,l=function(){var n,r;for(d&&(n=i.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?t():o=void 0,n}}o=void 0,n&&n.enter()};if(d)t=function(){i.nextTick(l)};else if(s){var u=!0,a=document.createTextNode("");new s(l).observe(a,{characterData:!0}),t=function(){a.data=u=!u}}else if(c&&c.resolve){var m=c.resolve();t=function(){m.then(l)}}else t=function(){r.call(n,l)};return function(n){var r={fn:n,next:void 0};o&&(o.next=r),e||(e=r,t()),o=r}}},"./node_modules/core-js/modules/_new-promise-capability.js":function(e,o,t){"use strict";function n(e){var o,t;this.promise=new e(function(e,n){if(void 0!==o||void 0!==t)throw TypeError("Bad Promise constructor");o=e,t=n}),this.resolve=r(o),this.reject=r(t)}var r=t("./node_modules/core-js/modules/_a-function.js");e.exports.f=function(e){return new n(e)}},"./node_modules/core-js/modules/_object-assign.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_object-keys.js"),r=t("./node_modules/core-js/modules/_object-gops.js"),s=t("./node_modules/core-js/modules/_object-pie.js"),i=t("./node_modules/core-js/modules/_to-object.js"),c=t("./node_modules/core-js/modules/_iobject.js"),d=Object.assign;e.exports=!d||t("./node_modules/core-js/modules/_fails.js")(function(){var e={},o={},t=Symbol(),n="abcdefghijklmnopqrst";return e[t]=7,n.split("").forEach(function(e){o[e]=e}),7!=d({},e)[t]||Object.keys(d({},o)).join("")!=n})?function(e,o){for(var t=i(e),d=arguments.length,l=1,u=r.f,a=s.f;d>l;)for(var m,_=c(arguments[l++]),p=u?n(_).concat(u(_)):n(_),f=p.length,j=0;f>j;)a.call(_,m=p[j++])&&(t[m]=_[m]);return t}:d},"./node_modules/core-js/modules/_object-create.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_an-object.js"),r=t("./node_modules/core-js/modules/_object-dps.js"),s=t("./node_modules/core-js/modules/_enum-bug-keys.js"),i=t("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),c=function(){},d="prototype",l=function(){var e,o=t("./node_modules/core-js/modules/_dom-create.js")("iframe"),n=s.length,r="<",i=">";for(o.style.display="none",t("./node_modules/core-js/modules/_html.js").appendChild(o),o.src="javascript:",e=o.contentWindow.document,e.open(),e.write(r+"script"+i+"document.F=Object"+r+"/script"+i),e.close(),l=e.F;n--;)delete l[d][s[n]];return l()};e.exports=Object.create||function(e,o){var t;return null!==e?(c[d]=n(e),t=new c,c[d]=null,t[i]=e):t=l(),void 0===o?t:r(t,o)}},"./node_modules/core-js/modules/_object-dp.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_an-object.js"),r=t("./node_modules/core-js/modules/_ie8-dom-define.js"),s=t("./node_modules/core-js/modules/_to-primitive.js"),i=Object.defineProperty;o.f=t("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperty:function(e,o,t){if(n(e),o=s(o,!0),n(t),r)try{return i(e,o,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[o]=t.value),e}},"./node_modules/core-js/modules/_object-dps.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_object-dp.js"),r=t("./node_modules/core-js/modules/_an-object.js"),s=t("./node_modules/core-js/modules/_object-keys.js");e.exports=t("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperties:function(e,o){r(e);for(var t,i=s(o),c=i.length,d=0;c>d;)n.f(e,t=i[d++],o[t]);return e}},"./node_modules/core-js/modules/_object-gops.js":function(e,o){o.f=Object.getOwnPropertySymbols},"./node_modules/core-js/modules/_object-gpo.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_has.js"),r=t("./node_modules/core-js/modules/_to-object.js"),s=t("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},"./node_modules/core-js/modules/_object-keys-internal.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_has.js"),r=t("./node_modules/core-js/modules/_to-iobject.js"),s=t("./node_modules/core-js/modules/_array-includes.js")(!1),i=t("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,o){var t,c=r(e),d=0,l=[];for(t in c)t!=i&&n(c,t)&&l.push(t);for(;o.length>d;)n(c,t=o[d++])&&(~s(l,t)||l.push(t));return l}},"./node_modules/core-js/modules/_object-keys.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_object-keys-internal.js"),r=t("./node_modules/core-js/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return n(e,r)}},"./node_modules/core-js/modules/_object-pie.js":function(e,o){o.f={}.propertyIsEnumerable},"./node_modules/core-js/modules/_object-to-array.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_object-keys.js"),r=t("./node_modules/core-js/modules/_to-iobject.js"),s=t("./node_modules/core-js/modules/_object-pie.js").f;e.exports=function(e){return function(o){for(var t,i=r(o),c=n(i),d=c.length,l=0,u=[];d>l;)s.call(i,t=c[l++])&&u.push(e?[t,i[t]]:i[t]);return u}}},"./node_modules/core-js/modules/_perform.js":function(e,o){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},"./node_modules/core-js/modules/_promise-resolve.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_an-object.js"),r=t("./node_modules/core-js/modules/_is-object.js"),s=t("./node_modules/core-js/modules/_new-promise-capability.js");e.exports=function(e,o){if(n(e),r(o)&&o.constructor===e)return o;var t=s.f(e);return(0,t.resolve)(o),t.promise}},"./node_modules/core-js/modules/_property-desc.js":function(e,o){e.exports=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}}},"./node_modules/core-js/modules/_redefine-all.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_redefine.js");e.exports=function(e,o,t){for(var r in o)n(e,r,o[r],t);return e}},"./node_modules/core-js/modules/_redefine.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_global.js"),r=t("./node_modules/core-js/modules/_hide.js"),s=t("./node_modules/core-js/modules/_has.js"),i=t("./node_modules/core-js/modules/_uid.js")("src"),c="toString",d=Function[c],l=(""+d).split(c);t("./node_modules/core-js/modules/_core.js").inspectSource=function(e){return d.call(e)},(e.exports=function(e,o,t,c){var d="function"==typeof t;d&&(s(t,"name")||r(t,"name",o)),e[o]!==t&&(d&&(s(t,i)||r(t,i,e[o]?""+e[o]:l.join(String(o)))),e===n?e[o]=t:c?e[o]?e[o]=t:r(e,o,t):(delete e[o],r(e,o,t)))})(Function.prototype,c,function(){return"function"==typeof this&&this[i]||d.call(this)})},"./node_modules/core-js/modules/_set-species.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_global.js"),r=t("./node_modules/core-js/modules/_object-dp.js"),s=t("./node_modules/core-js/modules/_descriptors.js"),i=t("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var o=n[e];s&&o&&!o[i]&&r.f(o,i,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/modules/_set-to-string-tag.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_object-dp.js").f,r=t("./node_modules/core-js/modules/_has.js"),s=t("./node_modules/core-js/modules/_wks.js")("toStringTag");e.exports=function(e,o,t){e&&!r(e=t?e:e.prototype,s)&&n(e,s,{configurable:!0,value:o})}},"./node_modules/core-js/modules/_shared-key.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_shared.js")("keys"),r=t("./node_modules/core-js/modules/_uid.js");e.exports=function(e){return n[e]||(n[e]=r(e))}},"./node_modules/core-js/modules/_shared.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_global.js"),r="__core-js_shared__",s=n[r]||(n[r]={});e.exports=function(e){return s[e]||(s[e]={})}},"./node_modules/core-js/modules/_species-constructor.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_an-object.js"),r=t("./node_modules/core-js/modules/_a-function.js"),s=t("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e,o){var t,i=n(e).constructor;return void 0===i||void 0==(t=n(i)[s])?o:r(t)}},"./node_modules/core-js/modules/_string-at.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_to-integer.js"),r=t("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return function(o,t){var s,i,c=String(r(o)),d=n(t),l=c.length;return d<0||d>=l?e?"":void 0:(s=c.charCodeAt(d),s<55296||s>56319||d+1===l||(i=c.charCodeAt(d+1))<56320||i>57343?e?c.charAt(d):s:e?c.slice(d,d+2):i-56320+(s-55296<<10)+65536)}}},"./node_modules/core-js/modules/_string-context.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_is-regexp.js"),r=t("./node_modules/core-js/modules/_defined.js");e.exports=function(e,o,t){if(n(o))throw TypeError("String#"+t+" doesn't accept regex!");return String(r(e))}},"./node_modules/core-js/modules/_task.js":function(e,o,t){var n,r,s,i=t("./node_modules/core-js/modules/_ctx.js"),c=t("./node_modules/core-js/modules/_invoke.js"),d=t("./node_modules/core-js/modules/_html.js"),l=t("./node_modules/core-js/modules/_dom-create.js"),u=t("./node_modules/core-js/modules/_global.js"),a=u.process,m=u.setImmediate,_=u.clearImmediate,p=u.MessageChannel,f=u.Dispatch,j=0,h={},E="onreadystatechange",v=function(){var e=+this;if(h.hasOwnProperty(e)){var o=h[e];delete h[e],o()}},y=function(e){v.call(e.data)};m&&_||(m=function(e){for(var o=[],t=1;arguments.length>t;)o.push(arguments[t++]);return h[++j]=function(){c("function"==typeof e?e:Function(e),o)},n(j),j},_=function(e){delete h[e]},"process"==t("./node_modules/core-js/modules/_cof.js")(a)?n=function(e){a.nextTick(i(v,e,1))}:f&&f.now?n=function(e){f.now(i(v,e,1))}:p?(r=new p,s=r.port2,r.port1.onmessage=y,n=i(s.postMessage,s,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):n=E in l("script")?function(e){d.appendChild(l("script"))[E]=function(){d.removeChild(this),v.call(e)}}:function(e){setTimeout(i(v,e,1),0)}),e.exports={set:m,clear:_}},"./node_modules/core-js/modules/_to-absolute-index.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_to-integer.js"),r=Math.max,s=Math.min;e.exports=function(e,o){return e=n(e),e<0?r(e+o,0):s(e,o)}},"./node_modules/core-js/modules/_to-integer.js":function(e,o){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},"./node_modules/core-js/modules/_to-iobject.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_iobject.js"),r=t("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return n(r(e))}},"./node_modules/core-js/modules/_to-length.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_to-integer.js"),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},"./node_modules/core-js/modules/_to-object.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return Object(n(e))}},"./node_modules/core-js/modules/_to-primitive.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_is-object.js");e.exports=function(e,o){if(!n(e))return e;var t,r;if(o&&"function"==typeof(t=e.toString)&&!n(r=t.call(e)))return r;if("function"==typeof(t=e.valueOf)&&!n(r=t.call(e)))return r;if(!o&&"function"==typeof(t=e.toString)&&!n(r=t.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/modules/_uid.js":function(e,o){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},"./node_modules/core-js/modules/_wks.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_shared.js")("wks"),r=t("./node_modules/core-js/modules/_uid.js"),s=t("./node_modules/core-js/modules/_global.js").Symbol,i="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=i&&s[e]||(i?s:r)("Symbol."+e))}).store=n},"./node_modules/core-js/modules/core.get-iterator-method.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_classof.js"),r=t("./node_modules/core-js/modules/_wks.js")("iterator"),s=t("./node_modules/core-js/modules/_iterators.js");e.exports=t("./node_modules/core-js/modules/_core.js").getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||s[n(e)]}},"./node_modules/core-js/modules/es6.array.find.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_export.js"),r=t("./node_modules/core-js/modules/_array-methods.js")(5),s="find",i=!0;s in[]&&Array(1)[s](function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./node_modules/core-js/modules/_add-to-unscopables.js")(s)},"./node_modules/core-js/modules/es6.array.from.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_ctx.js"),r=t("./node_modules/core-js/modules/_export.js"),s=t("./node_modules/core-js/modules/_to-object.js"),i=t("./node_modules/core-js/modules/_iter-call.js"),c=t("./node_modules/core-js/modules/_is-array-iter.js"),d=t("./node_modules/core-js/modules/_to-length.js"),l=t("./node_modules/core-js/modules/_create-property.js"),u=t("./node_modules/core-js/modules/core.get-iterator-method.js");r(r.S+r.F*!t("./node_modules/core-js/modules/_iter-detect.js")(function(e){Array.from(e)}),"Array",{from:function(e){var o,t,r,a,m=s(e),_="function"==typeof this?this:Array,p=arguments.length,f=p>1?arguments[1]:void 0,j=void 0!==f,h=0,E=u(m);if(j&&(f=n(f,p>2?arguments[2]:void 0,2)),void 0==E||_==Array&&c(E))for(o=d(m.length),t=new _(o);o>h;h++)l(t,h,j?f(m[h],h):m[h]);else for(a=E.call(m),t=new _;!(r=a.next()).done;h++)l(t,h,j?i(a,f,[r.value,h],!0):r.value);return t.length=h,t}})},"./node_modules/core-js/modules/es6.array.iterator.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_add-to-unscopables.js"),r=t("./node_modules/core-js/modules/_iter-step.js"),s=t("./node_modules/core-js/modules/_iterators.js"),i=t("./node_modules/core-js/modules/_to-iobject.js");e.exports=t("./node_modules/core-js/modules/_iter-define.js")(Array,"Array",function(e,o){this._t=i(e),this._i=0,this._k=o},function(){var e=this._t,o=this._k,t=this._i++;return!e||t>=e.length?(this._t=void 0,r(1)):"keys"==o?r(0,t):"values"==o?r(0,e[t]):r(0,[t,e[t]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},"./node_modules/core-js/modules/es6.object.assign.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_export.js");n(n.S+n.F,"Object",{assign:t("./node_modules/core-js/modules/_object-assign.js")})},"./node_modules/core-js/modules/es6.object.to-string.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_classof.js"),r={};r[t("./node_modules/core-js/modules/_wks.js")("toStringTag")]="z",r+""!="[object z]"&&t("./node_modules/core-js/modules/_redefine.js")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},"./node_modules/core-js/modules/es6.promise.js":function(e,o,t){"use strict";var n,r,s,i,c=t("./node_modules/core-js/modules/_library.js"),d=t("./node_modules/core-js/modules/_global.js"),l=t("./node_modules/core-js/modules/_ctx.js"),u=t("./node_modules/core-js/modules/_classof.js"),a=t("./node_modules/core-js/modules/_export.js"),m=t("./node_modules/core-js/modules/_is-object.js"),_=t("./node_modules/core-js/modules/_a-function.js"),p=t("./node_modules/core-js/modules/_an-instance.js"),f=t("./node_modules/core-js/modules/_for-of.js"),j=t("./node_modules/core-js/modules/_species-constructor.js"),h=t("./node_modules/core-js/modules/_task.js").set,E=t("./node_modules/core-js/modules/_microtask.js")(),v=t("./node_modules/core-js/modules/_new-promise-capability.js"),y=t("./node_modules/core-js/modules/_perform.js"),$=t("./node_modules/core-js/modules/_promise-resolve.js"),g="Promise",b=d.TypeError,S=d.process,C=d[g],R="process"==u(S),T=function(){},A=r=v.f,I=!!function(){try{var e=C.resolve(1),o=(e.constructor={})[t("./node_modules/core-js/modules/_wks.js")("species")]=function(e){e(T,T)};return(R||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof o}catch(e){}}(),x=function(e){var o;return!(!m(e)||"function"!=typeof(o=e.then))&&o},L=function(e,o){if(!e._n){e._n=!0;var t=e._c;E(function(){for(var n=e._v,r=1==e._s,s=0,i=function(o){var t,s,i=r?o.ok:o.fail,c=o.resolve,d=o.reject,l=o.domain;try{i?(r||(2==e._h&&O(e),e._h=1),!0===i?t=n:(l&&l.enter(),t=i(n),l&&l.exit()),t===o.promise?d(b("Promise-chain cycle")):(s=x(t))?s.call(t,c,d):c(t)):d(n)}catch(e){d(e)}};t.length>s;)i(t[s++]);e._c=[],e._n=!1,o&&!e._h&&F(e)})}},F=function(e){h.call(d,function(){var o,t,n,r=e._v,s=N(e);if(s&&(o=y(function(){R?S.emit("unhandledRejection",r,e):(t=d.onunhandledrejection)?t({promise:e,reason:r}):(n=d.console)&&n.error&&n.error("Unhandled promise rejection",r)}),e._h=R||N(e)?2:1),e._a=void 0,s&&o.e)throw o.v})},N=function(e){if(1==e._h)return!1;for(var o,t=e._a||e._c,n=0;t.length>n;)if(o=t[n++],o.fail||!N(o.promise))return!1;return!0},O=function(e){h.call(d,function(){var o;R?S.emit("rejectionHandled",e):(o=d.onrejectionhandled)&&o({promise:e,reason:e._v})})},w=function(e){var o=this;o._d||(o._d=!0,o=o._w||o,o._v=e,o._s=2,o._a||(o._a=o._c.slice()),L(o,!0))},D=function(e){var o,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw b("Promise can't be resolved itself");(o=x(e))?E(function(){var n={_w:t,_d:!1};try{o.call(e,l(D,n,1),l(w,n,1))}catch(e){w.call(n,e)}}):(t._v=e,t._s=1,L(t,!1))}catch(e){w.call({_w:t,_d:!1},e)}}};I||(C=function(e){p(this,C,g,"_h"),_(e),n.call(this);try{e(l(D,this,1),l(w,this,1))}catch(e){w.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=t("./node_modules/core-js/modules/_redefine-all.js")(C.prototype,{then:function(e,o){var t=A(j(this,C));return t.ok="function"!=typeof e||e,t.fail="function"==typeof o&&o,t.domain=R?S.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&L(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new n;this.promise=e,this.resolve=l(D,e,1),this.reject=l(w,e,1)},v.f=A=function(e){return e===C||e===i?new s(e):r(e)}),a(a.G+a.W+a.F*!I,{Promise:C}),t("./node_modules/core-js/modules/_set-to-string-tag.js")(C,g),t("./node_modules/core-js/modules/_set-species.js")(g),i=t("./node_modules/core-js/modules/_core.js")[g],a(a.S+a.F*!I,g,{reject:function(e){var o=A(this);return(0,o.reject)(e),o.promise}}),a(a.S+a.F*(c||!I),g,{resolve:function(e){return $(c&&this===i?C:this,e)}}),a(a.S+a.F*!(I&&t("./node_modules/core-js/modules/_iter-detect.js")(function(e){C.all(e).catch(T)})),g,{all:function(e){var o=this,t=A(o),n=t.resolve,r=t.reject,s=y(function(){var t=[],s=0,i=1;f(e,!1,function(e){var c=s++,d=!1;t.push(void 0),i++,o.resolve(e).then(function(e){d||(d=!0,t[c]=e,--i||n(t))},r)}),--i||n(t)});return s.e&&r(s.v),t.promise},race:function(e){var o=this,t=A(o),n=t.reject,r=y(function(){f(e,!1,function(e){o.resolve(e).then(t.resolve,n)})});return r.e&&n(r.v),t.promise}})},"./node_modules/core-js/modules/es6.string.ends-with.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_export.js"),r=t("./node_modules/core-js/modules/_to-length.js"),s=t("./node_modules/core-js/modules/_string-context.js"),i="endsWith",c=""[i];n(n.P+n.F*t("./node_modules/core-js/modules/_fails-is-regexp.js")(i),"String",{endsWith:function(e){var o=s(this,e,i),t=arguments.length>1?arguments[1]:void 0,n=r(o.length),d=void 0===t?n:Math.min(r(t),n),l=String(e);return c?c.call(o,l,d):o.slice(d-l.length,d)===l}})},"./node_modules/core-js/modules/es6.string.includes.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_export.js"),r=t("./node_modules/core-js/modules/_string-context.js"),s="includes";n(n.P+n.F*t("./node_modules/core-js/modules/_fails-is-regexp.js")(s),"String",{includes:function(e){return!!~r(this,e,s).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es6.string.iterator.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_string-at.js")(!0);t("./node_modules/core-js/modules/_iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,o=this._t,t=this._i;return t>=o.length?{value:void 0,done:!0}:(e=n(o,t),this._i+=e.length,{value:e,done:!1})})},"./node_modules/core-js/modules/es6.string.starts-with.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_export.js"),r=t("./node_modules/core-js/modules/_to-length.js"),s=t("./node_modules/core-js/modules/_string-context.js"),i="startsWith",c=""[i];n(n.P+n.F*t("./node_modules/core-js/modules/_fails-is-regexp.js")(i),"String",{startsWith:function(e){var o=s(this,e,i),t=r(Math.min(arguments.length>1?arguments[1]:void 0,o.length)),n=String(e);return c?c.call(o,n,t):o.slice(t,t+n.length)===n}})},"./node_modules/core-js/modules/es7.array.includes.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_export.js"),r=t("./node_modules/core-js/modules/_array-includes.js")(!0);n(n.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./node_modules/core-js/modules/_add-to-unscopables.js")("includes")},"./node_modules/core-js/modules/es7.object.entries.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_export.js"),r=t("./node_modules/core-js/modules/_object-to-array.js")(!0);n(n.S,"Object",{entries:function(e){return r(e)}})},"./node_modules/core-js/modules/es7.object.values.js":function(e,o,t){var n=t("./node_modules/core-js/modules/_export.js"),r=t("./node_modules/core-js/modules/_object-to-array.js")(!1);n(n.S,"Object",{values:function(e){return r(e)}})},"./node_modules/core-js/modules/es7.promise.finally.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_export.js"),r=t("./node_modules/core-js/modules/_core.js"),s=t("./node_modules/core-js/modules/_global.js"),i=t("./node_modules/core-js/modules/_species-constructor.js"),c=t("./node_modules/core-js/modules/_promise-resolve.js");n(n.P+n.R,"Promise",{finally:function(e){var o=i(this,r.Promise||s.Promise),t="function"==typeof e;return this.then(t?function(t){return c(o,e()).then(function(){return t})}:e,t?function(t){return c(o,e()).then(function(){throw t})}:e)}})},"./node_modules/core-js/modules/es7.promise.try.js":function(e,o,t){"use strict";var n=t("./node_modules/core-js/modules/_export.js"),r=t("./node_modules/core-js/modules/_new-promise-capability.js"),s=t("./node_modules/core-js/modules/_perform.js");n(n.S,"Promise",{try:function(e){var o=r.f(this),t=s(e);return(t.e?o.reject:o.resolve)(t.v),o.promise}})},"./node_modules/core-js/modules/web.dom.iterable.js":function(e,o,t){for(var n=t("./node_modules/core-js/modules/es6.array.iterator.js"),r=t("./node_modules/core-js/modules/_object-keys.js"),s=t("./node_modules/core-js/modules/_redefine.js"),i=t("./node_modules/core-js/modules/_global.js"),c=t("./node_modules/core-js/modules/_hide.js"),d=t("./node_modules/core-js/modules/_iterators.js"),l=t("./node_modules/core-js/modules/_wks.js"),u=l("iterator"),a=l("toStringTag"),m=d.Array,_={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(_),f=0;f<p.length;f++){var j,h=p[f],E=_[h],v=i[h],y=v&&v.prototype;if(y&&(y[u]||c(y,u,m),y[a]||c(y,a,h),d[h]=m,E))for(j in n)y[j]||s(y,j,n[j],!0)}},"./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js":function(e,o){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=n||{};n.DEBUG=!1,n.inherits=function(e,o){function t(){}t.prototype=o.prototype,e.superClass_=o.prototype,e.prototype=new t,e.prototype.constructor=e,e.base=function(e,t,n){var r=Array.prototype.slice.call(arguments,2);return o.prototype[t].apply(e,r)}},n.userAgent||(n.userAgent=function(){var e="";"undefined"!=typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(e=navigator.userAgent);var o=0==e.indexOf("Opera");return{jscript:{HAS_JSCRIPT:"ScriptEngine"in this},OPERA:o,IE:!o&&-1!=e.indexOf("MSIE"),WEBKIT:!o&&-1!=e.indexOf("WebKit")}}()),n.asserts||(n.asserts={assert:function(e){if(!e)throw Error("Assertion error")},fail:function(e){}}),n.dom||(n.dom={},n.dom.DomHelper=function(e){this.document_=e||document},n.dom.DomHelper.prototype.getDocument=function(){return this.document_},n.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},n.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}),n.format||(n.format={insertWordBreaks:function(e,o){e=String(e);for(var t=[],r=0,s=!1,i=!1,c=0,d=0,l=0,u=e.length;l<u;++l){var a=e.charCodeAt(l);if(c>=o&&32!=a&&(t[r++]=e.substring(d,l),d=l,t[r++]=n.format.WORD_BREAK,c=0),s)62==a&&(s=!1);else if(i)switch(a){case 59:i=!1,++c;break;case 60:i=!1,s=!0;break;case 32:i=!1,c=0}else switch(a){case 60:s=!0;break;case 38:i=!0;break;case 32:c=0;break;default:++c}}return t[r++]=e.substring(d),t.join("")},WORD_BREAK:n.userAgent.WEBKIT?"<wbr></wbr>":n.userAgent.OPERA?"&shy;":n.userAgent.IE?"&#8203;":"<wbr>"}),n.i18n||(n.i18n={bidi:{}}),n.i18n.bidi.IS_RTL=!1,n.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0,UNKNOWN:0},n.i18n.bidi.toDir=function(e,o){return"number"==typeof e?e>0?n.i18n.bidi.Dir.LTR:e<0?n.i18n.bidi.Dir.RTL:o?null:n.i18n.bidi.Dir.NEUTRAL:null==e?null:e?n.i18n.bidi.Dir.RTL:n.i18n.bidi.Dir.LTR},n.i18n.bidi.estimateDirection=function(e,o){for(var t=0,r=0,s=!1,c=i.$$bidiStripHtmlIfNecessary_(e,o).split(i.$$bidiWordSeparatorRe_),d=0;d<c.length;d++){var l=c[d];i.$$bidiRtlDirCheckRe_.test(l)?(t++,r++):i.$$bidiIsRequiredLtrRe_.test(l)?s=!0:i.$$bidiLtrCharRe_.test(l)?r++:i.$$bidiHasNumeralsRe_.test(l)&&(s=!0)}return 0==r?s?n.i18n.bidi.Dir.LTR:n.i18n.bidi.Dir.NEUTRAL:t/r>i.$$bidiRtlDetectionThreshold_?n.i18n.bidi.Dir.RTL:n.i18n.bidi.Dir.LTR},n.i18n.BidiFormatter=function(e){this.dir_=n.i18n.bidi.toDir(e,!0)},n.i18n.BidiFormatter.prototype.getContextDir=function(){return this.dir_},n.i18n.BidiFormatter.prototype.knownDirAttr=function(e){return e&&e!=this.dir_?e<0?'dir="rtl"':'dir="ltr"':""},n.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"},n.i18n.BidiFormatter.prototype.mark=function(){return this.dir_>0?"":this.dir_<0?"":""},n.i18n.BidiFormatter.prototype.markAfterKnownDir=function(e,o,t){return null==e&&(e=n.i18n.bidi.estimateDirection(o,t)),this.dir_>0&&(e<0||i.$$bidiIsRtlExitText_(o,t))?"":this.dir_<0&&(e>0||i.$$bidiIsLtrExitText_(o,t))?"":""},n.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(e,o,t){null==e&&(e=n.i18n.bidi.estimateDirection(o,!0));var r=this.markAfterKnownDir(e,o,!0);return e>0&&this.dir_<=0?o='<span dir="ltr">'+o+"</span>":e<0&&this.dir_>=0&&(o='<span dir="rtl">'+o+"</span>"),o+r},n.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"},n.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(e,o,t){null==e&&(e=n.i18n.bidi.estimateDirection(o,t));var r=this.markAfterKnownDir(e,o,t);return e>0&&this.dir_<=0?o=""+o+"":e<0&&this.dir_>=0&&(o=""+o+""),o+r},n.string||(n.string={newLineToBr:function(e,o){return e=String(e),n.string.NEWLINE_TO_BR_RE_.test(e)?e.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>"):e},htmlEscape:function(e,o){return o?e=e.replace(n.string.AMP_RE_,"&amp;").replace(n.string.LT_RE_,"&lt;").replace(n.string.GT_RE_,"&gt;").replace(n.string.QUOT_RE_,"&quot;").replace(n.string.SINGLE_QUOTE_RE_,"&#39;").replace(n.string.NULL_RE_,"&#0;"):n.string.ALL_RE_.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(n.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(n.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(n.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(n.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(n.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(n.string.NULL_RE_,"&#0;")),e):e},urlEncode:encodeURIComponent,AMP_RE_:/&/g,LT_RE_:/</g,GT_RE_:/>/g,QUOT_RE_:/"/g,SINGLE_QUOTE_RE_:/'/g,NULL_RE_:/\x00/g,ALL_RE_:/[&<>"']/,NEWLINE_TO_BR_RE_:/[\r\n]/}),n.string.StringBuffer=function(e,o){this.buffer_=n.userAgent.jscript.HAS_JSCRIPT?[]:"",null!=e&&this.append.apply(this,arguments)},n.string.StringBuffer.prototype.bufferLength_=0,n.string.StringBuffer.prototype.append=function(e,o,t){if(n.userAgent.jscript.HAS_JSCRIPT)if(null==o)this.buffer_[this.bufferLength_++]=e;else{var r=this.buffer_;r.push.apply(r,arguments),this.bufferLength_=this.buffer_.length}else if(this.buffer_+=e,null!=o)for(var s=1;s<arguments.length;s++)this.buffer_+=arguments[s];return this},n.string.StringBuffer.prototype.clear=function(){n.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},n.string.StringBuffer.prototype.toString=function(){if(n.userAgent.jscript.HAS_JSCRIPT){var e=this.buffer_.join("");return this.clear(),e&&this.append(e),e}return this.buffer_},n.soy||(n.soy={renderAsElement:function(e,o,t,n){return i.$$renderWithWrapper_(e,o,n,!0,t)},renderAsFragment:function(e,o,t,n){return i.$$renderWithWrapper_(e,o,n,!1,t)},renderElement:function(e,o,t,n){e.innerHTML=o(t,null,n)},data:{}}),n.soy.data.SanitizedContentKind={HTML:n.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:n.DEBUG?{sanitizedContentJsChars:!0}:{},URI:n.DEBUG?{sanitizedContentUri:!0}:{},ATTRIBUTES:n.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:n.DEBUG?{sanitizedContentCss:!0}:{},TEXT:n.DEBUG?{sanitizedContentKindText:!0}:{}},n.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},n.soy.data.SanitizedContent.prototype.contentKind,n.soy.data.SanitizedContent.prototype.contentDir=null,n.soy.data.SanitizedContent.prototype.content,n.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var r={esc:{}},s={};s.VERY_UNSAFE={};var i={$$DEFAULT_TEMPLATE_DATA_:{}};i.$$renderWithWrapper_=function(e,o,t,n,r){var s=t||document,c=s.createElement("div");if(c.innerHTML=e(o||i.$$DEFAULT_TEMPLATE_DATA_,void 0,r),1==c.childNodes.length){var d=c.firstChild;if(!n||1==d.nodeType)return d}if(n)return c;for(var l=s.createDocumentFragment();c.firstChild;)l.appendChild(c.firstChild);return l},i.$$bidiStripHtmlIfNecessary_=function(e,o){return o?e.replace(i.$$BIDI_HTML_SKIP_RE_,""):e},i.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g,i.$$bidiLtrChars_="A-Za-z--------",i.$$bidiRtlChars_="---",i.$$bidiRtlDirCheckRe_=new RegExp("^[^"+i.$$bidiLtrChars_+"]*["+i.$$bidiRtlChars_+"]"),i.$$bidiLtrCharRe_=new RegExp("["+i.$$bidiLtrChars_+"]"),i.$$bidiIsRequiredLtrRe_=/^http:\/\/.*/,i.$$bidiHasNumeralsRe_=/\d/,i.$$bidiWordSeparatorRe_=/\s+/,i.$$bidiRtlDetectionThreshold_=.4,i.$$bidiLtrExitDirCheckRe_=new RegExp("["+i.$$bidiLtrChars_+"][^"+i.$$bidiRtlChars_+"]*$"),i.$$bidiRtlExitDirCheckRe_=new RegExp("["+i.$$bidiRtlChars_+"][^"+i.$$bidiLtrChars_+"]*$"),i.$$bidiIsLtrExitText_=function(e,o){return e=i.$$bidiStripHtmlIfNecessary_(e,o),i.$$bidiLtrExitDirCheckRe_.test(e)},i.$$bidiIsRtlExitText_=function(e,o){return e=i.$$bidiStripHtmlIfNecessary_(e,o),i.$$bidiRtlExitDirCheckRe_.test(e)},r.StringBuilder=n.string.StringBuffer,s.SanitizedContentKind=n.soy.data.SanitizedContentKind,s.isContentKind=function(e,o){return null!=e&&e.contentKind===o},s.getContentDir=function(e){if(null!=e)switch(e.contentDir){case n.i18n.bidi.Dir.LTR:return n.i18n.bidi.Dir.LTR;case n.i18n.bidi.Dir.RTL:return n.i18n.bidi.Dir.RTL;case n.i18n.bidi.Dir.NEUTRAL:return n.i18n.bidi.Dir.NEUTRAL}return null},s.SanitizedHtml=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(s.SanitizedHtml,n.soy.data.SanitizedContent),s.SanitizedHtml.prototype.contentKind=s.SanitizedContentKind.HTML,s.SanitizedHtml.from=function(e){return null!=e&&e.contentKind===s.SanitizedContentKind.HTML?(n.asserts.assert(e.constructor===s.SanitizedHtml),e):s.VERY_UNSAFE.ordainSanitizedHtml(r.esc.$$escapeHtmlHelper(String(e)),s.getContentDir(e))},s.SanitizedJs=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(s.SanitizedJs,n.soy.data.SanitizedContent),s.SanitizedJs.prototype.contentKind=s.SanitizedContentKind.JS,s.SanitizedJs.prototype.contentDir=n.i18n.bidi.Dir.LTR,s.SanitizedUri=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(s.SanitizedUri,n.soy.data.SanitizedContent),s.SanitizedUri.prototype.contentKind=s.SanitizedContentKind.URI,s.SanitizedUri.prototype.contentDir=n.i18n.bidi.Dir.LTR,s.SanitizedHtmlAttribute=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(s.SanitizedHtmlAttribute,n.soy.data.SanitizedContent),s.SanitizedHtmlAttribute.prototype.contentKind=s.SanitizedContentKind.ATTRIBUTES,s.SanitizedHtmlAttribute.prototype.contentDir=n.i18n.bidi.Dir.LTR,s.SanitizedCss=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(s.SanitizedCss,n.soy.data.SanitizedContent),s.SanitizedCss.prototype.contentKind=s.SanitizedContentKind.CSS,s.SanitizedCss.prototype.contentDir=n.i18n.bidi.Dir.LTR,s.UnsanitizedText=function(e,o){this.content=String(e),this.contentDir=null!=o?o:null},n.inherits(s.UnsanitizedText,n.soy.data.SanitizedContent),s.UnsanitizedText.prototype.contentKind=s.SanitizedContentKind.TEXT,s.$$EMPTY_STRING_={VALUE:""},s.$$makeSanitizedContentFactory_=function(e){function o(){}function t(e,t){var n=new o;return n.content=String(e),void 0!==t&&(n.contentDir=t),n}return o.prototype=e.prototype,t},s.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(e){function o(){}function t(e){var t=new o;return t.content=String(e),t}return o.prototype=e.prototype,t},s.markUnsanitizedText=function(e,o){return new s.UnsanitizedText(e,o)},s.VERY_UNSAFE.ordainSanitizedHtml=s.$$makeSanitizedContentFactory_(s.SanitizedHtml),s.VERY_UNSAFE.ordainSanitizedJs=s.$$makeSanitizedContentFactoryWithDefaultDirOnly_(s.SanitizedJs),s.VERY_UNSAFE.ordainSanitizedUri=s.$$makeSanitizedContentFactoryWithDefaultDirOnly_(s.SanitizedUri),s.VERY_UNSAFE.ordainSanitizedHtmlAttribute=s.$$makeSanitizedContentFactoryWithDefaultDirOnly_(s.SanitizedHtmlAttribute),s.VERY_UNSAFE.ordainSanitizedCss=s.$$makeSanitizedContentFactoryWithDefaultDirOnly_(s.SanitizedCss),r.renderElement=n.soy.renderElement,r.renderAsFragment=function(e,o,t,r){return n.soy.renderAsFragment(e,o,r,new n.dom.DomHelper(t))},r.renderAsElement=function(e,o,t,r){return n.soy.renderAsElement(e,o,r,new n.dom.DomHelper(t))},r.$$IS_LOCALE_RTL=n.i18n.bidi.IS_RTL,r.$$augmentMap=function(e,o){function t(){}t.prototype=e;var n=new t;for(var r in o)n[r]=o[r];return n},r.$$checkMapKey=function(e){if("string"!=typeof e)throw Error("Map literal's key expression must evaluate to string (encountered type \""+(void 0===e?"undefined":t(e))+'").');return e},r.$$getMapKeys=function(e){var o=[];for(var t in e)o.push(t);return o},r.$$getDelTemplateId=function(e){return e},r.$$DELEGATE_REGISTRY_PRIORITIES_={},r.$$DELEGATE_REGISTRY_FUNCTIONS_={},r.$$registerDelegateFn=function(e,o,t,n){var s="key_"+e+":"+o,i=r.$$DELEGATE_REGISTRY_PRIORITIES_[s];if(void 0===i||t>i)r.$$DELEGATE_REGISTRY_PRIORITIES_[s]=t,r.$$DELEGATE_REGISTRY_FUNCTIONS_[s]=n;else if(t==i)throw Error('Encountered two active delegates with the same priority ("'+e+":"+o+'").')},r.$$getDelegateFn=function(e,o,t){var n=r.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"+o];if(n||""==o||(n=r.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"]),n)return n;if(t)return r.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+e+":"+o+'" (and not allowemptydefault="true").')},r.$$EMPTY_TEMPLATE_FN_=function(e,o,t){return""},s.$$makeSanitizedContentFactoryForInternalBlocks_=function(e){function o(){}function t(e,t){if(!String(e))return s.$$EMPTY_STRING_.VALUE;var n=new o;return n.content=String(e),void 0!==t&&(n.contentDir=t),n}return o.prototype=e.prototype,t},s.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_=function(e){function o(){}function t(e){if(!String(e))return s.$$EMPTY_STRING_.VALUE;var t=new o;return t.content=String(e),t}return o.prototype=e.prototype,t},s.$$markUnsanitizedTextForInternalBlocks=function(e,o){var t=String(e);return t?new s.UnsanitizedText(t,o):s.$$EMPTY_STRING_.VALUE},s.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks=s.$$makeSanitizedContentFactoryForInternalBlocks_(s.SanitizedHtml),s.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks=s.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(s.SanitizedJs),s.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks=s.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(s.SanitizedUri),s.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks=s.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(s.SanitizedHtmlAttribute),s.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks=s.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(s.SanitizedCss),r.$$escapeHtml=function(e){return s.SanitizedHtml.from(e)},r.$$cleanHtml=function(e){return s.isContentKind(e,s.SanitizedContentKind.HTML)?(n.asserts.assert(e.constructor===s.SanitizedHtml),e):s.VERY_UNSAFE.ordainSanitizedHtml(r.$$stripHtmlTags(e,r.esc.$$SAFE_TAG_WHITELIST_),s.getContentDir(e))},r.$$escapeHtmlRcdata=function(e){return s.isContentKind(e,s.SanitizedContentKind.HTML)?(n.asserts.assert(e.constructor===s.SanitizedHtml),r.esc.$$normalizeHtmlHelper(e.content)):r.esc.$$escapeHtmlHelper(e)},r.$$HTML5_VOID_ELEMENTS_=new RegExp("^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b"),r.$$stripHtmlTags=function(e,o){if(!o)return String(e).replace(r.esc.$$HTML_TAG_REGEX_,"").replace(r.esc.$$LT_REGEX_,"&lt;");var t=String(e).replace(/\[/g,"&#91;"),n=[];t=t.replace(r.esc.$$HTML_TAG_REGEX_,function(e,t){if(t&&(t=t.toLowerCase(),o.hasOwnProperty(t)&&o[t])){var r="/"===e.charAt(1)?"</":"<",s=n.length;return n[s]=r+t+">","["+s+"]"}return""}),t=r.esc.$$normalizeHtmlHelper(t);var s=r.$$balanceTags_(n);return(t=t.replace(/\[(\d+)\]/g,function(e,o){return n[o]}))+s},r.$$balanceTags_=function(e){for(var o=[],t=0,n=e.length;t<n;++t){var s=e[t];if("/"===s.charAt(1)){for(var i=o.length-1;i>=0&&o[i]!=s;)i--;i<0?e[t]="":(e[t]=o.slice(i).reverse().join(""),o.length=i)}else r.$$HTML5_VOID_ELEMENTS_.test(s)||o.push("</"+s.substring(1))}return o.reverse().join("")},r.$$escapeHtmlAttribute=function(e){return s.isContentKind(e,s.SanitizedContentKind.HTML)?(n.asserts.assert(e.constructor===s.SanitizedHtml),r.esc.$$normalizeHtmlHelper(r.$$stripHtmlTags(e.content))):r.esc.$$escapeHtmlHelper(e)},r.$$escapeHtmlAttributeNospace=function(e){return s.isContentKind(e,s.SanitizedContentKind.HTML)?(n.asserts.assert(e.constructor===s.SanitizedHtml),r.esc.$$normalizeHtmlNospaceHelper(r.$$stripHtmlTags(e.content))):r.esc.$$escapeHtmlNospaceHelper(e)},r.$$filterHtmlAttributes=function(e){return s.isContentKind(e,s.SanitizedContentKind.ATTRIBUTES)?(n.asserts.assert(e.constructor===s.SanitizedHtmlAttribute),e.content.replace(/([^"'\s])$/,"$1 ")):r.esc.$$filterHtmlAttributesHelper(e)},r.$$filterHtmlElementName=function(e){return r.esc.$$filterHtmlElementNameHelper(e)},r.$$escapeJs=function(e){return r.$$escapeJsString(e)},r.$$escapeJsString=function(e){return r.esc.$$escapeJsStringHelper(e)},r.$$escapeJsValue=function(e){if(null==e)return" null ";if(s.isContentKind(e,s.SanitizedContentKind.JS))return n.asserts.assert(e.constructor===s.SanitizedJs),e.content;switch(void 0===e?"undefined":t(e)){case"boolean":case"number":return" "+e+" ";default:return"'"+r.esc.$$escapeJsStringHelper(String(e))+"'"}},r.$$escapeJsRegex=function(e){return r.esc.$$escapeJsRegexHelper(e)},r.$$problematicUriMarks_=/['()]/g,r.$$pctEncode_=function(e){return"%"+e.charCodeAt(0).toString(16)},r.$$escapeUri=function(e){if(s.isContentKind(e,s.SanitizedContentKind.URI))return n.asserts.assert(e.constructor===s.SanitizedUri),r.$$normalizeUri(e);var o=r.esc.$$escapeUriHelper(e);return r.$$problematicUriMarks_.lastIndex=0,r.$$problematicUriMarks_.test(o)?o.replace(r.$$problematicUriMarks_,r.$$pctEncode_):o},r.$$normalizeUri=function(e){return r.esc.$$normalizeUriHelper(e)},r.$$filterNormalizeUri=function(e){return s.isContentKind(e,s.SanitizedContentKind.URI)?(n.asserts.assert(e.constructor===s.SanitizedUri),r.$$normalizeUri(e)):r.esc.$$filterNormalizeUriHelper(e)},r.$$filterImageDataUri=function(e){return s.VERY_UNSAFE.ordainSanitizedUri(r.esc.$$filterImageDataUriHelper(e))},r.$$escapeCssString=function(e){return r.esc.$$escapeCssStringHelper(e)},r.$$filterCssValue=function(e){return s.isContentKind(e,s.SanitizedContentKind.CSS)?(n.asserts.assert(e.constructor===s.SanitizedCss),e.content):null==e?"":r.esc.$$filterCssValueHelper(e)},r.$$filterNoAutoescape=function(e){return s.isContentKind(e,s.SanitizedContentKind.TEXT)?(n.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[e.content]),"zSoyz"):e},r.$$changeNewlineToBr=function(e){var o=n.string.newLineToBr(String(e),!1);return s.isContentKind(e,s.SanitizedContentKind.HTML)?s.VERY_UNSAFE.ordainSanitizedHtml(o,s.getContentDir(e)):o},r.$$insertWordBreaks=function(e,o){var t=n.format.insertWordBreaks(String(e),o);return s.isContentKind(e,s.SanitizedContentKind.HTML)?s.VERY_UNSAFE.ordainSanitizedHtml(t,s.getContentDir(e)):t},r.$$truncate=function(e,o,t){return e=String(e),e.length<=o?e:(t&&(o>3?o-=3:t=!1),r.$$isHighSurrogate_(e.charAt(o-1))&&r.$$isLowSurrogate_(e.charAt(o))&&(o-=1),e=e.substring(0,o),t&&(e+="..."),e)},r.$$isHighSurrogate_=function(e){return 55296<=e&&e<=56319},r.$$isLowSurrogate_=function(e){return 56320<=e&&e<=57343},r.$$bidiFormatterCache_={},r.$$getBidiFormatterInstance_=function(e){return r.$$bidiFormatterCache_[e]||(r.$$bidiFormatterCache_[e]=new n.i18n.BidiFormatter(e))},r.$$bidiTextDir=function(e,o){var t=s.getContentDir(e);if(null!=t)return t;var r=o||s.isContentKind(e,s.SanitizedContentKind.HTML);return n.i18n.bidi.estimateDirection(e+"",r)},r.$$bidiDirAttr=function(e,o,t){var i=r.$$getBidiFormatterInstance_(e),c=s.getContentDir(o);if(null==c){var d=t||s.isContentKind(o,s.SanitizedContentKind.HTML);c=n.i18n.bidi.estimateDirection(o+"",d)}return s.VERY_UNSAFE.ordainSanitizedHtmlAttribute(i.knownDirAttr(c))},r.$$bidiMarkAfter=function(e,o,t){var n=r.$$getBidiFormatterInstance_(e),i=t||s.isContentKind(o,s.SanitizedContentKind.HTML);return n.markAfterKnownDir(s.getContentDir(o),o+"",i)},r.$$bidiSpanWrap=function(e,o){return r.$$getBidiFormatterInstance_(e).spanWrapWithKnownDir(s.getContentDir(o),o+"",!0)},r.$$bidiUnicodeWrap=function(e,o){var t=r.$$getBidiFormatterInstance_(e),n=s.isContentKind(o,s.SanitizedContentKind.HTML),i=t.unicodeWrapWithKnownDir(s.getContentDir(o),o+"",n),c=t.getContextDir();return s.isContentKind(o,s.SanitizedContentKind.TEXT)?new s.UnsanitizedText(i,c):n?s.VERY_UNSAFE.ordainSanitizedHtml(i,c):i},r.esc.$$escapeUriHelper=function(e){return encodeURIComponent(String(e))},r.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},r.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(e){return r.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[e]},r.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\0":"\\x00","\b":"\\x08","\t":"\\t","\n":"\\n","\v":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22",$:"\\x24","&":"\\x26","'":"\\x27","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e","/":"\\/",":":"\\x3a","<":"\\x3c","=":"\\x3d",">":"\\x3e","?":"\\x3f","[":"\\x5b","\\":"\\\\","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029"},r.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(e){return r.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[e]},r.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\0":"\\0 ","\b":"\\8 ","\t":"\\9 ","\n":"\\a ","\v":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 ","":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "},r.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(e){return r.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[e]},r.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"},r.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(e){return r.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[e]},r.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,r.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,r.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,r.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,r.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,r.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,r.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,r.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,r.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,r.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,r.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i,r.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,r.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,r.esc.$$escapeHtmlHelper=function(e){return String(e).replace(r.esc.$$MATCHER_FOR_ESCAPE_HTML_,r.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},r.esc.$$normalizeHtmlHelper=function(e){return String(e).replace(r.esc.$$MATCHER_FOR_NORMALIZE_HTML_,r.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},r.esc.$$escapeHtmlNospaceHelper=function(e){return String(e).replace(r.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,r.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},r.esc.$$normalizeHtmlNospaceHelper=function(e){return String(e).replace(r.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,r.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},r.esc.$$escapeJsStringHelper=function(e){return String(e).replace(r.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,r.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},r.esc.$$escapeJsRegexHelper=function(e){return String(e).replace(r.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,r.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},r.esc.$$escapeCssStringHelper=function(e){return String(e).replace(r.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,r.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},r.esc.$$filterCssValueHelper=function(e){var o=String(e);return r.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(o)?o:"zSoyz"},r.esc.$$normalizeUriHelper=function(e){return String(e).replace(r.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,r.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},r.esc.$$filterNormalizeUriHelper=function(e){var o=String(e);return r.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(o)?o.replace(r.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,r.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):"#zSoyz"},r.esc.$$filterImageDataUriHelper=function(e){var o=String(e);return r.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(o)?o:"data:image/gif;base64,zSoyz"},r.esc.$$filterHtmlAttributesHelper=function(e){var o=String(e);return r.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(o)?o:"zSoyz"},r.esc.$$filterHtmlElementNameHelper=function(e){var o=String(e);return r.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(o)?o:"zSoyz"},r.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,r.esc.$$LT_REGEX_=/</g,r.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1},o.goog=n,o.soy=r,o.soydata=s,o.soyshim=i},"./node_modules/whatwg-fetch/fetch.js":function(e,o){!function(e){"use strict";function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var o={next:function(){var o=e.shift();return{done:void 0===o,value:o}}};return h.iterable&&(o[Symbol.iterator]=function(){return o}),o}function r(e){this.map={},e instanceof r?e.forEach(function(e,o){this.append(o,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(o){this.append(o,e[o])},this)}function s(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function i(e){return new Promise(function(o,t){e.onload=function(){o(e.result)},e.onerror=function(){t(e.error)}})}function c(e){var o=new FileReader,t=i(o);return o.readAsArrayBuffer(e),t}function d(e){var o=new FileReader,t=i(o);return o.readAsText(e),t}function l(e){for(var o=new Uint8Array(e),t=new Array(o.length),n=0;n<o.length;n++)t[n]=String.fromCharCode(o[n]);return t.join("")}function u(e){if(e.slice)return e.slice(0);var o=new Uint8Array(e.byteLength);return o.set(new Uint8Array(e)),o.buffer}function a(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(h.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(h.arrayBuffer&&h.blob&&v(e))this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!h.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!y(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e){var o=e.toUpperCase();return $.indexOf(o)>-1?o:e}function _(e,o){o=o||{};var t=o.body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,o.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,t||null==e._bodyInit||(t=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=o.credentials||this.credentials||"omit",!o.headers&&this.headers||(this.headers=new r(o.headers)),this.method=m(o.method||this.method||"GET"),this.mode=o.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t)}function p(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");o.append(decodeURIComponent(n),decodeURIComponent(r))}}),o}function f(e){var o=new r;return e.split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();o.append(n,r)}}),o}function j(e,o){o||(o={}),this.type="default",this.status="status"in o?o.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in o?o.statusText:"OK",this.headers=new r(o.headers),this.url=o.url||"",this._initBody(e)}if(!e.fetch){var h={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(h.arrayBuffer)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(e){return e&&DataView.prototype.isPrototypeOf(e)},y=ArrayBuffer.isView||function(e){return e&&E.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,n){e=o(e),n=t(n);var r=this.map[e];this.map[e]=r?r+","+n:n},r.prototype.delete=function(e){delete this.map[o(e)]},r.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},r.prototype.set=function(e,n){this.map[o(e)]=t(n)},r.prototype.forEach=function(e,o){for(var t in this.map)this.map.hasOwnProperty(t)&&e.call(o,this.map[t],t,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(o,t){e.push(t)}),n(e)},r.prototype.values=function(){var e=[];return this.forEach(function(o){e.push(o)}),n(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(o,t){e.push([t,o])}),n(e)},h.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var $=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},a.call(_.prototype),a.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},j.error=function(){var e=new j(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];j.redirect=function(e,o){if(-1===g.indexOf(o))throw new RangeError("Invalid status code");return new j(null,{status:o,headers:{location:e}})},e.Headers=r,e.Request=_,e.Response=j,e.fetch=function(e,o){return new Promise(function(t,n){var r=new _(e,o),s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:f(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;t(new j(o,e))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.open(r.method,r.url,!0),"include"===r.credentials&&(s.withCredentials=!0),"responseType"in s&&h.blob&&(s.responseType="blob"),r.headers.forEach(function(e,o){s.setRequestHeader(o,e)}),s.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},"./src/main/resources/js/polyfills.ts":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("./node_modules/core-js/fn/array/includes.js"),r=(t.n(n),t("./node_modules/core-js/fn/array/find.js")),s=(t.n(r),t("./node_modules/core-js/fn/array/from.js")),i=(t.n(s),t("./node_modules/core-js/fn/object/assign.js")),c=(t.n(i),t("./node_modules/core-js/fn/object/values.js")),d=(t.n(c),t("./node_modules/core-js/fn/object/entries.js")),l=(t.n(d),t("./node_modules/core-js/fn/string/includes.js")),u=(t.n(l),t("./node_modules/core-js/fn/string/starts-with.js")),a=(t.n(u),t("./node_modules/core-js/fn/string/ends-with.js")),m=(t.n(a),t("./node_modules/core-js/es6/promise.js")),_=(t.n(m),t("./node_modules/core-js/fn/promise.js"));t.n(_)},"./src/main/resources/soy/client/client-common.soy":function(e,o,t){ScriptRunner=window.ScriptRunner,n=window.plugin,com=window.com;var n,r=t("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").goog,s=t("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").soy;t("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").soydata,t("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").soyshim;if(void 0===n)var n={};void 0===n.com&&(n.com={}),void 0===n.com.onresolve&&(n.com.onresolve={}),void 0===n.com.onresolve.scriptrunner&&(n.com.onresolve.scriptrunner={}),n.com.onresolve.scriptrunner.listenerRow=function(e,o,t){return"<tr><td>"+s.$$escapeHtml(e.listener.name)+' <br><div class="description">Projects: '+s.$$escapeHtml(e.listener.projects.length>0?e.listener.projects:"All projects")+"<br>Events: "+s.$$escapeHtml(e.listener.friendlyEventNames.length>0?e.listener.friendlyEventNames:"All issue events")+"<br><em>"+s.$$escapeHtml(e.listener.FIELD_LISTENER_NOTES?e.listener.FIELD_LISTENER_NOTES:"No note")+"</em></div></td><td>"+(e.listener.FIELD_INLINE_SCRIPT?n.com.onresolve.scriptrunner.cm.codeMirrorArea({value:e.listener.FIELD_INLINE_SCRIPT,name:"dummy"+e.index,cssClass:"CodeMirror readonly CodeMirrorSmall",scriptCompileContext:"com.onresolve.scriptrunner.canned.jira.workflow.listeners.CustomListener.SCRIPT_CUSTOMLISTENER_CONTEXT"},null,t):(e.listener.clazz,""))+n.com.onresolve.scriptrunner.ownedByPlugin({object:e.listener},null,t)+n.com.onresolve.scriptrunner.runHistory({functionId:e.listener.FIELD_FUNCTION_ID},null,t)+"</td><td>"+(e.listener.ownedBy?"":n.com.onresolve.scriptrunner.tableActionButtons(e,null,t))+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.listenerRow.soyTemplateName="plugin.com.onresolve.scriptrunner.listenerRow"),n.com.onresolve.scriptrunner.confluenceListenerRow=function(e,o,t){return"<tr><td>"+s.$$escapeHtml(e.listener.name)+' <br><div class="description"><em>'+s.$$escapeHtml(e.listener.FIELD_NOTES?e.listener.FIELD_NOTES:"No note")+"</em></div></td><td>"+(e.listener.FIELD_INLINE_SCRIPT?n.com.onresolve.scriptrunner.cm.codeMirrorArea({value:e.listener.FIELD_INLINE_SCRIPT,name:"dummy",cssClass:"CodeMirror readonly CodeMirrorSmall",scriptCompileContext:"com.onresolve.scriptrunner.canned.confluence.events.SimpleScriptedEventHandler.SCRIPT_CONF_EVENT_LISTENER_CONTEXT"},null,t):e.listener.FIELD_SCRIPT_FILE?n.com.onresolve.scriptrunner.checkedCodeFile({scriptFile:e.listener.FIELD_SCRIPT_FILE,scriptCompileContext:"com.onresolve.scriptrunner.canned.confluence.events.SimpleScriptedEventHandler.SCRIPT_CONF_EVENT_LISTENER_CONTEXT"},null,t):"")+"</td><td>"+n.com.onresolve.scriptrunner.tableActionButtons(e,null,t)+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.confluenceListenerRow.soyTemplateName="plugin.com.onresolve.scriptrunner.confluenceListenerRow"),n.com.onresolve.scriptrunner.confluenceMacroRow=function(e,o,t){return"<tr><td>"+s.$$escapeHtml(e.macro.FIELD_MACRO_NAME)+(e.macro.helpUrl?'<a href="'+s.$$escapeHtmlAttribute(s.$$filterNormalizeUri(e.macro.helpUrl))+'"> <div class="aui-icon aui-icon-small aui-iconfont-help"></div> </a>&nbsp;':"")+' <br><div class="description"><em>'+s.$$escapeHtml(e.macro.FIELD_MACRO_DESC?e.macro.FIELD_MACRO_DESC:"")+"</em><br></div></td><td>"+(e.macro.FIELD_SCRIPT_FILE_OR_SCRIPT?e.macro.FIELD_SCRIPT_FILE_OR_SCRIPT[0]?n.com.onresolve.scriptrunner.cm.codeMirrorArea({value:e.macro.FIELD_SCRIPT_FILE_OR_SCRIPT[0],name:"dummy",cssClass:"CodeMirror readonly CodeMirrorSmall",scriptCompileContext:"com.onresolve.scriptrunner.canned.confluence.macros.CustomScriptMacro.SCRIPT_MACRO_CONTEXT"},null,t):e.macro.FIELD_SCRIPT_FILE_OR_SCRIPT[1]?n.com.onresolve.scriptrunner.checkedCodeFile({scriptFile:e.macro.FIELD_SCRIPT_FILE_OR_SCRIPT[1],scriptCompileContext:"com.onresolve.scriptrunner.canned.confluence.macros.CustomScriptMacro.SCRIPT_MACRO_CONTEXT"},null,t):"":"")+(e.macro.builtin?'<div class="description">This is a built-in macro and can\'t be edited, but you can disable it</div>':"")+n.com.onresolve.scriptrunner.ownedByPlugin({object:e.macro},null,t)+"</td><td>"+(e.macro.builtin?'<div class="aui-buttons switch mode-toggle" style="min-width: 160px"><button class="aui-button switch-mode-off mode-disabled" rel="'+s.$$escapeHtmlAttribute(e.macro.class)+'" title="Disable this macro" autocomplete="off" aria-pressed="'+s.$$escapeHtmlAttribute(!e.macro.enabled)+'">Disabled</button><button class="aui-button switch-mode-on  mode-enabled" rel="'+s.$$escapeHtmlAttribute(e.macro.class)+'" title="Enable this macro" autocomplete="off" aria-pressed="'+s.$$escapeHtmlAttribute(e.macro.enabled)+'">Enabled</button></div>':e.macro.ownedBy?"":n.com.onresolve.scriptrunner.tableActionButtons(e,null,t))+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.confluenceMacroRow.soyTemplateName="plugin.com.onresolve.scriptrunner.confluenceMacroRow"),n.com.onresolve.scriptrunner.scriptJobRow=function(e,o,t){var r="",i=1;if(e.macro.scriptCompileContext){e.macro.scriptCompileContext}else;return r+="<tr><td>"+s.$$escapeHtml(e.macro.FIELD_NOTES)+' <br><div class="description">'+(e.macro.expiredDate?'<span class="aui-lozenge aui-lozenge-complete aui-lozenge-subtle">Expired: <a class="expired-date" data-time="'+s.$$escapeHtmlAttribute(e.macro.expiredDate)+'">':'<span class="aui-lozenge aui-lozenge-current aui-lozenge-subtle">Next run: <a class="relative-date" data-time="'+s.$$escapeHtmlAttribute(e.macro.nextRunTime)+'" >')+"</a></span><br/></div></td><td>"+(e.macro.FIELD_JOB_CODE?e.macro.FIELD_JOB_CODE[0]?n.com.onresolve.scriptrunner.cm.codeMirrorArea({value:e.macro.FIELD_JOB_CODE[0],name:"dummy",cssClass:"CodeMirror readonly CodeMirrorSmall",scriptCompileContext:i},null,t):e.macro.FIELD_JOB_CODE[1]?n.com.onresolve.scriptrunner.checkedCodeFile({scriptFile:e.macro.FIELD_JOB_CODE[1],scriptCompileContext:i},null,t):"":'<div class="description">No code</div>')+n.com.onresolve.scriptrunner.runHistory({functionId:e.macro.FIELD_FUNCTION_ID},null,t)+n.com.onresolve.scriptrunner.ownedByPlugin({object:e.macro},null,t)+"</td><td>"+(e.macro.ownedBy?"":n.com.onresolve.scriptrunner.tableActionButtons(e,null,t))+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.scriptJobRow.soyTemplateName="plugin.com.onresolve.scriptrunner.scriptJobRow"),n.com.onresolve.scriptrunner.fragmentRow=function(e,o,t){return"<tr><td>"+s.$$escapeHtml(e.listener.name)+' <br><div class="description"><em>'+s.$$escapeHtml(e.listener.FIELD_NOTES?e.listener.FIELD_NOTES:"No note")+"</em></div><div>"+n.com.onresolve.scriptrunner.ownedByPlugin({object:e.listener},null,t)+"</div></td><td>"+(e.listener.ownedBy?"":n.com.onresolve.scriptrunner.tableActionButtons(e,null,t))+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.fragmentRow.soyTemplateName="plugin.com.onresolve.scriptrunner.fragmentRow"),n.com.onresolve.scriptrunner.confluenceExtractorRow=function(e,o,t){return"<tr><td>"+s.$$escapeHtml(e.listener.name)+' <br><div class="description"><em>'+s.$$escapeHtml(e.listener.FIELD_NOTES?e.listener.FIELD_NOTES:"No note")+"</em></div></td><td>"+(e.listener.FIELD_INLINE_SCRIPT?n.com.onresolve.scriptrunner.cm.codeMirrorArea({value:e.listener.FIELD_INLINE_SCRIPT,name:"dummy",cssClass:"CodeMirror readonly CodeMirrorSmall",scriptCompileContext:"com.onresolve.scriptrunner.canned.confluence.extractors.SimpleScriptedExtractorHandler.SCRIPT_CONF_EXTRACTOR_CONTEXT"},null,t):e.listener.FIELD_SCRIPT_FILE?n.com.onresolve.scriptrunner.checkedCodeFile({scriptFile:e.listener.FIELD_SCRIPT_FILE,scriptCompileContext:"com.onresolve.scriptrunner.canned.confluence.extractors.SimpleScriptedExtractorHandler.SCRIPT_CONF_EXTRACTOR_CONTEXT"},null,t):"")+"</td><td>"+n.com.onresolve.scriptrunner.tableActionButtons(e,null,t)+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.confluenceExtractorRow.soyTemplateName="plugin.com.onresolve.scriptrunner.confluenceExtractorRow"),n.com.onresolve.scriptrunner.confluenceCqlFunctionRow=function(e,o,t){return"<tr><td>"+s.$$escapeHtml(e.listener.name)+' <br><div class="description"><em>'+s.$$escapeHtml(e.listener.FIELD_NOTES?e.listener.FIELD_NOTES:"")+"</em></div></td><td>"+(e.listener.FIELD_INLINE_SCRIPT?n.com.onresolve.scriptrunner.cm.codeMirrorArea({value:e.listener.FIELD_INLINE_SCRIPT,name:"dummy",cssClass:"CodeMirror readonly CodeMirrorSmall",scriptCompileContext:"com.onresolve.scriptrunner.canned.confluence.cql.functions.SimpleScriptedCqlFunctionHandler.SCRIPT_CONF_CQL_FUNCTIONS_CONTEXT"},null,t):e.listener.FIELD_SCRIPT_FILE?n.com.onresolve.scriptrunner.checkedCodeFile({scriptFile:e.listener.FIELD_SCRIPT_FILE,scriptCompileContext:"com.onresolve.scriptrunner.canned.confluence.cql.functions.SimpleScriptedCqlFunctionHandler.SCRIPT_CONF_CQL_FUNCTIONS_CONTEXT"},null,t):"")+"</td><td>"+n.com.onresolve.scriptrunner.tableActionButtons(e,null,t)+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.confluenceCqlFunctionRow.soyTemplateName="plugin.com.onresolve.scriptrunner.confluenceCqlFunctionRow"),n.com.onresolve.scriptrunner.eventRow=function(e,o,t){return""+n.com.onresolve.scriptrunner.hookRow(s.$$augmentMap(e,{hook:e.hook,index:e.index,isEvent:!0}),null,t)},r.DEBUG&&(n.com.onresolve.scriptrunner.eventRow.soyTemplateName="plugin.com.onresolve.scriptrunner.eventRow"),n.com.onresolve.scriptrunner.tableActionButtons=function(e,o,t){return'<a href="#sr-cog-edit-delete-trigger" aria-owns="sr-cog-edit-delete'+s.$$escapeHtmlAttribute(e.index)+'" aria-haspopup="true" class="aui-button aui-style-default aui-dropdown2-trigger"><span class="aui-icon aui-icon-small aui-iconfont-configure sr-cog-edit-delete'+s.$$escapeHtmlAttribute(e.index)+'"></span></a><div id="sr-cog-edit-delete'+s.$$escapeHtmlAttribute(e.index)+'" class="aui-style-default aui-dropdown2"><ul class="aui-list-truncate"><li><span class="sr-table-edit-action"><a class="edit" rel="'+s.$$escapeHtmlAttribute(e.index)+'">Edit</a></span></li><li><span class="sr-table-delete-action sr-table-delete-action'+s.$$escapeHtmlAttribute(e.index)+'"><a class="delete" rel="'+s.$$escapeHtmlAttribute(e.index)+'">Delete</a></span></li></ul></div>'},r.DEBUG&&(n.com.onresolve.scriptrunner.tableActionButtons.soyTemplateName="plugin.com.onresolve.scriptrunner.tableActionButtons"),n.com.onresolve.scriptrunner.noItems=function(e,o,t){return'<tr><td colspan="'+s.$$escapeHtmlAttribute(e.colCount)+'"><em>None configured</em></td></tr>'},r.DEBUG&&(n.com.onresolve.scriptrunner.noItems.soyTemplateName="plugin.com.onresolve.scriptrunner.noItems"),n.com.onresolve.scriptrunner.scriptFunctionRow=function(e,o,t){return"<tr><td>"+s.$$escapeHtml(e.index)+'<div class="description">'+s.$$escapeHtml(e.function.description)+"</div></td><td>"+(e.function.scriptFile?n.com.onresolve.scriptrunner.checkedCodeFile({scriptFile:e.function.scriptFile,scriptCompileContext:"SCRIPT_CONSOLE_CONTEXT"},null,t):"")+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.scriptFunctionRow.soyTemplateName="plugin.com.onresolve.scriptrunner.scriptFunctionRow"),n.com.onresolve.scriptrunner.scriptFieldRow=function(e,o,t){return"<tr><td>"+s.$$escapeHtml(e.field.name)+' <br><div class="description"><a target="_blank" href="../../../secure/admin/ConfigureCustomField!default.jspa?customFieldId='+s.$$escapeUri(e.field.id)+'">'+s.$$escapeHtml(e.field.fieldConfigSchemeName)+'</a><br>Searcher: <a target="_blank" href="../../../secure/admin/EditCustomField!default.jspa?id='+s.$$escapeUri(e.field.id)+'">'+s.$$escapeHtml(e.field.searcherName?e.field.searcherName:"None")+"</a><br>Template: "+s.$$escapeHtml(e.field.templateFriendlyName?e.field.templateFriendlyName:"None")+"<br><em>"+s.$$escapeHtml(e.field.note?e.field.note:"None")+"</em></div></td><td>"+(e.field.script?n.com.onresolve.scriptrunner.cm.codeMirrorArea({value:e.field.script,name:"dummy-"+e.field.id,cssClass:"CodeMirror readonly CodeMirrorSmall",scriptCompileContext:"com.onresolve.scriptrunner.customfield.GroovyCustomField.SCRIPT_FIELD_CONTEXT",scriptCompileCtxOptions:'{"customFieldId": '+e.field.id+"}"},null,t):e.field.scriptFile?n.com.onresolve.scriptrunner.checkedCodeFile({scriptFile:e.field.scriptFile,scriptCompileContext:"com.onresolve.scriptrunner.customfield.GroovyCustomField.SCRIPT_FIELD_CONTEXT",scriptCompileCtxOptions:'{"customFieldId": '+e.field.id+"}"},null,t):"")+n.com.onresolve.scriptrunner.runHistory({functionId:"customfield_"+e.field.id},null,t)+"</td><td>"+(e.field.ownedBy?"":'<a href="#sr-cog-edit-delete-trigger" aria-owns="sr-cog-edit-delete'+s.$$escapeHtmlAttribute(e.field.id)+'" aria-haspopup="true" class="aui-button aui-style-default aui-dropdown2-trigger"><span class="aui-icon aui-icon-small aui-iconfont-configure sr-cog-edit-delete'+s.$$escapeHtmlAttribute(e.field.id)+'"></span></a><div id="sr-cog-edit-delete'+s.$$escapeHtmlAttribute(e.field.id)+'" class="aui-style-default aui-dropdown2"><ul class="aui-list-truncate"><li><span><a class="configureContext" target="_blank" href="../../../secure/admin/ConfigureCustomField!default.jspa?customFieldId='+s.$$escapeUri(e.field.id)+'">Configure Context</a></span></li><li><span><a class="configureScreens" target="_blank" href="../../../secure/admin/AssociateFieldToScreens!default.jspa?fieldId=customfield_'+s.$$escapeUri(e.field.id)+'">Configure Screens</a></span></li><li><span class="sr-table-edit-action"><a class="edit" rel="'+s.$$escapeHtmlAttribute(e.field.id)+'">Edit</a></span></li><li><span class="sr-table-delete-action sr-table-delete-action'+s.$$escapeHtmlAttribute(e.field.id)+'"><a class="delete" rel="'+s.$$escapeHtmlAttribute(e.field.id)+'">Delete</a></span></li></ul></div>')+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.scriptFieldRow.soyTemplateName="plugin.com.onresolve.scriptrunner.scriptFieldRow"),n.com.onresolve.scriptrunner.runHistory=function(e,o,t){return'<div style="font-size: small; color: grey; clear: both;"><span class="aui-icon aui-icon-small aui-iconfont-time" style="padding-right: 5px">Time</span><span class="run-summary-message" ></span></div><div class="function-history" rel="'+s.$$escapeHtmlAttribute(e.functionId)+'" style="clear: both; display: none; margin-top: 20px"><ol></ol></div>'},r.DEBUG&&(n.com.onresolve.scriptrunner.runHistory.soyTemplateName="plugin.com.onresolve.scriptrunner.runHistory"),n.com.onresolve.scriptrunner.dialogLogs=function(e,o,t){return"<p>Time (on server): <tt>"+s.$$escapeHtml(e.timestamp)+'</tt></p><p>The following log information was produced by this execution. Use statements like:<tt>log.info("...")</tt> to record logging information.</p>'+(e.logs?"<pre style='font-size: small'>"+s.$$escapeHtml(e.logs)+"</pre>":"<p><em>No logs were found for this execution.</em></p>")},r.DEBUG&&(n.com.onresolve.scriptrunner.dialogLogs.soyTemplateName="plugin.com.onresolve.scriptrunner.dialogLogs"),n.com.onresolve.scriptrunner.dialogTiming=function(e,o,t){return"<div >Elapsed: <span ><strong>"+s.$$escapeHtml(e.millisecondsTaken)+"</strong></span> ms<br>CPU time: <span ><strong>"+s.$$escapeHtml(e.cpuTime)+"</strong></span> ms</div>"},r.DEBUG&&(n.com.onresolve.scriptrunner.dialogTiming.soyTemplateName="plugin.com.onresolve.scriptrunner.dialogTiming"),n.com.onresolve.scriptrunner.popupConditionInfo=function(e,o,t){return'<div id="binding-pop-div" class="sr-custom-info-popup"><div class="infodiv"><p><span class="sr-infoheader">Script Information</span></p></div><div class="sr-infoheader-line-empty"></div><div class="sr-infoheader-line"></div><div><p class="sr-condition-info-heading"><span class="aui-icon aui-icon-large aui-iconfont-warning sr-warn-custom-ico"/><span class="condition-text">Binding variables for <span style="color : beige;">Condition</span> scripts varies depends on the location of the fragment.</span></p><p><span class="sr-condition-info-txt">To get the list of available binding variables enable the web fragment finder (located under Script Fragments heading of this page) and hover over the name of the fragment. <br>Care must be taken to avoid null pointer exception while writing Condition script and the script should be tested properly to avoid unexpected errors.</span></p></div></div>'},r.DEBUG&&(n.com.onresolve.scriptrunner.popupConditionInfo.soyTemplateName="plugin.com.onresolve.scriptrunner.popupConditionInfo"),n.com.onresolve.scriptrunner.popupLoadingInfo=function(e,o,t){return'<div id="binding-pop-div" class="sr-custom-info-popup"><div class="infodiv"><p class="sr-custom-info-popup-loading">'+s.$$escapeHtml(e.msg)+"</p></div></div>"},r.DEBUG&&(n.com.onresolve.scriptrunner.popupLoadingInfo.soyTemplateName="plugin.com.onresolve.scriptrunner.popupLoadingInfo"),n.com.onresolve.scriptrunner.dialogBindingInfo=function(e,o,t){return'<div id="binding-pop-div" class="sr-custom-info-popup"><div class="infodiv"><p><span class="sr-infoheader">Script Information: </span><span class="sr-infoheader-text">'+s.$$escapeHtml(e.element)+'</span></p></div><div class="sr-infoheader-line-empty"></div><div class="sr-infoheader-line"></div>'+n.com.onresolve.scriptrunner.dialogBindingInfoContent(e,null,t)+"</div>"},r.DEBUG&&(n.com.onresolve.scriptrunner.dialogBindingInfo.soyTemplateName="plugin.com.onresolve.scriptrunner.dialogBindingInfo"),n.com.onresolve.scriptrunner.dialogBindingInfoContent=function(e,o,t){for(var n='<table border="0" cellspacing="0" cellpadding="5"><thead><tr><th class="sr-th-element">Name</th><th class="sr-th-class">Type</th><th class="sr-th-description">Description</th></tr></thead><tbody>',r=s.$$getMapKeys(e.bindingVariables),i=r.length,c=0;c<i;c++){var d=r[c];n+='<tr class="info"><td class="sr-td-text">'+s.$$escapeHtml(d)+'</td><td class="sr-td-text">'+s.$$filterNoAutoescape(e.bindingVariables[d][0])+'</td><td class="sr-td-text">'+(e.bindingVariables[d][1]?s.$$filterNoAutoescape(e.bindingVariables[d][1]):"")+"</td></tr>"}if(n+="</tbody>",s.$$getMapKeys(e.other).length>0){n+='<tr ><td colspan="3"><b>Additional Information</b></td></tr>';for(var l=s.$$getMapKeys(e.other),u=l.length,a=0;a<u;a++){var m=l[a];n+="<tr><td>"+s.$$escapeHtml(m)+'</td><td colspan="2">'+s.$$escapeHtml(e.other[m])+"</td></tr>"}}return n+="</table>"},r.DEBUG&&(n.com.onresolve.scriptrunner.dialogBindingInfoContent.soyTemplateName="plugin.com.onresolve.scriptrunner.dialogBindingInfoContent"),n.com.onresolve.scriptrunner.bambooListenerRow=function(e,o,t){return"<tr><td>"+s.$$escapeHtml(e.listener.name)+' <br><div class="description"><em>'+s.$$escapeHtml(e.listener.FIELD_NOTES?e.listener.FIELD_NOTES:"No note")+"</em></div></td><td>"+(e.listener.FIELD_INLINE_SCRIPT?n.com.onresolve.scriptrunner.cm.codeMirrorArea({value:e.listener.FIELD_INLINE_SCRIPT,name:"dummy",cssClass:"CodeMirror readonly CodeMirrorSmall",scriptCompileContext:"com.onresolve.scriptrunner.canned.bamboo.events.SimpleScriptedEventHandler.SCRIPT_BAMBOO_EVENT_LISTENER_CONTEXT"},null,t):e.listener.FIELD_SCRIPT_FILE?n.com.onresolve.scriptrunner.checkedCodeFile({scriptFile:e.listener.FIELD_SCRIPT_FILE,scriptCompileContext:"com.onresolve.scriptrunner.canned.bamboo.events.SimpleScriptedEventHandler.SCRIPT_BAMBOO_EVENT_LISTENER_CONTEXT"},null,t):"")+"</td><td>"+n.com.onresolve.scriptrunner.tableActionButtons(e,null,t)+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.bambooListenerRow.soyTemplateName="plugin.com.onresolve.scriptrunner.bambooListenerRow"),n.com.onresolve.scriptrunner.checkedCodeFile=function(e,o,t){return'<div class="script-picker"><div class="scriptFileSource typeahead" placeholder="Start typing to search for script files..." data-scriptfile="'+s.$$escapeHtmlAttribute(e.scriptFile)+'" data-sr-context="'+s.$$escapeHtmlAttribute(e.scriptCompileContext)+'" data-sr-context-options="'+s.$$escapeHtmlAttribute(e.scriptCompileCtxOptions)+'"><span class="rag" style="padding-right: 10px">&nbsp;</span><tt style="font-size: 12px">'+s.$$escapeHtml(e.scriptFile)+'</tt></div></div><div class="scriptInfo description" rel="'+s.$$escapeHtmlAttribute(e.scriptFile)+'"></div>'},r.DEBUG&&(n.com.onresolve.scriptrunner.checkedCodeFile.soyTemplateName="plugin.com.onresolve.scriptrunner.checkedCodeFile"),n.com.onresolve.scriptrunner.ownedByPlugin=function(e,o,t){return e.object.ownedBy?'<div class="description">Owned by a script plugin ('+s.$$escapeHtml(e.object.ownedBy)+")</div>":""},r.DEBUG&&(n.com.onresolve.scriptrunner.ownedByPlugin.soyTemplateName="plugin.com.onresolve.scriptrunner.ownedByPlugin"),n.com.onresolve.scriptrunner.scriptEndpointRow=function(e,o,t){for(var r="<tr><td>"+s.$$escapeHtml(e.endpoint.resourcePath)+'<div class="description">',i=e.endpoint.endpoints,c=i.length,d=0;d<c;d++){var l=i[d];r+='<div><a href="../../../rest/scriptrunner/latest/custom/'+s.$$escapeHtmlAttribute(l.name)+'">'+s.$$escapeHtml(l.name)+"</a>("+s.$$escapeHtml(l.verb)+")"+(l.groups?' <span style="color: red"> Restricted to '+s.$$escapeHtml(l.groups)+"</span> ":"")+"</div>"+(e.endpoint.FIELD_NOTES?"<em>"+s.$$escapeHtml(e.endpoint.FIELD_NOTES)+"</em>":"")+n.com.onresolve.scriptrunner.runHistory({functionId:l.verb+"-"+l.name},null,t)}return r+="</div></td><td>"+(e.endpoint.FIELD_INLINE_SCRIPT?n.com.onresolve.scriptrunner.cm.codeMirrorArea({value:e.endpoint.FIELD_INLINE_SCRIPT,name:"dummy"+e.index,cssClass:"CodeMirror readonly CodeMirrorSmall",scriptCompileContext:"com.onresolve.scriptrunner.runner.stc.ScriptCompileContext.SCRIPT_CONSOLE_CONTEXT"},null,t):"")+(null==e.endpoint.id?'<div class="description">Found by class scanning and can\'t be edited here</div>':"")+n.com.onresolve.scriptrunner.ownedByPlugin({object:e.endpoint},null,t)+"</td><td>"+(e.endpoint.id&&!e.endpoint.ownedBy?n.com.onresolve.scriptrunner.tableActionButtons(e,null,t):"")+"</td></tr>"},r.DEBUG&&(n.com.onresolve.scriptrunner.scriptEndpointRow.soyTemplateName="plugin.com.onresolve.scriptrunner.scriptEndpointRow"),e.exports=n.com.onresolve.scriptrunner,"undefined"!=typeof com&&(window.com=com),void 0!==n&&(window.plugin=n),"undefined"!=typeof ScriptRunner&&(window.ScriptRunner=ScriptRunner)},24:function(e,o,t){t("./src/main/resources/js/polyfills.ts"),t("./node_modules/whatwg-fetch/fetch.js"),e.exports=t("./src/main/resources/soy/client/client-common.soy")}});;
;
/* module-key = 'com.atlassian.plugin.jslibs:moment-2.6.0', location = 'libs/moment/2.6.0/moment-2.6.0.js' */
(function(A){define("atlassian/libs/moment-2.6.0",function(){var z={};A.call(z);return z.moment})})(function(){for(var A=function(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}},z=function(a,b){var c=!0;return l(function(){c&&(!1===e.suppressDeprecationWarnings&&("undefined"!==typeof console&&console.warn)&&console.warn("Deprecation warning: "+a),c=!1);return b.apply(this,arguments)},b)},X=function(a,
b){return function(c){return j(a.call(this,c),b)}},ua=function(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}},Y=function(){},F=function(a){Z(a);l(this,a)},G=function(a){var a=$(a),b=a.year||0,c=a.quarter||0,d=a.month||0,g=a.week||0,e=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+e+7*g;this._months=+d+3*c+12*b;this._data={};this._bubble()},l=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);b.hasOwnProperty("toString")&&
(a.toString=b.toString);b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf);return a},v=function(a){return 0>a?Math.ceil(a):Math.floor(a)},j=function(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d},I=function(a,b,c,d){var g=b._milliseconds,f=b._days,b=b._months,d=null==d?!0:d;g&&a._d.setTime(+a._d+g*c);f&&aa(a,"Date",H(a,"Date")+f*c);b&&ba(a,H(a,"Month")+b*c);d&&e.updateOffset(a,f||b)},J=function(a){return"[object Array]"===Object.prototype.toString.call(a)},ca=function(a,
b,c){var d=Math.min(a.length,b.length),g=Math.abs(a.length-b.length),e=0,h;for(h=0;h<d;h++)(c&&a[h]!==b[h]||!c&&i(a[h])!==i(b[h]))&&e++;return e+g},r=function(a){if(a)var b=a.toLowerCase().replace(/(.)s$/,"$1"),a=va[a]||wa[b]||b;return a},$=function(a){var b={},c,d;for(d in a)a.hasOwnProperty(d)&&(c=r(d))&&(b[c]=a[d]);return b},xa=function(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else if(0===a.indexOf("month"))b=12,c="month";else return;e[a]=function(d,g){var f,h,i=e.fn._lang[a],j=[];"number"===
typeof d&&(g=d,d=void 0);h=function(a){a=e().utc().set(c,a);return i.call(e.fn._lang,a,d||"")};if(null!=g)return h(g);for(f=0;f<b;f++)j.push(h(f));return j}},i=function(a){var a=+a,b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b},K=function(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},da=function(a,b,c){return B(e([a,11,31+b-c]),b,c).week},L=function(a){return 0===a%4&&0!==a%100||0===a%400},Z=function(a){var b;if(a._a&&-2===a._pf.overflow){b=0>a._a[s]||11<a._a[s]?s:
1>a._a[o]||a._a[o]>K(a._a[p],a._a[s])?o:0>a._a[m]||23<a._a[m]?m:0>a._a[w]||59<a._a[w]?w:0>a._a[C]||59<a._a[C]?C:0>a._a[D]||999<a._a[D]?D:-1;if(a._pf._overflowDayOfYear&&(b<p||b>o))b=o;a._pf.overflow=b}},ea=function(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length));return a._isValid},M=
function(a){return a?a.toLowerCase().replace("_","-"):a},N=function(a,b){return b._isUTC?e(a).zone(b._offset||0):e(a).local()},q=function(a){var b=0,c,d,g,f,h=function(a){if(!x[a]&&ya)try{require("./lang/"+a)}catch(b){}return x[a]};if(!a)return e.fn._lang;if(!J(a)){if(d=h(a))return d;a=[a]}for(;b<a.length;){f=M(a[b]).split("-");c=f.length;for(g=(g=M(a[b+1]))?g.split("-"):null;0<c;){if(d=h(f.slice(0,c).join("-")))return d;if(g&&g.length>=c&&ca(f,g,!0)>=c-1)break;c--}b++}return e.fn._lang},P=function(a,
b){if(!a.isValid())return a.lang().invalidDate();b=fa(b,a.lang());if(!O[b]){var c=O,d=b,g=b,e=g.match(ga),h,i;h=0;for(i=e.length;h<i;h++)e[h]=t[e[h]]?t[e[h]]:e[h].match(/\[[\s\S]/)?e[h].replace(/^\[|\]$/g,""):e[h].replace(/\\/g,"");c[d]=function(a){var b="";for(h=0;h<i;h++)b+=e[h]instanceof Function?e[h].call(a,g):e[h];return b}}return O[b](a)},fa=function(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(E.lastIndex=0;0<=d&&E.test(a);)a=a.replace(E,c),E.lastIndex=0,d-=1;return a},Ka=function(a,
b){var c=b._strict;switch(a){case "Q":return ha;case "DDDD":return ia;case "YYYY":case "GGGG":case "gggg":return c?za:Aa;case "Y":case "G":case "g":return Ba;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?Ca:Da;case "S":if(c)return ha;case "SS":if(c)return ja;case "SSS":if(c)return ia;case "DDD":return Ea;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Fa;case "a":case "A":return q(b._l)._meridiemParse;case "X":return Ga;case "Z":case "ZZ":return Q;case "T":return Ha;
case "SSSS":return Ia;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?ja:ka;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return ka;case "Do":return Ja;default:var c=RegExp,d;d=a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return c(d)}},la=function(a){var a=(a||"").match(Q)||[],
a=((a[a.length-1]||[])+"").match(La)||["-",0,0],b=+(60*a[1])+i(a[2]);return"+"===a[0]?-b:b},S=function(a){var b,c=[],d,g,f,h,j;if(!a._d){d=new Date;d=a._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];a._w&&(null==a._a[o]&&null==a._a[s])&&(b=function(b){var c=parseInt(b,10);return b?3>b.length?68<c?1900+c:2E3+c:c:null==a._a[p]?e().weekYear():a._a[p]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?b=ma(b(g.GG),g.W||1,g.E,4,1):(f=q(a._l),h=null!=g.d?na(g.d,
f):null!=g.e?parseInt(g.e,10)+f._week.dow:0,j=parseInt(g.w,10)||1,null!=g.d&&h<f._week.dow&&j++,b=ma(b(g.gg),j,h,f._week.doy,f._week.dow)),a._a[p]=b.year,a._dayOfYear=b.dayOfYear);if(a._dayOfYear){b=null==a._a[p]?d[p]:a._a[p];if(a._dayOfYear>(L(b)?366:365))a._pf._overflowDayOfYear=!0;b=R(b,0,a._dayOfYear);a._a[s]=b.getUTCMonth();a._a[o]=b.getUTCDate()}for(b=0;3>b&&null==a._a[b];++b)a._a[b]=c[b]=d[b];for(;7>b;b++)a._a[b]=c[b]=null==a._a[b]?2===b?1:0:a._a[b];c[m]+=i((a._tzm||0)/60);c[w]+=i((a._tzm||
0)%60);a._d=(a._useUTC?R:Ma).apply(null,c)}},T=function(a){a._a=[];a._pf.empty=!0;var b=q(a._l),c=""+a._i,d,g,f,h,j=c.length,k=0;g=fa(a._f,b).match(ga)||[];for(b=0;b<g.length;b++){f=g[b];if(d=(c.match(Ka(f,a))||[])[0])h=c.substr(0,c.indexOf(d)),0<h.length&&a._pf.unusedInput.push(h),c=c.slice(c.indexOf(d)+d.length),k+=d.length;if(t[f]){d?a._pf.empty=!1:a._pf.unusedTokens.push(f);h=a;var l=void 0,n=h._a;switch(f){case "Q":null!=d&&(n[s]=3*(i(d)-1));break;case "M":case "MM":null!=d&&(n[s]=i(d)-1);break;
case "MMM":case "MMMM":l=q(h._l).monthsParse(d);null!=l?n[s]=l:h._pf.invalidMonth=d;break;case "D":case "DD":null!=d&&(n[o]=i(d));break;case "Do":null!=d&&(n[o]=i(parseInt(d,10)));break;case "DDD":case "DDDD":null!=d&&(h._dayOfYear=i(d));break;case "YY":n[p]=e.parseTwoDigitYear(d);break;case "YYYY":case "YYYYY":case "YYYYYY":n[p]=i(d);break;case "a":case "A":h._isPm=q(h._l).isPM(d);break;case "H":case "HH":case "h":case "hh":n[m]=i(d);break;case "m":case "mm":n[w]=i(d);break;case "s":case "ss":n[C]=
i(d);break;case "S":case "SS":case "SSS":case "SSSS":n[D]=i(1E3*("0."+d));break;case "X":h._d=new Date(1E3*parseFloat(d));break;case "Z":case "ZZ":h._useUTC=!0;h._tzm=la(d);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":f=f.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":f=f.substr(0,2),d&&(h._w=h._w||{},h._w[f]=d)}}else a._strict&&!d&&a._pf.unusedTokens.push(f)}a._pf.charsLeftOver=j-k;0<c.length&&a._pf.unusedInput.push(c);
a._isPm&&12>a._a[m]&&(a._a[m]+=12);!1===a._isPm&&12===a._a[m]&&(a._a[m]=0);S(a);Z(a)},Ma=function(a,b,c,d,e,f,h){b=new Date(a,b,c,d,e,f,h);1970>a&&b.setFullYear(a);return b},R=function(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b},na=function(a,b){if("string"===typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!==typeof a)return null}else a=parseInt(a,10);return a},Na=function(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)},B=function(a,b,c){b=c-b;c-=
a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=e(a).add("d",c);return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}},ma=function(a,b,c,d,e){var f=R(a,0,1).getUTCDay(),b=7*(b-1)+((null!=c?c:e)-e)+(e-f+(f>d?7:0)-(f<e?7:0))+1;return{year:0<b?a:a-1,dayOfYear:0<b?b:(L(a-1)?366:365)+b}},pa=function(a){var b=a._i,c=a._f;if(null===b||void 0===c&&""===b)return e.invalid({nullInput:!0});"string"===typeof b&&(a._i=b=q().preparse(b));if(e.isMoment(b)){var a=b,d={},g;for(g in a)a.hasOwnProperty(g)&&oa.hasOwnProperty(g)&&
(d[g]=a[g]);a=d;a._d=new Date(+b._d)}else if(c)if(J(c)){var b=a,f,h;if(0===b._f.length)b._pf.invalidFormat=!0,b._d=new Date(NaN);else{for(g=0;g<b._f.length;g++)if(c=0,d=l({},b),d._pf=A(),d._f=b._f[g],T(d),ea(d)&&(c+=d._pf.charsLeftOver,c+=10*d._pf.unusedTokens.length,d._pf.score=c,null==h||c<h))h=c,f=d;l(b,f||d)}}else T(a);else if(d=a,f=d._i,h=Oa.exec(f),void 0===f)d._d=new Date;else if(h)d._d=new Date(+h[1]);else if("string"===typeof f)if(b=d._i,g=Pa.exec(b)){d._pf.iso=!0;f=0;for(h=U.length;f<h;f++)if(U[f][1].exec(b)){d._f=
U[f][0]+(g[6]||" ");break}f=0;for(h=V.length;f<h;f++)if(V[f][1].exec(b)){d._f+=V[f][0];break}b.match(Q)&&(d._f+="Z");T(d)}else e.createFromInputFallback(d);else J(f)?(d._a=f.slice(0),S(d)):"[object Date]"===Object.prototype.toString.call(f)||f instanceof Date?d._d=new Date(+f):"object"===typeof f?d._d||(f=$(d._i),d._a=[f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond],S(d)):"number"===typeof f?d._d=new Date(f):e.createFromInputFallback(d);return new F(a)},ba=function(a,b){var c;if("string"===
typeof b&&(b=a.lang().monthsParse(b),"number"!==typeof b))return a;c=Math.min(a.date(),K(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a},H=function(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()},aa=function(a,b,c){return"Month"===b?ba(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)},u=function(a,b){return function(c){return null!=c?(aa(this,a,c),e.updateOffset(this,b),this):H(this,a)}},Qa=function(a){e.duration.fn[a]=function(){return this._data[a]}},qa=function(a,b){e.duration.fn["as"+
a]=function(){return+this/b}},e,Ra="undefined"!==typeof global?global:this,y=Math.round,k,p=0,s=1,o=2,m=3,w=4,C=5,D=6,x={},oa={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},ya="undefined"!==typeof module&&module.exports,Oa=/^\/?Date\((\-?\d+)/i,Sa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ta=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ga=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,
E=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ka=/\d\d?/,Ea=/\d{1,3}/,Aa=/\d{1,4}/,Da=/[+\-]?\d{1,6}/,Ia=/\d+/,Fa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Q=/Z|[\+\-]\d\d:?\d\d/gi,Ha=/T/i,Ga=/[\+\-]?\d+(\.\d{1,3})?/,Ja=/\d{1,2}/,ha=/\d/,ja=/\d\d/,ia=/\d{3}/,za=/\d{4}/,Ca=/[+-]?\d{6}/,Ba=/[+-]?\d+/,Pa=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
U=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],V=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],La=/([\+\-]|\d\d)/gi,W={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},va={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},wa={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},O={},ra="DDD w W M D d".split(" "),sa="MDHhmswW".split(""),t={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},
dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return j(this.year()%100,2)},YYYY:function(){return j(this.year(),4)},YYYYY:function(){return j(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+j(Math.abs(a),6)},gg:function(){return j(this.weekYear()%100,2)},gggg:function(){return j(this.weekYear(),
4)},ggggg:function(){return j(this.weekYear(),5)},GG:function(){return j(this.isoWeekYear()%100,2)},GGGG:function(){return j(this.isoWeekYear(),4)},GGGGG:function(){return j(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},
s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return j(i(this.milliseconds()/10),2)},SSS:function(){return j(this.milliseconds(),3)},SSSS:function(){return j(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+j(i(a/60),2)+":"+j(i(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+j(i(a/60),2)+j(i(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},
Q:function(){return this.quarter()}},ta=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ra.length;)k=ra.pop(),t[k+"o"]=ua(t[k],k);for(;sa.length;)k=sa.pop(),t[k+k]=X(t[k],2);t.DDDD=X(t.DDD,3);l(Y.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=e.utc([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=e([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",
L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",
nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,
d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return B(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});e=function(a,b,c,d){var e;"boolean"===typeof c&&(d=c,c=
void 0);e={_isAMomentObject:!0};e._i=a;e._f=b;e._l=c;e._strict=d;e._isUTC=!1;e._pf=A();return pa(e)};e.suppressDeprecationWarnings=!1;e.createFromInputFallback=z("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)});e.utc=function(a,b,c,d){var e;"boolean"===typeof c&&(d=c,c=void 0);e={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};e._l=
c;e._i=a;e._f=b;e._strict=d;e._pf=A();return pa(e).utc()};e.unix=function(a){return e(1E3*a)};e.duration=function(a,b){var c=a,d=null,g;if(e.isDuration(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c={},b?c[b]=a:c.milliseconds=a;else if(d=Sa.exec(a))g="-"===d[1]?-1:1,c={y:0,d:i(d[o])*g,h:i(d[m])*g,m:i(d[w])*g,s:i(d[C])*g,ms:i(d[D])*g};else if(d=Ta.exec(a))g="-"===d[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*g},c={y:c(d[2]),M:c(d[3]),
d:c(d[4]),h:c(d[5]),m:c(d[6]),s:c(d[7]),w:c(d[8])};d=new G(c);e.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang);return d};e.version="2.6.0";e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";e.momentProperties=oa;e.updateOffset=function(){};e.lang=function(a,b){if(!a)return e.fn._lang._abbr;if(b){var c=M(a);b.abbr=c;x[c]||(x[c]=new Y);x[c].set(b)}else null===b?(delete x[a],a="en"):x[a]||q(a);return(e.duration.fn._lang=e.fn._lang=q(a))._abbr};e.langData=function(a){a&&(a._lang&&a._lang._abbr)&&(a=
a._lang._abbr);return q(a)};e.isMoment=function(a){return a instanceof F||null!=a&&a.hasOwnProperty("_isAMomentObject")};e.isDuration=function(a){return a instanceof G};for(k=ta.length-1;0<=k;--k)xa(ta[k]);e.normalizeUnits=function(a){return r(a)};e.invalid=function(a){var b=e.utc(NaN);null!=a?l(b._pf,a):b._pf.userInvalidated=!0;return b};e.parseZone=function(){return e.apply(null,arguments).parseZone()};e.parseTwoDigitYear=function(a){return i(a)+(68<i(a)?1900:2E3)};l(e.fn=F.prototype,{clone:function(){return e(this)},
valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=e(this).utc();return 0<a.year()&&9999>=a.year()?P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),
this.seconds(),this.milliseconds()]},isValid:function(){return ea(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<ca(this._a,(this._isUTC?e.utc(this._a):e(this._a)).toArray()):!1},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=!1;return this},format:function(a){a=P(this,a||e.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c="string"===
typeof a?e.duration(+b,a):e.duration(a,b);I(this,c,1);return this},subtract:function(a,b){var c;c="string"===typeof a?e.duration(+b,a):e.duration(a,b);I(this,c,-1);return this},diff:function(a,b,c){var a=N(a,this),d=6E4*(this.zone()-a.zone()),g,b=r(b);"year"===b||"month"===b?(g=432E5*(this.daysInMonth()+a.daysInMonth()),d=12*(this.year()-a.year())+(this.month()-a.month()),d+=(this-e(this).startOf("month")-(a-e(a).startOf("month")))/g,d-=6E4*(this.zone()-e(this).startOf("month").zone()-(a.zone()-e(a).startOf("month").zone()))/
g,"year"===b&&(d/=12)):(g=this-a,d="second"===b?g/1E3:"minute"===b?g/6E4:"hour"===b?g/36E5:"day"===b?(g-d)/864E5:"week"===b?(g-d)/6048E5:g);return c?d:v(d)},from:function(a,b){return e.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(e(),a)},calendar:function(){var a=N(e(),this).startOf("day"),a=this.diff(a,"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",
this))},isLeapYear:function(){return L(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=na(a,this.lang()),this.add({d:a-b})):b},month:u("Month",!0),startOf:function(a){a=r(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);
case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(a){a=r(a);return this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)>+e(a).startOf(b)},isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+e(a).startOf(b)},isSame:function(a,
b){b=b||"ms";return+this.clone().startOf(b)===+N(a,this).startOf(b)},min:function(a){a=e.apply(null,arguments);return a<this?this:a},max:function(a){a=e.apply(null,arguments);return a>this?this:a},zone:function(a,b){var c=this._offset||0;if(null!=a)"string"===typeof a&&(a=la(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?I(this,e.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null));
else return this._isUTC?c:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?e(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){return K(this.year(),this.month())},dayOfYear:function(a){var b=y((e(this).startOf("day")-e(this).startOf("year"))/
864E5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=B(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=B(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=B(this,1,4).week;return null==a?b:this.add("d",
7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return da(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return da(this.year(),a.dow,a.doy)},get:function(a){a=r(a);return this[a]()},set:function(a,b){a=r(a);if("function"===typeof this[a])this[a](b);return this},lang:function(a){if(void 0===a)return this._lang;this._lang=
q(a);return this}});e.fn.millisecond=e.fn.milliseconds=u("Milliseconds",!1);e.fn.second=e.fn.seconds=u("Seconds",!1);e.fn.minute=e.fn.minutes=u("Minutes",!1);e.fn.hour=e.fn.hours=u("Hours",!0);e.fn.date=u("Date",!0);e.fn.dates=z("dates accessor is deprecated. Use date instead.",u("Date",!0));e.fn.year=u("FullYear",!0);e.fn.years=z("years accessor is deprecated. Use year instead.",u("FullYear",!0));e.fn.days=e.fn.day;e.fn.months=e.fn.month;e.fn.weeks=e.fn.week;e.fn.isoWeeks=e.fn.isoWeek;e.fn.quarters=
e.fn.quarter;e.fn.toJSON=e.fn.toISOString;l(e.duration.fn=G.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;d.milliseconds=a%1E3;a=v(a/1E3);d.seconds=a%60;a=v(a/60);d.minutes=a%60;a=v(a/60);d.hours=a%24;b+=v(a/24);d.days=b%30;c+=v(b/30);d.months=c%12;b=v(c/12);d.years=b},weeks:function(){return v(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*i(this._months/12)},humanize:function(a){var b=
+this,c;c=!a;var d=this.lang(),e=y(Math.abs(b)/1E3),f=y(e/60),h=y(f/60),i=y(h/24),j=y(i/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===h&&["h"]||22>h&&["hh",h]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",y(i/30)]||1===j&&["y"]||["yy",j];e[2]=c;e[3]=0<b;e[4]=d;c=Na.apply({},e);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},add:function(a,b){var c=e.duration(a,b);this._milliseconds+=c._milliseconds;this._days+=c._days;this._months+=c._months;this._bubble();
return this},subtract:function(a,b){var c=e.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=r(a);return this[a.toLowerCase()+"s"]()},as:function(a){a=r(a);return this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:e.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+
this.milliseconds()/1E3);return!this.asSeconds()?"P0D":(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":"")}});for(k in W)W.hasOwnProperty(k)&&(qa(k,W[k]),Qa(k.toLowerCase()));qa("Weeks",6048E5);e.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};e.lang("en",{ordinal:function(a){var b=a%10,b=1===i(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});"undefined"===typeof ender&&
(Ra.moment=e)});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.lib.js' */
define("jira/moment/moment.lib",["atlassian/libs/moment-2.6.0"],function(moment){return moment});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.formatter.js' */
define("jira/moment/moment.jira.formatter",["underscore","exports"],function(_,exports){var map={d:"D",y:"Y",a:"A",E:"d",u:"d",Z:"ZZ",z:"[GMT]ZZ",XX:"ZZ",XXX:"Z"};function actuallyTranslate(tmpBuffer){return map[tmpBuffer]||_.reduce(tmpBuffer,function(memo,value){return memo+(map[value]||value)},"")}function translateSimpleDateFormat(pattern){var inQuote=false;var skip=false;var tmpBuffer="";var reduction=_.reduce(pattern,function(memo,value,index,list){if(skip){skip=false}else{if(value==="'"){if(tmpBuffer){memo+=actuallyTranslate(tmpBuffer);tmpBuffer=""}if(list[index+1]==="'"){memo+=value;skip=true}else{memo+=!inQuote?"[":"]";inQuote=!inQuote}}else{if(inQuote){memo+=value}else{if(!/[a-zA-Z]/.test(value)){if(tmpBuffer){memo+=actuallyTranslate(tmpBuffer);tmpBuffer=""}memo+=value}else{if(!tmpBuffer||tmpBuffer[tmpBuffer.length-1]===value){tmpBuffer+=value}else{memo+=actuallyTranslate(tmpBuffer);tmpBuffer=value}}}}}return memo},"");if(tmpBuffer){reduction+=actuallyTranslate(tmpBuffer)}return reduction}exports.translateSimpleDateFormat=translateSimpleDateFormat});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.i18n.js' */
define("jira/moment/moment.jira.i18n",["jira/moment/moment.lib","jira/moment/moment.jira.formatter","jira/util/formatter","jira/util/data/meta","wrm/data"],function(moment,momentFmt,formatter,Meta,wrmData){var timeUnits=wrmData.claim("jira.webresources:dateFormatProvider.dateFormat");moment.lang("jira",{months:timeUnits.months,monthsShort:timeUnits.monthsShort,weekdays:timeUnits.weekdays,weekdaysShort:timeUnits.weekdaysShort,weekdaysMin:timeUnits.weekdaysShort,longDateFormat:{LT:momentFmt.translateSimpleDateFormat(Meta.get("date-time")),L:momentFmt.translateSimpleDateFormat(Meta.get("date-day")),LL:momentFmt.translateSimpleDateFormat(Meta.get("date-dmy")),LLL:momentFmt.translateSimpleDateFormat(Meta.get("date-complete"))},meridiem:function(hours){return timeUnits.meridiem[+(hours>11)]},calendar:{sameDay:"LLL",nextDay:"LLL",nextWeek:"LLL",lastDay:"LLL",lastWeek:"LLL",sameElse:"LLL"},relativeTime:{future:formatter.format("in {0}","%s"),past:formatter.format("{0} ago","%s"),s:"a few seconds",m:"a minute",mm:formatter.format("{0} minutes","%d"),h:"an hour",hh:formatter.format("{0} hours","%d"),d:"a day",dd:formatter.format("{0} days","%d"),M:"a month",MM:formatter.format("{0} months","%d"),y:"a year",yy:formatter.format("{0} years","%d")}})});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.js' */
define("jira/moment",["jira/moment/moment.lib","jira/moment/moment.jira.i18n"],function(moment,i18n){moment.splitDate=function(value,format){return Date.splitDate(value,format)};return moment});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.legacy.js' */
(function(){AJS.namespace("JIRA.translateSimpleDateFormat",null,require("jira/moment/moment.jira.formatter").translateSimpleDateFormat);AJS.namespace("window.moment",null,require("jira/moment"))}());;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/time.js' */
define("dndattachment/ctrlv/time",[],function(){return moment});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/base64decode.js' */
define("dndattachment/ctrlv/base64decode",["exports"],function(a){function c(d){return d>64&&d<91?d-65:d>96&&d<123?d-71:d>47&&d<58?d+4:d===43?62:d===47?63:0}var b=function(f){var m=f.replace(/[^A-Za-z0-9\+\/]/g,""),g=m.length,d=g*3+1>>2,k=new Uint8Array(d);for(var j,h,i=0,e=0,l=0;l<g;l++){h=l&3;i|=c(m.charCodeAt(l))<<18-6*h;if(h===3||g-l===1){for(j=0;j<3&&e<d;j++,e++){k[e]=i>>>(16>>>j&24)&255}i=0}}return k};a.base64decode=b;a.decodeBase64DataUri=function(e){var g=";base64,",f=e.slice(0,e.indexOf(g))+g,d=e.substring(f.length);return b(d)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/utility.js' */
define("dndattachment/ctrlv/utility",["jquery","underscore","dndattachment/ctrlv/base64decode","dndattachment/ctrlv/time","jira/flag","jira/util/navigator","exports"],function(c,h,e,a,g,j,b){b.isKeyPasteEvent=function(n,k){var l=86;var m=((k||"").indexOf("Mac")!==-1)||j.isMac();return n.which===l&&(m?n.metaKey:n.ctrlKey)};b.isImagePasteEvent=function(n){if(n&&n.clipboardData){var l=h.union(h.toArray(n.clipboardData.items),h.toArray(n.clipboardData.files));var m=l.some(function(o){return o.type.indexOf("image")!==-1});var k=l.some(function(o){return o.type.indexOf("rtf")!==-1});return m&&!k}};var f=function(l){if(!l.clipboardData||!l.clipboardData.types||!h.contains(l.clipboardData.types,"text/html")){return}var k=c(l.clipboardData.getData("text/html"));if(k.length===1&&k.children().length===0&&k[0].nodeName.toLowerCase()==="img"){return k[0].src}return null};b.getHtmlImagePaste=f;b.isHtmlImagePasteEvent=function(k){return f(k)!=null};b.isTextPasteEvent=function(k){return k.clipboardData.types&&(h.contains(k.clipboardData.types,"text/plain")||h.contains(k.clipboardData.types,"text/html"))};b.isContentEditable=function(k){return k.contentEditable=="true"||k.contentEditable==""||(k.contentEditable=="inherit"&&c(k).parents().is("[contenteditable=true]"))};b.isValidFileName=function(k){return !h(["\\","/",'"',":","?","*","<","|",">","!"]).any(function(l){return k.indexOf(l)>-1})};b.getTextPasteContent=function(k){return k.clipboardData.types&&h.contains(k.clipboardData.types,"text/plain")&&k.clipboardData.getData("text/plain")||""};b.getTextContent=function(k){if(!k){return""}else{if(j.isIE()&&typeof k.innerText!=="undefined"){return k.innerText}else{return c(k).text()}}};b.normalizePasteEvent=function(k){if(k&&k.originalEvent&&k.originalEvent.clipboardData){k.clipboardData=k.originalEvent.clipboardData}if(k&&!k.clipboardData&&window.clipboardData){k.clipboardData={files:window.clipboardData.files,types:{contains:function(l){if(l=="text/plain"){return !!window.clipboardData.getData("Text")}}},getData:function(l){if(l=="text/plain"){return window.clipboardData.getData("Text")}}}}return k};b.browserIsSupported=function(k){var m=((k||"").indexOf("Mac")!==-1)||j.isMac();var l=j.isSafari();return !(m&&l)};b.browserIsNativePaste=function(){return j.isChrome()||j.isSafari()};b.isWikiTextfield=function(k){return k.is(":input")&&k.hasClass("wiki-textfield")};var d=function(k){return k.is("input#summary")};var i=function(l,s,o,q){var n=c(s);if(!(b.isWikiTextfield(n)||d(n))||!l){return}if(!n.is(":focus")){n.one("focus",function(){var t=n[0];t.selectionStart=t.selectionEnd=o+l.length})}var p=n.val();var k=p.substring(0,o);var r=p.substring(q,p.length);var m=n.data("wikiEditor");if(m&&m.undoRedoEl&&h.isFunction(m.undoRedoEl.recordHistoryItem)){m.undoRedoEl.recordHistoryItem()}n.val(k+l+r);n.trigger("input");s.selectionStart=s.selectionEnd=o+l.length;if(m&&m.undoRedoEl&&h.isFunction(m.undoRedoEl.updateCurrent)){m.undoRedoEl.updateCurrent()}};b.insertToInput=i;b.getMarkup=function(o){var n=["gif"];var m=["bmp","jpeg","jpg","png"];var l=o.split(".");var k=l[l.length-1].toLowerCase();if(h.contains(n,k)){return"!"+o+"!"}else{if(h.contains(m,k)){return"!"+o+"|thumbnail!"}else{return"[^"+o+"]"}}};b.insertWikiMarkup=function(o,l,m,n){var k=b.getMarkup(o);if(k){k=" "+k+" ";i(k,l,m,n)}};b.loadImage=function(m){var k=new c.Deferred();var l=new Image();l.setAttribute("crossOrigin","anonymous");l.onload=function(){k.resolve(l)};l.onerror=k.reject.bind(k);l.src=m;if(l.width>0&&l.height>0){k.resolve(l)}return k};b.convertImageToBlob=function(m){var k=c("<canvas>").attr("width",m.width).attr("height",m.height)[0];k.getContext("2d").drawImage(m,0,0);try{if(k.mozGetAsFile){return k.mozGetAsFile("image/png")}if(k.toDataURL){return new Blob([e.decodeBase64DataUri(k.toDataURL("image/png"))],{type:"image/png"})}}catch(l){return null}};b.convertBlobToImage=function(k,m){var l=new Blob([k.slice()],{type:k.type});l.lastModifiedDate=new Date();l.name=m;return l};b.dropFileToElement=function(m,l){var o=m.name;if(!o){o=this.generateFileName();m.name=o+".png"}var n=c.Event("drop",{dataTransfer:{files:[m]}});var k=false;c(document).on("dropHandled.dropFileToElement",function(){k=true});l.trigger(n);c(document).off(".dropFileToElement");return k};b.generateFileName=function(){return"image-"+a().format("YYYY-MM-DD-HH-mm-ss-SSS")};b.getCurrentIssueId=function(){return JIRA.Issues.Api.getSelectedIssueId()};b.showErrorMsg=function(l,k){g.showErrorMsg(l,k)};b.createBlobFromFile=function(k){var l=new Blob([k.slice()],{type:k.type});l.name=k.name;return l};b.dragEventContainsFiles=function(m){if(!m.dataTransfer||!m.dataTransfer.types){return true}var l=m.dataTransfer.types;if(j.isMozilla()){return l.contains("application/x-moz-file")}for(var k=0;k<l.length;k++){if(l[k]==="Files"){return true}}return false}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/Configuration.js' */
define("dndattachment/util/Configuration",function(){var b="com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.";function a(c){return _.isFunction(WRM.data)?WRM.data(c):WRM.data.claim(c)}return{getWRM:function(c){return a(b+c)}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/DataTransfer.js' */
define("dndattachment/util/DataTransfer",["jquery"],function(a){return Class.extend({init:function(b){this._dataTransfer=b},getFiles:function(){var c=this._dataTransfer.files;var b=this._dataTransfer.items;if(b&&b.length>0){if(_.any(b,function(d){return !!d.webkitGetAsEntry})){return this.readEntries(b)}}if(c&&c.length>0){return this.readFiles(this._dataTransfer.files)}else{return new a.Deferred().reject()}},readFiles:function(c){var b=new a.Deferred();a.when.apply(window,_.map(c,function(e){var d=new a.Deferred();var f=!e.name.match(/\.([a-z0-9]+)$/i);if(f&&(e.size<=8192)||e.size==8192||e.size==4096||e.size<=1024){this.readFileAsText(e).fail(function(){c=_(c).without(e)}).always(d.resolve.bind(d))}else{d.resolve()}return d}.bind(this))).always(function(){b.resolve(c)});return b},readFileAsText:function(d){var c=new a.Deferred();var b=new FileReader();b.onload=function(){c.resolve(this.result)};b.onerror=function(){c.reject(this.error)};b.readAsText(d);return c},readEntries:function(c){var b=new a.Deferred();c=_.filter(c,function(d){return d.kind==="file"});a.when.apply(window,_.map(c,function(d){return this.readEntry(d.webkitGetAsEntry(),d)}.bind(this))).then(function(){b.resolve(_.union.apply(_,arguments))},b.reject.bind(b));return b},readEntry:function(d,c){var b=new a.Deferred();if(d.isFile){if(c&&c.getAsFile){b.resolve([c.getAsFile()])}else{d.file(function(e){b.resolve([e])})}}else{if(d.isDirectory){d.createReader().readEntries(function(e){var f=[];a.when.apply(window,_.map(e,function(g){return this.readEntry(g).then(function(h){return f.push.apply(f,h)})}.bind(this))).always(function(){b.resolve(f)})}.bind(this))}}return b}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/FileSizeUtil.js' */
define("dndattachment/util/FileSizeUtil",function(){var h=1024;var c=h*h;var d=" kB";var g=" MB";function f(i){if(i>c){return e(i)}else{if(i>h){return a(i)}else{return b(i)}}}function e(j){var i=j/c;return i.toFixed(2)+g}function a(j){var i=Math.round(j/h);return i+d}function b(j){var i=j/h;return i.toFixed(1)+d}return{format:f}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/AttachmentEvents.js' */
define("dndattachment/util/events/types",{ATTACHMENT_FOR_PAGE_RECEIVED:"attachmentForPageReceived"});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'js/upload/UploadHandler.js' */
define("dndattachment/upload/handler",["jira/util/events","dndattachment/util/events/types","underscore","jquery","dndattachment/ctrlv/utility","exports"],function(j,i,h,e,g,d){var c=[];var a;var f=function(n,m){var l=e.Deferred();var k=JIRA.Dialog.current;if(k){AJS.trigger("analytics",{name:"attach.screenshot.html5.dialogPaste",data:{}});var p=g.createBlobFromFile(m.files[0]);if(g.dropFileToElement(p,k.$form)){l.resolve([m.files[0].name])}}else{var o=h.find(c,function(q){return q.isValid(n,m)});if(o){l=o.processFiles(m.files,a);if(m.successCallback){l.done(m.successCallback)}if(m.failureCallback){l.fail(m.failureCallback)}if(m.alwaysCallback){l.always(m.alwaysCallback)}}}l.done(function(r,q){if(!q&&m.isWikiTextfieldFocused){var s=m.wikiTextfield;h.each(r,function(t){g.insertWikiMarkup(t,s,s.selectionStart,s.selectionStart)});if(k&&m.isPaste){AJS.trigger("analytics",{name:"attach.screenshot.html5.dialogPaste.insertWikiMarkup",data:{}})}if(!e(m.wikiTextfield).is(":focus")){setTimeout(function(){m.wikiTextfield.focus()},0)}}})};var b=function(o){if(o){var l=typeof o.isValid!=="undefined";var m=typeof o.processFiles!=="undefined";var k=typeof o.weight!=="undefined";var n=typeof o.name!=="undefined";return l&&m&&k&&n}return false};d.registerExecutor=function(m){var l=b(m);if(l){var k=h.reject(c,function(n){return n.name===m.name});k.push(m);c=h.sortBy(k,function(n){return -n.weight})}return l};d.unregisterExecutor=function(k){c=h.reject(c,function(l){return l.name===k.name})};d.initialize=function(){j.bind(i.ATTACHMENT_FOR_PAGE_RECEIVED,f)};d.disable=function(){j.unbind(i.ATTACHMENT_FOR_PAGE_RECEIVED,f)};d.setAttachmentDropZone=function(k){a=k}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'js/upload/DefaultUploadExecutor.js' */
define("dndattachment/upload/default/executor",["jquery","underscore","dndattachment/ctrlv/utility","exports"],function(d,c,a,b){b.name="Default attachment executor";b.weight=0;b.isValid=function(f,e){return true};b.processFiles=function(f,e){return e.uploadFiles(f)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/path.js' */
define("dndattachment/ctrlv/path",["exports"],function(a){var b=function b(c){return c.split(/\//).pop()};a.basename=b;a.dirname=function(c){var d=b(c);return c.substring(0,c.length-d.length)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/ie_version.js' */
define("dndattachment/ctrlv/version",["jquery","underscore","jira/util/navigator","exports"],function(h,l,m,g){var f=document.documentElement.className.split(/\s+/);var c=m.isIE();var k=h.inArray("msie-gt-7",f)>-1;var j=h.inArray("msie-gt-8",f)>-1;var i=h.inArray("msie-gt-9",f)>-1;var b=h.inArray("msie-gt-10",f)>-1;var e=c&&k&&!j;var d=c&&j&&!i;var a=c&&i&&!b;g.isIE8=l.once(function(){return e});g.isIE9=l.once(function(){return d});g.isIE10=l.once(function(){return a})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/resource-uris.js' */
define("dndattachment/ctrlv/resource-uris",["jquery","exports"],function(c,a){var d="com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources.resource-uris";var b=WRM.data.claim(d)||{};a.get=function(e){return b[e]}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'templates/soy/attach-screenshot-form.soy' */
// This file was automatically generated from attach-screenshot-form.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Html5Screenshot.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Html5Screenshot == 'undefined') { JIRA.Templates.Html5Screenshot = {}; }


JIRA.Templates.Html5Screenshot.attachScreenshotForm = function(opt_data, opt_ignored) {
  return '<h2 class="dialog-title">' + soy.$$escapeHtml("Attach Screenshot") + '</h2><form action="ShowAttachScreenshotFormAction.jspa" class="aui" method="post" id="attach-screenshot-form" data-attach-secure-token="' + soy.$$escapeHtml(opt_data.attachUserToken) + '" data-submit-secure-token="' + soy.$$escapeHtml(opt_data.submitUserToken) + '"><input type="hidden" name="id" value="' + soy.$$escapeHtml(opt_data.id) + '"/><input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '"><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '"><input type="hidden" name="filetoconvert" value=""><div class="attach-screenshot-padding"><div class="attach-screenshot-container"><div id="attach-screenshot-inner-container"><div class="mod-content"><ul class="item-details"><li><dl><dt>' + soy.$$escapeHtml("Take a screenshot:") + '</dt>' + ((opt_data.userPlatform == 'pc') ? '<dd>' + soy.$$filterNoAutoescape("\x3ckbd\x3ePrtScn\x3c/kbd\x3e") + '</dd>' : '<dd>' + soy.$$filterNoAutoescape("\x3ckbd\x3e\x26#8963; Ctrl\x3c/kbd\x3e + \x3ckbd\x3e\x26#8984; Cmd\x3c/kbd\x3e + \x3ckbd\x3e\x26#8679; Shift\x3c/kbd\x3e + \x3ckbd\x3e3\x3c/kbd\x3e") + '</dd>') + '</dl></li><li><dl><dt>' + soy.$$escapeHtml("Paste the image:") + '</dt>' + ((opt_data.userPlatform == 'pc') ? '<dd>' + soy.$$filterNoAutoescape("\x3ckbd\x3eCtrl\x3c/kbd\x3e + \x3ckbd\x3ev\x3c/kbd\x3e") + '</dd>' : '<dd>' + soy.$$filterNoAutoescape("\x3ckbd\x3e\x26#8984; Cmd\x3c/kbd\x3e + \x3ckbd\x3ev\x3c/kbd\x3e") + '</dd>') + '</dl></li></ul></div><input type="text" id="attach-screenshot-fake-input"><div class="attach-screenshot-padding attach-screenshot-padding-inner"><div id="attach-screenshot-image-container" class="attach-screenshot-image-container"><div class="attach-screenshot-placeholder"><div class="mod-content"><ul class="item-details"><li><dl><dt id="attach-screenshot-placeholder-message">' + soy.$$escapeHtml("Your image will be pasted here") + '</dt></dl></li></ul></div></div></div></div><div id=\'attach-max-size\' class="hidden">' + soy.$$escapeHtml(opt_data.maxSize) + '</div></div></div></div><fieldset><div><legend><span>' + soy.$$escapeHtml("Attach Screenshot") + '</span></legend><div id="attach-screenshot-filename-group" class="field-group"><div id="attach-screenshot-progress-container"></div><label for="attachscreenshotname">' + soy.$$escapeHtml("File name") + ' <span class="aui-icon icon-required">' + soy.$$escapeHtml("Required") + '</span></label><input class="text" type="text" id="attachscreenshotname" name="attachscreenshotname" title="File Name" value="' + soy.$$escapeHtml(opt_data.nextScreenshotName) + '"><div class="description">' + soy.$$escapeHtml("A file name to be used as attached image name") + '</div></div></div></fieldset><div class="buttons-container form-footer"><div class="buttons"><button class="aui-button aui-button-primary" id="attach-screenshot-html5-upload">' + soy.$$escapeHtml("Upload") + '</button><a href="#" class="cancel">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Html5Screenshot.attachScreenshotForm.soyTemplateName = 'JIRA.Templates.Html5Screenshot.attachScreenshotForm';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/requireDeployJava.js' */
define("dndattachment/ctrlv/requireDeployJava",["jquery","dndattachment/ctrlv/resource-uris","exports"],function(d,c,b){var a=null;b.requireDeployJava=function(){var e;if(a!==null){return a}e=d.Deferred();a=e.promise();d('<iframe style="display: none !important; visibility: hidden !important; opacity: 0"/>').attr("src",c.get("deployJava.html")).one("load",function(){e.resolve(this.contentWindow.deployJava,this.contentWindow)}).one("error",e.reject.bind(e)).appendTo("body");return a}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/polyfill.js' */
define("dndattachment/ctrlv/polyfill",["jquery","underscore","dndattachment/ctrlv/utility","dndattachment/ctrlv/requireDeployJava","dndattachment/ctrlv/resource-uris","dndattachment/ctrlv/path","dndattachment/ctrlv/version","jira/ajs/ajax/smart-ajax","exports"],function(i,o,p,l,d,q,m,b,h){var e;var k=510;var a=280;var j=m.isIE8()?32000:Number.MAX_VALUE;h.pasteImageWidth=k;h.pasteImageHeight=a;h.dataURILimit=j;function f(){var r=i.Deferred();return r.reject.apply(r,arguments)}var c;var n=function(t){if(p.isKeyPasteEvent(t)){e.reload();var s=e.getClipboardData();if(s){var r=e.getClipboardData(k,a);if(r.length>j){var u=j/r.length;r=e.getClipboardData(k*u,a*u)}c.trigger("polyPaste",[s,r])}}};function g(v,t){var u=document.cookies,r=i.Deferred();var w={getResponseHeader:function(x){return responseHeaders[x]}};var s=new i.Deferred().progress(o.bind(r.notify,r)).done(o.bind(r.resolve,r)).fail(function(z,x){var y=x||JSON.stringify({errorMessage:y});r.reject(null,null,null,new b.SmartAjaxResult(w,0,"error",y,true))});e.doMultipartRequest(t,"UTF-8",window.navigator.userAgent,s);r.always(function(){document.cookies=u});return r}h.install=o.once(function(r){c=i(r);return l.requireDeployJava().pipe(function(v,s){var u,y,t,w="1.7.0_06",x;if(v.getJREs().length===0){return f("java-absent")}else{if(!v.versionCheck(w+"+")){return f("java-version")}}t=!v.versionCheck("1.7.0_45+");x=d.get(t?"clipboard-legacy.jar":"clipboard.jar");u={id:"JIRA HTML5 Images Applet",codebase:q.dirname(x),code:"com.atlassian.plugins.jira.screenshot.applet.ScreenshotApplet.class",archive:q.basename(x),width:0,height:0};y={permissions:"all-permissions"};v.runApplet(u,y,w);e=s.document.getElementById(u.id);try{if(!e||!e.isSecurityOk()){return f("java-security")}}catch(z){return f("java-security")}return g},function(){return f("unknown")}).pipe(null,function(t){var s={unknown:"A problem occurred while attempting to attach screenshot via Ctrl+V.","java-version":AJS.format("You need to {0}upgrade Java{1} to be able to attach screenshots via Ctrl+V.",'<a target="_blank" href="//java.com">',"</a>"),"java-absent":AJS.format("You need to install {0}Java{1} to be able to attach screenshots via Ctrl+V.",'<a target="_blank" href="//java.com">',"</a>"),"java-security":AJS.format("Your Java security settings are blocking the ability to attach screenshots via Ctrl+V. Please upgrade to the latest {0}Java{1}.",'<a target="_blank" href="//java.com">',"</a>")};return f(t,s[t])})});h.getClipboardData=function(){var r=new i.Deferred();h.install(document).done(function(){try{e.reload();r.resolve(e.getClipboardData())}catch(s){r.reject("A problem occurred while attempting to attach screenshot via Ctrl+V.")}}).fail(function(t,s){r.reject(s)});return r};h.isRequired=function(){return m.isIE8()||m.isIE9()||m.isIE10()};h.isRequiredForBinaryAjax=function(){return m.isIE8()||m.isIE9()};h.proxyAjaxRequest=function(r,s){return function(){var t=b.makeRequest;b.makeRequest=function(u){var v=o.reduce(o.keys(u.data),function(y,x){y.push(x,u.data[x]);return y},[]);v.push("secureToken",s());var w=e.doAjaxRequest(u.url,"UTF-8",window.navigator.userAgent,i.Deferred(),v);w.abort=i.noop;w.then(function(z){var y=o.filter(arguments,function(D,C){return C>0});y[0]="Status";y=o.reduce(o.reduce(y,function(F,E,C){var D=(C/2)<<0;(F[D]||(F[D]=[])).push(E);return F},[]),function(D,C){D[C[0]]=C[1];return D},{});var A={getResponseHeader:function(C){return y[C]}};var B="success";var x=new b.SmartAjaxResult(A,0,"success",z,true);u.complete(A,B,x)});return w};r.apply(this,arguments);b.makeRequest=t}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/html5.js' */
define("dndattachment/ctrlv/html5",["jquery","underscore","dndattachment/ctrlv/polyfill","dndattachment/ctrlv/base64decode","dndattachment/ctrlv/utility","jira/dialog/dialog","jira/dialog/dialog-register","jira/ajs/ajax/smart-ajax","jira/attachment/inline-attach","exports"],function(c,i,f,g,j,e,h,a,d,b){b.getFileFromEvent=function(l){var k=new c.Deferred();if(j.isImagePasteEvent(l)){k.resolve(i(l.clipboardData.items).filter(function(m){return m.type.indexOf("image")!==-1}).map(function(m){return m.getAsFile()})[0]||i(l.clipboardData.files).filter(function(m){return m.type.indexOf("image")!==-1})[0])}else{k.reject()}return k.promise()};b.REQUEST_TIMEOUT_MILLIS=5*60*1000;b.screenshotFileUpload={};b.screenshotFileUploadUri=null;b.$document=undefined;b.$window=undefined;b.$container=undefined;b.$fakeInput=undefined;b.uploadError=false;b.uploadErrorMsg="";b.progressView={hidden:false,progress:0,old:0,progressBarContainer:undefined,progressEl:undefined,container:undefined,options:undefined,staticProgress:undefined,initProgress:function(){this.container=this.buildContainer();this.progressEl=this.buildProgress();this.container.append(this.progressEl);this.options={showPercentage:false,height:"5px"};this.progressBarContainer=c("#attach-screenshot-progress-container");this.progressBarContainer.empty();this.progressBarContainer.append(this.container);this.staticProgress=this.container;this.hidden=true},finish:function(){this.value(100)},progressHandler:function(l){var k=Math.round(l.loaded*100/l.total);this.value(k)},value:function(k){if(k>100){k=100}else{if(k<0){k=0}}if(this.hidden){this.progressEl.show();this.hidden=false}if(this.old!==k){this.progressEl.progressBar(k,this.options);if(k>=100){this.progressEl.fadeOut()}this.old=k}},buildContainer:function(){return c("<div>").addClass("file-progress")},buildProgress:function(){return c("<div>").attr("id","attach-screenshot-upload-progress")}};b.dialogView={pasteCatcher:{},presenter:undefined,getMaxSize:function(){return c("#attach-max-size").text()},getFileSize:function(){if(c.isPlainObject(this.presenter.screenshotFileUpload)&&i.isEmpty(this.presenter.screenshotFileUpload)){return 0}return this.presenter.screenshotFileUpload.size||this.presenter.screenshotFileUpload.byteLength||this.presenter.screenshotFileUpload.length},cleanGeneralErrors:function(){c("#error-attach-screenshot-image").closest(".field-group").remove()},cleanFileErrors:function(){c("#error-attach-screenshot-filename").remove()},displayErrors:function(k){if("compatibility" in k){j.showErrorMsg("",k.compatibility)}if("fileName" in k){j.showErrorMsg("",k.fileName)}if("fileUpload" in k){j.showErrorMsg("",k.fileUpload)}},appendBlobImage:function(k){var m=window.URL||window.webkitURL;var l=m.createObjectURL(k);this.presenter.screenshotFileUpload=k;this.createImage(l)},createImage:function(n){var l=new Image();l.onload=function(){};l.src=n;this.presenter.screenshotToUpload=l;var m=c(l);m.addClass("attach-screenshot-pasted-image");var k=c("#attach-screenshot-image-container");k.empty();k.append(m);this.presenter.$fakeInput.focus();i.defer(function(){b.imageCreatedHandler()})},checkInput:function(){var l,k=b.dialogView.pasteCatcher.childNodes[0];if(k){if("IMG"===k.tagName){if(k.src.indexOf("data:")===0){l=k.src}else{}}b.dialogView.pasteCatcher.innerHTML=""}if(!l){b.$fakeInput.focus()}return l},onPaste:function(k){b.dialogView.cleanFileErrors();b.dialogView.cleanGeneralErrors();if(j.isImagePasteEvent(k)){b.getFileFromEvent(k).then(function(l){this.appendBlobImage(l)}.bind(this))}else{setTimeout(function(){var l=this.checkInput();if(l){b.screenshotFileUpload=g.decodeBase64DataUri(l);b.dialogView.createImage(l)}}.bind(this),0)}},getFakeInput:function(){return c("#attach-screenshot-fake-input")},getContainer:function(){return c("#attach-screenshot-image-container")},getIssueKey:function(){return c("input[name='id']").val()},getDocument:function(){return c(document)},getWindow:function(){return c(window)},getFileNameInput:function(){return c("#attachscreenshotname")},hasPngExtension:function(l){var k=/\.png$/i;return k.test(l)},setFileToConvert:function(k){c("input[name='filetoconvert']").val(k)},buildPasteCatcher:function(){if(!document.getElementById("attach-screenshot-form")){return}var k=document.createElement("div");k.setAttribute("contenteditable","true");k.style.width=0;k.style.height=0;k.style.position="absolute";k.style.top="-5000px";document.getElementById("attach-screenshot-form").appendChild(k);return k},_getFormSubmits:function(){return c("#attach-screenshot-form").find("button.aui-button")},disable:function(){this._getFormSubmits().attr("disabled","disabled");return this},enable:function(){this._getFormSubmits().removeAttr("disabled");return this},isEnabled:function(){return this.isVisible()&&!this._getFormSubmits().attr("disabled")},isVisible:function(){return c("#attach-screenshot-form").length>0},initDialog:function(k){this.pasteCatcher={};this.presenter=k;if(!f.isRequired()){this.pasteCatcher=this.buildPasteCatcher()}}};b.initScreenshotPasteHandler=function(){var k=b.dialogView;b.screenshotFileUpload={};b.resetUploadErrors();b.dialogView.initDialog(b);b.$document=k.getDocument();b.$window=k.getWindow();b.$container=k.getContainer();b.$fakeInput=k.getFakeInput();b.bindOnce(b.$container,"click",b.setFocusOnClickHandler);b.bindOnce(b.$fakeInput,"focus",b.showFocusOnFieldHandler);b.bindOnce(b.$fakeInput,"blur",b.hideFocusOnFieldHandler);b.bindOnce(b.$fakeInput,"keydown",b.keyDownHandler);if(!j.browserIsSupported()){k.displayErrors({compatibility:AJS.format("Your browser is not supported. Consider using an alternative supported browser such as {0}Google Chrome{1} or {2}Firefox{3}.",'<a href="//www.google.com/chrome/browser/">',"</a>",'<a href="//www.mozilla.org/firefox/">',"</a>")})}else{if(f.isRequired()){f.install(document).done(function(l){b.bindOnce(b.$document,"polyPaste",b.polyPasteHandler);if(f.isRequiredForBinaryAjax()){b.executeAjaxUpload=l}}).fail(function(m,l){k.displayErrors({compatibility:l})})}else{b.bindOnce(b.$window,"paste",b.pasteHandler)}}};b.resetUploadErrors=function(){b.uploadError=false;b.uploadErrorMsg=undefined};b.setUploadError=function(k){b.uploadError=true;b.uploadErrorMsg=k};b.bindOnce=function(m,k,l){m.unbind(k,l);m.bind(k,l)};b.showFocusOnFieldHandler=function(){b.$container.addClass("focus")};b.hideFocusOnFieldHandler=function(){b.$container.addClass("focus")};b.setFocusOnClickHandler=function(){b.$fakeInput.focus()};b.pasteHandler=function(k){if(!b.dialogView.isEnabled()){return}k=j.normalizePasteEvent(k);b.dialogView.onPaste(k)};b.polyPasteHandler=function(l,k,m){if(!b.dialogView.isEnabled()){return}b.screenshotFileUpload={length:-1};b.screenshotFileUploadUri=k;b.dialogView.createImage(m)};b.keyDownHandler=function(k){if(j.isKeyPasteEvent(k)){if(b.dialogView.pasteCatcher.focus){b.dialogView.pasteCatcher.focus()}}};b.imageCreatedHandler=function(){b.doAjaxUpload(this.dialogView.getIssueKey(),this.dialogView.getFileNameInput().val())};b.getMimeType=function(){if(f.isRequired()){return"image/jpeg"}return"image/png"};b.createData=function(){return b.screenshotFileUpload};b.clipboardDataIsEmpty=function(k){if(window.clipboardData!=null){return false}return !(k&&k.clipboardData&&k.clipboardData.types&&k.clipboardData.types.length>0)};b.validateFileSize=function(n,k,m){var k=k||b.dialogView.getFileSize();var m=m||b.dialogView.getMaxSize();if(k>m){var l=d.Text.fileSize(m,k);n.fileUpload=AJS.format("Screenshot is too large to attach. Attachment is {0} but the largest allowed attachment is {1}.",l[1],l[0])}};b.validateFormData=function(k,m){var l={};if(c.isPlainObject(k)&&i.isEmpty(k)){l.fileUpload="Please paste the image you wish to upload"}b.validateFileSize(l);if(b.uploadError){l.fileUpload="The error occurred during image upload - you will need to try the pasting image again. Sorry for the inconvenience."}if(""==m){l.fileName="You must specify a filename of the image."}if(!j.isValidFileName(m)){l.fileName="Filename must not contain the characters \'\\\', \'/\', \'\"\', \':\', \'?\', \'*\', \'\u003c\', \'|\', \'\u003e\', \'!\'"}return l};b.doAjaxUpload=function(k,r){b.dialogView.disable();var q={};b.validateFileSize(q);if(!i.isEmpty(q)){b.dialogView.displayErrors(q);b.dialogView.enable();return}var o=b.createData(),p=b.getMimeType(),m=c("#attach-screenshot-form").data("attach-secure-token"),l=c("#attach-screenshot-form").find("input[name='formToken']").attr("value");var n=AJS.contextPath()+"/rest/internal/1.0/AttachTemporaryFile"+(f.isRequired()?"/secure?":"?")+"size="+b.dialogView.getFileSize()+"&filename="+encodeURIComponent(r)+"&atl_token="+encodeURIComponent(atl_token())+"&issueId="+encodeURIComponent(this.dialogView.getIssueKey())+(m?("&secureToken="+encodeURIComponent(m)):"")+(l?("&formToken="+encodeURIComponent(l)):"");b.resetUploadErrors();b.executeAjaxUpload(o,n,p).progress(function(s){if(s=="init"){b.progressView.initProgress()}}).done(function(s){if(typeof s=="string"){s=JSON.parse(s)}b.dialogView.setFileToConvert(s.id)}).fail(function(u,x,w,s){var t;if(s.statusText=="abort"){t="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."}else{if(s.hasData){var v=JSON.parse(s.data);if(v.errorMessage){t=v.errorMessage}else{t=a.buildSimpleErrorContent(s,{alert:false})}}}b.setUploadError(t);b.dialogView.displayErrors({fileUpload:t})}).always(function(){var s=c.Deferred();if(f.isRequired()){b.reloadSecureToken(s)}else{s.resolve()}s.then(function(){b.dialogView.enable();b.progressView.finish()})}).progress(function(s){if(s!="init"){b.progressView.progressHandler(s)}})};b.executeAjaxUpload=function(m,l,o){var k=c.Deferred();var n=a.makeRequest({type:"POST",url:l,contentType:o,processData:false,data:m,timeout:b.REQUEST_TIMEOUT_MILLIS,success:k.resolve.bind(k),error:k.reject.bind(k),xhr:function(){var p=c.ajaxSettings.xhr();k.notify("init");p.upload.addEventListener("progress",k.notify.bind(k));return p}});k.always(function(){c.ajaxSettings.xhr().removeEventListener("progress",b.progressView.progressHandler);c(h.attachScreenshotDialog).off("Dialog.hide",n.abort)});c(h.attachScreenshotDialog).one("Dialog.hide",n.abort);return k.promise()};b.reloadSecureToken=function(k){var l=AJS.contextPath()+"/secure/ShowAttachScreenshotFormAction!default.jspa?id="+encodeURIComponent(this.dialogView.getIssueKey())+"&inline=true&decorator=dialog&_="+(new Date().getTime());c.get(l).then(function(m){var n=c(m).find("#attach-screenshot-form").data("attach-secure-token");if(n){c("#attach-screenshot-form").data("attach-secure-token",n);k.resolve(n)}else{k.reject()}},i.bind(k.reject,k))};b.show=function(){var k=new c.Deferred();var l=c(".issueaction-attach-screenshot-html5");if(e.current!=null){return k.reject().promise()}if(l.length==0){return k.reject().promise()}i.defer(function(){l.trigger("click")});c(document).on("dialogContentReady",function(n,m){if(m===h.attachScreenshotDialog&&b.dialogView.isEnabled()){k.resolve(m)}else{k.reject()}});c(document).on("ajaxComplete.jira.screenshot.dialog",function(o,n,m){if(m.url.indexOf(l.attr("href"))>-1){setTimeout(function(){if(!k.isResolved()){k.reject()}},1000)}});k.always(function(){c(document).off("ajaxComplete.jira.screenshot.dialog")});return k.promise()}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/issue-paste.js' */
define("dndattachment/ctrlv/issue-paste",["jquery","dndattachment/ctrlv/trace","dndattachment/ctrlv/tracking","dndattachment/ctrlv/utility","dndattachment/ctrlv/html5","dndattachment/ctrlv/polyfill","dndattachment/ctrlv/base64decode","jira/dialog/dialog","jira/util/events","dndattachment/util/events/types","exports"],function(d,v,e,q,g,B,C,f,n,x,E){var A=0;var l=1;var c=2;var y=3;var o=4;var s=5;var h=6;var w=7;var p=8;var m=9;function k(H,G){G.stateName=H;var F=function(){var I=G.apply(null,arguments);I.stateName=H;return I};F.stateName=H;return F}function b(G,F,H){return k(G,function(){var K=setTimeout(function(){a(m)},H);var J=F.apply(null,arguments);var I=function(N,M){var L=J(N,M);if(L){clearTimeout(K);return L}};I.stateName=G;return I})}var j=k("idle",function(){function F(G){if(d(G.target).is(":input:not(.wiki-textfield, #summary)")||q.isContentEditable(G.target)){return}return true}return function(H,G){if(H==A&&q.isKeyPasteEvent(G)){if(q.browserIsNativePaste()||!F(G)||!q.browserIsSupported()){return}e.trigger("attach.screenshot.html5.catchClipboard");return new t(G)}if(H==l){if(q.isImagePasteEvent(G)){e.trigger("attach.screenshot.html5.handlePaste");if(!F(G)){v("jira/attach-images-plugin/pasteIgnored");return}if(d(G.target).is(":input.wiki-textfield")){G.preventDefault()}return new r(G)}else{v("jira/attach-images-plugin/pasteIgnoredNotImage")}}}});var t=b("catchClipboard",function(H){var F=document.activeElement;H.selectionStart=H.target.selectionStart;H.selectionEnd=H.target.selectionEnd;var I=d('<div contenteditable="true" class="attach-screenshot-paste-catcher"></div>').appendTo("body");I.focus();if(d(F).is(":focusable:input,:aui-focusable:input")){setTimeout(function(){F.focus()})}function G(){I.remove()}return function(M,J){if(M==l){if(q.isImagePasteEvent(J)){G();J.target=F;return new r(J)}if(q.isHtmlImagePasteEvent(J)){G();J.target=F;return new z(J)}if(q.isTextPasteEvent(J)){G();var P=q.getTextPasteContent(J);q.insertToInput(P,H.target,H.selectionStart,H.selectionEnd);J.preventDefault();return new j()}}if(M==m){G();var L=I.find(">img");if(L.is(":only-child")){var N=L.attr("src");if(N.toLowerCase().indexOf("http")===0){return j()}else{var Q=C.decodeBase64DataUri(N);var K=new Blob([Q],{type:"image/png"});return new i(K,H)}}else{if(B.isRequired()&&!I.text()){return new u(H)}else{var O=q.getTextContent(I[0]);q.insertToInput(O,H.target,H.selectionStart,H.selectionEnd);return j()}}}}});var u=k("appletLoading",function(F){B.getClipboardData().done(function(H){var I=C.decodeBase64DataUri(H);var G=new Blob([I],{type:"image/jpeg"});a(o,G)}).fail(function(G){q.showErrorMsg("",G);a(s)});return function(H,G){if(H==o){return new i(G,F)}if(H==s){return new j()}}});var z=k("imageLoading",function(F){var G=q.getHtmlImagePaste(F);if(!G){a(s)}else{q.loadImage(G).then(function(H){a(o,H)},a.bind(null,s))}return function(J,H){if(J==o){var I=q.convertImageToBlob(H);if(I){return new i(I,F)}else{return new j()}}if(J==m||J==s){return new j()}}});var r=b("fileLoading",function(F){g.getFileFromEvent(F).done(function(G){a(c,G)}).fail(function(){a(y)});return function(H,G){if(H==c){return new i(G,F)}else{if(H==y||H==m){return new j()}}}},1000);var i=k("attachImage",function(H,G){var I=G.target;var J=q.generateFileName()+(B.isRequired()?".jpg":".png");var F=q.convertBlobToImage(H,J);n.trigger(x.ATTACHMENT_FOR_PAGE_RECEIVED,{files:[F],isWikiTextfieldFocused:q.isWikiTextfield(d(I)),wikiTextfield:I,isPaste:true,successCallback:function(){a(h)}});return function(L,K){return new j()}});var D=new j();function a(G,F){if(a.eventQueue){a.eventQueue.push({type:G,object:F});return}a.eventQueue=[{type:G,object:F}];while(a.eventQueue.length>0){var H=a.eventQueue.splice(0,1)[0];var I=D(H.type,H.object);if(I){D=I}}delete a.eventQueue}E._getStateMap=function(){return{events:{EVENT_WINDOW_KEYDOWN:A,EVENT_WINDOW_PASTE:l,EVENT_FILE_LOADED:c,EVENT_FILE_LOAD_ERROR:y,EVENT_IMAGE_LOADED:o,EVENT_IMAGE_LOAD_ERROR:s,EVENT_DIALOG_LOADED:h,EVENT_DIALOG_CLOSED:w,EVENT_DIALOG_CANCELED:p,EVENT_TIMEOUT:m},states:{StateIdle:j,StateCatchClipboard:t,StateAppletLoading:u,StateImageLoading:z,StateFileLoading:r,StateAttachImage:i}}};E.initIssuePaste=function(){d(window).on("keydown",function(F){a(A,F)});d(window).on("paste",function(F){a(l,q.normalizePasteEvent(F))});n.bind("Dialog.hide",function(F,H,G){if(G){a(p,H)}else{a(w,H)}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/trace.js' */
define("dndattachment/ctrlv/trace",[],function(){return function a(){return JIRA.trace.apply(undefined,arguments)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/tracking.js' */
define("dndattachment/ctrlv/tracking",["exports"],function(a){a.trigger=function(c,b){AJS.trigger("analytics",{name:c,data:b||{}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/executor.js' */
define("dndattachment/ctrlv/executor",["jquery","jira/util/events","dndattachment/ctrlv/html5","dndattachment/upload/handler","exports"],function(e,a,c,d,b){b.register=function(){var f={name:"JIRA Ctrl+V attachment executor",weight:5,isValid:function(h,g){return !!g.isPaste},processFiles:function(i,h){var g=e.Deferred();c.show().done(function(l){var k=e("#attach-screenshot-placeholder-message");var j=e.Event("paste");j.clipboardData={files:i};k.focus();setTimeout(function(){k.trigger(j)});a.bind("Dialog.hide",function(m,o,n){if(n){g.reject()}else{g.resolve([o.find("#attachscreenshotname").val()+".png"])}})});return g}};d.registerExecutor(f)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/initialize.js' */
define("dndattachment/ctrlv/initialize",["jquery","underscore","dndattachment/ctrlv/polyfill","dndattachment/ctrlv/utility","dndattachment/ctrlv/html5","dndattachment/ctrlv/issue-paste","dndattachment/ctrlv/tracking","dndattachment/ctrlv/executor","jira/dialog/dialog-register","jira/dialog/form-dialog","exports"],function(d,j,g,k,e,f,i,b,h,a,c){c.init=function(){var l=a.extend({options:{}});JIRA.ScreenshotDialog=l;f.initIssuePaste();d(document).ready(function(){var n=d.Deferred();if(!k.browserIsSupported()||!g.isRequired()){n.resolve()}h.attachScreenshotDialog=new l({id:"attach-screenshot-dialog",trigger:"a.issueaction-attach-screenshot-html5",isIssueDialog:true,onContentRefresh:function m(){this.$form.bind("before-submit",function o(p){var q=e.validateFormData(e.screenshotFileUpload,d.trim(e.dialogView.getFileNameInput().val()));if(e.dialogView.getFileSize()==0){p.preventDefault();return false}else{if(!j.isEmpty(q)){e.dialogView.displayErrors(q);p.preventDefault();return false}}return true})},delayShowUntil:function(){if(g.isRequired()){g.install(document).done(function(){l.prototype._submitForm=g.proxyAjaxRequest(l.prototype._submitForm,function(){return d("#attach-screenshot-form").data("submit-secure-token")})}).always(function(){n.resolve()})}return n}});d(document).bind("dialogContentReady",function(p,o){if(o===h.attachScreenshotDialog&&document.getElementById("attach-screenshot-form")!==null){i.trigger("attach.screenshot.html5.contentReady");e.initScreenshotPasteHandler()}});d(document).ready(function(){d(document).on("click","#attach-screenshot-html5",function(){i.trigger("attach.screenshot.html5.display")})})});b.register()}});require(["dndattachment/ctrlv/initialize","jquery"],function(b,a){a(function(){b.init()})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'applet/deployJava.js' */
var deployJava=function(){var l={core:["id","class","title","style"],i18n:["lang","dir"],events:["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onkeypress","onkeydown","onkeyup"],applet:["codebase","code","name","archive","object","width","height","alt","align","hspace","vspace"],object:["classid","codebase","codetype","data","type","archive","declare","standby","height","width","usemap","name","tabindex","align","border","hspace","vspace"]};var b=l.object.concat(l.core,l.i18n,l.events);var m=l.applet.concat(l.core);function g(o){if(!d.debug){return}if(console.log){console.log(o)}else{alert(o)}}function k(p,o){if(p==null||p.length==0){return true}var r=p.charAt(p.length-1);if(r!="+"&&r!="*"&&(p.indexOf("_")!=-1&&r!="_")){p=p+"*";r="*"}p=p.substring(0,p.length-1);if(p.length>0){var q=p.charAt(p.length-1);if(q=="."||q=="_"){p=p.substring(0,p.length-1)}}if(r=="*"){return(o.indexOf(p)==0)}else{if(r=="+"){return p<=o}}return false}function e(){var o="//java.com/js/webstart.png";try{return document.location.protocol.indexOf("http")!=-1?o:"http:"+o}catch(p){return"http:"+o}}function n(p){var o="http://java.com/dt-redirect";if(p==null||p.length==0){return o}if(p.charAt(0)=="&"){p=p.substring(1,p.length)}return o+"?"+p}function j(q,p){var o=q.length;for(var r=0;r<o;r++){if(q[r]===p){return true}}return false}function c(o){return j(m,o.toLowerCase())}function i(o){return j(b,o.toLowerCase())}function a(o){if("MSIE"!=deployJava.browserName){return true}if(deployJava.compareVersionToPattern(deployJava.getPlugin().version,["10","0","0"],false,true)){return true}if(o==null){return false}return !k("1.6.0_33+",o)}var d={debug:null,version:"20120801",firefoxJavaVersion:null,myInterval:null,preInstallJREList:null,returnPage:null,brand:null,locale:null,installType:null,EAInstallEnabled:false,EarlyAccessURL:null,oldMimeType:"application/npruntime-scriptable-plugin;DeploymentToolkit",mimeType:"application/java-deployment-toolkit",launchButtonPNG:e(),browserName:null,browserName2:null,getJREs:function(){var t=new Array();if(this.isPluginInstalled()){var r=this.getPlugin();var o=r.jvms;for(var q=0;q<o.getLength();q++){t[q]=o.get(q).version}}else{var p=this.getBrowser();if(p=="MSIE"){if(this.testUsingActiveX("1.7.0")){t[0]="1.7.0"}else{if(this.testUsingActiveX("1.6.0")){t[0]="1.6.0"}else{if(this.testUsingActiveX("1.5.0")){t[0]="1.5.0"}else{if(this.testUsingActiveX("1.4.2")){t[0]="1.4.2"}else{if(this.testForMSVM()){t[0]="1.1"}}}}}}else{if(p=="Netscape Family"){this.getJPIVersionUsingMimeType();if(this.firefoxJavaVersion!=null){t[0]=this.firefoxJavaVersion}else{if(this.testUsingMimeTypes("1.7")){t[0]="1.7.0"}else{if(this.testUsingMimeTypes("1.6")){t[0]="1.6.0"}else{if(this.testUsingMimeTypes("1.5")){t[0]="1.5.0"}else{if(this.testUsingMimeTypes("1.4.2")){t[0]="1.4.2"}else{if(this.browserName2=="Safari"){if(this.testUsingPluginsArray("1.7.0")){t[0]="1.7.0"}else{if(this.testUsingPluginsArray("1.6")){t[0]="1.6.0"}else{if(this.testUsingPluginsArray("1.5")){t[0]="1.5.0"}else{if(this.testUsingPluginsArray("1.4.2")){t[0]="1.4.2"}}}}}}}}}}}}}if(this.debug){for(var q=0;q<t.length;++q){g("[getJREs()] We claim to have detected Java SE "+t[q])}}return t},installJRE:function(r,p){var o=false;if(this.isPluginInstalled()&&this.isAutoInstallEnabled(r)){var q=false;if(this.isCallbackSupported()){q=this.getPlugin().installJRE(r,p)}else{q=this.getPlugin().installJRE(r)}if(q){this.refresh();if(this.returnPage!=null){document.location=this.returnPage}}return q}else{return this.installLatestJRE()}},isAutoInstallEnabled:function(o){if(!this.isPluginInstalled()){return false}if(typeof o=="undefined"){o=null}return a(o)},isCallbackSupported:function(){return this.isPluginInstalled()&&this.compareVersionToPattern(this.getPlugin().version,["10","2","0"],false,true)},installLatestJRE:function(q){if(this.isPluginInstalled()&&this.isAutoInstallEnabled()){var r=false;if(this.isCallbackSupported()){r=this.getPlugin().installLatestJRE(q)}else{r=this.getPlugin().installLatestJRE()}if(r){this.refresh();if(this.returnPage!=null){document.location=this.returnPage}}return r}else{var p=this.getBrowser();var o=navigator.platform.toLowerCase();if((this.EAInstallEnabled=="true")&&(o.indexOf("win")!=-1)&&(this.EarlyAccessURL!=null)){this.preInstallJREList=this.getJREs();if(this.returnPage!=null){this.myInterval=setInterval("deployJava.poll()",3000)}location.href=this.EarlyAccessURL;return false}else{if(p=="MSIE"){return this.IEInstall()}else{if((p=="Netscape Family")&&(o.indexOf("win32")!=-1)){return this.FFInstall()}else{location.href=n(((this.returnPage!=null)?("&returnPage="+this.returnPage):"")+((this.locale!=null)?("&locale="+this.locale):"")+((this.brand!=null)?("&brand="+this.brand):""))}}return false}}},runApplet:function(p,u,r){if(r=="undefined"||r==null){r="1.1"}var t="^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$";var o=r.match(t);if(this.returnPage==null){this.returnPage=document.location}if(o!=null){var q=this.getBrowser();if(q!="?"){if(this.versionCheck(r+"+")){this.writeAppletTag(p,u)}else{if(this.installJRE(r+"+")){this.refresh();location.href=document.location;this.writeAppletTag(p,u)}}}else{this.writeAppletTag(p,u)}}else{g("[runApplet()] Invalid minimumVersion argument to runApplet():"+r)}},writeAppletTag:function(r,w){var o="<applet ";var q="";var t="</applet>";var x=true;if(null==w||typeof w!="object"){w=new Object()}for(var p in r){if(!c(p)){w[p]=r[p]}else{o+=(" "+p+'="'+r[p]+'"');if(p=="code"){x=false}}}var v=false;for(var u in w){if(u=="codebase_lookup"){v=true}if(u=="object"||u=="java_object"||u=="java_code"){x=false}q+='<param name="'+u+'" value="'+w[u]+'"/>'}if(!v){q+='<param name="codebase_lookup" value="false"/>'}if(x){o+=(' code="dummy"')}o+=">";document.write(o+"\n"+q+"\n"+t)},versionCheck:function(p){var v=0;var x="^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?(\\*|\\+)?$";var y=p.match(x);if(y!=null){var r=false;var u=false;var q=new Array();for(var t=1;t<y.length;++t){if((typeof y[t]=="string")&&(y[t]!="")){q[v]=y[t];v++}}if(q[q.length-1]=="+"){u=true;r=false;q.length--}else{if(q[q.length-1]=="*"){u=false;r=true;q.length--}else{if(q.length<4){u=false;r=true}}}var w=this.getJREs();for(var t=0;t<w.length;++t){if(this.compareVersionToPattern(w[t],q,r,u)){return true}}return false}else{var o="Invalid versionPattern passed to versionCheck: "+p;g("[versionCheck()] "+o);alert(o);return false}},isWebStartInstalled:function(r){var q=this.getBrowser();if(q=="?"){return true}if(r=="undefined"||r==null){r="1.4.2"}var p=false;var t="^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$";var o=r.match(t);if(o!=null){p=this.versionCheck(r+"+")}else{g("[isWebStartInstaller()] Invalid minimumVersion argument to isWebStartInstalled(): "+r);p=this.versionCheck("1.4.2+")}return p},getJPIVersionUsingMimeType:function(){for(var p=0;p<navigator.mimeTypes.length;++p){var q=navigator.mimeTypes[p].type;var o=q.match(/^application\/x-java-applet;jpi-version=(.*)$/);if(o!=null){this.firefoxJavaVersion=o[1];if("Opera"!=this.browserName2){break}}}},launchWebStartApplication:function(r){var o=navigator.userAgent.toLowerCase();this.getJPIVersionUsingMimeType();if(this.isWebStartInstalled("1.7.0")==false){if((this.installJRE("1.7.0+")==false)||((this.isWebStartInstalled("1.7.0")==false))){return false}}var u=null;if(document.documentURI){u=document.documentURI}if(u==null){u=document.URL}var p=this.getBrowser();var q;if(p=="MSIE"){q='<object classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" width="0" height="0"><PARAM name="launchjnlp" value="'+r+'"><PARAM name="docbase" value="'+u+'"></object>'}else{if(p=="Netscape Family"){q='<embed type="application/x-java-applet;jpi-version='+this.firefoxJavaVersion+'" width="0" height="0" launchjnlp="'+r+'"docbase="'+u+'" />'}}if(document.body=="undefined"||document.body==null){document.write(q);document.location=u}else{var t=document.createElement("div");t.id="div1";t.style.position="relative";t.style.left="-10000px";t.style.margin="0px auto";t.className="dynamicDiv";t.innerHTML=q;document.body.appendChild(t)}},createWebStartLaunchButtonEx:function(q,p){if(this.returnPage==null){this.returnPage=q}var o="javascript:deployJava.launchWebStartApplication('"+q+"');";document.write('<a href="'+o+'" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},createWebStartLaunchButton:function(q,p){if(this.returnPage==null){this.returnPage=q}var o="javascript:if (!deployJava.isWebStartInstalled(&quot;"+p+"&quot;)) {if (deployJava.installLatestJRE()) {if (deployJava.launch(&quot;"+q+"&quot;)) {}}} else {if (deployJava.launch(&quot;"+q+"&quot;)) {}}";document.write('<a href="'+o+'" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},launch:function(o){document.location=o;return true},isPluginInstalled:function(){var o=this.getPlugin();if(o&&o.jvms){return true}else{return false}},isAutoUpdateEnabled:function(){if(this.isPluginInstalled()){return this.getPlugin().isAutoUpdateEnabled()}return false},setAutoUpdateEnabled:function(){if(this.isPluginInstalled()){return this.getPlugin().setAutoUpdateEnabled()}return false},setInstallerType:function(o){this.installType=o;if(this.isPluginInstalled()){return this.getPlugin().setInstallerType(o)}return false},setAdditionalPackages:function(o){if(this.isPluginInstalled()){return this.getPlugin().setAdditionalPackages(o)}return false},setEarlyAccess:function(o){this.EAInstallEnabled=o},isPlugin2:function(){if(this.isPluginInstalled()){if(this.versionCheck("1.6.0_10+")){try{return this.getPlugin().isPlugin2()}catch(o){}}}return false},allowPlugin:function(){this.getBrowser();var o=("Safari"!=this.browserName2&&"Opera"!=this.browserName2);return o},getPlugin:function(){this.refresh();var o=null;if(this.allowPlugin()){o=document.getElementById("deployJavaPlugin")}return o},compareVersionToPattern:function(v,p,r,t){if(v==undefined||p==undefined){return false}var w="^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$";var x=v.match(w);if(x!=null){var u=0;var y=new Array();for(var q=1;q<x.length;++q){if((typeof x[q]=="string")&&(x[q]!="")){y[u]=x[q];u++}}var o=Math.min(y.length,p.length);if(t){for(var q=0;q<o;++q){if(y[q]<p[q]){return false}else{if(y[q]>p[q]){return true}}}return true}else{for(var q=0;q<o;++q){if(y[q]!=p[q]){return false}}if(r){return true}else{return(y.length==p.length)}}}else{return false}},getBrowser:function(){if(this.browserName==null){var o=navigator.userAgent.toLowerCase();g("[getBrowser()] navigator.userAgent.toLowerCase() -> "+o);if((o.indexOf("msie")!=-1)&&(o.indexOf("opera")==-1)){this.browserName="MSIE";this.browserName2="MSIE"}else{if(o.indexOf("trident")!=-1||o.indexOf("Trident")!=-1){this.browserName="MSIE";this.browserName2="MSIE"}else{if(o.indexOf("iphone")!=-1){this.browserName="Netscape Family";this.browserName2="iPhone"}else{if((o.indexOf("firefox")!=-1)&&(o.indexOf("opera")==-1)){this.browserName="Netscape Family";this.browserName2="Firefox"}else{if(o.indexOf("chrome")!=-1){this.browserName="Netscape Family";this.browserName2="Chrome"}else{if(o.indexOf("safari")!=-1){this.browserName="Netscape Family";this.browserName2="Safari"}else{if((o.indexOf("mozilla")!=-1)&&(o.indexOf("opera")==-1)){this.browserName="Netscape Family";this.browserName2="Other"}else{if(o.indexOf("opera")!=-1){this.browserName="Netscape Family";this.browserName2="Opera"}else{this.browserName="?";this.browserName2="unknown"}}}}}}}}g("[getBrowser()] Detected browser name:"+this.browserName+", "+this.browserName2)}return this.browserName},testUsingActiveX:function(o){var q="JavaWebStart.isInstalled."+o+".0";if(typeof ActiveXObject=="undefined"||!ActiveXObject){g("[testUsingActiveX()] Browser claims to be IE, but no ActiveXObject object?");return false}try{return(new ActiveXObject(q)!=null)}catch(p){return false}},testForMSVM:function(){var p="{08B0E5C0-4FCB-11CF-AAA5-00401C608500}";if(typeof oClientCaps!="undefined"){var o=oClientCaps.getComponentVersion(p,"ComponentID");if((o=="")||(o=="5,0,5000,0")){return false}else{return true}}else{return false}},testUsingMimeTypes:function(p){if(!navigator.mimeTypes){g("[testUsingMimeTypes()] Browser claims to be Netscape family, but no mimeTypes[] array?");return false}for(var q=0;q<navigator.mimeTypes.length;++q){s=navigator.mimeTypes[q].type;var o=s.match(/^application\/x-java-applet\x3Bversion=(1\.8|1\.7|1\.6|1\.5|1\.4\.2)$/);if(o!=null){if(this.compareVersions(o[1],p)){return true}}}return false},testUsingPluginsArray:function(p){if((!navigator.plugins)||(!navigator.plugins.length)){return false}var o=navigator.platform.toLowerCase();for(var q=0;q<navigator.plugins.length;++q){s=navigator.plugins[q].description;if(s.search(/^Java Switchable Plug-in (Cocoa)/)!=-1){if(this.compareVersions("1.5.0",p)){return true}}else{if(s.search(/^Java/)!=-1){if(o.indexOf("win")!=-1){if(this.compareVersions("1.5.0",p)||this.compareVersions("1.6.0",p)){return true}}}}}if(this.compareVersions("1.5.0",p)){return true}return false},IEInstall:function(){location.href=n(((this.returnPage!=null)?("&returnPage="+this.returnPage):"")+((this.locale!=null)?("&locale="+this.locale):"")+((this.brand!=null)?("&brand="+this.brand):""));return false},done:function(p,o){},FFInstall:function(){location.href=n(((this.returnPage!=null)?("&returnPage="+this.returnPage):"")+((this.locale!=null)?("&locale="+this.locale):"")+((this.brand!=null)?("&brand="+this.brand):"")+((this.installType!=null)?("&type="+this.installType):""));return false},compareVersions:function(r,t){var p=r.split(".");var o=t.split(".");for(var q=0;q<p.length;++q){p[q]=Number(p[q])}for(var q=0;q<o.length;++q){o[q]=Number(o[q])}if(p.length==2){p[2]=0}if(p[0]>o[0]){return true}if(p[0]<o[0]){return false}if(p[1]>o[1]){return true}if(p[1]<o[1]){return false}if(p[2]>o[2]){return true}if(p[2]<o[2]){return false}return true},enableAlerts:function(){this.browserName=null;this.debug=true},poll:function(){this.refresh();var o=this.getJREs();if((this.preInstallJREList.length==0)&&(o.length!=0)){clearInterval(this.myInterval);if(this.returnPage!=null){location.href=this.returnPage}}if((this.preInstallJREList.length!=0)&&(o.length!=0)&&(this.preInstallJREList[0]!=o[0])){clearInterval(this.myInterval);if(this.returnPage!=null){location.href=this.returnPage}}},writePluginTag:function(){var o=this.getBrowser();if(o=="MSIE"){document.write('<object classid="clsid:CAFEEFAC-DEC7-0000-0001-ABCDEFFEDCBA" id="deployJavaPlugin" width="0" height="0" style="position: absolute; top: -5000px;"></object>')}else{if(o=="Netscape Family"&&this.allowPlugin()){this.writeEmbedTag()}}},refresh:function(){navigator.plugins.refresh(false);var o=this.getBrowser();if(o=="Netscape Family"&&this.allowPlugin()){var p=document.getElementById("deployJavaPlugin");if(p==null){this.writeEmbedTag()}}},writeEmbedTag:function(){var o=false;if(navigator.mimeTypes!=null){for(var p=0;p<navigator.mimeTypes.length;p++){if(navigator.mimeTypes[p].type==this.mimeType){if(navigator.mimeTypes[p].enabledPlugin){document.write('<embed id="deployJavaPlugin" type="'+this.mimeType+'" hidden="true" />');o=true}}}if(!o){for(var p=0;p<navigator.mimeTypes.length;p++){if(navigator.mimeTypes[p].type==this.oldMimeType){if(navigator.mimeTypes[p].enabledPlugin){document.write('<embed id="deployJavaPlugin" type="'+this.oldMimeType+'" hidden="true" />')}}}}}}};d.writePluginTag();if(d.locale==null){var h=null;if(h==null){try{h=navigator.userLanguage}catch(f){}}if(h==null){try{h=navigator.systemLanguage}catch(f){}}if(h==null){try{h=navigator.language}catch(f){}}if(h!=null){h.replace("-","_");d.locale=h}}return d}();;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'js/jira-amd.js' */
define("dndattachment/JIRA",function(){return JIRA});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'js/aui-amd.js' */
define("dndattachment/aui",function(){return AJS});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:attachment-menu-link-init', location = 'js/menu/initAttachmentMenuLink.js' */
require(["jquery","dndattachment/aui","jira/util/events","dndattachment/util/events/types"],function(c,f,j,i){var e="issueaction-attach-file";var a=function(k){k.addClass(e);k.click()};var b=function(){var k=c('<input type="file" multiple />');k.change(function(l){j.trigger(i.ATTACHMENT_FOR_PAGE_RECEIVED,{files:k[0].files})});k.click()};var h=function(k){return !!k.data("issuekey")};var g=function(){c(document).on("click",".unified-attach-file",function(m){f.trigger("analytics",{name:"issue.dnd.attachment.opsbar.attachFiles.linkClick",data:{}});var k=c(m.target);if(k.hasClass(e)){return}m.preventDefault();var l=c(".issue-drop-zone").length;if(l&&!h(k)){b()}else{a(k)}})};var d=function(){g()};if(c.isReady){d()}else{f.$(d)}});;
;
/* module-key = 'com.googlecode.jira-suite-utilities:common', location = 'com/googlecode/jsu/maps/LocationField.js' */
(function(i){var d=window,j="onJSUGMapsLoad",n=[],g=false,a=false;function k(){var p;while(p=n.shift()){p()}}function e(q){var p=d.google.maps&&d.google.maps.LatLng;if(p){n.push(q);k()}else{if(a){n.push(q)}else{a=true;n.push(q);google.load("maps","3",{other_params:"key="+window.JSU.Google.Maps.Key,callback:k})}}}function f(q){if(d.google&&d.google.load){e(q)}else{if(g){n.push(q)}else{g=true;d[j]=function(){e(q)};var p=document.createElement("script");p.src="https://www.google.com/jsapi?callback="+j;p.type="text/javascript";i("body").append(p)}}}function b(p,q){f(function(){new google.maps.Geocoder().geocode({address:p},q)})}function c(p){if(p.hasClass("open")||p.hasClass("notFound")||p.hasClass("noKey")){l(p)}else{if(window.JSU.Google.Maps.Key){m(p)}else{p.addClass("noKey")}}}function l(p){p.removeClass("open");p.removeClass("notFound");p.removeClass("noKey")}function o(p){return !isNaN(parseFloat(p))&&isFinite(p)}function h(p){return(!p||0===p.length)}function m(t){var q=t.find("a.location").text(),p="",r=t.find(".jsuMap");var s=q.split("=>");if(s.length==2){q=s[0].trim();p=s[1].trim()}b(q,function(w,u){if(u==google.maps.GeocoderStatus.OK){t.addClass("open");var A=new google.maps.Map(r.get(0),{zoom:8,center:w[0].geometry.location,mapTypeId:google.maps.MapTypeId.ROADMAP});var z=q.split(",");if(z.length==2&&o(z[0])&&o(z[1])){var B=new google.maps.LatLng(z[0],z[1]);new google.maps.Marker({position:B,map:A,title:q})}else{new google.maps.Marker({map:A,position:w[0].geometry.location,title:q})}if(!h(p)){var v=new google.maps.DirectionsRenderer();var y=new google.maps.DirectionsService();v.setMap(A);var x={origin:q,destination:p,travelMode:google.maps.TravelMode.DRIVING};y.route(x,function(D,C){if(C==google.maps.DirectionsStatus.OK){v.setDirections(D)}})}}else{t.addClass("notFound")}})}JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(s,p,r){if(r===JIRA.CONTENT_ADDED_REASON.panelRefreshed||r===JIRA.CONTENT_ADDED_REASON.pageLoad){var q=i(".jsuLocation.ready",p);q.removeClass("ready");q.each(function(t,u){u=i(u);u.find("> a").click(function(v){v.preventDefault();c(u)})})}});JIRA.bind(JIRA.Events.INLINE_EDIT_STARTED,function(){var p=JIRA.Components.IssueEditor.InlineEditUtils.BlurTriggers.Default;JIRA.Components.IssueEditor.InlineEditUtils.BlurTriggerMapping.custom.locationselect=p;JIRA.Components.IssueEditor.InlineEditUtils.BlurTriggerMapping.custom.locationtextfield=p;JIRA.Components.IssueEditor.InlineEditUtils.BlurTriggerMapping.custom.directionsfield=p})})(AJS.$);;
;
/* module-key = 'com.atlassian.plugin.jslibs:underscore-1.5.2', location = 'libs/underscore/1.5.2/underscore-1.5.2.js' */
(function(l){define("atlassian/libs/underscore-1.5.2",function(){var o={};l.call(o);return o._.noConflict()})})(function(){(function(){var l=this,o=l._,p={},k=Array.prototype,q=Object.prototype,t=k.push,i=k.slice,r=k.concat,m=q.toString,L=q.hasOwnProperty,A=k.forEach,B=k.map,C=k.reduce,D=k.reduceRight,E=k.filter,F=k.every,G=k.some,s=k.indexOf,H=k.lastIndexOf,q=Array.isArray,M=Object.keys,u=Function.prototype.bind,b=function(a){if(a instanceof b)return a;if(!(this instanceof b))return new b(a);this._wrapped=
a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=b),exports._=b):l._=b;b.VERSION="1.5.2";var j=b.each=b.forEach=function(a,c,d){if(a!=null)if(A&&a.forEach===A)a.forEach(c,d);else if(a.length===+a.length)for(var e=0,f=a.length;e<f;e++){if(c.call(d,a[e],e,a)===p)break}else for(var g=b.keys(a),e=0,f=g.length;e<f;e++)if(c.call(d,a[g[e]],g[e],a)===p)break};b.map=b.collect=function(a,c,b){var e=[];if(a==null)return e;if(B&&a.map===B)return a.map(c,b);
j(a,function(a,g,h){e.push(c.call(b,a,g,h))});return e};b.reduce=b.foldl=b.inject=function(a,c,d,e){var f=arguments.length>2;a==null&&(a=[]);if(C&&a.reduce===C){e&&(c=b.bind(c,e));return f?a.reduce(c,d):a.reduce(c)}j(a,function(a,b,N){if(f)d=c.call(e,d,a,b,N);else{d=a;f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};b.reduceRight=b.foldr=function(a,c,d,e){var f=arguments.length>2;a==null&&(a=[]);if(D&&a.reduceRight===D){e&&(c=b.bind(c,e));return f?a.reduceRight(c,
d):a.reduceRight(c)}var g=a.length;if(g!==+g)var h=b.keys(a),g=h.length;j(a,function(b,i,j){i=h?h[--g]:--g;if(f)d=c.call(e,d,a[i],i,j);else{d=a[i];f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};b.find=b.detect=function(a,c,b){var e;I(a,function(a,g,h){if(c.call(b,a,g,h)){e=a;return true}});return e};b.filter=b.select=function(a,c,b){var e=[];if(a==null)return e;if(E&&a.filter===E)return a.filter(c,b);j(a,function(a,g,h){c.call(b,a,g,h)&&e.push(a)});return e};
b.reject=function(a,c,d){return b.filter(a,function(a,b,g){return!c.call(d,a,b,g)},d)};b.every=b.all=function(a,c,d){c||(c=b.identity);var e=true;if(a==null)return e;if(F&&a.every===F)return a.every(c,d);j(a,function(a,b,h){if(!(e=e&&c.call(d,a,b,h)))return p});return!!e};var I=b.some=b.any=function(a,c,d){c||(c=b.identity);var e=false;if(a==null)return e;if(G&&a.some===G)return a.some(c,d);j(a,function(a,b,h){if(e||(e=c.call(d,a,b,h)))return p});return!!e};b.contains=b.include=function(a,c){return a==
null?false:s&&a.indexOf===s?a.indexOf(c)!=-1:I(a,function(a){return a===c})};b.invoke=function(a,c){var d=i.call(arguments,2),e=b.isFunction(c);return b.map(a,function(a){return(e?c:a[c]).apply(a,d)})};b.pluck=function(a,c){return b.map(a,function(a){return a[c]})};b.where=function(a,c,d){return b.isEmpty(c)?d?void 0:[]:b[d?"find":"filter"](a,function(a){for(var b in c)if(c[b]!==a[b])return false;return true})};b.findWhere=function(a,c){return b.where(a,c,true)};b.max=function(a,c,d){if(!c&&b.isArray(a)&&
a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!c&&b.isEmpty(a))return-Infinity;var e={computed:-Infinity,value:-Infinity};j(a,function(a,b,h){b=c?c.call(d,a,b,h):a;b>e.computed&&(e={value:a,computed:b})});return e.value};b.min=function(a,c,d){if(!c&&b.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!c&&b.isEmpty(a))return Infinity;var e={computed:Infinity,value:Infinity};j(a,function(a,b,h){b=c?c.call(d,a,b,h):a;b<e.computed&&(e={value:a,computed:b})});return e.value};
b.shuffle=function(a){var c,d=0,e=[];j(a,function(a){c=b.random(d++);e[d-1]=e[c];e[c]=a});return e};b.sample=function(a,c,d){return arguments.length<2||d?a[b.random(a.length-1)]:b.shuffle(a).slice(0,Math.max(0,c))};var v=function(a){return b.isFunction(a)?a:function(c){return c[a]}};b.sortBy=function(a,c,d){var e=v(c);return b.pluck(b.map(a,function(a,c,b){return{value:a,index:c,criteria:e.call(d,a,c,b)}}).sort(function(a,c){var b=a.criteria,d=c.criteria;if(b!==d){if(b>d||b===void 0)return 1;if(b<
d||d===void 0)return-1}return a.index-c.index}),"value")};var w=function(a){return function(c,d,e){var f={},g=d==null?b.identity:v(d);j(c,function(b,d){var i=g.call(e,b,d,c);a(f,i,b)});return f}};b.groupBy=w(function(a,c,d){(b.has(a,c)?a[c]:a[c]=[]).push(d)});b.indexBy=w(function(a,c,b){a[c]=b});b.countBy=w(function(a,c){b.has(a,c)?a[c]++:a[c]=1});b.sortedIndex=function(a,c,d,e){for(var d=d==null?b.identity:v(d),c=d.call(e,c),f=0,g=a.length;f<g;){var h=f+g>>>1;d.call(e,a[h])<c?f=h+1:g=h}return f};
b.toArray=function(a){return!a?[]:b.isArray(a)?i.call(a):a.length===+a.length?b.map(a,b.identity):b.values(a)};b.size=function(a){return a==null?0:a.length===+a.length?a.length:b.keys(a).length};b.first=b.head=b.take=function(a,c,b){return a==null?void 0:c==null||b?a[0]:i.call(a,0,c)};b.initial=function(a,c,b){return i.call(a,0,a.length-(c==null||b?1:c))};b.last=function(a,c,b){return a==null?void 0:c==null||b?a[a.length-1]:i.call(a,Math.max(a.length-c,0))};b.rest=b.tail=b.drop=function(a,b,d){return i.call(a,
b==null||d?1:b)};b.compact=function(a){return b.filter(a,b.identity)};var J=function(a,c,d){if(c&&b.every(a,b.isArray))return r.apply(d,a);j(a,function(a){b.isArray(a)||b.isArguments(a)?c?t.apply(d,a):J(a,c,d):d.push(a)});return d};b.flatten=function(a,b){return J(a,b,[])};b.without=function(a){return b.difference(a,i.call(arguments,1))};b.uniq=b.unique=function(a,c,d,e){if(b.isFunction(c)){e=d;d=c;c=false}var d=d?b.map(a,d,e):a,f=[],g=[];j(d,function(d,e){if(c?!e||g[g.length-1]!==d:!b.contains(g,
d)){g.push(d);f.push(a[e])}});return f};b.union=function(){return b.uniq(b.flatten(arguments,true))};b.intersection=function(a){var c=i.call(arguments,1);return b.filter(b.uniq(a),function(a){return b.every(c,function(c){return b.indexOf(c,a)>=0})})};b.difference=function(a){var c=r.apply(k,i.call(arguments,1));return b.filter(a,function(a){return!b.contains(c,a)})};b.zip=function(){for(var a=b.max(b.pluck(arguments,"length").concat(0)),c=Array(a),d=0;d<a;d++)c[d]=b.pluck(arguments,""+d);return c};
b.object=function(a,b){if(a==null)return{};for(var d={},e=0,f=a.length;e<f;e++)b?d[a[e]]=b[e]:d[a[e][0]]=a[e][1];return d};b.indexOf=function(a,c,d){if(a==null)return-1;var e=0,f=a.length;if(d)if(typeof d=="number")e=d<0?Math.max(0,f+d):d;else{e=b.sortedIndex(a,c);return a[e]===c?e:-1}if(s&&a.indexOf===s)return a.indexOf(c,d);for(;e<f;e++)if(a[e]===c)return e;return-1};b.lastIndexOf=function(a,b,d){if(a==null)return-1;var e=d!=null;if(H&&a.lastIndexOf===H)return e?a.lastIndexOf(b,d):a.lastIndexOf(b);
for(d=e?d:a.length;d--;)if(a[d]===b)return d;return-1};b.range=function(a,b,d){if(arguments.length<=1){b=a||0;a=0}for(var d=arguments[2]||1,e=Math.max(Math.ceil((b-a)/d),0),f=0,g=Array(e);f<e;){g[f++]=a;a=a+d}return g};var x=function(){};b.bind=function(a,c){var d,e;if(u&&a.bind===u)return u.apply(a,i.call(arguments,1));if(!b.isFunction(a))throw new TypeError;d=i.call(arguments,2);return e=function(){if(!(this instanceof e))return a.apply(c,d.concat(i.call(arguments)));x.prototype=a.prototype;var b=
new x;x.prototype=null;var g=a.apply(b,d.concat(i.call(arguments)));return Object(g)===g?g:b}};b.partial=function(a){var b=i.call(arguments,1);return function(){return a.apply(this,b.concat(i.call(arguments)))}};b.bindAll=function(a){var c=i.call(arguments,1);if(c.length===0)throw Error("bindAll must be passed function names");j(c,function(c){a[c]=b.bind(a[c],a)});return a};b.memoize=function(a,c){var d={};c||(c=b.identity);return function(){var e=c.apply(this,arguments);return b.has(d,e)?d[e]:d[e]=
a.apply(this,arguments)}};b.delay=function(a,b){var d=i.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};b.defer=function(a){return b.delay.apply(b,[a,1].concat(i.call(arguments,1)))};b.throttle=function(a,b,d){var e,f,g,h=null,i=0;d||(d={});var j=function(){i=d.leading===false?0:new Date;h=null;g=a.apply(e,f)};return function(){var k=new Date;!i&&d.leading===false&&(i=k);var K=b-(k-i);e=this;f=arguments;if(K<=0){clearTimeout(h);h=null;i=k;g=a.apply(e,f)}else!h&&d.trailing!==
false&&(h=setTimeout(j,K));return g}};b.debounce=function(a,b,d){var e,f,g,h,i;return function(){g=this;f=arguments;h=new Date;var j=function(){var k=new Date-h;if(k<b)e=setTimeout(j,b-k);else{e=null;d||(i=a.apply(g,f))}},k=d&&!e;e||(e=setTimeout(j,b));k&&(i=a.apply(g,f));return i}};b.once=function(a){var b=false,d;return function(){if(b)return d;b=true;d=a.apply(this,arguments);a=null;return d}};b.wrap=function(a,b){return function(){var d=[a];t.apply(d,arguments);return b.apply(this,d)}};b.compose=
function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};b.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}};b.keys=M||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var c=[],d;for(d in a)b.has(a,d)&&c.push(d);return c};b.values=function(a){for(var c=b.keys(a),d=c.length,e=Array(d),f=0;f<d;f++)e[f]=a[c[f]];return e};b.pairs=function(a){for(var c=b.keys(a),d=c.length,e=Array(d),f=0;f<
d;f++)e[f]=[c[f],a[c[f]]];return e};b.invert=function(a){for(var c={},d=b.keys(a),e=0,f=d.length;e<f;e++)c[a[d[e]]]=d[e];return c};b.functions=b.methods=function(a){var c=[],d;for(d in a)b.isFunction(a[d])&&c.push(d);return c.sort()};b.extend=function(a){j(i.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};b.pick=function(a){var b={},d=r.apply(k,i.call(arguments,1));j(d,function(d){d in a&&(b[d]=a[d])});return b};b.omit=function(a){var c={},d=r.apply(k,i.call(arguments,1)),
e;for(e in a)b.contains(d,e)||(c[e]=a[e]);return c};b.defaults=function(a){j(i.call(arguments,1),function(b){if(b)for(var d in b)a[d]===void 0&&(a[d]=b[d])});return a};b.clone=function(a){return!b.isObject(a)?a:b.isArray(a)?a.slice():b.extend({},a)};b.tap=function(a,b){b(a);return a};var y=function(a,c,d,e){if(a===c)return a!==0||1/a==1/c;if(a==null||c==null)return a===c;if(a instanceof b)a=a._wrapped;if(c instanceof b)c=c._wrapped;var f=m.call(a);if(f!=m.call(c))return false;switch(f){case "[object String]":return a==
String(c);case "[object Number]":return a!=+a?c!=+c:a==0?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if(typeof a!="object"||typeof c!="object")return false;for(var g=d.length;g--;)if(d[g]==a)return e[g]==c;var g=a.constructor,h=c.constructor;if(g!==h&&(!b.isFunction(g)||!(g instanceof g&&b.isFunction(h)&&h instanceof h)))return false;d.push(a);e.push(c);
g=0;h=true;if(f=="[object Array]"){g=a.length;if(h=g==c.length)for(;g--;)if(!(h=y(a[g],c[g],d,e)))break}else{for(var i in a)if(b.has(a,i)){g++;if(!(h=b.has(c,i)&&y(a[i],c[i],d,e)))break}if(h){for(i in c)if(b.has(c,i)&&!g--)break;h=!g}}d.pop();e.pop();return h};b.isEqual=function(a,b){return y(a,b,[],[])};b.isEmpty=function(a){if(a==null)return true;if(b.isArray(a)||b.isString(a))return a.length===0;for(var c in a)if(b.has(a,c))return false;return true};b.isElement=function(a){return!!(a&&a.nodeType===
1)};b.isArray=q||function(a){return m.call(a)=="[object Array]"};b.isObject=function(a){return a===Object(a)};j("Arguments Function String Number Date RegExp".split(" "),function(a){b["is"+a]=function(b){return m.call(b)=="[object "+a+"]"}});b.isArguments(arguments)||(b.isArguments=function(a){return!(!a||!b.has(a,"callee"))});"function"!==typeof/./&&(b.isFunction=function(a){return typeof a==="function"});b.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};b.isNaN=function(a){return b.isNumber(a)&&
a!=+a};b.isBoolean=function(a){return a===true||a===false||m.call(a)=="[object Boolean]"};b.isNull=function(a){return a===null};b.isUndefined=function(a){return a===void 0};b.has=function(a,b){return L.call(a,b)};b.noConflict=function(){l._=o;return this};b.identity=function(a){return a};b.times=function(a,b,d){for(var e=Array(Math.max(0,a)),f=0;f<a;f++)e[f]=b.call(d,f);return e};b.random=function(a,b){if(b==null){b=a;a=0}return a+Math.floor(Math.random()*(b-a+1))};var n={escape:{"&":"&amp;","<":"&lt;",
">":"&gt;",'"':"&quot;","'":"&#x27;"}};n.unescape=b.invert(n.escape);var O={escape:RegExp("["+b.keys(n.escape).join("")+"]","g"),unescape:RegExp("("+b.keys(n.unescape).join("|")+")","g")};b.each(["escape","unescape"],function(a){b[a]=function(b){return b==null?"":(""+b).replace(O[a],function(b){return n[a][b]})}});b.result=function(a,c){if(a!=null){var d=a[c];return b.isFunction(d)?d.call(a):d}};b.mixin=function(a){j(b.functions(a),function(c){var d=b[c]=a[c];b.prototype[c]=function(){var a=[this._wrapped];
t.apply(a,arguments);a=d.apply(b,a);return this._chain?b(a).chain():a}})};var P=0;b.uniqueId=function(a){var b=++P+"";return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,Q={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;b.template=function(a,c,d){var e,d=b.defaults({},d,b.templateSettings),f=RegExp([(d.escape||z).source,(d.interpolate||z).source,(d.evaluate||
z).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(f,function(b,c,d,e,f){h=h+a.slice(g,f).replace(R,function(a){return"\\"+Q[a]});c&&(h=h+("'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"));d&&(h=h+("'+\n((__t=("+d+"))==null?'':__t)+\n'"));e&&(h=h+("';\n"+e+"\n__p+='"));g=f+b.length;return b});h=h+"';\n";d.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{e=new Function(d.variable||"obj",
"_",h)}catch(i){i.source=h;throw i;}if(c)return e(c,b);c=function(a){return e.call(this,a,b)};c.source="function("+(d.variable||"obj")+"){\n"+h+"}";return c};b.chain=function(a){return b(a).chain()};b.mixin(b);j("pop push reverse shift sort splice unshift".split(" "),function(a){var c=k[a];b.prototype[a]=function(){var d=this._wrapped;c.apply(d,arguments);(a=="shift"||a=="splice")&&d.length===0&&delete d[0];return this._chain?b(d).chain():d}});j(["concat","join","slice"],function(a){var c=k[a];b.prototype[a]=
function(){var a=c.apply(this._wrapped,arguments);return this._chain?b(a).chain():a}});b.extend(b.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this)});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:lodash-amd', location = 'applinks/internal/lib/lodash-jslibs.js' */
define("applinks/lib/lodash",["atlassian/libs/underscore-1.5.2"],function(a){return a});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/lib-version.js' */
define("applinks/lib/version",["applinks/lib/lodash"],function(c){function d(f,g){if(c.isUndefined(f)){return 0}else{if(typeof f!=="number"||isNaN(f)){throw new Error(g+": expected a number, was: <"+f+">")}else{return Math.floor(f)}}}function a(f,g){if(!f||!(f instanceof e)){throw new Error(g+": expected a Version object, was: <"+f+">")}return f}function b(f,g){return f>g?1:f==g?0:-1}function e(g,h,f){this.major=d(g,"major");this.minor=d(h,"minor");this.bugfix=d(f,"bugfix")}e.parse=function(g,h){h=h||"versionString";if(!g){throw new Error(h+": expected a non-empty string")}var f=g.split(".");if(f.length!==3){throw new Error(h+": expected <major>.<minor>.<bugfix> string, was: <"+g+">")}return new e(parseInt(f[0]),parseInt(f[1]),parseInt(f[2]))};e.comparator=function(g,f){return a(g,"versionOne").compareTo(a(f,"versionTwo"))};e.prototype.compareTo=function(h){a(h,"that");var f=b(this.major,h.major);if(f!=0){return f}var g=b(this.minor,h.minor);if(g!=0){return g}return b(this.bugfix,h.bugfix)};e.prototype.greaterThan=function(f){return this.compareTo(f)>0};e.prototype.greaterThanOrEqual=function(f){return this.compareTo(f)>=0};e.prototype.lessThan=function(f){return this.compareTo(f)<0};e.prototype.lessThanOrEqual=function(f){return this.compareTo(f)<=0};e.prototype.equals=function(f){return this.compareTo(f)==0};e.prototype.toMinor=function(){return new e(this.major,this.minor)};e.prototype.toMajor=function(){return new e(this.major)};e.prototype.toString=function(){return this.major+"."+this.minor+"."+this.bugfix};return e});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-version-details.js' */
define("applinks/lib/aui-version-details",["applinks/lib/version"],function(g){var d=new g(5,8,15);var f=new g(5,9,13);var e=new g(5,8);var c=new g(5,9);function a(h){if(h.lessThan(d)){throw new Error("AUI version "+h+" is too low, you need to upgrade AUI to "+d+" or "+f+" for Applinks to work")}if(h.greaterThanOrEqual(c)&&h.lessThan(f)){throw new Error("AUI version "+h+" is too low, you need to upgrade AUI to "+f+" for Applinks to work")}}function b(h){var i=g.parse(h.version,"AUI version");a(i);h.versionDetails=i;h.versionDetails.is58=i.toMinor().equals(e);h.versionDetails.is59=i.toMinor().equals(c);return h}return{addVersionDetails:b}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/console-amd.js' */
define("applinks/lib/console",function(){return window.console});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/jquery-amd.js' */
define("applinks/lib/jquery",function(){return window.jQuery});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-amd.js' */
define("applinks/lib/aui",["applinks/lib/window","applinks/lib/aui-version-details"],function(b,c){var a=b.AJS;if(!a){throw new Error("window.AJS not defined, cannot load AUI")}return c.addVersionDetails(a)});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/wrm-amd.js' */
define("applinks/lib/wrm",function(){return window.WRM});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/skate-amd.js' */
define("applinks/lib/skate",function(){return window.skate});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/window-amd.js' */
define("applinks/lib/window",function(){return window});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-public', location = 'js/applinks.public.js' */
var ApplinksUtils=ApplinksUtils||(function(f){var c={},b={};var p="com_atlassian_applinks_authentication";function o(r){var q=f('<span class="aui-icon icon-close"></span>').click(function(){r.trigger("messageClose",[this]).remove()});r.append(q)}function g(){if(window===parent.window){return null}var r=null,q=window;f("iframe",parent.document.body).each(function(s){if(this.contentWindow.window===q){r=this}});return r}function d(r,x,w,q,s,u){if(x in c){var t=c[x];if(w){t.authAdminUri=q;delete c[x]}j(t,w,u)}if(!s&&parent&&(parent!==window)){var v=window;f("iframe",parent.document.body).each(function(y,A){var z=A.contentWindow;if(z!==v){if(z.AJS&&z.AJS.$){z.AJS.$(z.document).trigger("applinks.auth.completion",[x,w,q,true,u])}}})}}function j(q,u,t){var s=f(document);if(u){var r=function(v){if(v.isDefaultPrevented()){m(q)}else{h(q);document.location.reload(true)}};s.bind("applinks.auth.approved",r);s.trigger("applinks.auth.approved",q);s.unbind("applinks.auth.approved",r)}else{s.trigger("applinks.auth.denied",[q,t])}}function k(r,q){var s=r.find("a.applink-authenticate");if(r.hasClass("aui-message")){o(r)}s.click(function(t){window.open(q.authUri,p);t.preventDefault()});c[q.id]=q;return r}function n(){f(".applinks-auth-request").each(function(t){var s=f(this),v=s.find(".applinkId").val(),q=s.find(".appName").val(),r=s.find(".appUri").val(),u=s.find(".authUri").val();if(v&&u){k(s,{id:v,appName:q,appUri:r,authUri:u})}})}function i(q){var r=f('<div class="aui-message warning closeable applinks-auth-request"><p><span class="aui-icon icon-applinks-key"></span></p></div>');r.append(AJS.format("Additional information may be available, please \u003ca class=\"applink-authenticate\" href=\"{0}\"\u003eauthenticate\u003c/a\u003e with \u003ca href=\"{1}\"\u003e{2}\u003c/a\u003e.",AJS.escapeHtml(q.authUri),AJS.escapeHtml(q.appUri),AJS.escapeHtml(q.appName)));k(r,q);return r}function e(u,r){var q=f('<span class="applinks-auth-request"></span>'),s=f('<span class="applinks-request-description"></span>'),t=AJS.format("\u003ca class=\"applink-authenticate\" href=\"{0}\"\u003eAuthenticate\u003c/a\u003e to see additional information.",AJS.escapeHtml(r.authUri));if(u){s.append(u);s.append(" - ")}s.append(t);q.append(s);k(q,r);return q}function h(q){var r=g();if((!r)||(!r.id)){return}if(!parent.ApplinksUtils.pendingConfirmations){parent.ApplinksUtils.pendingConfirmations={}}if(!(r.id in parent.ApplinksUtils.pendingConfirmations)){parent.ApplinksUtils.pendingConfirmations[r.id]=[]}parent.ApplinksUtils.pendingConfirmations[r.id].push(q);return}function l(){if(parent&&parent.ApplinksUtils&&parent.ApplinksUtils.pendingConfirmations){var r=g();if(r){if(r.id in parent.ApplinksUtils.pendingConfirmations){var s=parent.ApplinksUtils.pendingConfirmations[r.id];delete parent.ApplinksUtils.pendingConfirmations[r.id];for(var q=0,t=s.length;q<t;q++){m(s[q])}}}}}function m(s){var t=f(document),r=f('<div class="aui-message success closeable applinks-auth-confirmation"><p><span class="aui-icon icon-applinks-key-success"></span></p></div>'),q=t.find("div.applinks-auth-confirmation-container");if(!q.length){q=t.find("body")}r.append(AJS.format("This application is now using \u003ca href=\"{0}\"\u003e{1}\u003c/a\u003e\'\'s credentials. Revoke access at any time by going to \u003ca href=\"{2}\"\u003eOAuth access tokens\u003c/a\u003e.",AJS.escapeHtml(s.appUri),AJS.escapeHtml(s.appName),AJS.escapeHtml(s.authAdminUri)));o(r);q.prepend(r);setTimeout(function(){r.fadeOut(1000,function(){f(this).remove()})},5000)}function a(){if(parent&&!(parent===window)){if(!parent.ApplinksUtils){parent.ApplinksUtils={}}}f(document).bind("applinks.auth.completion",d);n();l()}f(document).ready(a);return{createAuthRequestBanner:i,createAuthRequestInline:e}})(AJS.$);;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/docs.js' */
define("applinks/common/docs",["applinks/lib/jquery","applinks/lib/aui","applinks/common/help-paths"],function(c,b,a){return{createDocLink:function(d,f,e){if(!e){e=""}else{e=" "+e}return c("<a/>",{"class":"ual-help-link help-link"+e,href:this.getDocHref(d,f),target:"_blank","data-help-link-key":d,text:"Help",title:"Help"})},getDocHref:function(e,f){var d=a.getFullPath(e);if(f){d+="#"+a.getPath(f)}return d}}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/help-paths.js' */
define("applinks/common/help-paths",["applinks/lib/console","applinks/lib/wrm","applinks/lib/lodash","applinks/common/modules","applinks/common/preconditions"],function(b,a,g,e,d){var f=g.memoize(function(){var j=a.data.claim(e.dataFqn(e.COMMON_EXPORTED,"applinks-help-paths"));if(!j.entries){b.warn("Help paths not found, all help links are likely to be broken.")}return j.entries||{}});var i=function(j,m){d.nonEmptyString(j,"key");var l=f()[j]||j;if(m){d.nonEmptyString(m,"sectionKey");var k=l.replace(/\+/g,"");l+="#"+k+"-"+m}return l};function c(j,k){return j.indexOf(k,j.length-k.length)!==-1}function h(j,k){return c(j,k)?j:j+k}return{getPath:i,getFullPath:function(j,l){var k=this.baseUrl();return h(k,"/")+this.getPath(j,l)},baseUrl:g.partial(i,"applinks.docs.root")}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/events.js' */
define("applinks/common/events",["applinks/lib/jquery","applinks/lib/lodash","applinks/lib/window","applinks/common/preconditions"],function(e,b,d,f){var c="applinks.event.";function a(g){return c+f.nonEmptyString(g,"eventId")}return{PREREADY:a("preready"),READY:a("ready"),APPLINKS_LOADED:a("loaded"),APPLINKS_UPDATED:a("updated"),NEW_APPLINK_CREATED:a("created"),ORPHANED_UPGRADE:a("orphaned.upgrade"),V3_ONBOARDING_FINISHED:a("v3-onboarding-finished"),Legacy:{MESSAGE_BOX_DISPLAYED:a("message-box-displayed")},applinksEvent:a,on:function(h,i,g){var j=g?b.bind(i,g):i;e(d.document).on(h,j)},off:function(g,h){e(d.document).off(g,h)},trigger:function(g,h){e(d.document).trigger(g,h)}}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/i18n.js' */
define("applinks/common/i18n",["applinks/lib/lodash","applinks/lib/jquery","applinks/lib/wrm","applinks/common/modules","applinks/common/preconditions","applinks/common/products"],function(e,g,c,f,h,b){var a=e.memoize(function(){var i=c.data.claim(f.dataFqn(f.COMMON_EXPORTED,"entity-types"));return h.hasValue(i,"entity-types","Entity Types data not found")});var d=e.memoize(function(){var i=c.data.claim(f.dataFqn(f.COMMON_EXPORTED,"authentication-types"));return h.hasValue(i,"authentication-types","Authentication Types data not found")});return{getApplicationTypeName:function(i){return b.getTypeName(i)},getEntityTypeName:function(i){return a().singular[i]||i},getPluralizedEntityTypeName:function(i){return a().plural[i]||i},getAuthenticationTypeName:function(i){return d()[i]||i}}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/modules.js' */
define("applinks/common/modules",function(){return{PLUGIN_KEY:"com.atlassian.applinks.applinks-plugin",COMMON_EXPORTED:"applinks-common-exported",COMMON:"applinks-common",fqn:function(a){return this.PLUGIN_KEY+":"+a},dataFqn:function(a,b){return this.fqn(a)+"."+b}}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/preconditions.js' */
define("applinks/common/preconditions",["applinks/lib/lodash"],function(c){function f(i,j,h){return d(c.isString(i)&&!c.isEmpty(i),h,b(j,": expected a non-empty string, was: <"+i+">"),i)}function g(i,j,h){return d(c.isFunction(i),h,b(j,": expected a function, was: "+i),i)}function a(i,j,h){return d(c.isArray(i),h,b(j,": expected an array, was: "+i),i)}function e(i,j,h){return d(i,h,b(j,": expected a value"),i)}function d(l,i,h,k){var j=i?i:h;if(!l){throw new Error(j)}return k||l}function b(i,h){return(i||"[unspecified]")+h}return{checkArgument:c.partial(d,c,c,"",c),nonEmptyString:f,isArray:a,isFunction:g,hasValue:e}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/products.js' */
define("applinks/common/products",["applinks/lib/lodash","applinks/lib/wrm","applinks/common/modules","applinks/common/preconditions"],function(c,b,d,f){var a=c.memoize(function(){var g=b.data.claim(d.dataFqn(d.COMMON_EXPORTED,"applinks-types"));return f.hasValue(g,"types","Application Types data not found")});function e(g){return a()[g]||g}return{BAMBOO:"bamboo",BITBUCKET:"stash",CONFLUENCE:"confluence",FECRU:"fecru",JIRA:"jira",REFAPP:"refapp",STASH:"stash",getTypeName:e}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'applinks/internal/non-amd/rest-service.js' */
(function(a,c,b){AppLinks=AJS.$.extend(window.AppLinks||{},{Event:{NAMESPACE:"applinks"},I18n:a,Docs:c});AppLinks.Event=AJS.$.extend(window.AppLinks.Event,b);if(AJS.AppLinksInitialisationBinder){AppLinks.initialisationBinder=AJS.AppLinksInitialisationBinder}else{AppLinks.initialisationBinder=function(d){AJS.toInit(d)}}AppLinks.initialisationBinder(function(){var d=AJS.$;AppLinks=d.extend(window.AppLinks||{},{failure:function(g){if(g.status==401){window.location.reload()}else{var e=AppLinks.parseError(g);var f=d(".page-error");if(f.length>0){f.html(e).fadeIn("slow")}else{alert("REST request failed: "+e)}}},jsonRequest:function(f,g,h,i,e){if(h){h=JSON.stringify(h)}d(".page-error").fadeOut("fast");if(!e){e=AppLinks.failure}return jQuery.ajax({url:f,type:g,data:h,dataType:"json",contentType:"application/json; charset=utf-8",cache:false,success:i,error:e})},xmlRequest:function(f,g,h,i,e){if(h){h=JSON.stringify(h)}d(".page-error").fadeOut("fast");if(!e){e=AppLinks.failure}return jQuery.ajax({url:f,type:g,data:h,dataType:"xml",contentType:"application/xml; charset=utf-8",cache:false,success:i,error:e})},parseError:function(h){var f;try{f=JSON.parse(h.responseText)}catch(g){if(h.statusText){return f=h.statusText}else{return h}}if(f.message){if(d.isArray(f.message)){return f.message.join(" ")}return f.message}else{return h.statusText}},put:function(f,g,h,e){return AppLinks.jsonRequest(f,"PUT",g,h,e)},post:function(f,g,h,e){return AppLinks.jsonRequest(f,"POST",g,h,e)},update:function(f,g,e){AppLinks.put(AppLinks.self_link(f),f,g,e)},get:function(f,g,e){return AppLinks.jsonRequest(f,"GET",null,g,e)},getXml:function(f,g,e){return AppLinks.xmlRequest(f,"GET",null,g,e)},self_link:function(g){for(var e=0,h=g.link.length;e<h;e++){var f=g.link[e];if(f.rel=="self"){return f.href}}throw"No self-link found"},del:function(h,g,f){var e;if(typeof(h)=="string"){e=h}else{e=AppLinks.self_link(h)}return AppLinks.jsonRequest(e,"DELETE",null,g,f)},SPI:d.extend({},{API_VERSION:"1.0",REST_RESOURCE_URL:AJS.contextPath()+"/rest/applinks/",BASE_URL:AJS.contextPath()+"/rest/applinks/1.0",OAUTH_REST_RESOURCE_URL:AJS.contextPath()+"/rest/applinks-oauth/",OAUTH_BASE_URL:AJS.contextPath()+"/rest/applinks-oauth/1.0",setApiVersion:function(e){AppLinks.SPI.API_VERSION=e;AppLinks.SPI.setBaseUrl(AppLinks.SPI.REST_RESOURCE_URL+AppLinks.SPI.API_VERSION)},setBaseUrl:function(e){AppLinks.SPI.BASE_URL=e},setOAuthBaseUrl:function(e){AppLinks.SPI.OAUTH_BASE_URL=e},getRemoteRestBaseUrl:function(e){return e+"/rest/applinks/"+AppLinks.SPI.API_VERSION},getRemotePluginServletBaseUrl:function(e){return e+"/plugins/servlet"},getAllLinks:function(g,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink";return AppLinks.get(e,g,f)},getAllLinksWithAuthInfo:function(g,f){var e=AppLinks.SPI.BASE_URL+"/listApplicationlinks";return AppLinks.get(e,g,f)},getApplicationLinkState:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/listApplicationlinkstates/id/"+h;return AppLinks.get(e,g,f)},getLinksOfType:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink/type/"+g;return AppLinks.get(e,h,f)},tryToFetchManifest:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/applicationlinkForm/manifest.json?url="+encodeURIComponent(g);return AppLinks.get(e,h,f)},getManifestFor:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/manifest/"+h+".json";return AppLinks.get(e,g,f)},getLocalManifest:function(g,f){var e=AppLinks.SPI.BASE_URL+"/manifest.json";return AppLinks.get(e,g,f)},getRemoteManifest:function(g,h,f){var e=AppLinks.SPI.getRemoteRestBaseUrl(g)+"/manifest.json";return AppLinks.get(e,h,f)},getRemoteOAuthConsumerInfo:function(g,h,f){var e=AppLinks.SPI.getRemotePluginServletBaseUrl(g)+"/oauth/consumer-info";return AppLinks.getXml(e,h,f)},getApplinkStatus:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/status/"+h;return AppLinks.get(e,g,f)},createStaticUrlAppLink:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/applicationlinkForm/createStaticUrlAppLink?typeId="+h;return AppLinks.post(e,null,g,f)},createLink:function(l,j,n,f,k,m,h,o,g){var e=AppLinks.SPI.BASE_URL+"/applicationlinkForm/createAppLink";var i={applicationLink:l,username:j,password:n,createTwoWayLink:f,customRpcURL:k,rpcUrl:m,configFormValues:h};return AppLinks.post(e,i,o,g)},createLinkWithOrphanedTrust:function(l,j,o,f,k,m,h,n,p,g){var e=AppLinks.SPI.BASE_URL+"/applicationlinkForm/createAppLink";var i={applicationLink:l,username:j,password:o,createTwoWayLink:f,customRpcURL:k,rpcUrl:m,configFormValues:h,orphanedTrust:n};return AppLinks.post(e,i,p,g)},verifyTwoWayLinkDetails:function(e,k,l,h,j,g){var f=AppLinks.SPI.BASE_URL+"/applicationlinkForm/details";var i={username:l,password:h,remoteUrl:e,rpcUrl:k};return AppLinks.post(f,i,j,g)},getApplicationLinkInfo:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/applicationlinkInfo/id/"+g;return AppLinks.get(e,h,f)},deleteLink:function(i,e,h,g){var f=AppLinks.SPI.BASE_URL+"/applicationlink/"+i.id;if(e){f+="?reciprocate=true"}return AppLinks.del(f,h,g)},makePrimary:function(g,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink/primary/"+g.id;return AppLinks.post(e,null,f)},relocate:function(j,h,e,i,g){var f=AppLinks.SPI.BASE_URL+"/relocateApplicationlink/"+j.id+"?newUrl="+encodeURIComponent(h)+"&nowarning="+(e?"true":"false");return AppLinks.post(f,null,i,g)},legacyUpgrade:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/upgrade/legacy/"+h.id;return AppLinks.post(e,null,g,f)},ualUpgrade:function(i,e,h,g){var f=AppLinks.SPI.BASE_URL+"/upgrade/ual/"+i.id;return AppLinks.post(f,e,h,g)},getEntityTypesForApplicationType:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/type/entity/"+h;return AppLinks.get(e,g,f)},getLocalEntitiesWithLinksToApplication:function(e,h,g){var f=AppLinks.SPI.BASE_URL+"/entitylink/localEntitiesWithLinksTo/"+e+".json";return AppLinks.get(f,h,g)},getEntityLinksForApplication:function(e,h,g){var f=AppLinks.SPI.BASE_URL+"/entities/"+e+".json";AppLinks.get(f,h,g)},getEntityLinksForApplicationUsingAnonymousAccess:function(e,h,g){var f=AppLinks.SPI.BASE_URL+"/entities/anonymous/"+e+".json";return AppLinks.get(f,h,g)},createNonUalEntityLink:function(n,i,f,h,l,g,m,k){var e=AppLinks.SPI.BASE_URL+"/entitylink/"+n+"/"+i+"?reciprocate=false";var j={applicationId:f,typeId:h,key:l,name:g,isPrimary:false};return AppLinks.put(e,j,m,k)},createEntityLink:function(j,i,f,e,k,h){var g=AppLinks.SPI.BASE_URL+"/entitylink/"+j+"/"+i+"?reciprocate=";g+=(e?"true":"false");return AppLinks.put(g,f,k,h)},getConfiguredEntityLinks:function(h,g,i,f){var e=AppLinks.SPI.BASE_URL+"/entitylink/primaryLinks/"+h+"/"+g+".json";return AppLinks.get(e,i,f)},deleteEntityLink:function(j,i,f,e,k,h){var g=AppLinks.SPI.BASE_URL+"/entitylink/"+j+"/"+i+"?typeId="+f.typeId+"&key="+f.key+"&applicationId="+f.applicationId+"&reciprocate="+e;return AppLinks.del(g,k,h)},makePrimaryEntityLink:function(i,h,e,j,g){var f=AppLinks.SPI.BASE_URL+"/entitylink/primary/"+i+"/"+h+"?typeId="+e.typeId+"&key="+e.key+"&applicationId="+e.applicationId;return AppLinks.post(f,null,j,g)},canDeleteAppLink:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/permission/reciprocate-application-delete/"+h;return AppLinks.get(e,g,f)},canDeleteEntityLink:function(i,h,e,j,g){var f=AppLinks.SPI.BASE_URL+"/permission/reciprocate-entity-delete/"+e.applicationId+"/"+i+"/"+h+"/"+e.typeId+"/"+e.key;return AppLinks.get(f,j,g)},canCreateReciprocateEntityLink:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/permission/reciprocate-entity-create/"+h;return AppLinks.get(e,g,f)},processPermissionCode:function(f){var e={noPermission:function(){},missing:function(){},credentialsRequired:function(g){},authenticationFailed:function(g){},noAuthentication:function(g){},noAuthenticationConfigured:function(){},noConnection:function(){},allowed:function(){},unrecognisedCode:function(g){},updateView:function(i,h,g){}};if(!f){f={}}f=d.extend(e,f);return function(h){var g=h.code;if(g=="NO_PERMISSION"){f.noPermission()}else{if(g=="MISSING"){f.missing()}else{if(g=="CREDENTIALS_REQUIRED"){f.credentialsRequired(h.url)}else{if(g=="AUTHENTICATION_FAILED"){f.authenticationFailed(h.url)}else{if(g=="NO_AUTHENTICATION"){f.noAuthentication(h.url)}else{if(g=="NO_AUTHENTICATION_CONFIGURED"){f.noAuthenticationConfigured()}else{if(g=="NO_CONNECTION"){f.noConnection()}else{if(g=="ALLOWED"){f.allowed()}else{f.unrecognisedCode(h.code)}}}}}}}}}},addAuthenticationTrigger:function(g,e,f){if(!f){f={}}if(typeof f.onSuccess=="undefined"){f.onSuccess=function(){location.reload()}}if(typeof f.onFailure=="undefined"){f.onFailure=function(){return true}}d(g).unbind("click");d(g).click(function(){if(f.before){f.before()}AppLinks.authenticateRemoteCredentials(e,f.onSuccess,f.onFailure)})},deleteOrphanedTrust:function(i,g,h,f){var e=AppLinks.SPI.BASE_URL+"/orphaned-trust/"+g+"/"+i;return AppLinks.del(e,h,f)},getOrphanedTrust:function(g,f){var e=AppLinks.SPI.BASE_URL+"/orphaned-trust/";return AppLinks.get(e,g,f)},showCreateEntityLinkSuggestion:function(){return true},getApplicationLink:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink/"+h;return AppLinks.get(e,g,f)},createApplicationLink:function(h,f,k,l,e,m,i){var g=AppLinks.SPI.BASE_URL+"/applicationlink";var j={id:h,name:f,rpcUrl:k,displayUrl:l,typeId:e};return AppLinks.put(g,j,m,i)},createConsumer:function(g,p,f,o,k,n,i,r,j,m,q,h){var e=AppLinks.SPI.OAUTH_BASE_URL+"/applicationlink/"+g+"/authentication/consumer";var l={key:p,name:f,description:o,sharedSecret:k,publicKey:n,outgoing:m,twoLOAllowed:i,executingTwoLOUser:r,twoLOImpersonationAllowed:j};return AppLinks.put(e,l,q,h)},createConsumerAutoConfigure:function(l,k,h,e,j,g){var f=AppLinks.SPI.OAUTH_BASE_URL+"/applicationlink/"+l+"/authentication/consumer?autoConfigure=true";var i={twoLOAllowed:k,executingTwoLOUser:h,twoLOImpersonationAllowed:e};return AppLinks.put(f,i,j,g)},registerProvider:function(k,j,g,i,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink/"+k+"/authentication/provider";var h={config:g,provider:j};return AppLinks.put(e,h,i,f)},enableFeature:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/features/"+g;return AppLinks.put(e,{},h,f)},disableFeature:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/features/"+g;return AppLinks.del(e,h,f)}},(window.AppLinks&&window.AppLinks.SPI)||{})});AppLinks.UI={showInfoBox:function(e){d(".aui-message.success").remove();AppLinks.UI.createMessage("success",e,"page-info")},hideInfoBox:function(){d(".aui-message.success").remove()},showErrorBox:function(e){AppLinks.UI.createMessage("error",e,"page-error")},hideErrorBox:function(){d(".aui-message.error").remove()},showWarningBox:function(f){if(d.isArray(f)&&f.length>0){var e=d("<ul></ul>");d(f).each(function(h){e.append(d("<li/>",{text:f[h]}))});var g=d('<div class="page-warning"></div>').append(e);AppLinks.UI.createMessage("warning",g.html(),"page-warning")}else{AppLinks.UI.createMessage("warning",f,"page-warning")}},hideWarningBox:function(){d(".aui-message.warning").remove()},shortenString:function(f,e){if(f.length>e){f=f.substring(0,e)+"..."}return f},createMessage:function(f,g,e){var h=d('<div class="'+e+'">');h.html(g);AJS.messages[f](".applinks-message-bar",{title:"",body:h.wrap("<div></div>").parent().html(),closeable:true});d(document).trigger(AppLinks.Event.Legacy.MESSAGE_BOX_DISPLAYED)},displayValidationErrorMessages:function(e,g,f){if(d.isArray(f)){d(f).each(function(k,j){var l=d('<div class="error applinks-error">');l.text(j);d(g).find("."+e).append(l)})}else{if(typeof f!="undefined"){var h=d('<div class="error applinks-error">');h.text(f.toString());d(g).find("."+e).append(h)}}},displayValidationError:function(e,f,g){return function(l){if(l.status==401){window.location.reload();return}d(".applinks-error").remove();d(".loading").remove();var j=l.responseText;var k=d.parseJSON(j);var i=k.message;if(typeof k.fields=="undefined"){AppLinks.UI.displayValidationErrorMessages(e,f,i)}else{var h=k.fields;d(h).each(function(m){var n=d('<div class="error applinks-error" id="'+h[m]+'-error">');n.text(i[m]);if(d(f).find("."+h[m]).length>0){n.insertAfter(d(f).find("."+h[m]))}else{n.insertAfter(d(f).find("."+e).append(n))}})}d(f).find("."+e).addClass("fully-populated-errors");if(g){g()}}},addProtocolToURL:function(e){var h=d.trim(e);var g=h.toLowerCase();var f=false;if(g.length>=7){if(g.substring(0,7).indexOf("http")!=-1){f=true}}if(!f){h="http://"+h}return h},prettyJoin:function(f,i,h){if(!h){h="and"}var e=f.length;var g="";d.each(f,function(j,k){if(j==(e-1)&&e>1){g+=" "+h+"  "+i(k)}else{g+=i(k);if(j+2<e){g+=", "}}});return g},showLoadingIcon:function(e){d('<span class="loading">&nbsp;</span>').insertAfter(e)},hideLoadingIcon:function(e){d(e).next(".loading").remove()},findUrl:function(h){var g=undefined;var i=h.toLowerCase();var f=i.indexOf("http:");if(f==-1){f=i.indexOf("https:")}if(f>-1){var e=i.indexOf(" ",f);if(e==-1){e=i.length}g=h.substring(f,e)}return g},findApplicationType:function(e){e=e.toLowerCase();if(e.indexOf("jira")!=-1){return"jira"}else{if(e.indexOf("fisheye")!=-1){return"fecru"}else{if(e.indexOf("confluence")!=-1){return"confluence"}else{if(e.indexOf("refapp")!=-1){return"refapp"}else{return undefined}}}}},escapeSelector:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},sanitiseHTML:function(e){var f={"<":"&lt;",'"':"&quot;","&":"&amp;"};return e.replace(/[<"&]/g,function(g){return f[g]})},refreshOrphanedTrust:function(){var e=function(f){d("tr.orphaned-trust-row").each(function(){var l=d(this);var m=l.attr("data-id");var j=l.attr("data-type");var h=false;for(var g=0;g<f.orphanedTrust.length;g++){var k=f.orphanedTrust[g];if(m==k.id&&j==k.type){h=true;break}}if(!h){l.remove();if(f.orphanedTrust.length==0){d(".orphaned-trust-warning").hide()}}})};AppLinks.SPI.getOrphanedTrust(e)},removeCssClass:function(e,f){d(e).removeClass(function(h,j){var i=j.split(" ");var g="";d.each(i,function(k,l){if(l.indexOf(f)!=-1){g=l}});return g})}};(function(){var e=d({});d.each(["bind","unbind","trigger"],function(f,g){AppLinks.UI[g]=function(){return e[g].apply(e,arguments)}})})();d(document).trigger(AppLinks.Event.PREREADY);d(document).trigger(AppLinks.Event.READY)})})(require("applinks/common/i18n"),require("applinks/common/docs"),require("applinks/common/events"));;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'applinks/internal/non-amd/autocomplete.js' */
AJS.$(document).bind(AppLinks.Event.READY,function(){AppLinks.autoComplete={cacheManager:function(c){var a={},b=[],c=c||30;return{get:function(d){return a[d]},put:function(d,e){a[d]=e;b.push(d);if(b.length>c){delete a[b.shift()]}},clear:function(){a={};b=[]}}}};(function(d){var c=function(f){AJS.log("InputDrivenDropDown: truncating text");var h=f.$.closest(".aui-dropdown").width(),g=20;d("a span:not(.icon)",f.$).each(function(){var j=d(this),i=AJS("var","&#8230;"),l=i.width(),k=false;j.wrapInner(d("<em>"));d("em",j).each(function(){var m=d(this);m.show();if(this.offsetLeft+this.offsetWidth>h){var t=this.childNodes,s=false;for(var o=t.length-1;o>=0;o--){var p=t[o],n=1,r=(p.nodeType==3)?"nodeValue":"innerHTML",q=p[r];do{if(n<=q.length){p[r]=q.substr(0,q.length-n++)}else{break}}while(this.offsetLeft+this.offsetWidth+l>h-g);if(n<=q.length){s=true;break}}if(s){k=true}else{m.hide()}}});if(k){j.append(i);this.elpss=i}})};var b=function(f,l){if(!l.length||!l[0]){return}AJS.log("InputDrivenDropDown: highlighting tokens");for(var h=0,j=l.length;h<j;h++){var g=l[h];l[h]=g?g.replace(/[\.\*\+\?\|\(\)\[\]{}\\]/g,"\\$"):""}var k=new RegExp("("+l.join("|")+")","gi");d("li a:not(.dropdown-prevent-highlight) span",f.$).each(function(){var m=d(this),i=m.html().replace(k,"<strong>$1</strong>");m.html(i)})};var e=function(j,g){var i=j.options,h=j.dd;if(h){h.hide();h.$.remove()}i.ajsDropDownOptions=i.ajsDropDownOptions||{};if(i.ajsDropDownOptions&&!i.ajsDropDownOptions.alignment){i.ajsDropDownOptions.alignment="left"}i.ajsDropDownOptions.selectionHandler=i.ajsDropDownOptions.selectionHandler||function(l,k){if(l.type!="click"){l.preventDefault();d("a",k).click();document.location=d("a",k).attr("href")}};i.ajsDropDownOptions.displayHandler=function(k){return AJS.escapeHtml(k.name)};var f=j.dd=new AJS.dropDown(g.matrix,i.ajsDropDownOptions)[0];if(i.ajsDropDownOptions&&i.ajsDropDownOptions.className){f.$.addClass(i.ajsDropDownOptions.className)}if(i.dropdownPlacement){i.dropdownPlacement(f.$)}else{AJS.log("No dropdownPlacement function specified. Appending dropdown to the body.");d("body").append(f.$)}b(f,g.queryTokens||[g.query]);c(f);if(i.dropdownPostprocess){i.dropdownPostprocess(f.$)}f.show(j._effect);if(typeof i.onShow=="function"){i.onShow.call(f,f.$)}return f};function a(g,f){this._effect="appear";this._timer=null;this.id=g;this.options=f;this.inactive=false;this.busy=false;this.cacheManager=AppLinks.autoComplete.cacheManager()}a.prototype.clearCache=function(){this.cacheManager.clear()};a.prototype.change=function(h,g){var f=this;if(h!=f._value||g){f._value=h;f.busy=false;clearTimeout(f._timer);if(g||(/\S{0,}/).test(h)){var i=f.cacheManager.get(h);if(i){e(f,i)}else{f.busy=true;f._timer=setTimeout(function(){f.options.getDataAndRunCallback.call(f,h,f.show)},200)}}else{f.dd&&f.dd.hide()}}};a.prototype.dropDownLength=function(){return this.dd.links?this.dd.links.length:0};a.prototype.dropDownItem=function(f){return this.dropDownLength()>f?this.dd.links[f]:null};a.prototype.hide=function(){this.dd&&this.dd.hide()};a.prototype.remove=function(){var f=this.dd;if(f){this.hide();f.$.remove()}this.inactive=true;this.options.onDeath&&this.options.onDeath()};a.prototype.show=function(g,i,h){if(this.inactive){AJS.log("Quick search abandoned before server response received, ignoring. "+this);return}var f={matrix:g,query:i,queryTokens:h};this.cacheManager.put(i,f);e(this,f);this.busy=false};AppLinks.inputDrivenDropdown=function(f){return new a("inputdriven-dropdown",f)}})(jQuery)});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'js/fecru-compatibility.js' */
if(jQuery!=undefined&&AJS!=undefined){jQuery=AJS.$};;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-applinks-common-plugin:issue-link-applinks', location = 'js/issuelink-applinks.js' */
var IssueLinkAppLinks=IssueLinkAppLinks||(function($){function createHelper(servers,context,settings){var helper={};var selectedServer=null;function selectServer(appId){selectedServer=getServer(servers,appId);var authenticationRequired=selectedServer&&selectedServer.requireCredentials;doAuthenticationRequired(authenticationRequired,context);return{authenticationRequired:authenticationRequired}}function setAuthenticationRequired(appId,authenticationRequired){var server=getServer(servers,appId);if(server){server.requireCredentials=authenticationRequired;if(selectedServer&&selectedServer.id===appId){doAuthenticationRequired(authenticationRequired,context)}}}function doAuthenticationRequired(required,context){$(".issue-link-applinks-authentication-message",context).empty();if(required){createAuthRequiredBanner($(".issue-link-applinks-authentication-message",context),context);$(".issue-link-oauth-toggle").hide();$(".buttons-container input[type=submit]",context).attr("disabled","disabled")}else{$(".issue-link-oauth-toggle").show();$(".buttons-container input[type=submit]",context).removeAttr("disabled")}}function createAuthRequiredBanner($container,context){var oauthCallbacks={onSuccess:function(){selectedServer.requireCredentials=false;doAuthenticationRequired(false,context);if(settings.onAuthenticationSuccessCallback){settings.onAuthenticationSuccessCallback(context,selectedServer.id,helper)}},onFailure:function(){if(settings.onAuthenticationFailedCallback){settings.onAuthenticationFailedCallback(context,selectedServer.id,helper)}}};var encodedServerName=AJS.escapeHtml(selectedServer.name);if(selectedServer.authUrl){var $banner=$('<div class="aui-message warning closeable shadowed applinks-auth-request"><p><span class="aui-icon icon-applinks-key"></span></p></div>');$banner.append(AJS.format("Authorization required to create issue link. Please \u003ca href=\"{0}\" class=\"applink-authenticate\"\u003eauthenticate\u003c/a\u003e with \u003ca href=\"{1}\"\u003e{2}\u003c/a\u003e.",selectedServer.authUrl,selectedServer.url,encodedServerName));$("a",$banner).addClass("applink-authenticate");$(".applink-authenticate",$banner).click(function(e){authenticateRemoteCredentials(selectedServer.authUrl,oauthCallbacks.onSuccess,oauthCallbacks.onFailure);e.preventDefault()});$container.append($banner)}else{var warningMessage=AJS.format("Unable to create a link to \u003ca href=\"{0}\"\u003e{1}\u003c/a\u003e as the application does not have any authentication configured.",selectedServer.url,encodedServerName);AJS.messages.warning($container,{body:warningMessage})}}function createOAuthCallback(){if(!AppLinks.OAuthCallback&&typeof (oauthCallback)==="undefined"){AppLinks.OAuthCallback=function(){};AppLinks.OAuthCallback.prototype.success=function(){this.aouthWindow.close();this.onSuccess();delete oauthCallback;delete AppLinks.OAuthCallback};AppLinks.OAuthCallback.prototype.failure=function(){this.aouthWindow.close();this.onFailure();delete oauthCallback;delete AppLinks.OAuthCallback};AppLinks.OAuthCallback.prototype.show=function(url,onSuccess,onFailure){this.onSuccess=onSuccess;this.onFailure=onFailure;this.aouthWindow=window.open(url,"com_atlassian_applinks_authentication")};oauthCallback=new AppLinks.OAuthCallback()}}function authenticateRemoteCredentials(url,onSuccess,onFailure){createOAuthCallback();$(".applinks-error").remove();oauthCallback.show(url,onSuccess,onFailure)}return $.extend(helper,{selectServer:selectServer,setAuthenticationRequired:setAuthenticationRequired})}function getServer(servers,appId){var i;if(servers.length){for(i=0;i<servers.length;i++){if(servers[i].id===appId){return servers[i]}}}return null}function initApplinkServers(settings,context,deferred){var currentAppId=settings.getCurrentAppId(context);var applicationType=$(".issue-link-applinks-application-type",context).val();var issueId=settings.getIssueId(context);$.get(AJS.contextPath()+"/rest/issueLinkAppLink/1/appLink/info",{type:applicationType,issueIdOrKey:issueId},function(servers){var helper=createHelper(servers,context,settings);var currentRequiresCredentials;if(servers&&servers.length){var currentServer=getServer(servers,currentAppId);if(currentServer){currentRequiresCredentials=$(".issue-link-applinks-authentication-message",context).hasClass("required");if(currentRequiresCredentials){currentServer.requireCredentials=true}helper.selectServer(currentAppId)}deferred.resolve(context,helper)}else{deferred.reject(context)}})}function init(settings,context){var deferred=$.Deferred();var isIssueLinkAppLinkContent=$(".issue-link-applinks-authentication-message",context).length!==0;if(isIssueLinkAppLinkContent&&settings.shouldExecute(context)){initApplinkServers(settings,context,deferred)}return deferred.promise()}return{init:init}})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-remote-jira-plugin:issue-link-remote-jira-js', location = 'js/issuelink-jira.js' */
(function($){var settings={getCurrentAppId:function(context){return $("#jira-app-link",context).val()},shouldExecute:function(context){return $("#jira-app-link",context).length!==0},getIssueId:function(context){return $("input[name=id]",context).val()}};var updateIssuePicker=function($select,appId){if($select.length){$select.attr("data-ajax-options.data.app-id",appId);if(appId&&appId!==""){$select.attr("data-ajax-options.url",contextPath+"/rest/remoteJiraIssueLink/1/remoteJira/picker")}else{$select.attr("data-ajax-options.url",contextPath+"/rest/api/2/issue/picker")}$select.trigger("updateOptions");$select.trigger("clearSelection")}};var updateCreateReciprocalCheckbox=function(appId,context){var $reciprocalCheckbox=$("#create-reciprocal",context);if($reciprocalCheckbox.length){if(appId&&appId!==""){var defaultChoice=($("#create-reciprocal-default",context).val()=="true");if(defaultChoice){$reciprocalCheckbox.attr("checked","checked")}else{$reciprocalCheckbox.removeAttr("checked")}$reciprocalCheckbox.removeAttr("disabled");$("#create-reciprocal-fieldset",context).removeClass("disabled")}else{$reciprocalCheckbox.attr("checked","checked");$reciprocalCheckbox.attr("disabled","disabled");$("#create-reciprocal-fieldset",context).addClass("disabled")}}};JIRA.bind(JIRA.Events.NEW_PAGE_ADDED,function(e,context){var $select=$("#jira-issue-keys",context);if($select.length){var appId=$("#jira-app-link",context).val();updateIssuePicker($select,appId);updateCreateReciprocalCheckbox(appId,context)}IssueLinkAppLinks.init(settings,context).done(function(context,helper){$("#jira-app-link",context).change(function(){var appId=$(this).val();helper.selectServer(appId);updateIssuePicker($select,appId);updateCreateReciprocalCheckbox(appId,context)})})})})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-remote-jira-plugin:issue-link-jira-search-js', location = 'js/issuelink-jira-jqlautocomplete.js' */
var IssueLinkJQLAutoComplete=IssueLinkJQLAutoComplete||(function($){function initialize(options){var fieldID=options.fieldID;var errorID=options.errorID;var autoCompleteUrl=options.autoCompleteUrl;var autoCompleteData=options.autoCompleteData;var formSubmitFunction=options.formSubmitFunction;var $field=$("#"+fieldID);var hasFocus=$field.length>0&&$field[0]==document.activeElement;var jqlFieldNames=autoCompleteData.visibleFieldNames||[];var jqlFunctionNames=autoCompleteData.visibleFunctionNames||[];var jqlReservedWords=autoCompleteData.jqlReservedWords||[];var isAutoSelectFirstEnabled=function(){var FeatureFlagManager=require("jira/featureflags/feature-manager");return FeatureFlagManager.isFeatureEnabled("jira.jql.autoselectfirst")};var jqlAutoComplete=JIRA.JQLAutoComplete({fieldID:fieldID,parser:JIRA.JQLAutoComplete.MyParser(jqlReservedWords),queryDelay:0.65,jqlFieldNames:jqlFieldNames,jqlFunctionNames:jqlFunctionNames,minQueryLength:0,allowArrowCarousel:true,autoSelectFirst:isAutoSelectFirstEnabled(),errorID:errorID,autoCompleteUrl:autoCompleteUrl});$field.unbind("keypress",submitOnEnter);if(formSubmitFunction){$field.keypress(function(e){if(jqlAutoComplete.dropdownController===null||!jqlAutoComplete.dropdownController.displayed||jqlAutoComplete.selectedIndex<0){if(e.keyCode===13&&!e.ctrlKey&&!e.shiftKey){formSubmitFunction();return false}else{return true}}})}jqlAutoComplete.buildResponseContainer();jqlAutoComplete.parse($field.text());jqlAutoComplete.updateColumnLineCount();$field.click(function(){jqlAutoComplete.dropdownController.hideDropdown()});if(hasFocus){$field.select()}}return{initialize:initialize}})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-remote-jira-plugin:issue-link-jira-search-js', location = 'js/issuelink-jira-search.js' */
AJS.$(function($){var remoteJiraSearchDialog=new JIRA.FormDialog({id:"remote-jira-search-dialog",trigger:"#link-jira-issue .remote-jira-search-trigger",widthClass:"large",content:function(render){render(JIRA.Templates.RemoteJiraIssueSearch.dialog());initSearchDialog(this.$popup)},submitHandler:function(e,callback){e.preventDefault();$("#simple-search-panel-button").removeAttr("disabled");$("#advanced-search-panel-button").removeAttr("disabled");if($(e.target).attr("id")==="remote-jira-simple-search-form"){$("#simple-search-panel-button").click()}else{$("#advanced-search-panel-button").click()}callback()}});function initSearchDialog($dialog){var appId=$("#jira-app-link").val();var autoCompletePromise=getJqlAutoCompleteData(appId);$("#simple-search-panel-button",$dialog).click(function(){$("#search-results-table",$dialog).empty();var searchText=$("#link-search-text",$dialog).val();searchText=$.trim(searchText);if(searchText){doSimpleSearch(searchText,$dialog)}else{AJS.messages.info("#search-results-table",{body:"Please enter search value.",closeable:false})}return false});$("#advanced-search-panel-button",$dialog).click(function(){advancedSearchButtonClick($dialog);return false});$("#simple-search-toggle",$dialog).click(function(){$("#remote-jira-simple-search-form",$dialog).show();$("#remote-jira-advanced-search-form",$dialog).hide();return false});$("#linkjiraissue-add-selected",$dialog).click(function(){$("table tbody tr:visible  td.selection input:checked",$dialog).each(function(){var issueKey=$(this).parent().data("key");$("#jira-issue-keys").trigger("selectOption",[{value:issueKey}])});$("#link-issue-dialog .error").hide();remoteJiraSearchDialog.hide();$("#link-issue-dialog").show().trigger("multiSelectRevealed");$("#jira-issue-keys-textarea").focus().select()});$("#advanced-search-toggle",$dialog).click(function(){$("#remote-jira-advanced-search-form",$dialog).show();$("#remote-jira-simple-search-form",$dialog).hide();var $jqlSearchText=$("#jql-search-text");if(!$jqlSearchText.attr("jql-initialized")){setAutoCompleteLoadingIconVisible(true,$dialog);WRM.require("wr!jira.webresources:jqlautocomplete",function(){autoCompletePromise.done(function(smartAjaxResult){if(smartAjaxResult.successful){IssueLinkJQLAutoComplete.initialize({fieldID:"jql-search-text",errorID:"jql-search-error",autoCompleteUrl:getAutoCompleteUrl(appId),autoCompleteData:smartAjaxResult.data,formSubmitFunction:function(){advancedSearchButtonClick($dialog)}})}else{setJQLErrorVisible(false,$dialog);setAutoCompleteFailedIconVisible(true,$dialog)}setAutoCompleteLoadingIconVisible(false,$dialog);$jqlSearchText.attr("jql-initialized",1)})})}$jqlSearchText.focus();return false});$("#simple-search-toggle",$dialog).trigger("click")}function getAutoCompleteUrl(appId){if(appId&&appId!==""){return contextPath+"/rest/remoteJiraIssueLink/1/remoteJira/autocomplete?appId="+appId}return""}function advancedSearchButtonClick($dialog){$("#search-results-table",$dialog).empty();var searchText=$("#jql-search-text",$dialog).val();searchText=$.trim(searchText);if(searchText){doAdvancedSearch(searchText,$dialog)}else{AJS.messages.info("#search-results-table",{body:"Please enter search value.",closeable:false})}}function setLoadingIconVisible(visible,$context){$("#link-search-loading",$context).toggleClass("hidden",!visible)}function setAutoCompleteLoadingIconVisible(visible,$context){$("#autocomplete-loading",$context).toggleClass("hidden",!visible)}function setAutoCompleteFailedIconVisible(visible,$context){$("#autocomplete-failed",$context).toggleClass("hidden",!visible)}function setJQLErrorVisible(visible,$context){$("#jql-search-error",$context).toggleClass("hidden",!visible)}function doSimpleSearch(searchText,$context){setLoadingIconVisible(true,$context);var appId=$("#jira-app-link").val();var issueKeyJql='key = "'+searchText+'"';var projectJql='project = "'+searchText+'"';var plainTextJql='summary ~ "'+searchText+'" OR description ~ "'+searchText+'" OR comment ~ "'+searchText+'"';jqlSearch(issueKeyJql,appId).done(function(smartAjaxResult){if(smartAjaxResult.successful&&smartAjaxResult.data.issues.length>0){setLoadingIconVisible(false,$context);showResults(smartAjaxResult,$context)}else{jqlSearch(projectJql,appId).done(function(smartAjaxResult){if(smartAjaxResult.successful&&smartAjaxResult.data.issues.length>0){setLoadingIconVisible(false,$context);showResults(smartAjaxResult,$context)}else{jqlSearch(plainTextJql,appId).done(function(smartAjaxResult){setLoadingIconVisible(false,$context);if(smartAjaxResult.successful){showResults(smartAjaxResult,$context)}else{showResultsError(smartAjaxResult)}})}})}})}function doAdvancedSearch(jql,$context){setLoadingIconVisible(true,$context);var appId=$("#jira-app-link").val();jqlSearch(jql,appId).done(function(smartAjaxResult){setLoadingIconVisible(false,$context);if(smartAjaxResult.successful){showResults(smartAjaxResult,$context)}else{if(smartAjaxResult.status===400){AJS.messages.warning("#search-results-table",{body:"Invalid JQL query.",closeable:false})}else{showResultsError(smartAjaxResult)}}})}function jqlSearch(jql,appId){var deferred=$.Deferred();var url;if(appId&&appId!==""){url=contextPath+"/rest/remoteJiraIssueLink/1/remoteJira/search?jql="+jql+"&appId="+appId+"&maxResults=10"}else{var currentIssueKey=$("#current-issue-key").val();jql="("+jql+") and key != "+currentIssueKey;url=contextPath+"/rest/api/2/search?jql="+jql+"&maxResults=10"}JIRA.SmartAjax.makeRequest({url:url,complete:function(xhr,textStatus,smartAjaxResult){deferred.resolve(smartAjaxResult)}});return deferred.promise()}function getJqlAutoCompleteData(appId){var deferred=$.Deferred();var remote;var url;if(appId&&appId!==""){url=contextPath+"/rest/remoteJiraIssueLink/1/remoteJira/autocompletedata?appId="+appId;remote=true}else{url=contextPath+"/rest/api/2/jql/autocompletedata";remote=false}JIRA.SmartAjax.makeRequest({url:url,complete:function(xhr,textStatus,smartAjaxResult){if(!smartAjaxResult.successful&&remote){JIRA.SmartAjax.makeRequest({url:contextPath+"/rest/remoteJiraIssueLink/1/remoteJira/autocompletedata/legacy?appId="+appId,complete:function(xhr,textStatus,smartAjaxResult){deferred.resolve(smartAjaxResult)}})}else{deferred.resolve(smartAjaxResult)}}});return deferred.promise()}function showResults(smartAjaxResult,$context){var resultHtml=JIRA.Templates.RemoteJiraIssueSearch.resultsTable({result:smartAjaxResult.data});$("#search-results-table",$context).html(resultHtml);$("#linkjiraissue-select-all",$context).click(function(){var $masterStatus=$(this).prop("checked");$("tbody tr td.selection input",$context).prop("checked",$masterStatus)});$("tbody tr",$context).click(function(e){if($(e.target).is(":checkbox")){return }var checkbox=$(this).find("td.selection input");checkbox.prop("checked",!checkbox.prop("checked"))})}function showResultsError(smartAjaxResult){AJS.messages.error("#search-results-table",{body:JIRA.SmartAjax.buildSimpleErrorContent(smartAjaxResult),closeable:false})}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-remote-jira-plugin:issue-link-jira-search-js', location = 'templates/dialog/linkjiraissue-search.soy' */
// This file was automatically generated from linkjiraissue-search.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.RemoteJiraIssueSearch.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.RemoteJiraIssueSearch == 'undefined') { JIRA.Templates.RemoteJiraIssueSearch = {}; }


JIRA.Templates.RemoteJiraIssueSearch.dialog = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml("Find JIRA issues") + '</h2><form class="aui search-form" id="remote-jira-simple-search-form" action="#" method="post"><div class="field-group"><label for="link-search-text">' + soy.$$escapeHtml("Search") + ':</label><input id="link-search-text" type="text" tabindex="0" class="text" size="50"> <input type="submit" tabindex="0" class="button" id="simple-search-panel-button" value="' + soy.$$escapeHtml("Search") + '"> <a id="advanced-search-toggle" href="#" title="' + soy.$$escapeHtml("Perform a JQL search") + '">' + soy.$$escapeHtml("Advanced Search") + '</a><span id="link-search-loading" class="icon loading throbber hidden"/></div></form><form class="aui search-form" id="remote-jira-advanced-search-form" action="#" method="post"><div class="field-group"><label for="jql-search-text">' + soy.$$escapeHtml("JQL Search") + '<span id="autocomplete-loading" class="hidden"><span class="icon loading throbber"/>' + soy.$$escapeHtml("Loading auto-complete") + '</span><span id="autocomplete-failed" class="hidden">' + soy.$$escapeHtml("(auto-complete unavailable)") + '</span></label><div id="jql-search-container"><span id="jql-search-error" class="icon jqlgood" /><div class="atlassian-autocomplete"><textarea id="jql-search-text" class="text full-width-field" tabindex="0" /></div></div><button class="aui-button aui-button-subtle search-button" id="advanced-search-panel-button" type="submit"><span class="aui-icon aui-icon-small aui-iconfont-search" title="' + soy.$$escapeHtml("Search") + '"></span></button> <a id="simple-search-toggle" href="#" title="' + soy.$$escapeHtml("Perform a plain text search") + '">' + soy.$$escapeHtml("Simple Search") + '</a><span id="link-search-loading" class="icon loading throbber hidden"/></div></form><div class="message-panel hidden"></div><div id="search-results-table" class="data-table"></div><div class="buttons-container form-footer"><div class="buttons"><button type="button" class="aui-button" id="linkjiraissue-add-selected">' + soy.$$escapeHtml("Add") + '</button><button class="aui-button aui-button-link cancel" href="#" id="remote-jira-link-cancel" title="' + soy.$$escapeHtml("Press Esc to close") + '">' + soy.$$escapeHtml("Close") + '</button></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.RemoteJiraIssueSearch.dialog.soyTemplateName = 'JIRA.Templates.RemoteJiraIssueSearch.dialog';
}


JIRA.Templates.RemoteJiraIssueSearch.resultsTable = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.result.issues.length > 0) {
    output += '<table id="remote-jira-searchresult" class="aui"><thead><tr><th class="selection" ><input id="linkjiraissue-select-all" type="checkbox"/></th><th class="type">' + soy.$$escapeHtml("Type") + '</th><th class="key">' + soy.$$escapeHtml("Key") + '</th><th class="summary">' + soy.$$escapeHtml("Summary") + '</th><th class="status">' + soy.$$escapeHtml("Status") + '</th></tr></thead><tbody>';
    var issueList44 = opt_data.result.issues;
    var issueListLen44 = issueList44.length;
    for (var issueIndex44 = 0; issueIndex44 < issueListLen44; issueIndex44++) {
      var issueData44 = issueList44[issueIndex44];
      output += '<tr title="' + soy.$$escapeHtml(issueData44.key) + '"><td class="selection" data-key="' + soy.$$escapeHtml(issueData44.key) + '"><input type="checkbox"/></td><td class="type">' + JIRA.Templates.RemoteJiraIssueSearch.issueType({issueType: issueData44.fields.issuetype}) + '</td><td class="key" title="' + soy.$$escapeHtml(issueData44.key) + '">' + soy.$$escapeHtml(issueData44.key) + '</td><td class="summary" title="' + soy.$$escapeHtml(issueData44.fields.summary) + '">' + soy.$$escapeHtml(issueData44.fields.summary) + '</td><td class="status">' + JIRA.Templates.RemoteJiraIssueSearch.status({status: issueData44.fields.status}) + '</td></tr>';
    }
    output += '</tbody></table>';
  } else {
    output += '<div class="aui-message info"><span class="aui-icon icon-info"></span><p>' + soy.$$escapeHtml("Search returned no results.") + '</p></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.RemoteJiraIssueSearch.resultsTable.soyTemplateName = 'JIRA.Templates.RemoteJiraIssueSearch.resultsTable';
}


JIRA.Templates.RemoteJiraIssueSearch.issueType = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml(opt_data.issueType.iconUrl) + '" alt="' + soy.$$escapeHtml(opt_data.issueType.name) + '" title="' + soy.$$escapeHtml(opt_data.issueType.name) + ' - ' + soy.$$escapeHtml(opt_data.issueType.description) + '"/>';
};
if (goog.DEBUG) {
  JIRA.Templates.RemoteJiraIssueSearch.issueType.soyTemplateName = 'JIRA.Templates.RemoteJiraIssueSearch.issueType';
}


JIRA.Templates.RemoteJiraIssueSearch.status = function(opt_data, opt_ignored) {
  return '' + JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus: opt_data.status});
};
if (goog.DEBUG) {
  JIRA.Templates.RemoteJiraIssueSearch.status.soyTemplateName = 'JIRA.Templates.RemoteJiraIssueSearch.status';
}
;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:license-model-valid', location = '/component/license/LicenseValid.js' */
define("spartez/jpp/licenseInfo",[],function(){return{isValid:!0}});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:basic-resources', location = '/deps/SpartezRequire.js' */
spRequire=function(a,b){return require(a,b,void 0,!0)};;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:basic-resources', location = '/deps/BackboneModule.js' */
define("spartez/jpp/backbone",[],function(){return Backbone});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:basic-resources', location = '/lib/backbone.marionette-1.6.4-spartez.js' */
(function(){var p=this,v=p.Marionette,q=Backbone,i=_,r=function(a){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();i.each(a,this.add,this)};i.extend(r.prototype,{add:function(a,b){var e=a.cid;this._views[e]=a;a.model&&(this._indexByModel[a.model.cid]=e);b&&(this._indexByCustom[b]=e);this._updateLength();return this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){return this.findByCid(this._indexByModel[a])},findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},
findByIndex:function(a){return i.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var b=a.cid;a.model&&delete this._indexByModel[a.model.cid];i.any(this._indexByCustom,function(a,c){if(a===b)return delete this._indexByCustom[c],!0},this);delete this._views[b];this._updateLength();return this},call:function(a){this.apply(a,i.tail(arguments))},apply:function(a,b){i.each(this._views,function(e){i.isFunction(e[a])&&e[a].apply(e,b||[])})},_updateLength:function(){this.length=
i.size(this._views)}});i.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){r.prototype[a]=function(){var b=[i.values(this._views)].concat(i.toArray(arguments));return i[a].apply(i,b)}});q.ChildViewContainer=r;var n=q=Backbone,j=_,k={},g=function(a){this.options=a;this._wreqrHandlers={};j.isFunction(this.initialize)&&this.initialize(a)};g.extend=n.Model.extend;j.extend(g.prototype,
n.Events,{setHandlers:function(a){j.each(a,function(a,e){var c=null;j.isObject(a)&&!j.isFunction(a)&&(c=a.context,a=a.callback);this.setHandler(e,a,c)},this)},setHandler:function(a,b,e){this._wreqrHandlers[a]={callback:b,context:e};this.trigger("handler:add",a,b,e)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,
a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});k.Handlers=g;g=function(a){this.options=a;this._commands={};j.isFunction(this.initialize)&&this.initialize(a)};j.extend(g.prototype,n.Events,{getCommands:function(a){var b=this._commands[a];b||(b={command:a,instances:[]},this._commands[a]=b);return b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},clearCommands:function(a){this.getCommands(a).instances=[]}});k.CommandStorage=
g;g=k.Handlers.extend({storageType:k.CommandStorage,constructor:function(a){this.options=a||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var b=Array.prototype.slice.call(arguments);k.Handlers.prototype.constructor.apply(this,b)},execute:function(a,b){a=arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,b,e){var c=this.storage.getCommands(a);
j.each(c.instances,function(a){b.apply(e,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=j.isFunction(a)?new a:a}});k.Commands=g;k.RequestResponse=k.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);return this.getHandler(a).apply(this,b)}});g=function(){};g.extend=n.Model.extend;j.extend(g.prototype,n.Events);k.EventAggregator=g;q.Wreqr=k;var f=Backbone,d=_,l=function(a,b){var e=Error(a);
e.name=b||"Error";throw e;},c={};f.Marionette=c;c.$=f.$;var o=Array.prototype.slice;c.extend=f.Model.extend;c.getOption=function(a,b){if(a&&b)return a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]};c.normalizeMethods=function(a){var b={},e;d.each(a,function(a,c){e=a;d.isFunction(e)||(e=this[e]);e&&(b[c]=e)},this);return b};var w=function(a,b,e){return e.toUpperCase()},x=/(^|:)(\w)/gi;c.triggerMethod=function(a){var b=this["on"+a.replace(x,w)];d.isFunction(this.trigger)&&this.trigger.apply(this,
arguments);if(d.isFunction(b))return b.apply(this,d.tail(arguments))};var y=document.documentElement,s=function(a){a._isShown&&a._isRendered&&y.contains(a.el)&&d.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")};c.MonitorDOMRefresh=function(a){a.listenTo(a,"show",function(){a._isShown=!0;s(a)});a.listenTo(a,"render",function(){a._isRendered=!0;s(a)})};var z=function(a,b,e,c){c=c.split(/\s+/);d.each(c,function(c){var d=a[c];d||l("Method '"+c+"' was configured as an event handler, but does not exist.");
a.listenTo(b,e,d)})},A=function(a,b,e,c){a.listenTo(b,e,c)},B=function(a,b,e,c){c=c.split(/\s+/);d.each(c,function(c){a.stopListening(b,e,a[c])})},C=function(a,b,c,d){a.stopListening(b,c,d)},t=function(a,b,c,h,m){b&&c&&(d.isFunction(c)&&(c=c.call(a)),d.each(c,function(c,e){d.isFunction(c)?h(a,b,e,c):m(a,b,e,c)}))};c.bindEntityEvents=function(a,b,c){t(a,b,c,A,z)};c.unbindEntityEvents=function(a,b,c){t(a,b,c,C,B)};c.Callbacks=function(){this._deferred=c.$.Deferred();this._callbacks=[]};d.extend(c.Callbacks.prototype,
{add:function(a,b){this._callbacks.push({cb:a,ctx:b});this._deferred.done(function(c,d){b&&(c=b);a.call(c,d)})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=c.$.Deferred();this._callbacks=[];d.each(a,function(a){this.add(a.cb,a.ctx)},this)}});c.Controller=function(a){this.triggerMethod=c.triggerMethod;this.options=a||{};d.isFunction(this.initialize)&&this.initialize(this.options)};c.Controller.extend=c.extend;d.extend(c.Controller.prototype,
f.Events,{close:function(){this.stopListening();this.triggerMethod("close");this.unbind()}});c.Region=function(a){this.options=a||{};(this.el=c.getOption(this,"el"))||l("An 'el' must be specified for a region.","NoElError");if(this.initialize){var b=Array.prototype.slice.apply(arguments);this.initialize.apply(this,b)}};d.extend(c.Region,{buildRegion:function(a,b){var c=d.isString(a),h=d.isString(a.selector),m=d.isUndefined(a.regionType),f=d.isFunction(a);!f&&(!c&&!h)&&l("Region must be specified as a Region type, a selector string or an object with selector property");
var i,g;c&&(i=a);a.selector&&(i=a.selector,delete a.selector);f&&(g=a);!f&&m&&(g=b);a.regionType&&(g=a.regionType,delete a.regionType);if(c||f)a={};a.el=i;c=new g(a);a.parentEl&&(c.getEl=function(b){var c=a.parentEl;d.isFunction(c)&&(c=c());return c.find(b)});return c}});d.extend(c.Region.prototype,f.Events,{show:function(a){this.ensureEl();var b=a.isClosed||d.isUndefined(a.$el),e=a!==this.currentView;e&&this.close();a.render();(e||b)&&this.open(a);this.currentView=a;c.triggerMethod.call(this,"show",
a);c.triggerMethod.call(a,"show")},ensureEl:function(){if(!this.$el||0===this.$el.length)this.$el=this.getEl(this.el)},getEl:function(a){return c.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),c.triggerMethod.call(this,"close",a),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();delete this.$el}});c.Region.extend=c.extend;var u=c.Controller.extend({constructor:function(a){this._regions=
{};c.Controller.prototype.constructor.call(this,a)},addRegions:function(a,b){var c={};d.each(a,function(a,m){d.isString(a)&&(a={selector:a});a.selector&&(a=d.defaults({},a,b));var f=this.addRegion(m,a);c[m]=f},this);return c},addRegion:function(a,b){var e;e=d.isObject(b);var h=d.isString(b),m=!!b.selector;e=h||e&&m?c.Region.buildRegion(b,c.Region):d.isFunction(b)?c.Region.buildRegion(b,c.Region):b;this._store(a,e);this.triggerMethod("region:add",a,e);return e},get:function(a){return this._regions[a]},
removeRegion:function(a){this._remove(a,this._regions[a])},removeRegions:function(){d.each(this._regions,function(a,b){this._remove(b,a)},this)},closeRegions:function(){d.each(this._regions,function(a){a.close()},this)},close:function(){this.removeRegions();c.Controller.prototype.close.apply(this,arguments)},_store:function(a,b){this._regions[a]=b;this._setLength()},_remove:function(a,b){b.close();delete this._regions[a];this._setLength();this.triggerMethod("region:remove",a,b)},_setLength:function(){this.length=
d.size(this._regions)}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){u.prototype[a]=function(){var b=[d.values(this._regions)].concat(d.toArray(arguments));return d[a].apply(d,b)}});c.RegionManager=u;c.TemplateCache=function(a){this.templateId=a};d.extend(c.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];b||(b=new c.TemplateCache(a),this.templateCaches[a]=
b);return b.load()},clear:function(){var a,b=o.call(arguments),c=b.length;if(0<c)for(a=0;a<c;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});d.extend(c.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var b=c.$(a).html();(!b||0===b.length)&&l("Could not find template: '"+a+"'","NoTemplateError");return b},compileTemplate:function(a){return d.template(a)}});
c.Renderer={render:function(a,b){a||l("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError");return("function"===typeof a?a:c.TemplateCache.get(a))(b)}};c.View=f.View.extend({constructor:function(a){d.bindAll(this,"render");this.options=d.extend({},d.result(this,"options"),d.isFunction(a)?a.call(this):a);this.events=this.normalizeUIKeys(d.result(this,"events"));f.View.prototype.constructor.apply(this,arguments);c.MonitorDOMRefresh(this);this.listenTo(this,"show",
this.onShowCalled)},triggerMethod:c.triggerMethod,normalizeMethods:c.normalizeMethods,getTemplate:function(){return c.getOption(this,"template")},mixinTemplateHelpers:function(a){var a=a||{},b=c.getOption(this,"templateHelpers");d.isFunction(b)&&(b=b.call(this));return d.extend(a,b)},normalizeUIKeys:function(a){var b=this;if("undefined"!==typeof a)return d.each(d.keys(a),function(c){var h=/@ui.[a-zA-Z_$0-9]*/g;c.match(h)&&(a[c.replace(h,function(a){return d.result(b,"ui")[a.slice(4)]})]=a[c],delete a[c])}),
a},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(d.result(this,"triggers"));d.each(b,function(b,c){var f=d.isObject(b),i=f?b.event:b;a[c]=function(a){if(a){var c=a.preventDefault,d=a.stopPropagation,h=f?b.stopPropagation:d;(f?b.preventDefault:c)&&c&&c.apply(a);h&&d&&d.apply(a)}this.triggerMethod(i,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);c.bindEntityEvents(this,this.model,c.getOption(this,
"modelEvents"));c.bindEntityEvents(this,this.collection,c.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;d.isFunction(a)&&(a=a.call(this));var b={},c=this.configureTriggers();d.extend(b,a,c);f.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);f.View.prototype.undelegateEvents.apply(this,a);c.unbindEntityEvents(this,this.model,c.getOption(this,"modelEvents"));c.unbindEntityEvents(this,this.collection,
c.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){!this.isClosed&&!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=d.result(this,"_uiBindings");this.ui={};d.each(d.keys(a),function(b){this.ui[b]=this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(d.each(this.ui,function(a,b){delete this.ui[b]},
this),this.ui=this._uiBindings,delete this._uiBindings)}});c.ItemView=c.View.extend({constructor:function(){c.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var a={};this.model?a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()});return a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate(),a=c.Renderer.render(b,
a);this.$el.html(a);this.bindUIElements();this.triggerMethod("render",this);this.triggerMethod("item:rendered",this);return this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),c.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}});c.CollectionView=c.View.extend({itemViewEventPrefix:"itemview",constructor:function(a){this._initChildViewStorage();c.View.prototype.constructor.apply(this,arguments);this._initialEvents();this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=
document.createDocumentFragment();this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1;this.appendBuffer(this,this.elBuffer);this._triggerShowBufferedChildren();this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(d.each(this._bufferedChildren,function(a){c.triggerMethod.call(a,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,
"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(a){this.closeEmptyView();var b=this.getItemView(a),c=this.collection.indexOf(a);this.addItemView(a,b,c)},onShowCalled:function(){this.children.each(function(a){c.triggerMethod.call(a,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",
this);this.triggerMethod("collection:rendered",this)},render:function(){this.isClosed=!1;this.triggerBeforeRender();this._renderChildren();this.triggerRendered();return this},_renderChildren:function(){this.startBuffering();this.closeEmptyView();this.closeChildren();this.isEmpty(this.collection)?this.showEmptyView():this.showCollection();this.endBuffering()},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getItemView(b);this.addItemView(b,a,c)},this)},showEmptyView:function(){var a=
this.getEmptyView();if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var b=new f.Model;this.addItemView(b,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return c.getOption(this,"emptyView")},getItemView:function(){var a=c.getOption(this,"itemView");a||l("An `itemView` must be specified","NoItemViewError");return a},addItemView:function(a,b,e){var h=c.getOption(this,"itemViewOptions");d.isFunction(h)&&(h=
h.call(this,a,e));a=this.buildItemView(a,b,h);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,e);this._isShown&&!this.isBuffering&&c.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",a);return a},addChildViewEventForwarding:function(a){var b=c.getOption(this,"itemViewEventPrefix");this.listenTo(a,"all",function(){var e=o.call(arguments),h=e[0],f=this.normalizeMethods(this.getItemEvents());e[0]=b+":"+h;e.splice(1,
0,a);"undefined"!==typeof f&&d.isFunction(f[h])&&f[h].apply(this,e);c.triggerMethod.apply(this,e)},this)},getItemEvents:function(){return d.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(a,b,c){a=d.extend({model:a},c);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),
a.close?a.close():a.remove&&a.remove(),this.children.remove(a));this.triggerMethod("item:removed",a)},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(a,b){a.$el.append(b)},appendHtml:function(a,b){a.isBuffering?(a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b)):a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new f.ChildViewContainer},close:function(){this.isClosed||
(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),c.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}});c.CompositeView=c.CollectionView.extend({constructor:function(){c.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),
this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))})},getItemView:function(){var a=c.getOption(this,"itemView")||this.constructor;a||l("An `itemView` must be specified","NoItemViewError");return a},serializeData:function(){var a={};this.model&&(a=this.model.toJSON());return a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();this.triggerBeforeRender();var a=this.renderModel();this.$el.html(a);
this.bindUIElements();this.triggerMethod("composite:model:rendered");this._renderChildren();this.triggerMethod("composite:rendered");this.triggerRendered();return this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),c.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate();return c.Renderer.render(b,
a)},appendBuffer:function(a,b){this.getItemViewContainer(a).append(b)},appendHtml:function(a,b){a.isBuffering?(a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b)):this.getItemViewContainer(a).append(b.el)},getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var b;(b=c.getOption(a,"itemViewContainer"))?(b=d.isFunction(b)?b.call(this):b,b=a.$(b),0>=b.length&&l("The specified `itemViewContainer` was not found: "+a.itemViewContainer,"ItemViewContainerMissingError")):
b=a.$el;return a.$itemViewContainer=b},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}});c.Layout=c.ItemView.extend({regionType:c.Region,constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);c.ItemView.prototype.constructor.call(this,a)},render:function(){this.isClosed&&this._initializeRegions();this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();return c.ItemView.prototype.render.apply(this,arguments)},
close:function(){this.isClosed||(this.regionManager.close(),c.ItemView.prototype.close.apply(this,arguments))},addRegion:function(a,b){var c={};c[a]=b;return this._buildRegions(c)[a]},addRegions:function(a){this.regions=d.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){delete this.regions[a];return this.regionManager.removeRegion(a)},_buildRegions:function(a){var b=this,d={regionType:c.getOption(this,"regionType"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,
d)},_initializeRegions:function(a){this._initRegionManager();a=d.isFunction(this.regions)?this.regions(a):this.regions||{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new c.RegionManager;this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];
this.trigger("region:remove",a,b)})}});c.AppRouter=f.Router.extend({constructor:function(a){f.Router.prototype.constructor.apply(this,arguments);this.options=a||{};var b=c.getOption(this,"appRoutes"),d=this._getController();this.processAppRoutes(d,b)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},processAppRoutes:function(a,b){if(b){var c=d.keys(b).reverse();d.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return c.getOption(this,"controller")},
_addAppRoute:function(a,b,c){var h=a[c];h||l("Method '"+c+"' was not found on the controller");this.route(b,c,d.bind(h,a))}});c.Application=function(a){this._initRegionManager();this._initCallbacks=new c.Callbacks;this.vent=new f.Wreqr.EventAggregator;this.commands=new f.Wreqr.Commands;this.reqres=new f.Wreqr.RequestResponse;this.submodules={};d.extend(this,a);this.triggerMethod=c.triggerMethod};d.extend(c.Application.prototype,f.Events,{execute:function(){this.commands.execute.apply(this.commands,
arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(a){this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},
module:function(a,b){var d=c.Module.getClass(b),h=o.call(arguments);h.unshift(this);return d.create.apply(d,h)},_initRegionManager:function(){this._regionManager=new c.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,"region:remove",function(a){delete this[a]})}});c.Application.extend=c.extend;c.Module=function(a,b,e){this.moduleName=a;this.options=d.extend({},this.options,e);this.initialize=e.initialize||this.initialize;this.submodules=
{};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;this.triggerMethod=c.triggerMethod;d.isFunction(this.initialize)&&this.initialize(this.options,a,b)};c.Module.extend=c.extend;d.extend(c.Module.prototype,f.Events,{initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(d.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",
a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,c.triggerMethod.call(this,"before:stop"),d.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),c.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){if(a){var e=d.flatten([this,
this.app,f,c,c.$,d,b]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new c.Callbacks;this._finalizerCallbacks=new c.Callbacks}});d.extend(c.Module,{create:function(a,b,c){var h=a,f=o.call(arguments);f.splice(0,3);var b=b.split("."),i=[];i[b.length-1]=c;d.each(b,function(b,d){var g=h;h=this._getModule(g,b,a,c);this._addModuleDefinition(g,h,i[d],f)},this);return h},_getModule:function(a,b,c,f){var i=d.extend({},f),f=this.getClass(f),g=a[b];g||(g=new f(b,c,i),
a[b]=g,a.submodules[b]=g);return g},getClass:function(a){var b=c.Module;return!a?b:a.prototype instanceof b?a:a.moduleClass||b},_addModuleDefinition:function(a,b,e,f){var g;d.isFunction(e)&&!(e.prototype instanceof c.Module)?(g=e,e=!0):d.isObject(e)?(g=e.define,e=!d.isUndefined(e.startWithParent)?e.startWithParent:!0):e=!0;g&&b.addDefinition(g,f);b.startWithParent=b.startWithParent&&e;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&
b.start(a)}))}});c.noConflict=function(){p.Marionette=v;return this};p.Marionette=c})();;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:basic-resources', location = '/deps/MarionetteModule.js' */
define("spartez/jpp/marionette",[],function(){return Marionette.noConflict()});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:agilepokerng-utils', location = '/util/Utils.js' */
define("spartez/jpp/utils",["jquery","underscore"],function(h,g){function e(a){var c=i(a);if(!c.parentStr)return window[a];var b=e(c.parentStr),d=b[c.childStr];return c.isFunction?d.apply(b,arguments):d}function i(a){var c=a.lastIndexOf("."),b=a.substr(0,c),a=a.substr(c+1),c=!1;-1!==a.indexOf("()",a.length-2)&&(a=a.substr(0,a.length-2),c=!0);return{parentStr:b,childStr:a,isFunction:c}}function f(a,c){try{var b=e(a);if(g.isFunction(b)){var d=i(a);e(d.parentStr)[d.childStr]=c}else h.error("Given object is not a function "+
a)}catch(f){h.error("Cant append hook to function "+a)}}function j(){var a=arguments,c=a.length-1;return function(){for(var b=c,d=a[c].apply(this,arguments);b--;)d=a[b].apply(this,d);return d}}return{appendHook:function(a,c){var b=e(a),b=g.wrap(b,function(a){var b=[].shift.apply(arguments).apply(this,arguments);c.apply(this,arguments);return b});f(a,b)},prependHook:function(a,c){var b=e(a),b=g.wrap(b,function(a){var b=[].shift.apply(arguments);c.apply(this,arguments);return b.apply(this,arguments)});
f(a,b)},compositionHook:function(a,c){var b=e(a),b=g.compose(c,b);f(a,b)},transformParamsBeforeInvocationHook:function(a,c){var b=e(a),b=j(b,c);f(a,b)},setLocalStorageItemSafely:function(a,c){try{localStorage.setItem(a,c)}catch(b){console.warn(b)}},getUrlParameterByName:function(a){return(a=RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search))&&decodeURIComponent(a[1].replace(/\+/g," "))}}});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:agilepokerng-utils', location = '/util/GhUtils.js' */
define("spartez/jpp/ghUtils",["spartez/jpp/utils","jquery","underscore"],function(f,d,e){var c={canGetGreenHopperInternalState:function(){return void 0!==window.GH&&void 0!==window.GH.RapidBoard},isUserEditingIssue:function(){var a=d(".mce-tinymce").is(":visible"),b=void 0!==d(document.activeElement).closest("#ghx-detail-issue")[0];return a||b},getSelectionController:function(){if(this.isInWorkMode())return GH.WorkSelectionController;if(this.isInPlanMode())return GH.BacklogSelectionController},getRapidViewConfig:function(){if(this.isInWorkMode())return GH.SwimlaneView.rapidViewConfig;
if(this.isInPlanMode())return GH.BacklogController.rapidViewConfig},isInKanbanMode:function(){return!1===GH.WorkControls.rapidViewConfig.sprintSupportEnabled},isEstimationConfigured:function(){return GH.WorkControls.rapidViewConfig.estimationStatistic.isEnabled},isInWorkMode:function(){return"work"===GH.RapidBoard.State.getMode()},isInPlanMode:function(){return"plan"===GH.RapidBoard.State.getMode()},getIssueData:function(a){if(this.isInWorkMode())return GH.GridDataController.getModel().getIssueDataByKey(a);
if(this.isInPlanMode())return GH.BacklogModel.getIssueData(a)},renderIssue:function(a,b){var c=[];if(!b||!b.ignoreSelection)c=this.isInWorkMode()?GH.SwimlaneView.getSelectedKeysMap():GH.BacklogController.calculateIssueRenderData().selectedIssueKeys;var h=1<GH.SwimlaneView.getCalculatedDisplayIssueKeys.length?GH.SwimlaneView.getCalculatedDisplayIssueKeys(250,a.key):GH.SwimlaneView.getCalculatedDisplayIssueKeys(a.key);a.fixVersionsUI=a.fixVersionsUI||{};return GH.tpl.planissuelist.renderIssue({issue:a,
selectedIssueKeys:c,displayIssueKeys:h,hiddenIssues:[]})},getEstimationStatisticFieldId:function(a){return(a=this.getIssueData(a))&&a.estimateStatistic&&a.estimateStatistic.statFieldId},isIssueEstimable:function(a){return!e.isUndefined(this.getEstimationStatisticFieldId(a))},isEstimationConfigurationEditable:function(){return GH.RapidBoard.Config.Estimation.model.canEdit},onGhReady:function(a){var b=d.Deferred(),g=d.Deferred();GH.RapidBoard.State.getMode()?b.resolve():f.appendHook("GH.RapidBoard.ViewController.setMode",
e.bind(function(){b.resolve()},this));b.done(function(){e.each([{configObject:GH.PlanControls.rapidViewConfig,readyFunctionName:"GH.PlanController.initializePlanMode"},{configObject:GH.WorkControls.rapidViewConfig,readyFunctionName:"GH.WorkController.initializeWorkMode"}],function(a){var b=a.readyFunctionName;e.isEqual(a.configObject,{})?f.appendHook(b,e.bind(function(){g.resolve()},this)):g.resolve()})});g.done(function(){if(c.isInWorkMode())GH.WorkDataLoader.getData(c.getBoardId()).done(a);else if(c.isInPlanMode()){var b=
d.Deferred();GH.BacklogModel.getBacklogModel2()?b.resolve():f.appendHook("GH.BacklogModel.setData",function(){b.resolve()});b.done(a)}})},reloadIssueDetailView:function(){GH.DetailsView.show()},reloadIssue:function(a){this.isInPlanMode()?GH.BacklogController.reloadSingleIssue(a):this.isInWorkMode()&&GH.WorkController.loadIssue(a)},onIssueDataFetched:function(a){var b=this;this._onIssueDataFetchedCallbacks||(this._onIssueDataFetchedCallbacks=[],d(document).ajaxSuccess(function(a,c,d){(0===d.url.indexOf(AJS.contextPath()+
"/rest/greenhopper/1.0/xboard/issue/details.json")||0===d.url.indexOf(AJS.contextPath()+"/rest/greenhopper/1.0/xboard/plan/backlog/issue.json"))&&setTimeout(function(){b._onIssueDataFetchedCallbacks.forEach(function(a){a()})},0)}));this._onIssueDataFetchedCallbacks.push(a)},onModeChanged:function(a){f.appendHook("GH.RapidBoard.ViewController.setMode",a)},reloadBoard:function(){c.isInPlanMode()?GH.PlanController.reload():c.isInWorkMode()&&GH.WorkController.reload()},redrawBoard:function(){c.isInPlanMode()?
GH.BacklogView.draw():c.isInWorkMode()&&GH.WorkController.updateUI()},showBoardUpdatedMessage:function(){GH.Notification.showBoardUpdatedMessage().done(function(){c.reloadBoard()})},getBoardId:function(){return GH.RapidBoard.State.getRapidViewId()},getProjectKey:function(){var a=JIRA.Issue.getIssueKey&&JIRA.Issue.getIssueKey();if(a)return a.substr(0,a.indexOf("-"))},isIssueDetailsViewOpened:function(){if(c.isInPlanMode())return GH.PlanController.isDetailsViewOpened();if(c.isInWorkMode())return GH.WorkController.isDetailsViewOpened()},
showIssueDetailsView:function(a){c.isInPlanMode()?GH.PlanController.updateDetailsView(a,!0):c.isInWorkMode()&&GH.WorkView.openOrCloseDetailView(a)},getSelectedIssues:function(){var a=GH.RapidBoard.State.getMode(),b=[];switch(a){case "plan":b=GH.RapidBoard.State.getBoardSetting(null,"backlog.selectedIssues");break;case "work":b=GH.RapidBoard.State.getBoardSetting(null,"work.selectedIssues");break;default:console.warn("Agile Poker Enterprise for JIRA: unrecognized board mode ("+a+")")}return e.map(b,
c.getIssueData.bind(this))},getRapidViewName:function(){return GH.WorkController.rapidViewData&&GH.WorkController.rapidViewData.name},getKeyOfNextIssue:function(a){if(this.isInWorkMode())return GH.GridDataController.getModel().getNextIssueKey(a,GH.WorkKBNavigation.currentColumn);if(this.isInPlanMode())return GH.BacklogModel.getNextIssueKey(a)},getKeyOfNextEstimableIssue:function(a){for(;a=this.getKeyOfNextIssue(a);)if(this.isIssueEstimable(a))return a},getNextSprintModel:function(){for(var a=GH.BacklogModel.sprintModels,
b=0;b<a.length;b++){var c=a[b].sprintData;if("FUTURE"===c.state)return c}}};return c});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:agilepokerng-utils', location = '/util/UUIDGenerator.js' */
define("spartez/jpp/uuidGenerator",[],function(){return{generate:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var a=16*Math.random()|0;return("x"==b?a:a&3|8).toString(16)})}}});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:agilepokerng-utils', location = '/util/utils.soy' */
// This file was automatically generated from utils.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Spartez.Poker.Soy.
 */

if (typeof Spartez == 'undefined') { var Spartez = {}; }
if (typeof Spartez.Poker == 'undefined') { Spartez.Poker = {}; }
if (typeof Spartez.Poker.Soy == 'undefined') { Spartez.Poker.Soy = {}; }


Spartez.Poker.Soy.button = function(opt_data, opt_ignored) {
  return '' + ((opt_data.isDisabled) ? aui.buttons.button(soy.$$augmentMap(opt_data, {extraAttributes: {disabled: '', title: opt_data.disabledTitle}})) : (opt_data.title) ? aui.buttons.button(soy.$$augmentMap(opt_data, {extraAttributes: {title: opt_data.title}})) : aui.buttons.button(opt_data));
};
if (goog.DEBUG) {
  Spartez.Poker.Soy.button.soyTemplateName = 'Spartez.Poker.Soy.button';
}


Spartez.Poker.Soy.icon = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-' + soy.$$escapeHtml(opt_data.icon) + aui.renderExtraClasses(opt_data) + '">' + ((opt_data.accessibilityText) ? soy.$$escapeHtml(opt_data.accessibilityText) : '') + '</span>';
};
if (goog.DEBUG) {
  Spartez.Poker.Soy.icon.soyTemplateName = 'Spartez.Poker.Soy.icon';
}
;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:agile-poker-data-provider', location = '/common/agilePokerDataProvider.js' */
define("spartez/jpp/agilePokerDataProvider",[],function(){var a=WRM.data.claim("com.spartez.jira.plugins.jiraplanningpoker:agile-poker-data-provider.agilePokerDataProvider");return{pluginVersion:a.pluginVersion,triangulationSidePanelState:a.triangulationSidePanelState}});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:agilepokerng-analytics', location = '/component/analytics/AnalyticsInfo.js' */
define("spartez/jpp/analyticsInfo",[],function(){var a=WRM.data.claim("com.spartez.jira.plugins.jiraplanningpoker:agilepokerng-analytics.data");return{trackingId:"UA-50868675-8",jiraInstanceId:a.instanceId,userUuid:a.userUuid,clientId:a.instanceId,isClustered:a.isClustered,isEvaluation:a.isEvaluation,alreadySentOneTimeEvents:a.alreadySentOneTimeEvents,numberOfInstanceSessions:a.numberOfInstanceSessions,firstVoteDate:a.firstVoteDate,jiraSoftwareTier:a.jiraSoftwareTier,isEnabled:function(){return a.areAnalyticsEnabled&&
!AJS.isDevMode()&&!AJS.DarkFeatures.isEnabled("com.spartez.turnOffAgileEstimatesAnalytics")}}});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:agilepokerng-analytics', location = '/component/analytics/AgileEstimatesAnalytics.js' */
define("spartez/jpp/agileEstimatesAnalytics",["spartez/jpp/analyticsInfo","spartez/jpp/agilePokerDataProvider","spartez/jpp/ghUtils","jquery","underscore"],function(b,i,f,l,h){function j(a,c,d,e){AJS.isDevMode()&&console.log("Collect: "+a+" | "+c+" | "+d+" | ",JSON.stringify(e));if(b.isEnabled()){a=AJS.$.extend({t:"event",ec:null!=a?a:"null",ea:null!=c?c:"null",el:null!=d?d:"null",ev:h.isNumber(e)?e:void 0},e);a=AJS.$.extend({v:1,aip:1,tid:b.trackingId,cid:b.clientId,cd1:b.jiraInstanceId,cd18:b.userUuid,
cd12:b.isClustered,cd13:b.isEvaluation,cd14:i.pluginVersion,av:i.pluginVersion,an:"Agile Poker",cd15:b.numberOfInstanceSessions,cd16:b.jiraSoftwareTier,z:Math.floor(1E5*Math.random())},a);f.canGetGreenHopperInternalState()&&(a.cd2=f.isInPlanMode()?"Plan":f.isInWorkMode()?"Work":"",a.cd3=f.isInKanbanMode(),a.cd4=f.getBoardId());if(window.JppNgApp)var c=JppNgApp.model.sessionCollection.length,d=JppNgApp.model.selectedIssueModel.getKey()===JppNgApp.model.activeIssueModel.getKey(),e=JppNgApp.model.participants.length,
g=JppNgApp.model.participants.reduce(function(a,b){return b.get("online")?a+1:a},0),a=AJS.$.extend({cd5:d,cd7:e,cd8:g,cd10:c},a);h.isFunction(a.hitCallback)&&(a.hitCallback(),delete a.hitCallback);AJS.$.get("https://ssl.google-analytics.com/collect?"+AJS.$.param(a))}}function k(a,c,d){a={tid:b.trackingId,v:1,aip:1,t:"event",ec:null!=a?a:"",ea:null!=c?c:"",el:null!=d?d:"",cid:b.clientId,cd1:b.jiraInstanceId,cd18:b.userUuid,cd12:b.isClustered,cd13:b.isEvaluation,z:Math.floor(1E5*Math.random())};AJS.$.get("https://ssl.google-analytics.com/collect?"+
AJS.$.param(a))}AJS.$(document.body).on("click","#poker-help-link",function(){(window.JppNgApp||window.JppNgConfigApp).analytics.sendEvent("Help","Open","Top Header")});return{sendEvent:j,sendEventOncePerJira:function(a,c,d,e,g){AJS.isDevMode()&&console.log("Collect ("+a+"): "+c+" | "+d+" | "+e+" | ",JSON.stringify(g));b.isEnabled()&&(h.contains(b.alreadySentOneTimeEvents,a)||l.ajax({type:"POST",url:AJS.contextPath()+"/rest/pokerng/1.0/event-sent-once-per-jira/"+a,dataType:"json",contentType:"application/json"}).then(function(f){b.alreadySentOneTimeEvents.push(a);
if(f&&f.shouldSendEvent)try{j(c,d,e,g)}catch(h){k(c,d,e,g),k("Error report","Send One Time Event Failed",c+" - "+d+" "+e,g)}},function(a,b,c){console.error(c.message)}))}}});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:agilepokerng-analytics', location = '/component/analytics/AgileEstimatesAnalyticsEvents.js' */
define("spartez/jpp/agileEstimatesAnalyticsEvents",["spartez/jpp/agileEstimatesAnalytics","spartez/jpp/analyticsInfo","jquery","underscore"],function(d,h,g,e){function a(c,a){return e.once(function(){d.sendEventOncePerJira("interactive-funnel-"+c,"Interactive Session Evaluation",c+": "+a)})}function b(c,a){return e.once(function(){d.sendEventOncePerJira("async-funnel-"+c,"Async Session Evaluation",c+": "+a)})}function f(a,b){return e.once(function(){d.sendEventOncePerJira("experiments-voting-"+a,
"Experiments","Voting",b)})}var g={interactive:{openedCreateSessionDialog:a("0100","Open Create Session Dialog"),openedCreateInteractiveSessionDialog:a("0200","Open Create Interactive Session Dialog"),createdInteractiveSession:a("0300","Create Interactive Session"),joinedSession:a("0400","Join Session"),setActiveIssue:a("0500","Set Active Issue"),putPersonalEstimate:a("0600","Put Personal Estimate"),finishedEstimating:a("0700","Finish Estimating"),savedFinalEstimate:a("0800","Save Final Estimate"),
hidEstimationPanel:a("0900","Hide Estimation Panel")},asynchronous:{openedCreateSessionDialog:b("0100","Open Create Session Dialog"),openedFirstScreenOfCreateAsyncSessionDialog:b("0200","Open First Screen Of Create Async Session Dialog"),openedSecondScreenOfCreateAsyncSessionDialog:b("0300","Open Second Screen Of Create Async Session Dialog"),createdAsyncSession:b("0400","Create Async Session"),openedVotingView:b("0500","Open Voting View"),votedOnIssue:b("0600","Vote On Issue"),openedCloseSessionDialog:b("0700",
"Open Close Session Dialog"),openedVotingResultsView:b("0800","Open Voting Results View"),savedFinalEstimationForIssue:b("0900","Save Final Estimation For Issue")}},i={voting:{votedFirstTime:f("first-vote","First Vote On Instance"),voted2WeeksAgo:f("vote-after-2-weeks","Vote 2 Weeks After First Vote"),checkAndMarkIfVoted2WeeksAgo:function(){var a=h.firstVoteDate;a&&12096E5<(new Date).getTime()-a&&this.voted2WeeksAgo()},votedWithMoreThan1Participant:f("session-with-2-people","2 Or More Participants Votes In A Session")}};
return{funnels:g,experiments:i,links:{clickedContactSupportLink:function(a){d.sendEvent("Link Analytics","Click Contact Support",a)}}}});;
;
/* module-key = 'com.spartez.jira.plugins.jiraplanningpoker:pokerng-iframe-connect-resources', location = '/iframe/iframe-connect.js' */
(function(){function k(a,c){f=AJS.$.Deferred();var b=AJS.$("<div>",{"class":"agilepoker-fullscren-blanket agilepoker-fullscreen"}),d=AJS.$("<div>",{"class":"agilepoker-fullscreen-iframe agilepoker-fullscreen"});b.appendTo(document.body);d.appendTo(document.body);h(d,a,{query:_.extend({noRedirect:!0},c),disableAutoResize:!0,onLoad:function(a){a[0].contentWindow.document.activeElement||a.focus()}});var g=AJS.$.Deferred();f.then(function(a){if(a&&a.rejected)return g.reject(a);g.resolve(a)});return g.promise()}
function l(a){f&&f.resolve(a);AJS.$(".agilepoker-fullscreen").remove()}function m(a,c,b){JIRA.Messages.showSuccessMsg(i(a,c),b)}function n(a,c,b){JIRA.Messages.showErrorMsg(i(a,c),b)}function i(a,c){var b="";a&&(b+="<b>"+a+"</b><br>");c&&(b+=c);return b}function o(a){var c=[].slice.call(arguments);c.shift();var b=d[a]||AJS.$.Callbacks("unique");d[a]=b;b.fire.apply(b,c)}function p(a,c){d[a]=d[a]||AJS.$.Callbacks("unique");d[a].add(c)}function h(a,c,b){b=b||{};a=AJS.$(a);a.html('<div class="agilepoker-iframe-loading"><span class="aui-icon aui-icon-wait">Loading...</span><span class="agilepoker-iframe-loading-text"> Loading Agile Poker for JIRA...</span></div><div class="agilepoker-iframe-container" style="display: none;"></div>');
var d=a.find(".agilepoker-iframe-loading"),g=a.find(".agilepoker-iframe-container"),e,a=b.query,f=location.protocol+"//"+location.host,h=AJS.contextPath(),i=AJS.$("meta[name=ajs-remote-user]").attr("content"),j=AJS.$("meta[name='ajs-user-locale']").attr("content"),k=require("spartez/jpp/licenseInfo"),c=AJS.$.extend({},a,{"ap-view":c,xdm_e:f,cp:h,user_id:i,loc:j,lic:k.isValid?"active":"none"});e=AJS.$("<iframe/>",{src:q+AJS.$.param(c),"class":"agilepoker-iframe"});g.append(e);e.on("load",function(){d.hide();
g.show();if("function"===typeof b.onLoad)b.onLoad(e)});if(!b.disableAutoResize)var l=setInterval(function(){if(null===e[0].contentDocument)clearInterval(l);else{var a=AJS.$(e[0].contentWindow.document),b=a.find("body"),a=a.find(".ac-content, .ac-resize")||b;a[0]&&e.height(a[0].scrollHeight)}},r)}var j=WRM.data.claim("com.spartez.jira.plugins.jiraplanningpoker:pokerng-iframe-connect-resources.user-data")||{},s=require("spartez/jpp/utils"),t=require("spartez/jpp/ghUtils");"undefined"===typeof window.spartez&&
(window.spartez={});"undefined"===typeof window.spartez.agilePoker&&(window.spartez.agilePoker={showView:h,showFullScreenView:k,hideFullScreenView:l,messages:{error:n,success:m},events:{on:p,emit:o},userData:{userKey:j.userKey,displayName:j.displayName},localStorage:{setItemSafely:s.setLocalStorageItemSafely},getProjectKey:t.getProjectKey});define("spartez/poker/iframeApi",window.spartez.agilePoker);var d={},r=100,q=AJS.contextPath()+"/download/resources/com.spartez.jira.plugins.jiraplanningpoker/frontend/index.html?",
f})();;
;
/* module-key = 'biz.everit.jira.feature.score:jfsp-cft-resource-1.0.2-20170711131537', location = '/js/jfsp-cft.js' */
window.everit = window.everit || {};
everit.jfsp = everit.jfsp || {};
everit.jfsp.main = everit.jfsp.main || {};

(function(jfsp, jQuery) {
  
  jQuery(document).ready(function() { 
    AJS.$(".jfsp-tooltip").tooltip();
  });

  jfsp.sendToProcess= function(customFieldIdParam){
    var notCalculate = jQuery('#jfsp-score-parameters-form-' + customFieldIdParam + ' input.not_calculate').is(':checked');
    var $selects = jQuery('#jfsp-score-parameters-form-' + customFieldIdParam + ' select.score-parameter');
    var scoreParameterPair = [];
    for (i = 0; i < $selects.length; i++) {
      var $select = jQuery($selects[i]);
      var pairObj = {
        "scoreParameterId" : $select.attr('data-jfsp-score-parameter-id'),
        'optionType' : $select.attr('data-jfsp-option-type'),
        "scoreParameterOptionId" : $select.val(),
      }
      scoreParameterPair.push(pairObj);
    }
    var dataJsonObj = {
      "scoreParameterPair" : scoreParameterPair
    }
    
    var jiraBaseUrl = AJS.params.baseURL;
    jQuery.ajax({
      url : jiraBaseUrl + '/rest/jfsp-rest/1/custom-field/content',
      data : {
        dataJson : JSON.stringify(dataJsonObj),
        customFieldId : jQuery('#jfsp-custom-field-id-' +customFieldIdParam).val(),
        calculateScore : !notCalculate
      },
    }).done(function(html){
      jQuery('#jfsp-custom-field-content-' + customFieldIdParam).html(html);
      var newValue = jQuery('#jfsp-new-value-' + customFieldIdParam).val();
      jQuery('#jfsp-custom-field-value-' + customFieldIdParam).val(newValue);
    });
  }
  
  jfsp.showFeatureScoreEditDialog = function(customFieldId, json){
    var jiraBaseUrl = AJS.params.baseURL;
    jQuery.ajax({
      url : jiraBaseUrl + '/rest/jfsp-rest/1/custom-field/content-dialog',
      data : {
        dataJson : json,
        customFieldId : customFieldId
      },
    }).done(function(html){
      if(html.includes('id="fs_license_warning_info"')){
    	  jQuery('#fs-save-button-'+customFieldId).hide();
      }else {
    	  jQuery('#fs-save-button-'+customFieldId).show();
      }
      jQuery('#jfsp-edit-score-' + customFieldId + ' .jfsp-edit-score-body').html(html);
      AJS.dialog2('#jfsp-edit-score-' + customFieldId).show();
    });
  }
  
  jfsp.saveScore = function(customFieldId, customFieldIdAsLong, issueKey){
    var notCalculate = jQuery('#jfsp-edit-score-' + customFieldIdAsLong + ' input.not_calculate').is(':checked');
    var $selects = jQuery('#jfsp-edit-score-' + customFieldIdAsLong + ' select.score-parameter');
    var scoreParameterPair = [];
    for (i = 0; i < $selects.length; i++) {
      var $select = jQuery($selects[i]);
      var pairObj = {
        "scoreParameterId" : $select.attr('data-jfsp-score-parameter-id'),
        'optionType' : $select.attr('data-jfsp-option-type'),
        "scoreParameterOptionId" : $select.val(),
      }
      scoreParameterPair.push(pairObj);
    }

    var dataJsonObj = {
      "scoreParameterPair" : scoreParameterPair
    }

    var jiraBaseUrl = AJS.params.baseURL;
    jQuery.ajax({
      url : jiraBaseUrl + '/rest/jfsp-rest/1/custom-field/update-custom-field-value',
      data : {
        dataJson : JSON.stringify(dataJsonObj),
        customFieldId : customFieldIdAsLong,
        issueKey : issueKey,
        calculateScore : !notCalculate
      },
    }).done(function(){
      AJS.dialog2('#jfsp-edit-score-' + customFieldIdAsLong).hide();
      window.location.reload();
    });
  }
  
  jfsp.disableOrEnableFields = function (obj, customFieldId) {
    var $obj = jQuery(obj);
    var $params = jQuery('#jfsp-edit-score-' + customFieldId + ' .score-parameter');
    if($obj.is(":checked")){
      $params.each(function(){
        jQuery(this).attr('disabled', 'disabled');
      });
    } else {
      $params.each(function(){
        jQuery(this).removeAttr('disabled');
      });
    }
  }
})(everit.jfsp.main, jQuery);;
;
/* module-key = 'jira.webresources:jira-analytics-amd', location = '/includes/jira/analytics.js' */
define("jira/analytics",function(){function globalAJS(){if(!window.AJS){window.AJS={}}return window.AJS}var localAjs=globalAJS();localAjs.EventQueue=localAjs.EventQueue||[];function send(options){localAjs.EventQueue.push(options)}return{send:send}});;
;
/* module-key = 'jira.webresources:jira-analytics', location = '/includes/jira/analytics/analytics.js' */
define("jira/analytics/analytics",["jquery","jira/ajs/dark-features","jira/analytics"],function($,DarkFeatures,analytics){var $document=$(document);function getBrowseProjectTab(){return $("li.active a.browse-tab").attr("id")}function bindEvents(){$document.on("click","#project-admin-link",function(){var selectedTab=getBrowseProjectTab();analytics.send({name:"browseproject.administerproject",properties:{selectedtab:selectedTab}})});$document.on("click","#browse-projects-create-project",function(){analytics.send({name:"projects.browse.createProject",properties:{}})});$document.on("click","#no-issues-create-issue",function(){analytics.send({name:"browseproject.issuesblankslate.createissue",properties:{}})});$document.on("click","a.issue-filter-link",function(){var $el=$(this);var id=$el.attr("id").replace("filter_","");var type=$el.attr("data-type");analytics.send({name:"browse"+type+".issuefilter."+id,properties:{}})});$document.on("click","#project_import_link_lnk",function(){analytics.send({name:"topnav.jim",properties:{}})});$document.on("click",".issueaction-viewworkflow",function(){var classes=$(this).attr("class");var isNew=classes.indexOf("new-workflow-designer")>-1||classes.indexOf("jira-workflow-designer-link")>-1;var version=isNew?"new":"old";var newEnabled=DarkFeatures.isEnabled("casper.VIEW_ISSUE");analytics.send({name:"issue.viewworkflow",properties:{version:version,newEnabled:newEnabled}})})}return{bindEvents:bindEvents}});;
;
/* module-key = 'jira.webresources:jira-analytics', location = '/includes/jira/analytics/analytics-init.js' */
require(["jira/analytics/analytics"],function(analytics){AJS.toInit(function(){analytics.bindEvents()})});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/jquery/plugins/avataror/avataror.js' */
jQuery.fn.avataror=function(options){var $=jQuery,$document=$(document);this.each(function(){var $this=$(this);var imgsrc=$this.find("img").attr("src");$this.css({"-moz-border-radius":"10px","-webkit-border-radius":"10px"});$this.html("<p>Loading?</p>");var avataror={previewSize:48};avataror.preview=$("<div/>").addClass("avataror-preview").css({border:"solid 1px #000","float":"left",height:avataror.previewSize+"px",overflow:"hidden",width:avataror.previewSize+"px",position:"relative",top:"-9999em",left:"-9999em"});avataror.preview.prependTo(options.previewElement);avataror.img=$('<img alt="Avatar Source"/>');avataror.img.load(function(){avataror.image=$("<div/>").css({background:"url('"+imgsrc+"') no-repeat",clear:"left",position:"relative"});avataror.marker=$("<div/>").css({cursor:"move",position:"relative"});avataror.dash=$("<div/>");avataror.shadow=$("<div/>");avataror.dash.add(avataror.shadow).css({cursor:"move",opacity:0.5,left:0,top:0,position:"absolute"});avataror.image.append(avataror.shadow).append(avataror.dash).append(avataror.marker);$this.append(avataror.image);avataror.marker.html("<div></div><div></div><div></div><div></div>");$("div",avataror.marker).each(function(i){var $this=$(this);$this.css({background:"#000",border:"solid 1px #fff",width:"10px",height:"10px",position:"absolute","font-size":"1px"});$this.css(["left","right","right","left"][i],"-6px");$this.css(["top","top","bottom","bottom"][i],"-6px");$this.css("cursor",["nw-resize","ne-resize","se-resize","sw-resize"][i]);$this.mousedown(function(e){e.preventDefault();e.stopPropagation();avataror.dragging={x:e.pageX,y:e.pageY,ax:avataror.x,ay:avataror.y,w:avataror.width,h:avataror.height,i:i+1};avataror.shadow.hide()})});avataror.marker.add(avataror.image).mousedown(function(e){e.preventDefault();avataror.dragging={x:e.pageX,y:e.pageY,ax:avataror.x,ay:avataror.y,w:avataror.width,h:avataror.height};avataror.shadow.hide()});$document.mouseup(function(e){avataror.handleMouseUp(e)});$document.mousemove(function(e){if(avataror.dragging){avataror.handleMouseMove(e.pageX,e.pageY);e.preventDefault()}});avataror.imgwidth=avataror.img[0].naturalWidth;avataror.imgheight=avataror.img[0].naturalHeight;avataror.x=parseInt($("#avatar-offsetX").val());avataror.y=parseInt($("#avatar-offsetY").val());avataror.width=parseInt($("#avatar-width").val());avataror.height=avataror.width;avataror.image.css({width:avataror.imgwidth+"px",height:avataror.imgheight+"px"});avataror.setMarker();$this.css({width:avataror.imgwidth+"px"});avataror.preview.css({position:"static"});$("p",$this).remove();$this.trigger("AvatarImageLoaded");avataror.adjustPreview()});avataror.img.attr("src",imgsrc);avataror.preview.append(avataror.img);avataror.setMarker=function(){avataror.marker.css("border","dashed 1px #fff");avataror.dash.css("border","solid 1px #000");avataror.shadow.css("border","solid 1px #000");avataror.marker.add(this.dash).css("left",this.x-1+"px");avataror.marker.add(avataror.dash).css("top",avataror.y-1+"px");avataror.shadow.css("border-left-width",avataror.x+"px");avataror.shadow.css("border-right-width",avataror.imgwidth-avataror.x-avataror.width+"px");avataror.shadow.css("border-top-width",avataror.y+"px");avataror.shadow.css("border-bottom-width",avataror.imgheight-avataror.y-avataror.height+"px");avataror.shadow.css("width",avataror.width+"px");avataror.shadow.css("height",avataror.height+"px");avataror.marker.add(avataror.dash).css("width",avataror.width+"px");avataror.marker.add(avataror.dash).css("height",avataror.height+"px")};avataror.adjustPreview=function(){avataror.img.attr("width",avataror.imgwidth*avataror.previewSize/avataror.width);avataror.img.attr("height",avataror.imgheight*avataror.previewSize/avataror.height);avataror.img.css("margin-left","-"+avataror.x*avataror.previewSize/avataror.width+"px");avataror.img.css("margin-top","-"+avataror.y*avataror.previewSize/avataror.height+"px");avataror.preview.select()};avataror.handleMouseMove=function(newX,newY){avataror.dragging.nextExec=avataror.dragging.nextExec||0;if(avataror.dragging.nextExec==0){avataror.dragging.nextExec=3}else{avataror.dragging.nextExec--;return }var dx=newX-avataror.dragging.x;var dy=newY-avataror.dragging.y;if(this.dragging.i){var handler=avataror.resizeHandlers[this.dragging.i-1];handler(dx,dy)}else{avataror.x=avataror.dragging.ax+dx;avataror.y=avataror.dragging.ay+dy;if(avataror.x+avataror.width>avataror.imgwidth){avataror.x=avataror.imgwidth-avataror.width}if(avataror.y+avataror.height>avataror.imgheight){avataror.y=avataror.imgheight-avataror.height}if(avataror.x<0){avataror.x=0}if(avataror.y<0){avataror.y=0}}avataror.setMarker();avataror.adjustPreview()};avataror.handleMouseUp=function(e){$("#avatar-offsetX").val(avataror.x);$("#avatar-offsetY").val(avataror.y);$("#avatar-width").val(avataror.width);avataror.dragging=null;avataror.shadow.show()};avataror.originX=function(){return avataror.dragging.ax};avataror.originY=function(){return avataror.dragging.ay};avataror.originBottomX=function(){return avataror.dragging.ax+avataror.dragging.w};avataror.originBottomY=function(){return avataror.dragging.ay+avataror.dragging.h};avataror.originNw=function(){return{x:avataror.originX(),y:avataror.originY()}};avataror.originNe=function(){return{x:avataror.originBottomX(),y:avataror.originY()}};avataror.originSe=function(){return{x:avataror.originBottomX(),y:avataror.originBottomY()}};avataror.originSw=function(){return{x:avataror.originX(),y:avataror.originBottomY()}};avataror.nwHandler=function(dx,dy){var anchor=avataror.originSe();var tmpBase={x:avataror.originX()+dx,y:avataror.originY()+dy};var diffX=Math.abs(tmpBase.x-anchor.x),diffY=Math.abs(tmpBase.y-anchor.y);var newSize=Math.min(diffX,diffY);if(newSize<20){newSize=20}if(anchor.x-newSize<0){newSize=anchor.x}if(anchor.y-newSize<0){newSize=anchor.y}avataror.x=anchor.x-newSize;avataror.y=anchor.y-newSize;avataror.width=avataror.height=newSize};avataror.neHandler=function(dx,dy){var anchor=avataror.originSw();var tmpBase={x:avataror.originBottomX()+dx,y:avataror.originY()+dy};var diffX=Math.abs(tmpBase.x-anchor.x),diffY=Math.abs(tmpBase.y-anchor.y);var newSize=Math.min(diffX,diffY);if(newSize<20){newSize=20}if(anchor.x+newSize>avataror.imgwidth){newSize=avataror.imgwidth-anchor.x}if(anchor.y-newSize<0){newSize=anchor.y}avataror.y=anchor.y-newSize;avataror.width=avataror.height=newSize};avataror.seHandler=function(dx,dy){var anchor=avataror.originNw();var tmpBase={x:avataror.originBottomX()+dx,y:avataror.originBottomY()+dy};var diffX=Math.abs(tmpBase.x-anchor.x),diffY=Math.abs(tmpBase.y-anchor.y);var newSize=Math.min(diffX,diffY);if(newSize<20){newSize=20}if(anchor.x+newSize>avataror.imgwidth){newSize=avataror.imgwidth-anchor.x}if(anchor.y+newSize>avataror.imgheight){newSize=avataror.imgheight-anchor.y}avataror.width=avataror.height=newSize};avataror.swHandler=function(dx,dy){var anchor=avataror.originNe();var tmpBase={x:avataror.originX()+dx,y:avataror.originBottomY()+dy};var diffX=Math.abs(tmpBase.x-anchor.x),diffY=Math.abs(tmpBase.y-anchor.y);var newSize=Math.min(diffX,diffY);if(newSize<20){newSize=20}if(anchor.x-newSize<0){newSize=anchor.x}if(anchor.y+newSize>avataror.imgheight){newSize=avataror.imgheight-anchor.y}avataror.x=anchor.x-newSize;avataror.width=avataror.height=newSize};avataror.resizeHandlers=[avataror.nwHandler,avataror.neHandler,avataror.seHandler,avataror.swHandler]})};;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/Avatar.js' */
define("jira/ajs/avatarpicker/avatar",["jira/lib/class"],function(Class){return Class.extend({init:function(options){this._id=options.id;this._isSystemAvatar=options.isSystemAvatar;this._isSelected=options.isSelected;this._urls=options.urls},setUnSelected:function(){this._isSelected=false},setSelected:function(){this._isSelected=true},isSelected:function(){return !!this._isSelected},isSystemAvatar:function(){return this._isSystemAvatar},getId:function(){return this._id},getUrl:function(size){return this._urls[size]},toJSON:function(){return{id:this._id,isSystemAvatar:this._isSystemAvatar,isSelected:this._isSelected,urls:this._urls}}})});define("jira/ajs/avatarpicker/avatar-factory",["jira/ajs/avatarpicker/avatar","exports"],function(Avatar,exports){exports.createCustomAvatar=function createCustomAvatar(descriptor){descriptor.isSystemAvatar=false;return new Avatar(descriptor)};exports.createSystemAvatar=function createSystemAvatar(descriptor){descriptor.isSystemAvatar=true;return new Avatar(descriptor)}});define("jira/ajs/avatarpicker/avatar/sizes",["exports","jquery"],function(exports,jQuery){exports.getSizeObjectFromName=function(name){if("object"===typeof name){return name}var nameTrimmed="string"===typeof name?jQuery.trim(name):"";if(exports.LARGE.param===name){return exports.LARGE}else{if(exports.MEDIUM.param===name){return exports.MEDIUM}else{if(exports.SMALL.param===name){return exports.SMALL}else{if("xsmall"===name){return exports.SMALL}else{return exports.LARGE}}}}};exports.LARGE={param:"large",height:48,width:48};exports.MEDIUM={param:"medium",width:32,height:32};exports.SMALL={param:"small",width:16,height:16}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarManager.js' */
define("jira/ajs/avatarpicker/avatar-manager",["jira/util/formatter","jira/lib/class","wrm/context-path","jquery"],function(formatter,Class,wrmContextPath,jQuery){var contextPath=wrmContextPath();return Class.extend({init:function(options){this.store=options.store;this.ownerId=options.ownerId;this.username=options.username;this.anonymousAvatarId=options.anonymousAvatarId;this.avatarSrcBaseUrl=options.avatarSrcBaseUrl},selectAvatar:function(avatar,options){return this.store.selectAvatar(avatar,options)},getById:function(id){return this.store.getById(id)},destroy:function(avatar,options){this.store.destroy(avatar,options)},update:function(avatar,options){this.store.update(avatar,options)},add:function(avatar,options){this.store._add(avatar,options)},getAllSystemAvatars:function(){return this.store.getAllSystemAvatars()},getAllCustomAvatars:function(){return this.store.getAllCustomAvatars()},getSelectedAvatar:function(){return this.store.getSelectedAvatar()},getAllAvatars:function(){return this.store.getAllAvatars()},getAllAvatarsRenderData:function(size){var i,instance=this,avatars=this.getAllAvatars(),renderData={system:[],custom:[]};for(i=0;i<avatars.system.length;i++){renderData.system.push(instance.getAvatarRenderData(avatars.system[i],size))}for(i=0;i<avatars.custom.length;i++){renderData.custom.push(instance.getAvatarRenderData(avatars.custom[i],size))}return renderData},getAvatarRenderData:function(avatar,size){var data=avatar.toJSON();data.src=this.getAvatarSrc(avatar,size);data.width=size.width;data.height=size.height;return data},refreshStore:function(options){this.store.refresh(options)},getAvatarSrc:function(avatar,size){if(this.store.isTempAvatar(avatar)){return contextPath+"/secure/temporaryavatar?"+jQuery.param({cropped:true,magic:new Date().getTime(),size:size.param})}return avatar.getUrl(formatter.format("{0}x{1}",size.height,size.width))},createTemporaryAvatar:function(field,options){this.store.createTemporaryAvatar(field,options)},createAvatarFromTemporary:function(instructions,options){this.store.createAvatarFromTemporary(instructions,options)},getAnonymousAvatarId:function(){return this.anonymousAvatarId}})});define("jira/ajs/avatarpicker/avatar-manager-factory",["jira/ajs/avatarpicker/avatar-store","jira/ajs/avatarpicker/avatar-manager","wrm/context-path","exports"],function(AvatarStore,AvatarManager,wrmContextPath,exports){var contextPath=wrmContextPath();exports.createUniversalAvatarManager=function(options){var restQueryUrl,restUpdateUrl="",restCreateTempUrl="",restUpdateTempUrl="",restSingleAvatarUrl="";if(options.projectId){var urlAvatarOwnerPrefix=contextPath+"/rest/api/latest/universal_avatar/type/"+options.avatarType+"/owner/"+options.projectId;restQueryUrl=urlAvatarOwnerPrefix;var avatarCreateUrl=urlAvatarOwnerPrefix+"/avatar";restUpdateUrl=null;restCreateTempUrl=urlAvatarOwnerPrefix+"/temp";restUpdateTempUrl=avatarCreateUrl;restSingleAvatarUrl=avatarCreateUrl}else{restQueryUrl=contextPath+"/rest/api/latest/avatar/project/system";restCreateTempUrl=contextPath+"/rest/api/latest/avatar/project/temporary";restUpdateTempUrl=contextPath+"/rest/api/latest/avatar/project/temporaryCrop"}var store=new AvatarStore({restQueryUrl:restQueryUrl,restUpdateUrl:restUpdateUrl,restCreateTempUrl:restCreateTempUrl,restUpdateTempUrl:restUpdateTempUrl,restSingleAvatarUrl:restSingleAvatarUrl,defaultAvatarId:options.defaultAvatarId});return new AvatarManager({store:store,ownerId:options.projectId,avatarSrcBaseUrl:contextPath+"/secure/projectavatar"})};exports.createProjectAvatarManager=function(options){options.avatarType="project";return exports.createUniversalAvatarManager(options)};exports.createUserAvatarManager=function(options){var userRestUrl=contextPath+"/rest/api/latest/user";var store=new AvatarStore({restQueryUrl:userRestUrl+"/avatars",restUpdateUrl:userRestUrl+"/avatar",restCreateTempUrl:userRestUrl+"/avatar/temporary",restUpdateTempUrl:userRestUrl+"/avatar",restSingleAvatarUrl:userRestUrl+"/avatar",restParams:{"username":options.username},defaultAvatarId:options.defaultAvatarId});return new AvatarManager({store:store,username:options.username,avatarSrcBaseUrl:contextPath+"/secure/useravatar"})}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarStore.js' */
define("jira/ajs/avatarpicker/avatar-store",["jira/util/formatter","jira/ajs/avatarpicker/avatar-util","jira/ajs/avatarpicker/avatar-factory","jira/ajs/ajax/smart-ajax","jira/lib/class","jquery"],function(formatter,AvatarUtil,AvatarFactory,SmartAjax,Class,jQuery){return Class.extend({TEMP_ID:"TEMP",init:function(options){if(!options.restQueryUrl){throw new Error("JIRA.AvatarStore.init: You must specify [restQueryUrl], The rest url for querying avatars (see class description)")}if(!options.restCreateTempUrl){throw new Error("JIRA.AvatarStore.init: You must specify [restCreateTempUrl], The rest url for creating a temporary avatar (see class description)")}if(!options.restUpdateTempUrl){throw new Error("JIRA.AvatarStore.init: You must specify [restUpdateTempUrl], The rest url for updating a temporary avatar (see class description)")}if(!options.defaultAvatarId){throw new Error("JIRA.AvatarStore.init: You must specify [defaultAvatarId] to the contructor so the store "+"knows what to select if you delete the selected one")}this.restQueryUrl=options.restQueryUrl;this.restUpdateUrl=options.restUpdateUrl;this.restCreateTempUrl=options.restCreateTempUrl;this.restUpdateTempUrl=options.restUpdateTempUrl;this.restSingleAvatarUrl=options.restSingleAvatarUrl;this.restParams=options.restParams||{};this.restParams.atl_token=atl_token();this.defaultAvatarId=options.defaultAvatarId;this.avatars={system:[],custom:[]}},_buildCompleteUrl:function(url){var completeUrl=url;if(this.restParams){var queryParams="";for(var name in this.restParams){queryParams+=formatter.format("&{0}={1}",encodeURIComponent(name),encodeURIComponent(this.restParams[name]))}completeUrl+=("?"+queryParams.substr(1))}return completeUrl},getById:function(avatarId){var match;jQuery.each(this.avatars.system,function(i,avatar){if(this.getId()===avatarId){match=avatar;return false}});if(!match){jQuery.each(this.avatars.custom,function(i,avatar){if(this.getId()===avatarId){match=avatar;return false}})}return match},isTempAvatar:function(avatar){return(avatar.getId()===this.TEMP_ID)},_selectAvatar:function(avatar){var selected=this.getSelectedAvatar();if(selected){selected.setUnSelected()}avatar.setSelected()},selectAvatar:function(avatar,options){var instance=this;if(!avatar){throw new Error("JIRA.AvatarStore.selectAvatar: Cannot select Avatar that does not exist")}if(this.restUpdateUrl){SmartAjax.makeRequest({type:"PUT",contentType:"application/json",dataType:"json",url:this._buildCompleteUrl(this.restUpdateUrl),data:JSON.stringify(avatar.toJSON()),success:function(){instance._selectAvatar(avatar);if(options.success){options.success.call(this,avatar)}},error:options.error})}else{instance._selectAvatar(avatar);if(options.success){options.success.call(this,avatar)}}},_destory:function(avatar){var index=jQuery.inArray(avatar,this.avatars.custom);if(index!==-1){this.avatars.custom.splice(index,1)}else{throw new Error("JIRA.AvatarStore._destroy: Cannot remove avatar ["+avatar.getId()+"], "+"it might be a system avatar (readonly) or does not exist.")}},destroy:function(avatar,options){var instance=this;options=options||{};if(!avatar){throw new Error("JIRA.AvatarStore.destroy: Cannot delete Avatar that does not exist")}SmartAjax.makeRequest({type:"DELETE",url:this.getRestUrlForAvatar(avatar),success:function(){instance._destory(avatar);if(avatar.isSelected()){instance.selectAvatar(instance.getById(instance.defaultAvatarId),options)}else{if(options.success){options.success.apply(this,arguments)}}},error:options.error})},getSelectedAvatar:function(){for(var i=0;i<this.avatars.custom.length;i++){if(this.avatars.custom[i].isSelected()){return this.avatars.custom[i]}}for(i=0;i<this.avatars.system.length;i++){if(this.avatars.system[i].isSelected()){return this.avatars.system[i]}}},_update:function(avatar){var instance=this;if(this.getById(avatar.getId())){jQuery.each(this.avatars.custom,function(i){if(this.getId()===avatar.getId()){instance.avatars.custom[i]=avatar}})}else{throw new Error("JIRA.AvatarStore._update: Cannot update avatar ["+avatar.getId()+"], "+"it might be a system avatar (readonly) or does not exist.")}},update:function(avatar,options){var instance=this;options=options||{};SmartAjax.makeRequest({type:"PUT",url:this.getRestUrlForAvatar(avatar),error:options.error,success:function(){instance._update(avatar);if(options.success){options.success.apply(this,arguments)}}})},_add:function(avatar){if(avatar.isSystemAvatar()){this.avatars.system.push(avatar)}else{this.avatars.custom.push(avatar)}},createAvatarFromTemporary:function(instructions,options){var instance=this;options=options||{};if(this.restUpdateTempUrl){SmartAjax.makeRequest({type:"POST",url:this._buildCompleteUrl(this.restUpdateTempUrl),data:JSON.stringify(instructions),contentType:"application/json",dataType:"json",success:function(data){if(!data){data={id:instance.TEMP_ID,isSelected:true}}var avatar=AvatarFactory.createCustomAvatar(data);instance._add(avatar);if(options.success){options.success.call(this,data)}},error:options.error})}},createTemporaryAvatar:function(fileInput,options){options=jQuery.extend(true,{},options,{params:this.restParams});AvatarUtil.uploadTemporaryAvatar(this.restCreateTempUrl,fileInput,options)},_refresh:function(avatars){var instance=this;instance.avatars.system=[];instance.avatars.custom=[];if(avatars.system){jQuery.each(avatars.system,function(i,descriptor){instance.avatars.system.push(AvatarFactory.createSystemAvatar(descriptor))})}if(avatars.custom){jQuery.each(avatars.custom,function(i,descriptor){instance.avatars.custom.push(AvatarFactory.createCustomAvatar(descriptor))})}},refresh:function(options){var instance=this;var tempAvatar=this.getById(instance.TEMP_ID);options=options||{};SmartAjax.makeRequest({url:this._buildCompleteUrl(this.restQueryUrl),error:options.error,success:function(avatars){instance._refresh(avatars);if(tempAvatar){instance._add(tempAvatar)}if(options.success){options.success.apply(this,arguments)}}})},getAllAvatars:function(){return this.avatars},getAllSystemAvatars:function(){return this.avatars.system},getAllCustomAvatars:function(){return this.avatars.custom},getRestUrlForAvatar:function(avatar){return this._buildCompleteUrl(this.restSingleAvatarUrl+"/"+avatar.getId())}})});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarUtil.js' */
define("jira/ajs/avatarpicker/avatar-util",["jira/util/logger","jira/attachment/inline-attach","jquery"],function(logger,InlineAttach,jQuery){var AvatarUtil={uploadUsingIframeRemoting:function(url,field,options){options=options||{};var fileName=field.val(),form=new InlineAttach.Form(new InlineAttach.FileInput(field,false)),progress=form.addStaticProgress(fileName);var $oldInput=form.cloneFileInput();form.fileSelector.clear();var timer=new InlineAttach.Timer(function(){!this.cancelled&&progress.show()},this);var upload=new InlineAttach.FormUpload({$input:$oldInput,url:url,params:jQuery.extend({},options.params,{filename:fileName,atl_token:atl_token()}),scope:this,before:function(){!this.cancelled&&progress.start()},success:function(val,status){if(val.errorMessages&&val.errorMessages.length){form.addErrorWithFileName(val.errorMessages[0],fileName,AvatarUtil.getErrorTarget(form))}else{if(options.success){options.success(val,status)}}},error:function(text){logger.log(text);if(this.cancelled){return }if(text.indexOf("SecurityTokenMissing")>=0){form.addError(InlineAttach.Text.tr("upload.xsrf.timeout",fileName),AvatarUtil.getErrorTarget(form))}else{form.addError(InlineAttach.Text.tr("upload.error.unknown",fileName),AvatarUtil.getErrorTarget(form))}},after:function(){timer.cancel();progress.remove();if(!this.cancelled){form.enable()}}});progress.onCancel(function(){upload.abort()});upload.upload()},uploadUsingFileApi:function(url,field,options){var timer,upload,cancelled,file=field[0].files[0],form=new InlineAttach.Form(new InlineAttach.FileInput(field,false)),progress=form.addProgress(file);options=options||{};timer=new InlineAttach.Timer(function(){if(!cancelled){progress.show()}});upload=new InlineAttach.AjaxUpload({file:file,params:jQuery.extend({},options.params,{filename:file.name,size:file.size,atl_token:atl_token()}),scope:this,url:url,before:function(){field.hide();!cancelled&&progress.start()},progress:function(val){progress.progress.$progress.parent().parent().show();!cancelled&&progress.update(val)},success:function(val,status){if(cancelled){return }if(val.errorMessages&&val.errorMessages.length){form.addErrorWithFileName(val.errorMessages[0],file.name,AvatarUtil.getErrorTarget(form))}else{if(status===201){options.success(val,status)}}},error:function(text,status){if(status<0){form.addError(text,AvatarUtil.getErrorTarget(form))}else{form.addError(InlineAttach.Text.tr("upload.error.unknown",file.name),AvatarUtil.getErrorTarget(form))}if(options.error){options.error(text,status)}},after:function(){timer.cancel();progress.finish().remove();field.val("").show()}});upload.upload();progress.onCancel(function(){upload.abort()})},getErrorTarget:function(form){return{$element:form.$form.find(".error")}},uploadTemporaryAvatar:function(url,field,options){if(InlineAttach.AjaxPresenter.isSupported(field)){this.uploadUsingFileApi(url,field,options)}else{this.uploadUsingIframeRemoting(url,field,options)}}};return AvatarUtil});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarPicker.js' */
define("jira/ajs/avatarpicker/avatar-picker",["jira/util/logger","jira/util/formatter","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/ajax/smart-ajax","jira/dialog/dialog","jira/ajs/control","jquery"],function(logger,formatter,ImageEditor,SmartAjax,Dialog,Control,jQuery){return Control.extend({init:function(options){this.avatarManager=options.avatarManager;this.avatarRenderer=options.avatarRenderer;this.imageEditor=options.imageEditor;this.size=options.size;this.selectCallback=options.select;this.cropperDialog=null;this.initialSelection=options.initialSelection},render:function(ready){var instance=this;this.avatarManager.refreshStore({success:function(){if(instance.cropperDialog instanceof Dialog){instance.cropperDialog.hide();delete instance.cropperDialog}instance.element=jQuery('<div id="jira-avatar-picker" />');instance.element.html(JIRA.Templates.AvatarPicker.picker({avatars:instance.avatarManager.getAllAvatarsRenderData(instance.size)}));instance._assignEvents("selectAvatar",instance.element.find(".jira-avatar button"));instance._assignEvents("deleteAvatar",instance.element.find(".jira-delete-avatar"));instance._assignEvents("uploader",instance.element.find("#jira-avatar-uploader"));if(undefined!==instance.initialSelection){instance.getAvatarElById(instance.initialSelection).addClass("jira-selected-avatar")}ready(instance.element)},error:function(xhr,error,textStatus,smartAjaxResult){instance.appendErrorContent(instance.element,smartAjaxResult);ready(instance.element)}})},appendErrorContent:function(el,smartAjaxResult){try{var errors=JSON.parse(smartAjaxResult.data);if(errors&&errors.errorMessages){jQuery.each(errors.errorMessages,function(i,message){AJS.messages.error(el,{body:AJS.escapeHTML(message),closeable:false,shadowed:false})})}else{el.append(SmartAjax.buildDialogErrorContent(smartAjaxResult,true))}}catch(e){el.append(SmartAjax.buildDialogErrorContent(smartAjaxResult,true))}},uploadTempAvatar:function(field){var instance=this;this.avatarManager.createTemporaryAvatar(field,{success:function(data){if(data.id){instance.render(function(){instance.selectAvatar(data.id)})}else{field.val("");instance.cropperDialog=new Dialog({id:"project-avatar-cropper",width:560,content:function(ready){var $el=instance.imageEditor.render(data);function disableSubmitButton(){var $button=$el.find("input[type=submit]");var $loader=jQuery("<span class='icon throbber loading'></span>");$button.attr("aria-disabled","true").attr("disabled","");$button.before($loader);return function(){$loader.remove();$button.removeAttr("aria-disabled").removeAttr("disabled")}}instance.imageEditor.edit({confirm:function(instructions){var reEnableSubmit=disableSubmitButton();instance.avatarManager.createAvatarFromTemporary(instructions,{success:function(data){instance.render(function(){instance.selectAvatar(data.id)})},error:reEnableSubmit})}});$el.find(".cancel").click(function(){instance.cropperDialog.hide()});ready($el)}});instance.cropperDialog.bind("dialogContentReady",function(){jQuery(instance).trigger(ImageEditor.LOADED)});instance.cropperDialog.bind("Dialog.hide",function(){jQuery(instance).trigger(ImageEditor.DISMISSED)});instance.cropperDialog.show()}},error:function(){logger.log(arguments)}})},getAvatarElById:function(id){return this.element.find(".jira-avatar[data-id='"+id+"']")},selectAvatar:function(id){var avatar=this.avatarManager.getById(id);var instance=this;this.avatarManager.selectAvatar(this.avatarManager.getById(id),{error:function(){},success:function(){instance.getAvatarElById(id).remove();if(instance.selectCallback){instance.selectCallback.call(instance,avatar,instance.avatarManager.getAvatarSrc(avatar,instance.size))}}})},deleteAvatar:function(id){var instance=this;if(confirm("Are you sure you want to delete avatar?")){this.avatarManager.destroy(this.avatarManager.getById(id),{error:function(){},success:function(){var selectedAvatar=instance.avatarManager.getSelectedAvatar(),$avatar=instance.getAvatarElById(id);$avatar.fadeOut(function(){$avatar.remove()});if(selectedAvatar.getId()!==id){instance.getAvatarElById(selectedAvatar.getId()).addClass("jira-selected-avatar");instance.selectCallback.call(instance,selectedAvatar,instance.avatarManager.getAvatarSrc(selectedAvatar,instance.size),true)}}})}},_events:{uploader:{change:function(e,el){this.uploadTempAvatar(el)}},deleteAvatar:{click:function(e,el){this.deleteAvatar(el.attr("data-id"))}},selectAvatar:{click:function(e,el){if(el[0].id==="select-avatar-button"){this.selectAvatar(el.attr("data-id"))}}}}})});define("jira/ajs/avatarpicker/avatar-picker/image-editor",["jira/ajs/control","jquery"],function(Control,jQuery){var ImageEditor=Control.extend({render:function(data){this.element=jQuery('<div id="avatar-picker-image-editor"/>').html(JIRA.Templates.AvatarPicker.imageEditor(data));return this.element},edit:function(options){var instance=this,avator=this.element.find(".avataror");options=options||{};avator.unbind();avator.bind("AvatarImageLoaded",function(){if(options.ready){options.ready()}});avator.find("img").load(function(){avator.avataror({previewElement:instance.element.find(".jira-avatar-cropper-header"),parent:instance.element})});this.element.find("#avataror").submit(function(e){e.preventDefault();if(options.confirm){options.confirm({cropperOffsetX:jQuery("#avatar-offsetX").val(),cropperOffsetY:jQuery("#avatar-offsetY").val(),cropperWidth:jQuery("#avatar-width").val()})}}).find(".cancel").click(function(e){e.preventDefault();if(options.cancel){options.cancel()}})}});ImageEditor.LOADED="imageEditorLoaded";ImageEditor.DISMISSED="imageEditorDismissed";return ImageEditor});define("jira/ajs/avatarpicker/avatar-picker-factory",["jira/util/formatter","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/avatarpicker/avatar-manager","jira/ajs/avatarpicker/avatar-manager-factory","jira/ajs/avatarpicker/avatar","jira/ajs/avatarpicker/avatar/sizes","jira/dialog/form-dialog","wrm/context-path","wrm/data","jquery","exports"],function(formatter,AvatarPicker,ImageEditor,AvatarManager,AvatarManagerFactory,Avatar,AvatarSize,FormDialog,wrmContextPath,wrmData,jQuery,exports){exports.createUniversalAvatarPicker=function createUniversalAvatarPicker(options){return new AvatarPicker({avatarManager:AvatarManagerFactory.createUniversalAvatarManager({projectKey:options.projectKey,projectId:options.projectId,defaultAvatarId:options.defaultAvatarId,avatarType:options.avatarType}),initialSelection:options.initialSelection,imageEditor:new ImageEditor(),size:options.hasOwnProperty("avatarSize")?options.avatarSize:AvatarSize.LARGE,select:options.select})};exports.createProjectAvatarPicker=function createProjectAvatarPicker(options){return new AvatarPicker({avatarManager:AvatarManagerFactory.createProjectAvatarManager({projectKey:options.projectKey,projectId:options.projectId,defaultAvatarId:options.defaultAvatarId}),imageEditor:new ImageEditor(),size:AvatarSize.LARGE,select:options.select})};exports.createUserAvatarPicker=function createUserAvatarPicker(options){return new AvatarPicker({avatarManager:AvatarManagerFactory.createUserAvatarManager({username:options.username,defaultAvatarId:options.defaultAvatarId}),imageEditor:new ImageEditor(),size:AvatarSize.LARGE,select:options.select})};exports.createUniversalAvatarPickerDialog=function createUniversalAvatarPickerDialog(options){var lastSelection=options.initialSelection||options.defaultAvatarId;var projectAvatarDialog=new FormDialog({trigger:options.trigger,id:"project-avatar-picker",width:600,stacked:true,content:function(ready){var avatarPicker,$dialogWrapper;$dialogWrapper=jQuery('<div id="projectavatar-content-wrapper"/>');jQuery("<h2 />").text(options.title||"Select a Project Avatar").appendTo($dialogWrapper);avatarPicker=exports.createUniversalAvatarPicker({projectKey:options.projectKey,projectId:options.projectId,defaultAvatarId:options.defaultAvatarId,initialSelection:lastSelection,avatarType:options.avatarType,avatarSize:options.avatarSize,select:function(avatar,src,implicit){lastSelection=String(avatar.getId());if(options.select){options.select.apply(this,arguments)}if(!implicit){projectAvatarDialog.hide()}}});avatarPicker.render(function(content){$dialogWrapper.append(content);ready($dialogWrapper)})}});projectAvatarDialog._focusFirstField=function(){}};exports.createProjectAvatarPickerDialog=function createProjectAvatarPickerDialog(options){var projectAvatarDialog=new FormDialog({trigger:options.trigger,id:"project-avatar-picker",width:600,stacked:true,content:function(ready){var avatarPicker,$dialogWrapper;$dialogWrapper=jQuery('<div id="projectavatar-content-wrapper"/>');jQuery("<h2 />").text("Select a Project Avatar").appendTo($dialogWrapper);avatarPicker=exports.createProjectAvatarPicker({projectKey:options.projectKey,projectId:options.projectId,defaultAvatarId:options.defaultAvatarId,select:function(avatar,src,implicit){if(options.select){options.select.apply(this,arguments)}if(!implicit){projectAvatarDialog.hide()}}});avatarPicker.render(function(content){$dialogWrapper.append(content);ready($dialogWrapper)})}});projectAvatarDialog._focusFirstField=function(){}};var avatarPickerData=wrmData.claim("jira.webresources:avatar-picker.data");exports.createUserAvatarPickerDialog=function createUserAvatarPickerDialog(options){if(avatarPickerData&&avatarPickerData.isEnabled){jQuery(options.trigger).click(function(e){var href=wrmContextPath()+avatarPickerData.url;var separator=href.indexOf("?")>-1?"&":"?";href+=separator+"continue="+encodeURIComponent(window.location.href);e.preventDefault();e.stopPropagation();AJS.reloadViaWindowLocation(href)});return }var userAvatarDialog=new FormDialog({trigger:options.trigger,id:"user-avatar-picker",width:600,stacked:true,content:function(ready){var avatarPicker,$dialogWrapper;$dialogWrapper=jQuery('<div id="useravatar-content-wrapper"/>');jQuery("<h2 />").text("Select a User Avatar").appendTo($dialogWrapper);avatarPicker=exports.createUserAvatarPicker({username:options.username,defaultAvatarId:options.defaultAvatarId,select:function(avatar,src,implicit){if(options.select){options.select.apply(this,arguments)}jQuery(".avatar-image").attr("src",src);if(!implicit){userAvatarDialog.hide()}}});avatarPicker.render(function(content){$dialogWrapper.append(content);ready($dialogWrapper)})}})}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/GravatarUtil.js' */
define("jira/ajs/avatarpicker/gravatar-util",["jquery","exports"],function(jQuery,exports){exports.showGravatarHelp=function showGravatarHelp(data){if(typeof (data)!=="undefined"&&typeof (data.entry)!=="undefined"){jQuery(".gravatar-signup-text").addClass("hidden");jQuery(".gravatar-login-text").removeClass("hidden")}};exports.displayGravatarHelp=function displayGravatarHelp(){var gravatarJsonUrl=jQuery("#gravatar_json_url");if(gravatarJsonUrl.length){jQuery.ajax(gravatarJsonUrl.val(),{dataType:"jsonp",success:exports.showGravatarHelp})}}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/initAvatarPicker.js' */
(function(){var $=require("jquery");var sizes=require("jira/ajs/avatarpicker/avatar/sizes");var AvatarFactory=require("jira/ajs/avatarpicker/avatar-factory");var AvatarManagerFactory=require("jira/ajs/avatarpicker/avatar-manager-factory");var AvatarPickerFactory=require("jira/ajs/avatarpicker/avatar-picker-factory");var GravatarUtil=require("jira/ajs/avatarpicker/gravatar-util");AJS.namespace("JIRA.Avatar",null,require("jira/ajs/avatarpicker/avatar"));AJS.namespace("JIRA.Avatar.createCustomAvatar",null,AvatarFactory.createCustomAvatar);AJS.namespace("JIRA.Avatar.createSystemAvatar",null,AvatarFactory.createSystemAvatar);AJS.namespace("JIRA.Avatar.getSizeObjectFromName",null,sizes.getSizeObjectFromName);AJS.namespace("JIRA.Avatar.LARGE",null,sizes.LARGE);AJS.namespace("JIRA.Avatar.MEDIUM",null,sizes.MEDIUM);AJS.namespace("JIRA.Avatar.SMALL",null,sizes.SMALL);AJS.namespace("JIRA.AvatarManager",null,require("jira/ajs/avatarpicker/avatar-manager"));AJS.namespace("JIRA.AvatarManager.createUniversalAvatarManager",null,AvatarManagerFactory.createUniversalAvatarManager);AJS.namespace("JIRA.AvatarManager.createProjectAvatarManager",null,AvatarManagerFactory.createProjectAvatarManager);AJS.namespace("JIRA.AvatarManager.createUserAvatarManager",null,AvatarManagerFactory.createUserAvatarManager);AJS.namespace("JIRA.AvatarPicker",null,require("jira/ajs/avatarpicker/avatar-picker"));AJS.namespace("JIRA.AvatarPicker.ImageEditor",null,require("jira/ajs/avatarpicker/avatar-picker/image-editor"));AJS.namespace("JIRA.AvatarPicker.createUniversalAvatarPicker",null,AvatarPickerFactory.createUniversalAvatarPicker);AJS.namespace("JIRA.AvatarPicker.createProjectAvatarPicker",null,AvatarPickerFactory.createProjectAvatarPicker);AJS.namespace("JIRA.AvatarPicker.createUserAvatarPicker",null,AvatarPickerFactory.createUserAvatarPicker);AJS.namespace("JIRA.createUniversalAvatarPickerDialog",null,AvatarPickerFactory.createUniversalAvatarPickerDialog);AJS.namespace("JIRA.createProjectAvatarPickerDialog",null,AvatarPickerFactory.createProjectAvatarPickerDialog);AJS.namespace("JIRA.createUserAvatarPickerDialog",null,AvatarPickerFactory.createUserAvatarPickerDialog);AJS.namespace("JIRA.AvatarStore",null,require("jira/ajs/avatarpicker/avatar-store"));AJS.namespace("JIRA.AvatarUtil",null,require("jira/ajs/avatarpicker/avatar-util"));AJS.namespace("JIRA.GravatarUtil.showGravatarHelp",null,GravatarUtil.showGravatarHelp);$(function initAllAvatarPickerBehaviour(){AvatarPickerFactory.createUserAvatarPickerDialog({trigger:"#user_avatar_image",username:$("#avatar-owner-id").text(),defaultAvatarId:$("#default-avatar-id").text()});if($("#gravatar_help_params")){GravatarUtil.displayGravatarHelp()}})})();;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarPicker.soy' */
// This file was automatically generated from AvatarPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.AvatarPicker.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.AvatarPicker == 'undefined') { JIRA.Templates.AvatarPicker = {}; }


JIRA.Templates.AvatarPicker.picker = function(opt_data, opt_ignored) {
  var output = '<form class="jira-avatar-upload-form aui top-label" action="#"><input name="id" value="10000" type="hidden" ><input name="pid" value="10000" type="hidden" ><div class="field-group"><label for="jira-avatar-uploader">' + soy.$$escapeHtml("Upload a new avatar") + '</label><input type="file" class="ignore-inline-attach" name="avatar" id="jira-avatar-uploader"/><div class="error"></div></div></form><div class="form-body"><ul class="jira-avatars">';
  var avatarList6 = opt_data.avatars.system;
  var avatarListLen6 = avatarList6.length;
  for (var avatarIndex6 = 0; avatarIndex6 < avatarListLen6; avatarIndex6++) {
    var avatarData6 = avatarList6[avatarIndex6];
    output += '<li class="jira-avatar jira-system-avatar ' + ((avatarData6.isSelected) ? 'jira-selected-avatar' : '') + '" title="Select this Avatar" data-id="' + soy.$$escapeHtml(avatarData6.id) + '"><button id="select-avatar-button" data-id="' + soy.$$escapeHtml(avatarData6.id) + '" class="jira-icon-button" title="' + soy.$$escapeHtml("Select this Avatar") + '"><img id="avatar-' + soy.$$escapeHtml(avatarData6.id) + '" src="' + soy.$$escapeHtml(avatarData6.src) + '" width="' + soy.$$escapeHtml(avatarData6.width) + '" height="' + soy.$$escapeHtml(avatarData6.height) + '" alt="' + soy.$$escapeHtml("Select this Avatar") + '"/></button></li>';
  }
  var avatarList29 = opt_data.avatars.custom;
  var avatarListLen29 = avatarList29.length;
  for (var avatarIndex29 = 0; avatarIndex29 < avatarListLen29; avatarIndex29++) {
    var avatarData29 = avatarList29[avatarIndex29];
    output += '<li class="jira-avatar jira-custom-avatar ' + ((avatarData29.isSelected) ? 'jira-selected-avatar' : '') + '" title="Select this avatar" data-id="' + soy.$$escapeHtml(avatarData29.id) + '"><button id="select-avatar-button" data-id="' + soy.$$escapeHtml(avatarData29.id) + '" class="jira-icon-button" title="' + soy.$$escapeHtml("Select this Avatar") + '"><img id="avatar-' + soy.$$escapeHtml(avatarData29.id) + '" src="' + soy.$$escapeHtml(avatarData29.src) + '" width="' + soy.$$escapeHtml(avatarData29.width) + '" height="' + soy.$$escapeHtml(avatarData29.height) + '" alt="' + soy.$$escapeHtml("Select this Avatar") + '" /></span><button class="jira-delete-avatar jira-icon-button" data-id="' + soy.$$escapeHtml(avatarData29.id) + '" title="' + soy.$$escapeHtml("Delete this Avatar") + '">' + soy.$$escapeHtml("Delete this Avatar") + '</button></li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.AvatarPicker.picker.soyTemplateName = 'JIRA.Templates.AvatarPicker.picker';
}


JIRA.Templates.AvatarPicker.imageEditor = function(opt_data, opt_ignored) {
  return '<form id="avataror" class="jira-avatar-cropper-form aui" action="/jira/secure/project/AvatarPicker.jspa"><input type="hidden" name="cropperOffsetX" id="avatar-offsetX" value="' + soy.$$escapeHtml(opt_data.cropperOffsetX) + '"><input type="hidden" name="cropperOffsetY" id="avatar-offsetY" value="' + soy.$$escapeHtml(opt_data.cropperOffsetY) + '"><input type="hidden" name="cropperWidth" id="avatar-width"  value="' + soy.$$escapeHtml(opt_data.cropperWidth) + '"><div class="jira-avatar-cropper-header"><p>' + soy.$$escapeHtml("Please select which part of the uploaded image you wish to use as the avatar.") + '</p></div><div class="form-body"><div class="avataror"><img src="' + soy.$$escapeHtml(opt_data.url) + '" height="300" /></div></div><div class="form-footer buttons-container"><div class="buttons"><input type="submit" class="aui-button aui-button-primary" value="' + soy.$$escapeHtml("Confirm") + '"><a class="aui-button aui-button-link cancel" href="#">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.AvatarPicker.imageEditor.soyTemplateName = 'JIRA.Templates.AvatarPicker.imageEditor';
}
;
;
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/initAvatarPickerTrigger.js' */
define("jira/admin/init/avatar-picker-trigger",["jira/ajs/layer/layer-constants","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/ajs/layer/inline-layer","jira/ajs/contentretriever/content-retriever","jira/ajs/avatarpicker/avatar","jira/ajs/avatarpicker/avatar-picker-factory","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jquery"],function(LayerConstants,Events,Types,Reasons,InlineLayer,ContentRetriever,Avatar,AvatarPickerFactory,AvatarPicker,ImageEditor,jQuery){var AvatarPickerContentRetriever=ContentRetriever.extend({init:function(avatarPicker){this.avatarPicker=avatarPicker},content:function(finished){this.avatarPicker.render(function(el){finished(jQuery("<div />").html(el))})},cache:function(){return false},isLocked:function(){},startingRequest:function(){},finishedRequest:function(){}});var InlineAvatarPicker=InlineLayer.extend({init:function(options){var instance=this;this.avatarPicker=AvatarPicker.createProjectAvatarPicker({projectId:options.projectId,projectKey:options.projectKey,defaultAvatarId:options.defaultAvatarId,select:function(avatar,src,implicit){if(options.select){options.select.apply(this,arguments)}if(!implicit){instance.hide()}instance.offsetTarget().attr("src",src);instance.offsetTarget().trigger("AvatarSelected")}});options.contentRetriever=new AvatarPickerContentRetriever(this.avatarPicker);jQuery(this.avatarPicker.imageEditor).bind(ImageEditor.LOADED,function(){instance.setWidth(instance.layer().attr("scrollWidth"))});this._super(options);var $triggerImg=this.offsetTarget();var $triggerContainer=jQuery("<span class='jira-avatar-picker-trigger'></span>");$triggerContainer.insertBefore($triggerImg).append($triggerImg);this._assignEvents("offsetTarget",$triggerContainer)},_events:{offsetTarget:{click:function(e){this.show()}}}});function initProjectAvatarPicker(ctx){var trigger=jQuery(".jira-avatar-picker-trigger");var triggerImg=jQuery(".jira-avatar-picker-trigger img, img.jira-avatar-picker-trigger",ctx);var avatarIdField=jQuery(ctx).find("#avatar-picker-avatar-id");var avatarIconurlField=jQuery(ctx).find("#avatar-picker-iconurl");var avatarTypeElement=jQuery(ctx).find("#avatar-type");if(""===avatarTypeElement.text()){return }AvatarPickerFactory.createUniversalAvatarPickerDialog({trigger:trigger,title:jQuery(ctx).find("#avatar-dialog-title").text(),projectId:jQuery(ctx).find("#avatar-owner-id").text(),projectKey:jQuery(ctx).find("#avatar-owner-key").text(),defaultAvatarId:jQuery(ctx).find("#default-avatar-id").text(),initialSelection:avatarIdField.val(),avatarSize:Avatar.getSizeObjectFromName(jQuery(ctx).find("#avatar-size").text()),avatarType:avatarTypeElement.text(),select:function(avatar,src){triggerImg.attr("src",src);avatarIconurlField.val(src);avatarIdField.val(avatar.getId())}})}function initProjectInlineAvatarPicker(ctx){var $triggerImg=jQuery(".jira-inline-avatar-picker-trigger",ctx);if($triggerImg.length){new InlineAvatarPicker({offsetTarget:$triggerImg,projectId:jQuery(ctx).find("#avatar-owner-id").text(),projectKey:jQuery(ctx).find("#avatar-owner-key").text(),defaultAvatarId:jQuery(ctx).find("#default-avatar-id").text(),alignment:LayerConstants.LEFT,width:420,allowDownsize:true})}}Events.bind(Types.NEW_CONTENT_ADDED,function(e,context,reason){if(reason!==Reasons.panelRefreshed){initProjectAvatarPicker(context);initProjectInlineAvatarPicker(context)}})});;
;
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/init/init-avatar-picker.js' */
require("jira/admin/init/avatar-picker-trigger");;
;
/* module-key = 'jira.webresources:croneditor', location = '/includes/js/cron/croneditor.js' */
define("jira/util/cron",["exports"],function(exports){exports.hideCronEdit=function(elementid){document.getElementById(elementid).style.display="none"};exports.showCronEdit=function(elementid){document.getElementById(elementid).style.display=""};exports.toggleFrequencyControl=function(paramPrefix,setOriginal){var select=document.getElementById(paramPrefix+"interval");if(select.value==0){switchToOnce(paramPrefix,setOriginal)}else{switchToMany(paramPrefix,setOriginal)}};exports.switchToOnce=function(paramPrefix,setOriginal){hideCronEdit(paramPrefix+"runMany");showCronEdit(paramPrefix+"runOnce");if(setOriginal){timesOnce[paramPrefix]=true}};exports.switchToMany=function(paramPrefix,setOriginal){hideCronEdit(paramPrefix+"runOnce");showCronEdit(paramPrefix+"runMany");if(setOriginal){timesOnce[paramPrefix]=false}};exports.switchToDaysOfMonth=function(paramPrefix){hideCronEdit(paramPrefix+"daysOfWeek");showCronEdit(paramPrefix+"daysOfMonth");showCronEdit(paramPrefix+"freqDiv");hideCronEdit(paramPrefix+"innerFreqDiv");hideCronEdit(paramPrefix+"advanced");switchToOnce(paramPrefix,false)};exports.switchToDaysOfWeek=function(paramPrefix){showCronEdit(paramPrefix+"daysOfWeek");hideCronEdit(paramPrefix+"daysOfMonth");showCronEdit(paramPrefix+"freqDiv");showCronEdit(paramPrefix+"innerFreqDiv");hideCronEdit(paramPrefix+"advanced");switchToOriginal(paramPrefix)};exports.switchToDaily=function(paramPrefix){hideCronEdit(paramPrefix+"daysOfWeek");hideCronEdit(paramPrefix+"daysOfMonth");showCronEdit(paramPrefix+"freqDiv");showCronEdit(paramPrefix+"innerFreqDiv");hideCronEdit(paramPrefix+"advanced");switchToOriginal(paramPrefix)};exports.switchToAdvanced=function(paramPrefix){hideCronEdit(paramPrefix+"daysOfWeek");hideCronEdit(paramPrefix+"daysOfMonth");hideCronEdit(paramPrefix+"runOnce");hideCronEdit(paramPrefix+"runMany");hideCronEdit(paramPrefix+"freqDiv");showCronEdit(paramPrefix+"advanced")};exports.switchToOriginal=function(paramPrefix){if(timesOnce[paramPrefix]){switchToOnce(paramPrefix,false)}else{switchToMany(paramPrefix,false)}}});AJS.namespace("hideCronEdit",null,require("jira/util/cron").hideCronEdit);AJS.namespace("showCronEdit",null,require("jira/util/cron").showCronEdit);AJS.namespace("toggleFrequencyControl",null,require("jira/util/cron").toggleFrequencyControl);AJS.namespace("switchToOnce",null,require("jira/util/cron").switchToOnce);AJS.namespace("switchToMany",null,require("jira/util/cron").switchToMany);AJS.namespace("switchToDaysOfMonth",null,require("jira/util/cron").switchToDaysOfMonth);AJS.namespace("switchToDaysOfWeek",null,require("jira/util/cron").switchToDaysOfWeek);AJS.namespace("switchToDaily",null,require("jira/util/cron").switchToDaily);AJS.namespace("switchToAdvanced",null,require("jira/util/cron").switchToAdvanced);AJS.namespace("switchToOriginal",null,require("jira/util/cron").switchToOriginal);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:loading-indicator', location = 'js/util/loading-indicator.js' */
define("quick-edit/util/loading-indicator",["jira/loading/loading","jira/flag"],function(b,d){var c=AJS.dim;var a=AJS.undim;return{showLoadingIndicator:function(){c();b.showLoadingIndicator()},hideLoadingIndicator:function(e){a();b.hideLoadingIndicator();if(e){d.showErrorMsg(null,"The JIRA server could not be contacted. This may be a temporary glitch or the server may be down.")}}}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue-bootstrap', location = 'js/init/create-bootstrap-wrm.js' */
require(["jquery","underscore","wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"],function(l,k,h,i,b){var f=function(){b.disable();i.showLoadingIndicator()};var c=function(){i.hideLoadingIndicator(true);b.enable()};var g;var a=false;l(document).on("simpleClick",".create-issue, .create-issue-type",function(o){o.preventDefault();if(!a){a=true;f();var n="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue";var m=h([n]);m.then(d.bind(undefined,o),function p(){c();a=false})}});var d=function(n){var m=require("quick-edit/init/create");m.initIssueDialog(n);b.enable();a=false};l(function(){g=document.getElementById("stqc_show");if(g){g.onclick=null}});var j=false;l(document).on("simpleClick",".issueaction-create-subtask",function(o){o.preventDefault();if(!j){j=true;f();var n="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue";var m=h([n]);m.then(e,function p(){c();j=false})}});var e=function(n){var m=require("quick-edit/init/create");m.initSubtaskDialog(n);b.enable();j=false}});;
;
/* module-key = 'jira.webresources:jira-page-atl-prefetch', location = '/includes/jira/page/prefetch.js' */
define("jira/page/atl/prefetch",["jira/util/data/meta","jira/data/local-storage","jira/ajs/dark-features","jquery","wrm/context-path"],function definePrefetchResource(meta,storage,darkFeatures,jQuery,wrmContextPath){var SESSION_KEY="jira.issue.prefetch.last.superbatch";var stateToken=_getStateToken();function _getStateToken(){var now=new Date();var dateStr=now.getFullYear().toString()+now.getMonth().toString()+now.getDate().toString();var superbatch=jQuery("head > script").filter(function findSuperbatch(a,b){return b.src.indexOf("/_super")>0});return(superbatch.length>0?superbatch[0].src:"empty")+dateStr}function _addPrefetchTag(url){jQuery("<link />",{rel:"prefetch",href:url}).appendTo("head")}function _getLastIssueFromMenu(issueMenuData){var sections=issueMenuData.sections;if(!sections){return }var recentIssues=sections.filter(function filterMenu(menuItem){return menuItem.id==="issues_history_main"});if(recentIssues.length&&recentIssues[0].items.length!==0){var lastIssue=recentIssues[0].items[0];return lastIssue.url}}function _addPrefetchForRegex(response,regex){var matchResult;while(matchResult=regex.exec(response)){var url=matchResult[1].replace(/&amp;/g,"&");_addPrefetchTag(url)}}function _rememberFetchState(){storage.setItem(SESSION_KEY,stateToken)}function _parsePageAndInsertLinks(data){_addPrefetchForRegex(data,/<script.+?src="(.+?)".+?<\/script>/g);_addPrefetchForRegex(data,/<link.+?rel="stylesheet".+?href="(.+?)".+?>/g);_rememberFetchState()}function _shouldFetchResources(){if(!darkFeatures.isEnabled("jira.issue.prefetch")){return false}if(jQuery("#isNavigator").length===1){_rememberFetchState();return false}else{if(meta.get("issue-key")){_rememberFetchState();return false}else{return stateToken!==storage.getItem(SESSION_KEY)}}}function _prefetchResourcesForLastIssue(data){var issueUrl=_getLastIssueFromMenu(data);if(issueUrl){prefetchResourcesForUrl(issueUrl)}}function prefetchResourcesForUrl(url){jQuery.get(url,_parsePageAndInsertLinks)}function prefetchViewIssueResources(){if(_shouldFetchResources()){jQuery.ajax({url:wrmContextPath()+"/rest/api/1.0/menus/find_link?inAdminMode=false",dataType:"json"}).done(_prefetchResourcesForLastIssue)}}return{prefetchResourcesForUrl:prefetchResourcesForUrl,prefetchViewIssueResources:prefetchViewIssueResources}});;
;
/* module-key = 'jira.webresources:init-jira-page-atl-prefetch', location = '/includes/jira/page/initPrefetch.js' */
require(["jira/page/atl/prefetch","jquery"],function executePrefetch(resourcePrefetch,$){$(window).on("load",resourcePrefetch.prefetchViewIssueResources.bind(resourcePrefetch))});;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-aboutus', location = 'includes/js/zephyr/zaboutus.js' */
var isLoadedInIframe=function(){try{return(window!==window.parent)}catch(a){return false}};var InitPageContent=function(a){if(isLoadedInIframe()){AJS.$(window).load(function(){a()})}else{AJS.$(document).ready(function(){a()})}};InitPageContent(function(){var a=function(){var b=this,c=new JIRA.FormDialog({id:"show-about-dialog",width:"640",content:function(l){var j="About Zephyr";var g="Zephyr for JIRA";var m="Customer ID ";var d="Support Entitlement Number (SEN)";var k="ZAPI for JIRA";var i="Zephyr Test Management";var h="All Rights Reserved";var e="Credits";var f="<h1 class='dialog-title'>"+j+"</h1><div class='aui-dialog-content'>	<br/>	<div style='width:600px;background: transparent url(\""+contextPath+"/download/resources/com.thed.zephyr.je/images/icons/140x40zephyrlogo.png\") scroll no-repeat left center ; margin-left:10px;' class='aui' id='create-about-dialog'>		<h2 class='dialog-title' style='align:left; margin-left:175px'>"+g+" <small><span id='zfjVersion'></span></small></h2>		<ul style='align:left; margin-left:175px; padding:0 0 0 0'>			<b>"+m+": </b><span id='zCustomerId'></span>			<br/>            <small><b>"+d+": </b><span id='sen'></span></small>			<br/>			<span id='zLicnese'></span>            <span id='zapiLicSection' style='display: none'>			<hr/>            <h3 class='dialog-title' style='font-weight: normal;margin-top: -0px;'>"+k+" <small><span id='zapiVersion'></span></small></h3>                <small><b>"+d+": </b><span id='zapiSEN'></span></small>			    <br/>            </span>			<span id='zapiLicnese'></span>		</ul>		<ul style='margin-left:175px; padding:5px 0 0 0; font-size:0.7em'>			&copy; 2011-2017. <a href='http://www.getzephyr.com'>"+i+"</a>. "+h+".			<a id='zcredits' href=''>"+e+"</a>		</ul>	</div>	<br/></div>";l(f)},submitHandler:function(d){d.preventDefault()}});c.show();AJS.$("#zcredits").live("click",function(d){d.preventDefault();c.hide();ZEPHYR.About.createCreditDialog()});ZEPHYR.About.fetchLicense("/rest/zephyr/latest/license").success(function(d){AJS.$("#zCustomerId").html(d.customerId);AJS.$("#sen").text(d.SEN||"");AJS.$("#zLicnese").html(d.licenseInformation);AJS.$("#zfjVersion").html(d.version)});ZEPHYR.About.fetchLicense("/rest/zfjapi/latest/zapi").success(function(d){AJS.$("#zapiSEN").text(d.SEN||"");AJS.$("#zapiLicnese").html(d.licenseInformation);AJS.$("#zapiVersion").html(d.version);AJS.$("#zapiLicSection").show()}).error(function(d){AJS.log("ZAPI not found")})};AJS.$("a[id^='add-about']").live("click",function(b){window.isAboutZephyrClicked=true;b.preventDefault();a()})});AJS.$.namespace("ZEPHYR.About");ZEPHYR.About.fetchLicense=function(a){return AJS.$.get(contextPath+a)};ZEPHYR.About.createCreditDialog=function(){var a=new JIRA.FormDialog({id:"show-zcredits-dialog",content:function(e){var d="About Zephyr";var c="is brought to you by";var b="<h1 class='dialog-title'> "+d+" </h1><div class='aui-dialog-content' style='overflow-y:auto;height:400px;align:left; margin-left:100px; padding:0 0 0 0'>"+c+"<p/>	<br/>	Anil Kumar <br/>	Anu Kumari <br/>	Asharani Kambegowda <br/>	Bhanjan Gouda <br/>	Chris Miller <br/>	Deepa Esturi <br/>	Emily Schneider <br/>	Francis Adanza <br/>	Govind Drolia <br/>	Issam Bandak <br/>	Karthik Raman <br/>	Kavana Padmaraj <br/>	Kavya Bavikatti <br/>	Kiran Malla <br/>	Manoj Behera <br/>	Maura Ramil <br/>	Mukul Sharma <br/>	Nirav Shah <br/>	Nitesh Singh <br/>	Preethi Balasubramanian <br/>	Priyanka Bishi <br/>	Ritu Gandhi <br/>	Roopa Sharma <br/>	Samir Shah <br/>	Sanjay Zalavadia <br/>	Sanjeev Pande <br/>	Shailesh Mangal <br/>	Sharmila Namani <br/>	Veera Budideti <br/>	Vidhyavathi Sudhakar <p/>	and 64 lbs of coffee! <br/></div>";e(b)},submitHandler:function(b){b.preventDefault()}});a.show()};ZEPHYR.About.evalMessage=function(d,b,e){var c="<div class='zfjEvalLic aui-message info' style='margin:10px 10px 10px 10px;'></div>";ZEPHYR.About.fetchLicense("/rest/zephyr/latest/license").success(function(j){if(j.isEval==="true"){var g=new Date();var h=new Date(j.expDate);var f;if(h>=g){f=AJS.format("This license will expire on {0}. ",j.expDateFormatted)}else{f=AJS.format("This license has expired on {0}. ",j.expDateFormatted)}f+=AJS.format("Do you like Zephyr for JIRA? Please consider {0}buying it{1} today.","<a href='https://marketplace.atlassian.com/plugins/com.thed.zephyr.je'>","</a>");var i="<div class='title'>	<span class='aui-icon icon-info'></span>	<strong>"+"Evaluation license."+"</strong></div> <small>"+f+"</small>";console.log(i);AJS.$(".zfjEvalLic").html(i);if(e){e()}}else{AJS.$(".zfjEvalLic").remove()}});if(!b&&!d&&!e){return c}else{if(b){b.append(c)}else{d=d||{selector:this,position:"after"};var a=d.position||"after";AJS.$(d.selector)[a](c)}}};;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-common', location = 'includes/js/zephyr/zephyr_common.js' */
if(typeof ZEPHYR=="undefined"){var ZEPHYR={}}AJS.$.namespace("ZEPHYR.Issue");if(typeof ZEPHYR.Schedule=="undefined"){ZEPHYR.Schedule={}}AJS.$.namespace("ZEPHYR.Schedule.Execute");AJS.$.namespace("ZEPHYR.Schedule.Execution");AJS.$.namespace("ZEPHYR.ZQL.ZQLSearch");AJS.$.namespace("ZEPHYR.ZQL.Project");AJS.$.namespace("ZEPHYR.Dialogs");if(typeof ZEPHYR.globalVars=="undefined"){ZEPHYR.globalVars={unloaded:false}}ZEPHYR.serializeObject=jQuery.fn.serializeObject;window.addEventListener("beforeunload",function(){ZEPHYR.globalVars.unloaded=true},false);var isLoadedInIframe=function(){try{return(window!==window.parent)}catch(a){return false}};var InitPageContent=function(a){if(isLoadedInIframe()){AJS.$(window).load(function(){a()})}else{AJS.$(document).ready(function(){a()})}};InitPageContent(function(){new JIRA.FormDialog({id:"viewissue-add-cycle",trigger:"a.add-cycle-dialog",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){new JIRA.FormDialog({id:"zephyr-je-assign-schedule",trigger:"a.enav-assign-user-schedule",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){new JIRA.FormDialog({id:"zephyr-je-add-execute",trigger:"a.viewissue-add-execute",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){new JIRA.FormDialog({id:"zephyr-attach-file-dialog",trigger:"a.zephyr-file-dialog",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){new JIRA.FormDialog({id:"delete-attachment-dialog",trigger:"a.delete-execute-attachment",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){var a=0;removeRapidView=function(){if(GH&&GH.DetailsView&&GH.DetailsView.rapidViewConfig&&!GH.DetailsView.rapidViewConfig.sprintSupportEnabled){if(AJS.$('[id^="zephyr-je.test.board.tool.section-button"]').length){clearInterval(a);AJS.$('[id^="zephyr-je.test.board.tool.section-button"]').remove()}}else{clearInterval(a)}};a=setInterval(function(){removeRapidView()},1000)});ZEPHYR.Loading={showLoadingIndicator:function(){if(this.get$loadingIndicator().css("display")=="block"){return}var b=440,c=0,a=this;clearInterval(this.loadingTimer);this.get$loadingIndicator().show();this.get$zfjAuiBlanket().show();this.loadingTimer=window.setInterval(function(){if(c===b){c=0}c=c+40;a.get$loadingIndicator().css("backgroundPosition","0 -"+c+"px")},50)},hideLoadingIndicator:function(){clearInterval(this.loadingTimer);this.get$loadingIndicator().hide();this.get$zfjAuiBlanket().hide()},showLoadingMessage:function(a){this.get$zfjLoadingMessage(a).show()},get$loadingIndicator:function(){if(!ZEPHYR.Loading.$loadingIndicator){ZEPHYR.Loading.$loadingIndicator=AJS.$("<div />").addClass("jira-page-loading-indicator").css("zIndex",9999).appendTo("body")}return ZEPHYR.Loading.$loadingIndicator},get$zfjAuiBlanket:function(){if(!ZEPHYR.Loading.$zfjAuiBlanket){ZEPHYR.Loading.$zfjAuiBlanket=AJS.$('<div class="aui-blanket" id="zfj-aui-blanket"></div>').appendTo("body")}return ZEPHYR.Loading.$zfjAuiBlanket},get$zfjLoadingMessage:function(a){if(!ZEPHYR.Loading.$zfjLoadingMessage){ZEPHYR.Loading.$zfjLoadingMessage=AJS.$('<div class="zfj-loading-message" id="zfj-loading-message">'+a+"</div>").appendTo("body");AJS.$("#zfj-loading-message").css({"margin-left":-(AJS.$("#zfj-loading-message").width()/2)})}return ZEPHYR.Loading.$zfjLoadingMessage}};ZEPHYR.isIE=function(a){a=a||navigator.userAgent;return a.indexOf("MSIE ")>-1||a.indexOf("Trident/")>-1};ZEPHYR.scrollLock=function(a,c){var b=30;if(typeof a!=="string"){c=a;a=null}if(!c){c=b}AJS.$(a).on("DOMMouseScroll mousewheel",function(e){e.preventDefault();var f;if(e.originalEvent.wheelDelta){f=e.originalEvent.wheelDelta/120}if(e.originalEvent.detail){f=-e.originalEvent.detail/3}this.scrollTop-=f*c})};ZEPHYR.generatePageNumbers=function(i,g,e){var a=[];var h=1;var d=Math.ceil(i/e);var b=0;var c=9;if(g>=c){if(d>=(g+4)){h=g-4}else{if(i%e!=0){h=(d+1)-c+1}else{h=(d+1)-c}}}if(i%e!=0){if(d>=9){d=8}b=d}else{if(d>=9){d=9}b=d}for(var f=0;f<b;f++){a.push(h++)}return a};function getErrorMessageFromResponse(a){var d="";try{var b=a.responseText;if(a.responseText&&typeof a.responseText!="object"){b=jQuery.parseJSON(a.responseText)}jQuery.each(b,function(e,f){d+=f+"<br/>"})}catch(c){console.log(a.responseText);d=a.responseText}return d}function showExecStatusInfoMessage(c,b){var a=b;AJS.messages.info({title:c,body:a,shadowed:true});setTimeout(function(){AJS.$(".aui-message").fadeOut(2000,function(){AJS.$(".aui-message").remove()})},1000)}function showExecStatusSuccessMessage(b){var a=b||"Successfully Executed Test.";AJS.messages.success({title:"Success!",body:a,shadowed:true});setTimeout(function(){AJS.$(".aui-message").fadeOut(2000,function(){AJS.$(".aui-message").remove()})},1000)}function showErrorMessage(b,d,c){var a=d||2000;AJS.messages.error({title:"Error!",body:b,shadowed:true});if(c){return}setTimeout(function(){AJS.$(".aui-message").fadeOut(2000,function(){AJS.$(".aui-message").remove()})},a)}function buildExecutionError(a,b){var f=b||"#aui-message-bar";AJS.$(f).empty();try{var c=jQuery.parseJSON(a.responseText);var e="";jQuery.each(c,function(g,h){e+=h+"<br/>"})}catch(d){console.log(a.responseText);console.log(d)}e=e||(a.status+" - "+a.statusText);AJS.messages.error(f,{title:"Error!",body:e});if(typeof(dialog)!="undefined"){AJS.$(":submit",dialog.$form).removeAttr("disabled")}}function appendSoyOutputOnCall(b,a){if(a&&a.append){return a.append(b)}else{return b}}function getRestURL(){var a=contextPath+"/rest/zephyr/latest";return a}function getZAPIRestURL(){var a=contextPath+"/rest/zfjapi/latest";return a}function getJiraRestURL(){var a=contextPath+"/rest/api/latest";return a}function getRestURLForBlueprints(){var a="zephyr";try{if(window&&window.top&&window.top.Confluence){a="zapi"}}catch(c){console.log(c)}var b=contextPath+"/rest/"+a+"/latest";return b}function addSlashes(a){if(a){return a.replace(/\\/g,"\\\\").replace(/\u0008/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/'/g,"\\'").replace(/"/g,'\\"')}}ZEPHYR.createQueryString=function(e,a){var b=e[0],d=e[1],c="";if(b&&d){d=addSlashes(d);c=b+'="'+d+'"'}return appendSoyOutputOnCall(encodeURIComponent(c),a)};var showZQLError=function(c){if(c.responseText){var a=AJS.$("#zql-message-bar");a.empty();var e=jQuery.parseJSON(c.responseText);var b;var d="Error";if(e.warning){b=e.warning;d="Warning:"}else{if(e.error){b=e.error}else{b=c.responseText}}AJS.messages.error(a,{title:d,body:b,closeable:true})}};var showAUIError=function(c,a){if(c.responseText){a.empty();var d=jQuery.parseJSON(c.responseText);var b=d.PERM_DENIED;AJS.messages.error(a,{body:b,closeable:true})}};var showPermissionError=function(c){if(c.responseText){var a=AJS.$("[id^=zfj-permission].active");if(a.length>0){a.empty();var e=jQuery.parseJSON(c.responseText);var b=e.PERM_DENIED;var d="Permission Denied";AJS.messages.error(a,{title:d,body:b,closeable:true})}}};var doPerformCallbackErrorHandling=function(){var a=false;if(ZEPHYR&&ZEPHYR.page=="testview-issues"){a=true}return a};var showErrorMessageInDialog=function(){return(AJS.$("#zephyr-tb-link-to-test-cycles").length)||(AJS.$("#zephyr-tb-remove-test-cycle").length)||(AJS.$("#reorder-executions-dialog").length)||(AJS.$("#zephyr-tb-link-to-test-cycles").length)||(AJS.$("#viewissue-add-cycle").length&&AJS.$("#viewissue-add-cycle").hasClass("zephyr-je-add-execution"))||(AJS.$("#zephyr-je-add-execute").length&&AJS.$("#zephyr-je-add-execute").hasClass("zephyr-je-add-execution"))||(AJS.$("#zephyr-je-delete-execution-link").length&&AJS.$("#zephyr-je-delete-execution-link").hasClass("zephyr-je-delete-execution-link"))};AJS.$.ajaxPrefilter(function(b,e,d){if(/\/zephyr/.test(b.url)){if(window.zEncKeyFld){d.setRequestHeader(window.zEncKeyFld,window.zEncKeyVal)}else{d.setRequestHeader(parent.zEncKeyFld,parent.zEncKeyVal)}var c=d.statusCode;if(!c){d.statusCode=c={}}c[403]=function(){var f=new AJS.Dialog({width:200,height:200,id:"",closeOnOutsideClick:true});f.addPanel("",("You are not authorized to perform this operation.  Please log in."));f.show();f.addButton("OK",function(g){g.hide()})};var a=b.error;b.error=function(h,k,j){var g={};try{g=jQuery.parseJSON(h.responseText)}catch(i){console.log(i)}if(h.status==403&&g.PERM_DENIED){if(showErrorMessageInDialog()){h.retainDialog=true;return a(h,k,j)}if(AJS.$("#view_issue_execution_section").length){var f=AJS.$("#zfj-permission-message-bar-issue-executions-detail");if(AJS.$("#ztestSchedulesTable #zephyr-je-execution-body tr").length==0){AJS.$("#ztestSchedulesTable").empty()}AJS.$(".jira-dialog").hide();showAUIError(h,f)}else{if(doPerformCallbackErrorHandling()){return a(h,k,j)}else{showPermissionError(h);AJS.$(".jira-dialog").hide()}}AJS.$(".loading").removeClass("loading")}else{if(a){return a(h,k,j)}else{return b.error}}}}});function convertToLowerCase(b,a){var c=b[0]||"";return appendSoyOutputOnCall(c.toLowerCase(),a)}function displayUnAuthErrorDialog(b){var a=new AJS.Dialog({width:800,height:230,id:"dialog-error"});a.addHeader(b);a.addPanel("panel-1","<p></p>","dialog-error-panel-body");AJS.messages.error(AJS.$(".dialog-error-panel-body"),{title:"Error!",body:"You do not have the permission to make this request. Please refresh the page to continue.",closeable:false});a.addLink("Close",function(c){c.hide()},"#");a.show()}AJS.$(document).ajaxError(function(d,c,b){if(b.url.indexOf("/zephyr")>-1&&(c.status==403)){if(c.responseText){var e=jQuery.parseJSON(c.responseText);if(b.url.indexOf("/zephyr/latest/license")){if(window.isAboutZephyrClicked){window.isAboutZephyrClicked=false;return}if(AJS.$("#show-about-dialog").length>0){AJS.$("#show-about-dialog").find(".aui-dialog-content").html("");AJS.messages.error(AJS.$("#show-about-dialog").find(".aui-dialog-content"),{body:e.errorDescHtml,closeable:false});return}}if(e.errorId&&(e.errorId>=10&&e.errorId<=21)){AJS.log("Zephyr License Error "+e.errorId);return}}ZEPHYR.Loading.hideLoadingIndicator();if(!c.retainDialog){AJS.$(".aui-dialog").remove();AJS.$(".jira-dialog").remove();AJS.$("#zql-message-bar").html("");AJS.$("#aui-message-bar").html("");setTimeout(function(){AJS.$(".jira-page-loading-indicator").hide();AJS.$(".aui-blanket").hide();AJS.$("body").css("overflow","")},300)}if((b.url.indexOf("/latest/teststep")>-1)){return}if((b.url.indexOf("/latest/attachment/attachmentsByEntity")>-1)){return}var a=jQuery.parseJSON(c.responseText);if(!a.PERM_DENIED){displayUnAuthErrorDialog(c.statusText)}}});;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-common', location = 'includes/js/zephyr/zephyr-utility.js' */
if(typeof ZEPHYR=="undefined"){var ZEPHYR={}}if(typeof ZEPHYR.Utility=="undefined"){ZEPHYR.Utility={}}AJS.$("input.zephyr_allow_only_number").live("keyup",function(a){if(AJS.$(a.target).hasClass("zephyr_numbers_no_decimals")){this.value=this.value.replace(/[^0-9]/g,"")}else{this.value=this.value.replace(/[^0-9\.]/g,"")}});ZEPHYR.Utility.getSprintDetailsFromId=function(c,a,b){AJS.$.ajax({url:contextPath+"/rest/agile/1.0/sprint/"+c,contentType:"application/json",success:function(d){a(d)},error:function(){b()}})};ZEPHYR.Utility.displayConfirmationOnTimeout=function(a){setTimeout(function(){if(!a.readyState||a.readyState==4){return}var e="Operation is taking longer than expected",g=[{id:"zephyr-je-dialog-yes",name:"Yes"},{id:"zephyr-je-dialog-no",name:"No",type:"link"}],d="This operation is taking longer, do you want to continue to wait or Cancel the request.",b="zephyr-tb-ajax-timeout-confirm",f=ZEPHYR.Templates.Dialog.renderDialog({dialogId:b,dialogSize:"aui-dialog2-medium",dialogHeader:e,dialogContent:d,dialogButtons:g,isModal:true});AJS.$("body").append(f);var c=AJS.dialog2("#"+b);c.show();ZEPHYR.Loading.hideLoadingIndicator();c.$el.find("#zephyr-je-dialog-yes").click(function(h){h.preventDefault();if(a.status!=200||a.readyState!=4){ZEPHYR.Loading.showLoadingIndicator()}c.hide()});c.$el.find("#zephyr-je-dialog-no").click(function(h){h.preventDefault();a.abort();c.hide()})},59000)};;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-common', location = 'includes/js/zephyr/execution/initDefectPicker.js' */
(function(){})();;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-common', location = 'includes/js/zephyr/dialog.soy' */
// This file was automatically generated from dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace ZEPHYR.Templates.Dialog.
 */

if (typeof ZEPHYR == 'undefined') { var ZEPHYR = {}; }
if (typeof ZEPHYR.Templates == 'undefined') { ZEPHYR.Templates = {}; }
if (typeof ZEPHYR.Templates.Dialog == 'undefined') { ZEPHYR.Templates.Dialog = {}; }


ZEPHYR.Templates.Dialog.renderDialog = function(opt_data, opt_ignored) {
  var output = '<!-- Render the dialog --><section role="dialog" id="' + opt_data.dialogId + '" class="aui-layer aui-dialog2 ' + opt_data.dialogSize + '" aria-hidden="true" data-aui-remove-on-hide="true"' + ((opt_data.isModal) ? ' data-aui-modal="true"' : '') + '><!-- Dialog header --><header class="aui-dialog2-header"><!-- The dialog\'s title --><h2 class="aui-dialog2-header-main">' + opt_data.dialogHeader + '</h2></header>';
  if (opt_data.menuItems) {
    output += '<div class="dialog-page-menu">';
    var itemList17 = opt_data.menuItems;
    var itemListLen17 = itemList17.length;
    for (var itemIndex17 = 0; itemIndex17 < itemListLen17; itemIndex17++) {
      var itemData17 = itemList17[itemIndex17];
      output += '<span class="page-menu-item"><button class="item-button" id="' + itemData17.id + '">' + itemData17.name + '</button></span>';
    }
    output += '</div>';
  }
  output += '<!-- Main dialog content --><div class="aui-dialog2-content"><span class="message-bar"></span><span class="dialog2-content">' + opt_data.dialogContent + '</span></div><!-- Dialog footer --><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><span id="dialog-icon-wait" class="aui-icon aui-icon-wait zfj-icon-wait" style="display:none">Loading...</span>';
  var buttonList28 = opt_data.dialogButtons;
  var buttonListLen28 = buttonList28.length;
  for (var buttonIndex28 = 0; buttonIndex28 < buttonListLen28; buttonIndex28++) {
    var buttonData28 = buttonList28[buttonIndex28];
    output += '<button id="' + buttonData28.id + '" class="aui-button ' + ((buttonData28.type == 'link') ? 'aui-button-link' : '') + '">' + buttonData28.name + '</button>';
  }
  output += '</div></footer></section>';
  return output;
};
if (goog.DEBUG) {
  ZEPHYR.Templates.Dialog.renderDialog.soyTemplateName = 'ZEPHYR.Templates.Dialog.renderDialog';
}
;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-create-testcase', location = 'includes/js/zephyr/zephyr_common.js' */
if(typeof ZEPHYR=="undefined"){var ZEPHYR={}}AJS.$.namespace("ZEPHYR.Issue");if(typeof ZEPHYR.Schedule=="undefined"){ZEPHYR.Schedule={}}AJS.$.namespace("ZEPHYR.Schedule.Execute");AJS.$.namespace("ZEPHYR.Schedule.Execution");AJS.$.namespace("ZEPHYR.ZQL.ZQLSearch");AJS.$.namespace("ZEPHYR.ZQL.Project");AJS.$.namespace("ZEPHYR.Dialogs");if(typeof ZEPHYR.globalVars=="undefined"){ZEPHYR.globalVars={unloaded:false}}ZEPHYR.serializeObject=jQuery.fn.serializeObject;window.addEventListener("beforeunload",function(){ZEPHYR.globalVars.unloaded=true},false);var isLoadedInIframe=function(){try{return(window!==window.parent)}catch(a){return false}};var InitPageContent=function(a){if(isLoadedInIframe()){AJS.$(window).load(function(){a()})}else{AJS.$(document).ready(function(){a()})}};InitPageContent(function(){new JIRA.FormDialog({id:"viewissue-add-cycle",trigger:"a.add-cycle-dialog",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){new JIRA.FormDialog({id:"zephyr-je-assign-schedule",trigger:"a.enav-assign-user-schedule",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){new JIRA.FormDialog({id:"zephyr-je-add-execute",trigger:"a.viewissue-add-execute",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){new JIRA.FormDialog({id:"zephyr-attach-file-dialog",trigger:"a.zephyr-file-dialog",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){new JIRA.FormDialog({id:"delete-attachment-dialog",trigger:"a.delete-execute-attachment",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})});InitPageContent(function(){var a=0;removeRapidView=function(){if(GH&&GH.DetailsView&&GH.DetailsView.rapidViewConfig&&!GH.DetailsView.rapidViewConfig.sprintSupportEnabled){if(AJS.$('[id^="zephyr-je.test.board.tool.section-button"]').length){clearInterval(a);AJS.$('[id^="zephyr-je.test.board.tool.section-button"]').remove()}}else{clearInterval(a)}};a=setInterval(function(){removeRapidView()},1000)});ZEPHYR.Loading={showLoadingIndicator:function(){if(this.get$loadingIndicator().css("display")=="block"){return}var b=440,c=0,a=this;clearInterval(this.loadingTimer);this.get$loadingIndicator().show();this.get$zfjAuiBlanket().show();this.loadingTimer=window.setInterval(function(){if(c===b){c=0}c=c+40;a.get$loadingIndicator().css("backgroundPosition","0 -"+c+"px")},50)},hideLoadingIndicator:function(){clearInterval(this.loadingTimer);this.get$loadingIndicator().hide();this.get$zfjAuiBlanket().hide()},showLoadingMessage:function(a){this.get$zfjLoadingMessage(a).show()},get$loadingIndicator:function(){if(!ZEPHYR.Loading.$loadingIndicator){ZEPHYR.Loading.$loadingIndicator=AJS.$("<div />").addClass("jira-page-loading-indicator").css("zIndex",9999).appendTo("body")}return ZEPHYR.Loading.$loadingIndicator},get$zfjAuiBlanket:function(){if(!ZEPHYR.Loading.$zfjAuiBlanket){ZEPHYR.Loading.$zfjAuiBlanket=AJS.$('<div class="aui-blanket" id="zfj-aui-blanket"></div>').appendTo("body")}return ZEPHYR.Loading.$zfjAuiBlanket},get$zfjLoadingMessage:function(a){if(!ZEPHYR.Loading.$zfjLoadingMessage){ZEPHYR.Loading.$zfjLoadingMessage=AJS.$('<div class="zfj-loading-message" id="zfj-loading-message">'+a+"</div>").appendTo("body");AJS.$("#zfj-loading-message").css({"margin-left":-(AJS.$("#zfj-loading-message").width()/2)})}return ZEPHYR.Loading.$zfjLoadingMessage}};ZEPHYR.isIE=function(a){a=a||navigator.userAgent;return a.indexOf("MSIE ")>-1||a.indexOf("Trident/")>-1};ZEPHYR.scrollLock=function(a,c){var b=30;if(typeof a!=="string"){c=a;a=null}if(!c){c=b}AJS.$(a).on("DOMMouseScroll mousewheel",function(e){e.preventDefault();var f;if(e.originalEvent.wheelDelta){f=e.originalEvent.wheelDelta/120}if(e.originalEvent.detail){f=-e.originalEvent.detail/3}this.scrollTop-=f*c})};ZEPHYR.generatePageNumbers=function(i,g,e){var a=[];var h=1;var d=Math.ceil(i/e);var b=0;var c=9;if(g>=c){if(d>=(g+4)){h=g-4}else{if(i%e!=0){h=(d+1)-c+1}else{h=(d+1)-c}}}if(i%e!=0){if(d>=9){d=8}b=d}else{if(d>=9){d=9}b=d}for(var f=0;f<b;f++){a.push(h++)}return a};function getErrorMessageFromResponse(a){var d="";try{var b=a.responseText;if(a.responseText&&typeof a.responseText!="object"){b=jQuery.parseJSON(a.responseText)}jQuery.each(b,function(e,f){d+=f+"<br/>"})}catch(c){console.log(a.responseText);d=a.responseText}return d}function showExecStatusInfoMessage(c,b){var a=b;AJS.messages.info({title:c,body:a,shadowed:true});setTimeout(function(){AJS.$(".aui-message").fadeOut(2000,function(){AJS.$(".aui-message").remove()})},1000)}function showExecStatusSuccessMessage(b){var a=b||"Successfully Executed Test.";AJS.messages.success({title:"Success!",body:a,shadowed:true});setTimeout(function(){AJS.$(".aui-message").fadeOut(2000,function(){AJS.$(".aui-message").remove()})},1000)}function showErrorMessage(b,d,c){var a=d||2000;AJS.messages.error({title:"Error!",body:b,shadowed:true});if(c){return}setTimeout(function(){AJS.$(".aui-message").fadeOut(2000,function(){AJS.$(".aui-message").remove()})},a)}function buildExecutionError(a,b){var f=b||"#aui-message-bar";AJS.$(f).empty();try{var c=jQuery.parseJSON(a.responseText);var e="";jQuery.each(c,function(g,h){e+=h+"<br/>"})}catch(d){console.log(a.responseText);console.log(d)}e=e||(a.status+" - "+a.statusText);AJS.messages.error(f,{title:"Error!",body:e});if(typeof(dialog)!="undefined"){AJS.$(":submit",dialog.$form).removeAttr("disabled")}}function appendSoyOutputOnCall(b,a){if(a&&a.append){return a.append(b)}else{return b}}function getRestURL(){var a=contextPath+"/rest/zephyr/latest";return a}function getZAPIRestURL(){var a=contextPath+"/rest/zfjapi/latest";return a}function getJiraRestURL(){var a=contextPath+"/rest/api/latest";return a}function getRestURLForBlueprints(){var a="zephyr";try{if(window&&window.top&&window.top.Confluence){a="zapi"}}catch(c){console.log(c)}var b=contextPath+"/rest/"+a+"/latest";return b}function addSlashes(a){if(a){return a.replace(/\\/g,"\\\\").replace(/\u0008/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/'/g,"\\'").replace(/"/g,'\\"')}}ZEPHYR.createQueryString=function(e,a){var b=e[0],d=e[1],c="";if(b&&d){d=addSlashes(d);c=b+'="'+d+'"'}return appendSoyOutputOnCall(encodeURIComponent(c),a)};var showZQLError=function(c){if(c.responseText){var a=AJS.$("#zql-message-bar");a.empty();var e=jQuery.parseJSON(c.responseText);var b;var d="Error";if(e.warning){b=e.warning;d="Warning:"}else{if(e.error){b=e.error}else{b=c.responseText}}AJS.messages.error(a,{title:d,body:b,closeable:true})}};var showAUIError=function(c,a){if(c.responseText){a.empty();var d=jQuery.parseJSON(c.responseText);var b=d.PERM_DENIED;AJS.messages.error(a,{body:b,closeable:true})}};var showPermissionError=function(c){if(c.responseText){var a=AJS.$("[id^=zfj-permission].active");if(a.length>0){a.empty();var e=jQuery.parseJSON(c.responseText);var b=e.PERM_DENIED;var d="Permission Denied";AJS.messages.error(a,{title:d,body:b,closeable:true})}}};var doPerformCallbackErrorHandling=function(){var a=false;if(ZEPHYR&&ZEPHYR.page=="testview-issues"){a=true}return a};var showErrorMessageInDialog=function(){return(AJS.$("#zephyr-tb-link-to-test-cycles").length)||(AJS.$("#zephyr-tb-remove-test-cycle").length)||(AJS.$("#reorder-executions-dialog").length)||(AJS.$("#zephyr-tb-link-to-test-cycles").length)||(AJS.$("#viewissue-add-cycle").length&&AJS.$("#viewissue-add-cycle").hasClass("zephyr-je-add-execution"))||(AJS.$("#zephyr-je-add-execute").length&&AJS.$("#zephyr-je-add-execute").hasClass("zephyr-je-add-execution"))||(AJS.$("#zephyr-je-delete-execution-link").length&&AJS.$("#zephyr-je-delete-execution-link").hasClass("zephyr-je-delete-execution-link"))};AJS.$.ajaxPrefilter(function(b,e,d){if(/\/zephyr/.test(b.url)){if(window.zEncKeyFld){d.setRequestHeader(window.zEncKeyFld,window.zEncKeyVal)}else{d.setRequestHeader(parent.zEncKeyFld,parent.zEncKeyVal)}var c=d.statusCode;if(!c){d.statusCode=c={}}c[403]=function(){var f=new AJS.Dialog({width:200,height:200,id:"",closeOnOutsideClick:true});f.addPanel("",("You are not authorized to perform this operation.  Please log in."));f.show();f.addButton("OK",function(g){g.hide()})};var a=b.error;b.error=function(h,k,j){var g={};try{g=jQuery.parseJSON(h.responseText)}catch(i){console.log(i)}if(h.status==403&&g.PERM_DENIED){if(showErrorMessageInDialog()){h.retainDialog=true;return a(h,k,j)}if(AJS.$("#view_issue_execution_section").length){var f=AJS.$("#zfj-permission-message-bar-issue-executions-detail");if(AJS.$("#ztestSchedulesTable #zephyr-je-execution-body tr").length==0){AJS.$("#ztestSchedulesTable").empty()}AJS.$(".jira-dialog").hide();showAUIError(h,f)}else{if(doPerformCallbackErrorHandling()){return a(h,k,j)}else{showPermissionError(h);AJS.$(".jira-dialog").hide()}}AJS.$(".loading").removeClass("loading")}else{if(a){return a(h,k,j)}else{return b.error}}}}});function convertToLowerCase(b,a){var c=b[0]||"";return appendSoyOutputOnCall(c.toLowerCase(),a)}function displayUnAuthErrorDialog(b){var a=new AJS.Dialog({width:800,height:230,id:"dialog-error"});a.addHeader(b);a.addPanel("panel-1","<p></p>","dialog-error-panel-body");AJS.messages.error(AJS.$(".dialog-error-panel-body"),{title:"Error!",body:"You do not have the permission to make this request. Please refresh the page to continue.",closeable:false});a.addLink("Close",function(c){c.hide()},"#");a.show()}AJS.$(document).ajaxError(function(d,c,b){if(b.url.indexOf("/zephyr")>-1&&(c.status==403)){if(c.responseText){var e=jQuery.parseJSON(c.responseText);if(b.url.indexOf("/zephyr/latest/license")){if(window.isAboutZephyrClicked){window.isAboutZephyrClicked=false;return}if(AJS.$("#show-about-dialog").length>0){AJS.$("#show-about-dialog").find(".aui-dialog-content").html("");AJS.messages.error(AJS.$("#show-about-dialog").find(".aui-dialog-content"),{body:e.errorDescHtml,closeable:false});return}}if(e.errorId&&(e.errorId>=10&&e.errorId<=21)){AJS.log("Zephyr License Error "+e.errorId);return}}ZEPHYR.Loading.hideLoadingIndicator();if(!c.retainDialog){AJS.$(".aui-dialog").remove();AJS.$(".jira-dialog").remove();AJS.$("#zql-message-bar").html("");AJS.$("#aui-message-bar").html("");setTimeout(function(){AJS.$(".jira-page-loading-indicator").hide();AJS.$(".aui-blanket").hide();AJS.$("body").css("overflow","")},300)}if((b.url.indexOf("/latest/teststep")>-1)){return}if((b.url.indexOf("/latest/attachment/attachmentsByEntity")>-1)){return}var a=jQuery.parseJSON(c.responseText);if(!a.PERM_DENIED){displayUnAuthErrorDialog(c.statusText)}}});;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-create-testcase', location = 'includes/js/zephyr/zephyr-utility.js' */
if(typeof ZEPHYR=="undefined"){var ZEPHYR={}}if(typeof ZEPHYR.Utility=="undefined"){ZEPHYR.Utility={}}AJS.$("input.zephyr_allow_only_number").live("keyup",function(a){if(AJS.$(a.target).hasClass("zephyr_numbers_no_decimals")){this.value=this.value.replace(/[^0-9]/g,"")}else{this.value=this.value.replace(/[^0-9\.]/g,"")}});ZEPHYR.Utility.getSprintDetailsFromId=function(c,a,b){AJS.$.ajax({url:contextPath+"/rest/agile/1.0/sprint/"+c,contentType:"application/json",success:function(d){a(d)},error:function(){b()}})};ZEPHYR.Utility.displayConfirmationOnTimeout=function(a){setTimeout(function(){if(!a.readyState||a.readyState==4){return}var e="Operation is taking longer than expected",g=[{id:"zephyr-je-dialog-yes",name:"Yes"},{id:"zephyr-je-dialog-no",name:"No",type:"link"}],d="This operation is taking longer, do you want to continue to wait or Cancel the request.",b="zephyr-tb-ajax-timeout-confirm",f=ZEPHYR.Templates.Dialog.renderDialog({dialogId:b,dialogSize:"aui-dialog2-medium",dialogHeader:e,dialogContent:d,dialogButtons:g,isModal:true});AJS.$("body").append(f);var c=AJS.dialog2("#"+b);c.show();ZEPHYR.Loading.hideLoadingIndicator();c.$el.find("#zephyr-je-dialog-yes").click(function(h){h.preventDefault();if(a.status!=200||a.readyState!=4){ZEPHYR.Loading.showLoadingIndicator()}c.hide()});c.$el.find("#zephyr-je-dialog-no").click(function(h){h.preventDefault();a.abort();c.hide()})},59000)};;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-create-testcase', location = 'includes/js/zephyr/dialog.soy' */
// This file was automatically generated from dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace ZEPHYR.Templates.Dialog.
 */

if (typeof ZEPHYR == 'undefined') { var ZEPHYR = {}; }
if (typeof ZEPHYR.Templates == 'undefined') { ZEPHYR.Templates = {}; }
if (typeof ZEPHYR.Templates.Dialog == 'undefined') { ZEPHYR.Templates.Dialog = {}; }


ZEPHYR.Templates.Dialog.renderDialog = function(opt_data, opt_ignored) {
  var output = '<!-- Render the dialog --><section role="dialog" id="' + opt_data.dialogId + '" class="aui-layer aui-dialog2 ' + opt_data.dialogSize + '" aria-hidden="true" data-aui-remove-on-hide="true"' + ((opt_data.isModal) ? ' data-aui-modal="true"' : '') + '><!-- Dialog header --><header class="aui-dialog2-header"><!-- The dialog\'s title --><h2 class="aui-dialog2-header-main">' + opt_data.dialogHeader + '</h2></header>';
  if (opt_data.menuItems) {
    output += '<div class="dialog-page-menu">';
    var itemList17 = opt_data.menuItems;
    var itemListLen17 = itemList17.length;
    for (var itemIndex17 = 0; itemIndex17 < itemListLen17; itemIndex17++) {
      var itemData17 = itemList17[itemIndex17];
      output += '<span class="page-menu-item"><button class="item-button" id="' + itemData17.id + '">' + itemData17.name + '</button></span>';
    }
    output += '</div>';
  }
  output += '<!-- Main dialog content --><div class="aui-dialog2-content"><span class="message-bar"></span><span class="dialog2-content">' + opt_data.dialogContent + '</span></div><!-- Dialog footer --><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><span id="dialog-icon-wait" class="aui-icon aui-icon-wait zfj-icon-wait" style="display:none">Loading...</span>';
  var buttonList28 = opt_data.dialogButtons;
  var buttonListLen28 = buttonList28.length;
  for (var buttonIndex28 = 0; buttonIndex28 < buttonListLen28; buttonIndex28++) {
    var buttonData28 = buttonList28[buttonIndex28];
    output += '<button id="' + buttonData28.id + '" class="aui-button ' + ((buttonData28.type == 'link') ? 'aui-button-link' : '') + '">' + buttonData28.name + '</button>';
  }
  output += '</div></footer></section>';
  return output;
};
if (goog.DEBUG) {
  ZEPHYR.Templates.Dialog.renderDialog.soyTemplateName = 'ZEPHYR.Templates.Dialog.renderDialog';
}
;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-create-testcase', location = 'includes/js/zephyr/testcase/zephyr_testcase.js' */
AJS.$.namespace("ZEPHYR.ISSUE.Testcase");if(typeof Zephyr=="undefined"){Zephyr={}}AJS.$("#zephyr-create-test").live("click",function(a){a.preventDefault();a.stopImmediatePropagation();jQuery.ajax({url:getRestURL()+"/util/zephyrTestIssueType",type:"get",contentType:"application/json",dataType:"json",success:function(c){var f=parseUri(AJS.$("#zephyr-create-test").attr("href")).queryKey;var e=f.parentIssueId;if(e==="${issue.id}"){f=parseUri(AJS.$("#opsbar-operations_more_drop").find("#zephyr-create-test").attr("href")).queryKey}var b=c.testcaseIssueTypeId;var d={parentIssueId:f.parentIssueId,issueType:c.testcaseIssueTypeId};d=jQuery.extend(d,{parentIssueId:f.parentIssueId,issueType:c.testcaseIssueTypeId});JIRA.Forms.createCreateIssueForm(d).asDialog({id:"create-zephyr-issue-dialog",windowTitle:"Create Issue",parentIssueId:f.parentIssueId}).show();AJS.$("#create-zephyr-issue-dialog").on("remove",function(){jQuery(AJS).unbind("QuickCreateIssue.issueCreated");if(AJS.$("#linkingmodule").length>0){AJS.$("#linkingmodule").load(" #linkingmodule")}else{location.reload()}});jQuery(AJS).unbind("QuickCreateIssue.issueCreated");jQuery(AJS).bind("QuickCreateIssue.issueCreated",function(h,g){if(g.createdIssueDetails&&g.createdIssueDetails.fields.issuetype&&g.createdIssueDetails.fields.issuetype.id==b){var i=f.parentIssueId;jQuery.ajax({url:getRestURL()+"/test/addIssueLink?parentIssueId="+i+"&testcaseId="+g.createdIssueDetails.id,type:"POST",contentType:"application/json",dataType:"json",success:function(j){}})}})}})});;
;
/* module-key = 'com.thed.zephyr.je:zephyr-execution-assignee', location = 'includes/js/zephyr/execution/assignee/execution-assignee.js' */
if(typeof ZEPHYR=="undefined"){ZEPHYR={}}if(typeof ZEPHYR.Execution=="undefined"){ZEPHYR.Execution={}}if(typeof ZEPHYR.Execution.Assignee=="undefined"){ZEPHYR.Execution.Assignee={}}ZEPHYR.Execution.Assignee.type={};ZEPHYR.Execution.Assignee.type.CURRENT_USER="currentUser";ZEPHYR.Execution.Assignee.type.ASSIGNEE="assignee";ZEPHYR.Execution.Assignee._getAssigneeOptions=function(a,c){var b="/rest/api/1.0/users/picker";AJS.$.ajax({url:contextPath+b,type:"GET",data:{query:a,showAvatar:true},contentType:"application/json",dataType:"json",success:function(d){_.each(d.users,function(e){if(e.name==a){AJS.$("input"+c+"-field").val(e.displayName);AJS.$("div"+c+"-single-select").attr("data-query",e.displayName).addClass("aui-ss-has-entity-icon").append('<img class="aui-ss-entity-icon" alt src="'+e.avatarUrl+'" />')}})}})};ZEPHYR.Execution.Assignee.createSingleUserPickers=function(a,c){var b="/rest/api/1.0/users/picker";AJS.$(a).each(function(){var e=AJS.$(this);if(e.data("aui-ss")){if(c&&this.assigneeSelect){this.assigneeSelect.clear()}return}var d={showAvatar:true},f=e.data("inputValue");this.assigneeSelect=new AJS.SingleSelect({element:e,submitInputVal:true,showDropdownButton:!!e.data("show-dropdown-button"),errorMessage:AJS.format("There is no user ''{0}''.","'{0}'"),ajaxOptions:{url:contextPath+b,query:true,data:d,formatResponse:function(g){var h=[];AJS.$(g).each(function(k,j){var l=new AJS.GroupDescriptor({weight:k,label:j.footer});AJS.$(j.users).each(function(){l.addItem(new AJS.ItemDescriptor({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:false,highlighted:true}))});h.push(l)});return h}},inputText:f})})};ZEPHYR.Execution.Assignee.getSelectedParams=function(a,d){var c=a?a+"-type":"zephyr-je-execution-assignee-type";_assigneeType=AJS.$("input[name="+c+"]:checked").val(),assigneeParams={},_elID="#"+a||"#zephyr-je-execution-assignee";if(_assigneeType==ZEPHYR.Execution.Assignee.type.CURRENT_USER){assigneeParams.assigneeType=ZEPHYR.Execution.Assignee.type.CURRENT_USER;return assigneeParams}else{if(_assigneeType==ZEPHYR.Execution.Assignee.type.ASSIGNEE){var b=AJS.$(_elID).val();if(b&&b.length>0){assigneeParams.assigneeType=ZEPHYR.Execution.Assignee.type.ASSIGNEE;assigneeParams.assignee=b[0];return assigneeParams}else{AJS.$(".buttons").find("span.icon.throbber").remove(".loading");AJS.$("#bulk-assign-user-form-submit").removeAttr("disabled");AJS.$("#assignee-error").html("Please select person from list");return false}}}if(d){d()}else{return assigneeParams}};ZEPHYR.Execution.Assignee.init=function(d){d=d||{};var b=d.id?"#"+d.id:"#zephyr-je-execution-assignee";var f=d.id?d.id+"-type":"zephyr-je-execution-assignee-type";var a=b+"-assignee";var h=d.clear;var c=null;if(d.assigneeeJSON){h=false;AJS.$("input[name="+f+"][value="+d.assigneeeJSON.assigneeType+"]").attr("checked","checked");if(d.assigneeeJSON.assigneeType==ZEPHYR.Execution.Assignee.type.ASSIGNEE){c=d.assigneeeJSON.assignee;AJS.$(b+"-field").find("option[value="+d.assigneeeJSON.assignee+"]").attr("selected")}}try{ZEPHYR.Execution.Assignee.createSingleUserPickers(AJS.$(b),h,c)}catch(g){console.log(g)}if(d.assigneeeJSON&&d.assigneeeJSON.assigneeType==ZEPHYR.Execution.Assignee.type.ASSIGNEE&&c){ZEPHYR.Execution.Assignee._getAssigneeOptions(c,b)}if(AJS.$("input"+a+":checked").length==0){AJS.$(b+"-field").attr("disabled","disabled")}AJS.$("input[name="+f+"]").unbind("click");AJS.$("input[name="+f+"]").bind("click",function(i){i.stopImmediatePropagation();var e=AJS.$(this).val();if(i.ctrlKey||i.metaKey){AJS.$(this).attr("checked",false);AJS.$(b+"-field").attr("disabled","disabled")}else{if(e==ZEPHYR.Execution.Assignee.type.CURRENT_USER){AJS.$(b+"-field").attr("disabled","disabled")}else{if(e=ZEPHYR.Execution.Assignee.type.ASSIGNEE){AJS.$(b+"-field").removeAttr("disabled")}}}})};;
;
/* module-key = 'com.thed.zephyr.je:zephyr-execution-assignee', location = 'includes/js/zephyr/execution/assignee/execution-assignee.soy' */
// This file was automatically generated from execution-assignee.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace ZEPHYR.Templates.Execution.Assignee.
 */

if (typeof ZEPHYR == 'undefined') { var ZEPHYR = {}; }
if (typeof ZEPHYR.Templates == 'undefined') { ZEPHYR.Templates = {}; }
if (typeof ZEPHYR.Templates.Execution == 'undefined') { ZEPHYR.Templates.Execution = {}; }
if (typeof ZEPHYR.Templates.Execution.Assignee == 'undefined') { ZEPHYR.Templates.Execution.Assignee = {}; }


ZEPHYR.Templates.Execution.Assignee.executionAssigneeView = function(opt_data, opt_ignored) {
  return '<div id="assignee-module" class="module toggle-wrap expanded">' + ((opt_data.hasHeader) ? '<div id="assignee-module-heading" class="mod-header"><h3 class="toggle-title"><strong>' + soy.$$escapeHtml("Assignee") + '</strong></h3></div>' : '') + ((opt_data.hasLabel) ? '<div class="mod-content"><div class="field-group zephyr-assignee-field-group"><label class="execution-assignee-label">' + soy.$$escapeHtml("Assign To") + '</label><div>' : '') + '<ul class="zephyr-assignee-options"><li><input type="radio" name="' + soy.$$escapeHtml(opt_data.id) + '-type" id="' + soy.$$escapeHtml(opt_data.id) + '-currentUser" value="currentUser" title="' + soy.$$escapeHtml("To deselect (Ctrl + click)") + '" /><label for="' + soy.$$escapeHtml(opt_data.id) + '-currentUser" title="' + soy.$$escapeHtml("To deselect (Ctrl + click)") + '">' + soy.$$escapeHtml("Me") + '</label></li><li><input type="radio" name="' + soy.$$escapeHtml(opt_data.id) + '-type" id="' + soy.$$escapeHtml(opt_data.id) + '-assignee" value="assignee" title="' + soy.$$escapeHtml("To deselect (Ctrl + click)") + '"><label for="' + soy.$$escapeHtml(opt_data.id) + '-assignee" title="' + soy.$$escapeHtml("To deselect (Ctrl + click)") + '">' + soy.$$escapeHtml("Person") + '</label></li><li><select id="' + soy.$$escapeHtml(opt_data.id) + '" name="' + soy.$$escapeHtml(opt_data.id) + '" class="single-user-picker js-default-user-picker" data-input-text="" data-show-dropdown-button="true"></select></li><div class="error" id="assignee-error"></div>' + ((opt_data.hasLabel) ? '</div></div></div>' : '') + '</div>';
};
if (goog.DEBUG) {
  ZEPHYR.Templates.Execution.Assignee.executionAssigneeView.soyTemplateName = 'ZEPHYR.Templates.Execution.Assignee.executionAssigneeView';
}
;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-schedule', location = 'includes/js/zephyr/schedule/zephyr-je-schedule.js' */
if(!ZEPHYR.Schedule){ZEPHYR.Schedule={}}function assign(b,a){jQuery.ajax({url:getRestURL()+"/execution/"+b,type:"post",contentType:"application/json",dataType:"json",success:function(c){window.location.reload(true);AJS.$("#assign-schedule-cancel").click()},failure:function(c){buildErrorMessage()}})}ZEPHYR.Schedule.getSchedules=function(b){if(!b){return}jQuery.ajax({url:getRestURL()+"/execution",type:"get",contentType:"application/json",dataType:"json",data:{issueId:b},success:function(c){var p=12;schedules=c.executions;var k=false;AJS.$("#zephyr-je-execution-body").empty();for(var o in schedules){if(!schedules.hasOwnProperty(o)){continue}k=true;var u=schedules[o];var r=(u.executionStatus)?c.status[u.executionStatus]:c.status["-1"];var s=c.status;var j=encodeURIComponent("issue="+u.issueKey);var m=contextPath+"/secure/enav/#/"+u.id+"?query="+j+"&offset="+(parseInt(o)+1);var e=u.defects;var v;if(u.totalDefectCount>0){e=a(e);v="<td class='zephyr-test-execution-entry-defect'><div class='zfj-defect-hover' data-issueKey='"+u.issueKey+"' data-executionId='"+u.id+"' data-color='"+s[u.executionStatus].color+"'><span class='aui-lozenge aui-lozenge-defects'>"+u.executionDefectCount+" | "+u.stepDefectCount+"</span> "+e+"</div></td>"}else{e="-";v="<td class='zephyr-test-execution-entry-defect'>"+e+"</td>"}var f=u.executedBy;if(f==null){f="-"}else{if(u.executedByDisplay){f="<a href='"+contextPath+"/secure/ViewProfile.jspa?name="+f+"' rel='"+f+"' class='user-hover'>"+AJS.escapeHtml(u.executedByDisplay)+"</a>"}}var w=u.executedOn||"-";var t=u.cycleId||-1;var n=getRestURL()+"/execution/"+u.id;var x="<tr class='zephyr-test-execution-entry'><td class='zephyr-test-execution-entry-version' align=center'>"+u.versionName+"</td><td class='zephyr-test-execution-entry-cycle'> <a href=\""+contextPath+"/DisplayCycle.jspa?cycleId="+t+"&versionId="+u.versionId+"&issueKey="+u.issueKey+'">'+AJS.escapeHtml(u.cycleName)+'</a></td><td> <div class="field-group execution-status-container"><div id="execution-field-current-status-schedule-'+u.id+'"><div id="executionStatus-value-schedule-'+u.id+'" class="labels exec-status-container"><dl class="zfj-editable-field"><dt>'+"Status"+'</dt><dd id="current-execution-status-dd-schedule-'+u.id+'" class="new-session-status" style="background-color:'+r.color+'"  title="'+r.name+": "+r.description+'">'+r.name+'</dd><a id="executionStatus-labels-schedule-'+u.id+'" href="#" class="zfj-overlay-icon icon icon-edit-sml"><span rel=\''+r.id+"'>"+r.name+'</span></a></dl></div></div><div id="execution-field-select-schedule-'+u.id+'" style="position:relative;">';var d='<select id="exec_status-schedule-'+u.id+'" class="select" style=\'width:150px; position:relative; z-index:10;\'>';for(i in s){var h=s[i];if(r.id==h.id){d+='<option value="'+r.id+'" selected="selected" rel="'+r.color+'" title="'+r.description+'">'+r.name+"</option>"}else{d+='<option value="'+h.id+'" rel="'+h.color+'" title="'+h.description+'">'+h.name+"</option>"}}d+='</select><div class="update_cancel-buttons" tabindex="1"><button id="exec_status_update-schedule-'+u.id+'" accesskey="s" class="exec_status_update-schedule zfj-button submit" action="#" type="button"><span class="icon icon-save"></span></button><button id="exec_status_cancel-schedule-'+u.id+'" accesskey="`" class="exec_status_cancel-schedule zfj-button cancel" action="#" type="cancel"><span class="icon icon-cancel"></span></button></div>';var q=x+d+"</div></div></td>"+v+'<td id="executed-by-schedule-'+u.id+"\" class='zephyr-test-execution-entry-execby'>"+f+'</td><td id="executed-on-schedule-'+u.id+"\" class='zephyr-test-execution-entry-execon'>"+w+"</td><td style='width:60px;'>	<a class=\"aui-button\" onClick=\"window.location='"+m+"'\" title='"+"Execute Test"+"'>"+"E"+"</a>	<a id='schedule-"+u.id+"-operations-trigger' class='issue-schedule-operations' href='"+n+"' rel='"+u.id+"'><span class='icon icon-delete'></span></a></td></tr>";AJS.$(q).appendTo("#zephyr-je-execution-body");ZEPHYR.Schedule.stripTextIfMoreThanAllowed("#z_execution-status-dd-"+u.id,r.name,p,u.comment);AJS.$("#execution-field-select-schedule-"+u.id).hide()}var l=AJS.$("div.field-group.execution-status-container");AJS.$.each(l,function(y,A){var z=new ZEPHYR.Schedule.executionStatusView({el:A,elBeforeEdit:AJS.$(A).find("[id^=execution-field-current-status-schedule-]"),elOnEdit:AJS.$(A).find("[id^=execution-field-select-schedule-]")})});ZEPHYR.Schedule.addDeleteTrigger();if(!k){var g="<tr><td colspan='6'>"+AJS.format("This test has not been executed yet. Click {0} here {1} or on the Execute button above to start.",("<a id='zephyr-je-add-execute-link' class='viewissue-add-execute' href='"+contextPath+"/secure/AddExecute!AddExecute.jspa?id="+b+"'>"),"</a>")+"</td></tr>";AJS.$(g).appendTo("#zephyr-je-execution-body");JIRA.Dialogs.execDialog=new JIRA.FormDialog({id:"zephyr-je-add-execute-link",trigger:"a.viewissue-add-execute",handleRedirect:true,issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}})}}});var a=function(d){var e="";for(var f in d){var c=d[f];if(c.resolution){if(c.maskedIssueKey=="XXXXX"){e+="<span style='text-decoration:line-through;'data-issueKey='"+c.maskedIssueKey+"' data-defect-resolution='"+c.defectResolution+"' data-summary='"+AJS.escapeHtml(c.summary)+"' data-status='"+c.status+"'>"+c.maskedIssueKey+"</span>"}else{e+="<a style='text-decoration:line-through;' href='"+contextPath+"/browse/"+c.key+"' data-issueKey='"+c.key+"' data-defect-resolution='"+c.defectResolution+"' data-summary='"+AJS.escapeHtml(c.summary)+"' data-status='"+c.status+"'>"+c.key+"</a>"}}else{if(c.maskedIssueKey=="XXXXX"){e+="<span  data-issueKey='"+c.maskedIssueKey+"' data-summary='"+AJS.escapeHtml(c.summary)+"' data-status='"+c.status+"'>"+c.maskedIssueKey+"</span>"}else{e+="<a href='"+contextPath+"/browse/"+c.key+"' data-issueKey='"+c.key+"' data-summary='"+AJS.escapeHtml(c.summary)+"' data-status='"+c.status+"'>"+c.key+"</a>"}}if(f<d.length-1){e+=", "}}return e}};function createSchedule(b,e,f,c,g){if(b==0){e="-1";f=null}var d={issueId:g,versionId:e,cycleId:f,projectId:c},a=ZEPHYR.Execution.Assignee.getSelectedParams("zephyr-je-execution-assignee-execute");if(!a){return}_.extend(d,a);AJS.$("#zephyr-je-add-execute").addClass("zephyr-je-add-execution");jQuery.ajax({url:getRestURL()+"/execution",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(d),success:function(h){for(var j in h){window.location.href=contextPath+"/secure/enav/#/"+h[j].id}},error:function(h){if(h.status==403){AJS.$(".zephyr-je-add-tests-execution-button").attr("aria-disabled","true");document.getElementsByClassName("zephyr-je-add-tests-execution-button")[0].onclick=null}else{AJS.$(".aui-message-error").remove()}AJS.messages.error({title:"Error!",body:getErrorMessageFromResponse(h)})}})}ZEPHYR.Schedule.addIssueToCycle=function(d,e,f,b,g){var c={issueId:g,versionId:e,cycleId:f,projectId:b},a=ZEPHYR.Execution.Assignee.getSelectedParams("zephyr-je-execution-assignee-add-tests");if(!a){return}_.extend(c,a);AJS.$("#viewissue-add-cycle").addClass("zephyr-je-add-execution");jQuery.ajax({url:getRestURL()+"/execution",type:"POST",accept:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(c),success:function(h){if(d){AJS.messages.success({title:"Success!",body:"Successfully Created or Added Issue to Cycle."});setTimeout(function(){AJS.$(".aui-message").fadeOut(1000,function(){AJS.$(".aui-message").remove()})},1000)}else{window.onbeforeunload=null;AJS.$("#zephyr-je-dlgclose").click();ZEPHYR.Schedule.getSchedules(g)}},error:function(h){if(h.status==403){AJS.$(".zephyr-je-add-tests-execution-button").attr("aria-disabled","true");document.getElementsByClassName("zephyr-je-add-tests-execution-button")[0].onclick=null}else{AJS.$(".aui-message-error").remove()}AJS.messages.error({title:"Error!",body:getErrorMessageFromResponse(h)})}})};function isEncHTML(a){if(a.search(/&amp;/g)!=-1||a.search(/&lt;/g)!=-1||a.search(/&gt;/g)!=-1){return true}else{return false}}function decHTMLifEnc(a){if(isEncHTML(a)){a=a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')}return a}var isLoadedInIframe=function(){try{return(window!==window.parent)}catch(a){return false}};var InitPageContent=function(a){if(isLoadedInIframe()){AJS.$(window).load(function(){a()})}else{AJS.$(document).ready(function(){a()})}};InitPageContent(function(){if(JIRA.Events.PANEL_REFRESHED){JIRA.unbind(JIRA.Events.PANEL_REFRESHED,ZEPHYR.Schedule.refreshFunction);JIRA.bind(JIRA.Events.PANEL_REFRESHED,ZEPHYR.Schedule.refreshFunction)}if(JIRA.Events.ISSUE_REFRESHED){JIRA.bind(JIRA.Events.ISSUE_REFRESHED,function(a,b){ZEPHYR.Schedule.reInitViewIssueSchedules(a)})}ZEPHYR.Schedule.reInitViewIssueSchedules()});ZEPHYR.Schedule.initScheduleListeners=function(){};ZEPHYR.Schedule.reInitViewIssueSchedules=function(d,a,c,b){var f=AJS.$("#zerrors").val();if(f!=null&&f.length>0){return}try{ZEPHYR.Schedule.getSchedules(JIRA.Issue.getIssueId())}catch(d){}ZEPHYR.Schedule.initScheduleListeners()};ZEPHYR.Schedule.refreshFunction=function(d,a,c,b){if(a==="view_issue_execution_section"){c.replaceWith(b);if(!AJS.$("input#zerrors").val()){ZEPHYR.Schedule.initScheduleListeners()}}};;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-schedule', location = 'includes/js/zephyr/schedule/zephyr-je-schedule-delete.js' */
if(!ZEPHYR.Schedule){ZEPHYR.Schedule={}}ZEPHYR.Schedule.addDeleteTrigger=function(){new JIRA.FormDialog({id:"zephyr-je-delete-execution-link",trigger:"a.issue-schedule-operations",handleRedirect:true,content:function(g,d,c){try{AJS.$("#project-panel-cycle-list-summary").trigger("scheduleDeleteStarted");var e=ZEPHYR.Templates.Schedule.deleteScheduleConfirmationDialog({schedule:{id:this.$activeTrigger.attr("rel"),url:this.$activeTrigger.attr("href")}});g(e)}catch(f){console.log(f)}},submitHandler:function(b,c){a(b.target.action,this,c);b.preventDefault()},issueMsg:"thanks_issue_worklogged",onContentRefresh:function(){jQuery(".overflow-ellipsis").textOverflow()}});var a=function(c,b,d){AJS.$("#zephyr-je-delete-execution-link").addClass("zephyr-je-delete-execution-link");jQuery.ajax({url:c,type:"delete",contentType:"application/json",dataType:"json",success:function(f){b.hide();var g=b.$activeTrigger;var e=g.parent().parent();AJS.$("#project-panel-cycle-list-summary").trigger("scheduleDeleted");e.fadeOut(800,function(){e.remove()})},error:function(f){var e=AJS.$("#schedule-aui-message-bar"),h=f.responseText;var g=jQuery.parseJSON(f.responseText);if(f.status==403&&g.PERM_DENIED){h=g.PERM_DENIED}else{AJS.$(":submit",b.$form).removeAttr("disabled");b.$form.removeClass("submitting")}e.empty();AJS.messages.error(e,{title:"Error!",body:AJS.format("Unable to delete {0}, server returned error \u003cbr\u003e","schedule")+h,closeable:false});d()}})}};;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-schedule', location = 'includes/js/zephyr/schedule/zephyr-je-schedule.soy' */
// This file was automatically generated from zephyr-je-schedule.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace ZEPHYR.Templates.Schedule.
 */

if (typeof ZEPHYR == 'undefined') { var ZEPHYR = {}; }
if (typeof ZEPHYR.Templates == 'undefined') { ZEPHYR.Templates = {}; }
if (typeof ZEPHYR.Templates.Schedule == 'undefined') { ZEPHYR.Templates.Schedule = {}; }


ZEPHYR.Templates.Schedule.deleteScheduleConfirmationDialog = function(opt_data, opt_ignored) {
  return '<h2 class="dialog-title">' + soy.$$escapeHtml("Delete Test Execution(s)") + ': ' + soy.$$escapeHtml(opt_data.schedule.id) + '</h2>' + ZEPHYR.About.evalMessage(null) + '<form class="aui" action="' + soy.$$escapeHtml(opt_data.schedule.url) + '" method="delete"><div class="form-body"><div id="schedule-aui-message-bar"><div class="aui-message warning"><span class="aui-icon icon-warning"></span>' + soy.$$escapeHtml("Deleting this test execution will delete all related execution information and attachments. It will be removed from the test cycle it belongs to and this will affect the metrics too. This action cannot be reversed.") + '</div></div><label for="unresolved-ignore" id="unresolved-ignore-label">' + soy.$$escapeHtml("Are you sure you want to continue?") + '</label></div><div class="form-footer buttons-container"><div class="buttons"><input class="button" type="submit" id="cycle-delete-form-submit" value="' + soy.$$escapeHtml("Delete") + '" /><a href="#" class="cancel">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form>';
};
if (goog.DEBUG) {
  ZEPHYR.Templates.Schedule.deleteScheduleConfirmationDialog.soyTemplateName = 'ZEPHYR.Templates.Schedule.deleteScheduleConfirmationDialog';
}
;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-schedule', location = 'includes/js/zephyr/execution/execution-field-view.js' */
ZEPHYR.Schedule.executionFieldView=Backbone.View.extend({events:{"click .cancel":"cancelUpdate",keyup:"cancelOnKeyup","click .zfj-editable-field":"editField","click .zfj-editable-field a.assignee-user-hover":"_stopImmediatePropagation","focusout select":"saveFieldOnUpdate",mousedown:"saveSelectedText","click .zfj-field-button-save":"saveFieldOnClick"},initialize:function(a){this.decorate();this._editDelay=0},_stopImmediatePropagation:function(a){a.stopImmediatePropagation()},decorate:function(){this.$el.addClass("inactive")},_handleEditingStarted:function(a){this.$el.find(":input").prop("disabled",false);this.$el.find(":input:visible:first").focus();this.$el.find(".update_cancel-buttons").attr("tabindex",1)},_handleSavingStarted:function(){this.$el.find(":input").prop("disabled",true);ZEPHYR.Loading.showLoadingIndicator()},_displayWriteMode:function(){this.$el.addClass("inactive").removeClass("active");this.$el.find(".update_cancel-buttons").removeAttr("tabindex")},_displayEditMode:function(){this.options.elBeforeEdit.hide();this.options.elOnEdit.show();this.$el.removeClass("inactive").addClass("active");this._handleEditingStarted();this.containerHasFocus=true;this.trigger("editField")},focus:function(){this.$el.find(":input").removeAttr("disabled");var a=this.$el.find(":input:visible:first");a.focus()},cancelOnKeyup:function(a){if(a.keyCode===27){this.cancelUpdate(a)}},cancelUpdate:function(a){a.preventDefault();a.stopImmediatePropagation();this.containerHasFocus=false;this.trigger("cancelSaveField");AJS.$(this.options.elOnEdit).hide();AJS.$(this.options.elBeforeEdit).show();this._displayWriteMode()},saveFieldOnUpdate:function(b){var c;var d=150;var a=this;if(this.containerHasFocus){if(c){clearTimeout(c)}c=setTimeout(function(e){if(a.containerHasFocus&&a.$el.hasClass("active")){a.trigger("saveField",e);a._displayWriteMode()}},d,b)}},saveFieldOnClick:function(a){a.preventDefault();this.trigger("saveFieldOnClick",a)},editField:function(f){f.preventDefault();var e=AJS.$(f.target).is(".zfj-overlay-icon");var c=this.$el.hasClass("inactive");var d=this._getCurrentlySelectedText()===""&&!this._previouslySelectedText;var b=c&&(e||d);if(this._editDelay!==0){clearTimeout(this._editDelay);this._editDelay=0}else{if(b){var a=this;this._editDelay=setTimeout(function(){if(a.$el.hasClass("inactive")&&a._getCurrentlySelectedText()===""){a._displayEditMode()}a._editDelay=0},250)}}},_getCurrentlySelectedText:function(){if(jQuery(document.activeElement).is(":input")){return""}if(document.selection&&document.selection.createRange){return document.selection.createRange().text||""}if(window.getSelection){return window.getSelection().toString()}return""},updateUIOnAction:function(){ZEPHYR.Loading.hideLoadingIndicator();AJS.$(this.options.elOnEdit).hide();AJS.$(this.options.elBeforeEdit).show();this.$el.closest("#issuetable").siblings(".zfj-notifications").removeClass("active")},saveSelectedText:function(){this._previouslySelectedText=this._getCurrentlySelectedText()}});ZEPHYR.Schedule.performExecution=function(e,c,a,b){var d=jQuery.ajax({url:getRestURL()+"/execution/"+e+"/execute",type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify({status:c,changeAssignee:false}),success:function(f){var i=f;if(AJS.$("#executed-by-schedule-"+e).length>0){var g=AJS.$("#executed-by-schedule-"+e);var j=AJS.$("#executed-on-schedule-"+e);if(i.executedBy!=null){AJS.$("#executed-by-schedule-"+e).parent().show();var h="<a href='"+contextPath+"/secure/ViewProfile.jspa?name="+i.executedBy+"' rel='"+i.executedBy+"' class='user-hover'>"+AJS.escapeHtml(i.executedByDisplay)+"</a>";g.html("<strong>"+h+"</strong>");j.html("<strong>"+i.executedOn+"</strong>");g.fadeTo(1000,0.5,function(){AJS.$(this).css("opacity","");AJS.$(this).html(h)});j.fadeTo(1000,0.5,function(){AJS.$(this).css("opacity","");AJS.$(this).html(i.executedOn)})}else{g.html("");j.html("")}}if(ZEPHYR.Schedule&&ZEPHYR.Schedule.Execute&&ZEPHYR.Schedule.Execute.currentSchedule&&window.standalone){ZEPHYR.Schedule.Execute.currentSchedule.set(i)}if(a){a()}showExecStatusSuccessMessage()},error:function(g){ZEPHYR.Loading.hideLoadingIndicator();if(g&&g.status==403){var f={};try{f=jQuery.parseJSON(g.responseText)}catch(i){console.log(i)}if(f.PERM_DENIED){showPermissionError(g);return}}if(g&&typeof buildExecutionError=="function"){buildExecutionError(g)}else{if(g.status==401){var h=new AJS.Dialog({width:540,height:200,id:"dialog-error"});h.addHeader("Error!");h.addPanel("panel-1","<p></p>","dialog-error-panel-body");AJS.messages.error(AJS.$(".dialog-error-panel-body"),{body:"You do not have the permission to make this request. Login Required.",closeable:false});h.addLink("Close",function(j){j.hide()},"#");h.show()}}if(b){b()}}});d.error(function(f){if(f.status==403&&b){b()}})};ZEPHYR.Schedule.stripTextIfMoreThanAllowed=function(a,d,b,c){AJS.$(a).css("text-overflow","ellipsis");AJS.$(a).css("white-space","nowrap");if(c){AJS.$(a).attr("title",c)}};ZEPHYR.Schedule.getSourceInfoForStatusExecution=function(b){if(b){var d=b.split("-");var a=d[d.length-2]+"-"+d[d.length-1];var e=d[d.length-1];var c=d[d.length-2];return{sourceTag:a,sourceId:e,sourceType:c}}};ZEPHYR.Schedule.executionStatusView=ZEPHYR.Schedule.executionFieldView.extend({initialize:function(){_.bindAll(this,"removeDOMListeners");this.bind("saveField",this.saveExecutionStatus,this);this.bind("cancelSaveField",this.cancelStatusUpdate,this);ZEPHYR.Schedule.executionFieldView.prototype.initialize.call(this);this.source=ZEPHYR.Schedule.getSourceInfoForStatusExecution(this.options.elOnEdit.attr("id"));this.$el.on("remove",this.removeDOMListeners)},removeDOMListeners:function(){this.unbind();if(typeof this.stopListening=="function"){this.stopListening()}},cancelStatusUpdate:function(b){var a=AJS.$("#execution-field-current-status-"+this.source.sourceTag);AJS.$("#exec_status-"+this.source.sourceTag).val(a.find("a span").attr("rel"))},saveExecutionStatus:function(){var b=this.source;var c=12;var j=this;this._handleSavingStarted();var e=AJS.$("#execution-field-current-status-"+b.sourceTag);if(!e.length){e=AJS.$("a#executionStatus-labels-"+b.sourceTag)}var l=AJS.$("#exec_status-"+b.sourceTag);var k=e.find("a span").attr("rel")||AJS.$("a#executionStatus-labels-"+b.sourceTag).find("span").attr("rel");var f=AJS.$("#exec_status-"+b.sourceTag+" :selected").text();var g=AJS.$("#exec_status-"+b.sourceTag+" :selected").val();if(k==g){this.updateUIOnAction();console.log("Nothing saved, hence skipping save");return}var i=AJS.$("#exec_status-"+b.sourceTag+" :selected").attr("title");var d=AJS.$("#exec_status-"+b.sourceTag+" option:selected").attr("rel");var a=AJS.$("#current-execution-status-dd-"+b.sourceTag);a.css("background-color",d);a.html(f);e.find("a span").attr("rel",g);var h=f+": "+i;ZEPHYR.Schedule.stripTextIfMoreThanAllowed("#current-execution-status-dd-"+b.sourceTag,f,c,h);this.$el.closest("#issuetable").siblings(".zfj-notifications").addClass("active");ZEPHYR.Schedule.performExecution(b.sourceId,g,function(){var m=a.parents("li[id^='cycle']");if(m.length>0){AJS.$(m).trigger("refresh")}j.updateUIOnAction();if(typeof globalDispatcher!="undefined"){globalDispatcher.trigger("scheduleUpdated")}else{jQuery(document).trigger("ScheduleUpdated",b.sourceId)}},function(){var m=l.find("option[value="+k+"]");l.val(k);a.css("background-color",m.attr("rel"));a.html(m.text());e.find("a span").attr("rel",k);j.updateUIOnAction()})}});ZEPHYR.Schedule.executionAssigneeView=ZEPHYR.Schedule.executionFieldView.extend({initialize:function(){_.bindAll(this,"removeDOMListeners");this.bind("editField",this.attachExecutionAssignee,this);this.bind("saveFieldOnClick",this.saveExecutionAssignee,this);this.bind("cancelSaveField",this.cancelStatusUpdate,this);ZEPHYR.Schedule.executionFieldView.prototype.initialize.call(this);this.source=ZEPHYR.Schedule.getSourceInfoForStatusExecution(this.options.elOnEdit.attr("id"));this.$el.on("remove",this.removeDOMListeners)},removeDOMListeners:function(){this.unbind();if(typeof this.stopListening=="function"){this.stopListening()}},cancelStatusUpdate:function(b){var a=AJS.$("#execution-field-current-assignee-"+this.source.sourceTag);AJS.$("input[name=zephyr-je-execution-assignee-quick-"+this.source.sourceId+"-type]").removeAttr("checked");AJS.$("#exec_assignee-"+this.source.sourceTag).val(a.find("a span").attr("rel"));this.options.elOnEdit.find("#assignee-error").html("")},updateAssigneeUIOnSave:function(a){var b="&nbsp;";if(a.assignedToUserName){b='<a href="{$contextPath}/secure/ViewProfile.jspa?name='+a.assignedToUserName+'" rel="'+a.assignedToUserName+'" class="assignee-user-hover user-hover">'+a.assignedToDisplay+"</a>"}else{if(a.assignedToDisplay){b=a.assignedToDisplay}else{if(a.assignedTo){b=a.assignedTo}}}this.options.elBeforeEdit.find("#execution-assignee-label").html("<strong>"+b+"</strong>").attr("data-assigneeUserName",(a.assignedToUserName||null)).attr("data-assigneeType",(a.assigneeType||null));AJS.$("#executiondetails-refresh").trigger("click");this._displayWriteMode();this.updateUIOnAction()},saveExecutionAssignee:function(){var b=ZEPHYR.Execution.Assignee.getSelectedParams("zephyr-je-execution-assignee-quick-"+this.source.sourceId),a=this;if(!b){return}b.changeAssignee=true;var c=jQuery.ajax({url:getRestURL()+"/execution/"+a.source.sourceId+"/execute",type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(b),success:function(d){a.updateAssigneeUIOnSave(d)},error:function(d){AJS.$("#exec_assignee_cancel-schedule-"+a.source.sourceId).click();if(d&&typeof buildExecutionError=="function"){buildExecutionError(d)}else{if(d.status==401){var e=new AJS.Dialog({width:540,height:200,id:"dialog-error"});e.addHeader("Error!");e.addPanel("panel-1","<p></p>","dialog-error-panel-body");AJS.messages.error(AJS.$(".dialog-error-panel-body"),{body:"You do not have the permission to make this request. Login Required.",closeable:false});e.addLink("Close",function(f){f.hide()},"#");e.show()}}}});c.error(function(d){if(d.status==403){AJS.$("#exec_assignee_cancel-schedule-"+a.source.sourceId).click()}})},attachExecutionAssignee:function(){this.options.elOnEdit.css("display","inline-block").find("#assignee-error").html("");var b=this.options.elBeforeEdit.find("#execution-assignee-label").attr("data-assigneeType"),c=null;if(b){var a=this.options.elBeforeEdit.find("#execution-assignee-label").attr("data-assigneeUserName");c={assigneeType:b,assignee:a}}ZEPHYR.Execution.Assignee.init({id:"zephyr-je-execution-assignee-quick-"+this.source.sourceId,clear:true,assigneeeJSON:c});this.initFirstAttempt=false}});;
;
/* module-key = 'com.thed.zephyr.je:zephyr-wiki-editor', location = 'includes/js/zephyr/component/wiki/zephyr-wiki-editor.js' */
if(typeof ZEPHYR=="undefined"){ZEPHYR={}}ZEPHYR.wikiEditor=function(){};ZEPHYR.wikiEditor.displayWikiPreview=function(b,d){var c=b.find("textarea").val(),a=b.find("textarea").data("issue-key");b.find("textarea").hide();AJS.$.ajax({type:"POST",url:getRestURL()+"/util/render",data:JSON.stringify({rendererType:"zephyr-wiki-renderer",unrenderedMarkup:c,issueKey:a}),contentType:"application/json",success:function(e){if(d){d()}b.find(".wiki-preview-content").html(e.renderedHTML).show().addClass("active");ZEPHYR.wikiEditor.resizeWikiPreviewContent(b)}})};ZEPHYR.wikiEditor.resizeWikiPreviewContent=function(b){if(b.closest("tbody.ui-sortable").length>0){var a=b.find(".wiki-preview-content").height();b.height(a+17);b.find(".wiki-field-tools").css({"margin-top":a+2})}};ZEPHYR.wikiEditor.displayWikiEditor=function(a){a.find(".wiki-preview-content").hide().removeClass("active");a.find("textarea").show();a.find("textarea").focus();a.find("textarea").keyup()};ZEPHYR.wikiEditor._attachWikiToolEvents=function(a){a.find(".wiki-field-tools .zephyr-wiki-preview_link").bind("click",function(b){b.preventDefault();if(AJS.$(this).hasClass("fullscreen")){var c=AJS.$(this);c.find("span").removeClass("wiki-renderer-icon").addClass("icon loading");ZEPHYR.wikiEditor.displayWikiPreview(a,function(){c.removeClass("fullscreen").addClass("selected");c.find("span").addClass("wiki-renderer-icon").removeClass("icon loading")})}else{if(AJS.$(this).hasClass("selected")){AJS.$(this).removeClass("selected").addClass("fullscreen");ZEPHYR.wikiEditor.displayWikiEditor(a)}}})};ZEPHYR.wikiEditor._attachWikiTools=function(a){var b=ZEPHYR.Templates.WikiEditor.attachWikiTools();if(a.find(".textarea").length==0){a.append(b)}else{a.find(".textarea").after(b)}ZEPHYR.wikiEditor._attachWikiToolEvents(a)};ZEPHYR.wikiEditor.init=function(a){a.find(".wiki-preview-content").remove();a.find(".wiki-field-tools").remove();ZEPHYR.wikiEditor._attachWikiTools(a)};;
;
/* module-key = 'com.thed.zephyr.je:zephyr-wiki-editor', location = 'includes/js/zephyr/component/wiki/zephyr-wiki-editor.soy' */
// This file was automatically generated from zephyr-wiki-editor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace ZEPHYR.Templates.WikiEditor.
 */

if (typeof ZEPHYR == 'undefined') { var ZEPHYR = {}; }
if (typeof ZEPHYR.Templates == 'undefined') { ZEPHYR.Templates = {}; }
if (typeof ZEPHYR.Templates.WikiEditor == 'undefined') { ZEPHYR.Templates.WikiEditor = {}; }


ZEPHYR.Templates.WikiEditor.attachWikiTools = function(opt_data, opt_ignored) {
  return '<div class="wiki-preview-content"></div><div class="wiki-field-tools"><a class="zephyr-wiki-preview_link fullscreen" tabindex="-1" href="#" id="zephyr-wiki-preview_link" title="preview"><span class="aui-icon wiki-renderer-icon"></span></a><a class="help-link" id="viewHelp" tabindex="-1" href="' + soy.$$escapeHtml(contextPath) + '/secure/WikiRendererHelpAction.jspa?section=all" title="Get local help about wiki markup help" data-helplink="local"><span class="aui-icon aui-icon-small aui-iconfont-help"></span></a></div>';
};
if (goog.DEBUG) {
  ZEPHYR.Templates.WikiEditor.attachWikiTools.soyTemplateName = 'ZEPHYR.Templates.WikiEditor.attachWikiTools';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-jquery-ui-datepicker', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.datepicker.js' */
("undefined"===typeof window?global:window).__a7a65923fb26b390a3d740c47003eb41=function(){(function(d){function B(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass=
"ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",
minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};d.extend(this._defaults,this.regional[""]);this.dpDiv=C(d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function C(a){return a.bind("mouseout",
function(a){a=d(a.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");a.length&&a.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(b){b=d(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");if(!d.datepicker._isDisabledDatepicker(D.inline?a.parent()[0]:D.input[0])&&b.length)b.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
b.addClass("ui-state-hover"),b.hasClass("ui-datepicker-prev")&&b.addClass("ui-datepicker-prev-hover"),b.hasClass("ui-datepicker-next")&&b.addClass("ui-datepicker-next-hover")})}function z(a,b){d.extend(a,b);for(var c in b)if(null==b[c]||void 0==b[c])a[c]=b[c];return a}d.extend(d.ui,{datepicker:{version:"1.8.24"}});var x=(new Date).getTime(),D;d.extend(B.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},
setDefaults:function(a){z(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null,e;for(e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();f="div"==e||"span"==e;a.id||(this.uuid+=1,a.id="dp"+this.uuid);var j=this._newInst(d(a),f);j.settings=d.extend({},b||{},c||{});"input"==e?this._connectDatepicker(a,j):f&&this._inlineDatepicker(a,j)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,
"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:C(d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",
function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),d.data(a,"datepicker",b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();c&&(b.append=d('<span class="'+this._appendClass+'">'+c+"</span>"),a[e?"before":"after"](b.append));a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");("focus"==
c||"both"==c)&&a.focus(this._showDatepicker);if("button"==c||"both"==c){var c=this._get(b,"buttonText"),f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(""==f?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){if(d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0])d.datepicker._hideDatepicker();
else{d.datepicker._datepickerShowing&&d.datepicker._lastInput!=a[0]&&d.datepicker._hideDatepicker();d.datepicker._showDatepicker(a[0])}return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":
"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),d.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),
b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;a||(this.uuid+=1,this._dialogInput=d('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},d.data(this._dialogInput[0],"datepicker",a));z(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);
this._pos=f?f.length?f:[f.pageX,f.pageY]:null;this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);
d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");"input"==e?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==e||"span"==e)&&b.removeClass(this.markerClassName).empty()}},
_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if("input"==e)a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==e||"span"==e)b=b.children("."+this._inlineClass),b.children().removeClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled");this._disabledInputs=d.map(this._disabledInputs,
function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if("input"==e)a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==e||"span"==e)b=b.children("."+this._inlineClass),b.children().addClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled",
"disabled");this._disabledInputs=d.map(this._disabledInputs,function(b){return b==a?null:b});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(2==arguments.length&&"string"==typeof b)return"defaults"==
b?d.extend({},d.datepicker._defaults):e?"all"==b?d.extend({},e.settings):this._get(e,b):null;var f=b||{};"string"==typeof b&&(f={},f[b]=c);if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,!0),j=this._getMinMaxDate(e,"min"),g=this._getMinMaxDate(e,"max");z(e.settings,f);null!==j&&(void 0!==f.dateFormat&&void 0===f.minDate)&&(e.settings.minDate=this._formatDate(e,j));null!==g&&(void 0!==f.dateFormat&&void 0===f.maxDate)&&(e.settings.maxDate=this._formatDate(e,g));this._attachments(d(a),
e);this._autoSize(e);this._setDate(e,h);this._updateAlternate(e);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(a){var b=
d.datepicker._getInst(a.target),c=!0,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=!1;break;case 13:return c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv),c[0]&&d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]),(a=d.datepicker._get(b,"onSelect"))?(c=d.datepicker._formatDate(b),a.apply(b.input?b.input[0]:null,[c,b])):d.datepicker._hideDatepicker(),
!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&d.datepicker._clearDate(a.target);c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&d.datepicker._gotoToday(a.target);c=a.ctrlKey||a.metaKey;
break;case 37:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?1:-1,"D");c=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,-7,"D");c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?-1:1,"D");c=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,
a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,7,"D");c=a.ctrlKey||a.metaKey;break;default:c=!1}else 36==a.keyCode&&a.ctrlKey?d.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){var b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat")),c=String.fromCharCode(void 0==
a.charCode?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">c||!b||-1<b.indexOf(c)}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal)try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a)))d.datepicker._setDateFromField(a),d.datepicker._updateAlternate(a),d.datepicker._updateDatepicker(a)}catch(b){d.datepicker.log(b)}return!0},_showDatepicker:function(a){a=a.target||a;"input"!=a.nodeName.toLowerCase()&&
(a=d("input",a.parentNode)[0]);if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&(d.datepicker._curInst.dpDiv.stop(!0,!0),b&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0]));var c=d.datepicker._get(b,"beforeShow"),c=c?c.apply(a,[a,b]):{};if(!1!==c){z(b.settings,c);b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);d.datepicker._inDialog&&
(a.value="");d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(a),d.datepicker._pos[1]+=a.offsetHeight);var e=!1;d(a).parents().each(function(){e=e|d(this).css("position")=="fixed";return!e});e&&d.browser.opera&&(d.datepicker._pos[0]-=document.documentElement.scrollLeft,d.datepicker._pos[1]-=document.documentElement.scrollTop);c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);
c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){var c=d.datepicker._get(b,"showAnim"),f=d.datepicker._get(b,"duration"),h=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var c=d.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1);d.datepicker._datepickerShowing=
!0;if(d.effects&&d.effects[c])b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h);else b.dpDiv[c||"show"](c?f:null,h);(!c||!f)&&h();b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}}},_updateDatepicker:function(a){this.maxRows=4;var b=d.datepicker._getBorders(a.dpDiv);D=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);var c=a.dpDiv.find("iframe.ui-datepicker-cover");c.length&&c.css({left:-b[0],top:-b[1],width:a.dpDiv.outerWidth(),
height:a.dpDiv.outerHeight()});a.dpDiv.find("."+this._dayOverClass+" a").mouseover();b=this._getNumberOfMonths(a);c=b[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<c&&a.dpDiv.addClass("ui-datepicker-multi-"+c).css("width",17*c+"em");a.dpDiv[(1!=b[0]||1!=b[1]?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&(d.datepicker._datepickerShowing&&
a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement)&&a.input.focus();if(a.yearshtml){var e=a.yearshtml;setTimeout(function(){e===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);e=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=
a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,j=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+(c?0:d(document).scrollLeft()),i=document.documentElement.clientHeight+(c?0:d(document).scrollTop());b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+j?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,
b.top+f>i&&i>f?Math.abs(f+j):0);return b},_findPos:function(a){for(var b=this._getInst(a),b=this._get(b,"isRTL");a&&("hidden"==a.type||1!=a.nodeType||d.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(b&&!(a&&b!=d.data(a,"datepicker"))&&this._datepickerShowing){var a=this._get(b,"showAnim"),c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b)};if(d.effects&&d.effects[a])b.dpDiv.hide(a,
d.datepicker._get(b,"showOptions"),c,e);else b.dpDiv["slideDown"==a?"slideUp":"fadeIn"==a?"fadeOut":"hide"](a?c:null,e);a||e();this._datepickerShowing=!1;(a=this._get(b,"onClose"))&&a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(d.datepicker._curInst){var a=d(a.target),b=d.datepicker._getInst(a[0]);(a[0].id!=d.datepicker._mainDivId&&0==a.parents("#"+d.datepicker._mainDivId).length&&!a.hasClass(d.datepicker.markerClassName)&&!a.closest("."+d.datepicker._triggerClass).length&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)||a.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!=b)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var a=d(a),e=this._getInst(a[0]);
this._isDisabledDatepicker(a[0])||(this._adjustInstDate(e,b+("M"==c?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var a=d(a),b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay)b.selectedDay=b.currentDay,b.drawMonth=b.selectedMonth=b.currentMonth,b.drawYear=b.selectedYear=b.currentYear;else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},
_selectMonthYear:function(a,b,c){var a=d(a),e=this._getInst(a[0]);e["selected"+("M"==c?"Month":"Year")]=e["draw"+("M"==c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_selectDay:function(a,b,c,e){var f=d(a);!d(e).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(f[0])&&(f=this._getInst(f[0]),f.selectedDay=f.currentDay=d("a",e).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,
f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){var c=d(a),c=this._getInst(c[0]),b=null!=b?b:this._formatDate(c);c.input&&c.input.val(b);this._updateAlternate(c);var e=this._get(c,"onSelect");e?e.apply(c.input?c.input[0]:null,[b,c]):c.input&&c.input.trigger("change");c.inline?this._updateDatepicker(c):(this._hideDatepicker(),this._lastInput=c.input[0],"object"!=typeof c.input[0]&&c.input.focus(),this._lastInput=
null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(a,b,c){if(null==
a||null==b)throw"Invalid arguments";b="object"==typeof b?b.toString():b+"";if(""==b)return null;for(var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,j=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,i=c=-1,p=-1,r=-1,k=!1,m=function(b){(b=y+1<a.length&&
a.charAt(y+1)==b)&&y++;return b},l=function(a){var c=m(a),a=RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a&&c?4:"o"==a?3:2)+"}"),a=b.substring(u).match(a);if(!a)throw"Missing number at position "+u;u+=a[0].length;return parseInt(a[0],10)},n=function(a,c,e){var a=d.map(m(a)?e:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;d.each(a,function(a,c){var d=c[1];if(b.substr(u,d.length).toLowerCase()==d.toLowerCase())return f=c[0],u+=d.length,!1});if(-1!=f)return f+
1;throw"Unknown name at position "+u;},s=function(){if(b.charAt(u)!=a.charAt(y))throw"Unexpected literal at position "+u;u++},u=0,y=0;y<a.length;y++)if(k)"'"==a.charAt(y)&&!m("'")?k=!1:s();else switch(a.charAt(y)){case "d":p=l("d");break;case "D":n("D",f,h);break;case "o":r=l("o");break;case "m":i=l("m");break;case "M":i=n("M",j,g);break;case "y":c=l("y");break;case "@":var v=new Date(l("@")),c=v.getFullYear(),i=v.getMonth()+1,p=v.getDate();break;case "!":v=new Date((l("!")-this._ticksTo1970)/1E4);
c=v.getFullYear();i=v.getMonth()+1;p=v.getDate();break;case "'":m("'")?s():k=!0;break;default:s()}if(u<b.length)throw"Extra/unparsed characters found in date: "+b.substring(u);-1==c?c=(new Date).getFullYear():100>c&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100));if(-1<r){i=1;p=r;do{e=this._getDaysInMonth(c,i-1);if(p<=e)break;i++;p-=e}while(1)}v=this._daylightSavingAdjust(new Date(c,i-1,p));if(v.getFullYear()!=c||v.getMonth()+1!=i||v.getDate()!=p)throw"Invalid date";return v},
ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,
c=(c?c.monthNames:null)||this._defaults.monthNames,j=function(b){(b=r+1<a.length&&a.charAt(r+1)==b)&&r++;return b},g=function(a,b,c){b=""+b;if(j(a))for(;b.length<c;)b="0"+b;return b},i="",p=!1;if(b)for(var r=0;r<a.length;r++)if(p)"'"==a.charAt(r)&&!j("'")?p=!1:i+=a.charAt(r);else switch(a.charAt(r)){case "d":i+=g("d",b.getDate(),2);break;case "D":var k;k=b.getDay();var m=d,l=f;k=j("D")?l[k]:m[k];i+=k;break;case "o":i+=g("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-
(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":i+=g("m",b.getMonth()+1,2);break;case "M":k=b.getMonth();m=h;l=c;k=j("M")?l[k]:m[k];i+=k;break;case "y":i+=j("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":i+=b.getTime();break;case "!":i+=1E4*b.getTime()+this._ticksTo1970;break;case "'":j("'")?i+="'":p=!0;break;default:i+=a.charAt(r)}return i},_possibleChars:function(a){for(var b="",c=!1,d=function(b){(b=f+1<a.length&&a.charAt(f+1)==b)&&f++;return b},
f=0;f<a.length;f++)if(c)"'"==a.charAt(f)&&!d("'")?c=!1:b+=a.charAt(f);else switch(a.charAt(f)){case "d":case "m":case "y":case "@":b+="0123456789";break;case "D":case "M":return null;case "'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(f)}return b},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var j=
this._getFormatConfig(a);try{f=this.parseDate(c,d,j)||h}catch(g){this.log(g),d=b?"":d}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=d?f.getDate():0;a.currentMonth=d?f.getMonth():0;a.currentYear=d?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){if(null==b||""===b)b=c;else{var e;if("string"==
typeof b)a:{try{e=d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),b,d.datepicker._getFormatConfig(a));break a}catch(f){}var h=(b.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,a=h.getFullYear();e=h.getMonth();for(var h=h.getDate(),j=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,g=j.exec(b);g;){switch(g[2]||"d"){case "d":case "D":h+=parseInt(g[1],10);break;case "w":case "W":h+=7*parseInt(g[1],10);break;case "m":case "M":e+=parseInt(g[1],10);h=Math.min(h,d.datepicker._getDaysInMonth(a,
e));break;case "y":case "Y":a+=parseInt(g[1],10),h=Math.min(h,d.datepicker._getDaysInMonth(a,e))}g=j.exec(b)}e=new Date(a,e,h)}else"number"==typeof b?isNaN(b)?b=c:(a=new Date,a.setDate(a.getDate()+b),b=a):b=new Date(b.getTime()),e=b;b=e}if(b=b&&"Invalid Date"==b.toString()?c:b)b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,
b,c){var d=!b,f=a.selectedMonth,h=a.selectedYear,b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();(f!=a.selectedMonth||h!=a.selectedYear)&&!c&&this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay))},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){d(this).bind(this.getAttribute("data-event"),{prev:function(){window["DP_jQuery_"+x].datepicker._adjustDate(c,-b,"M")},next:function(){window["DP_jQuery_"+x].datepicker._adjustDate(c,+b,"M")},hide:function(){window["DP_jQuery_"+x].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+x].datepicker._gotoToday(c)},selectDay:function(){window["DP_jQuery_"+
x].datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return!1},selectMonth:function(){window["DP_jQuery_"+x].datepicker._selectMonthYear(c,this,"M");return!1},selectYear:function(){window["DP_jQuery_"+x].datepicker._selectMonthYear(c,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b=new Date,b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate())),c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),
f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),j=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),p=1!=j[0]||1!=j[1],r=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),k=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),g=a.drawMonth-g,l=a.drawYear;0>g&&(g+=12,l--);if(m)for(var n=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-j[0]*j[1]+1,m.getDate())),
n=k&&n<k?k:n;this._daylightSavingAdjust(new Date(l,g,1))>n;)g--,0>g&&(g=11,l--);a.drawMonth=g;a.drawYear=l;var n=this._get(a,"prevText"),n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(l,g-i,1)),this._getFormatConfig(a)),n=this._canAdjustMonth(a,-1,l,g)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+
n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>",s=this._get(a,"nextText"),s=!h?s:this.formatDate(s,this._daylightSavingAdjust(new Date(l,g+i,1)),this._getFormatConfig(a)),f=this._canAdjustMonth(a,1,l,g)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+
(c?"w":"e")+'">'+s+"</span></a>",i=this._get(a,"currentText"),s=this._get(a,"gotoCurrent")&&a.currentDay?r:b,i=!h?i:this.formatDate(i,s,this._getFormatConfig(a)),h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(a,"closeText")+"</button>":"",e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,s)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+
i+"</button>":"")+(c?"":h)+"</div>":"",h=parseInt(this._get(a,"firstDay"),10),h=isNaN(h)?0:h,i=this._get(a,"showWeek"),s=this._get(a,"dayNames");this._get(a,"dayNamesShort");var u=this._get(a,"dayNamesMin"),y=this._get(a,"monthNames"),v=this._get(a,"monthNamesShort"),x=this._get(a,"beforeShowDay"),z=this._get(a,"showOtherMonths"),D=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var B=this._getDefaultDate(a),E="",F=0;F<j[0];F++){var I="";this.maxRows=4;for(var G=0;G<j[1];G++){var C=
this._daylightSavingAdjust(new Date(l,g,a.selectedDay)),t=" ui-corner-all",q="";if(p){q+='<div class="ui-datepicker-group';if(1<j[1])switch(G){case 0:q+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case j[1]-1:q+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:q+=" ui-datepicker-group-middle",t=""}q+='">'}for(var q=q+('<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&0==F?c?f:n:"")+(/all|right/.test(t)&&
0==F?c?n:f:"")+this._generateMonthYearHeader(a,g,l,k,m,0<F||0<G,y,v)+'</div><table class="ui-datepicker-calendar"><thead><tr>'),w=i?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"",t=0;7>t;t++)var o=(t+h)%7,w=w+("<th"+(5<=(t+h+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+s[o]+'">'+u[o]+"</span></th>");q+=w+"</tr></thead><tbody>";w=this._getDaysInMonth(l,g);l==a.selectedYear&&g==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,w));t=(this._getFirstDayOfMonth(l,
g)-h+7)%7;w=Math.ceil((t+w)/7);this.maxRows=w=p?this.maxRows>w?this.maxRows:w:w;for(var o=this._daylightSavingAdjust(new Date(l,g,1-t)),L=0;L<w;L++){for(var q=q+"<tr>",J=!i?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(o)+"</td>",t=0;7>t;t++){var H=x?x.apply(a.input?a.input[0]:null,[o]):[!0,""],A=o.getMonth()!=g,K=A&&!D||!H[0]||k&&o<k||m&&o>m,J=J+('<td class="'+(5<=(t+h+6)%7?" ui-datepicker-week-end":"")+(A?" ui-datepicker-other-month":"")+(o.getTime()==C.getTime()&&g==a.selectedMonth&&
a._keyEvent||B.getTime()==o.getTime()&&B.getTime()==C.getTime()?" "+this._dayOverClass:"")+(K?" "+this._unselectableClass+" ui-state-disabled":"")+(A&&!z?"":" "+H[1]+(o.getTime()==r.getTime()?" "+this._currentClass:"")+(o.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!A||z)&&H[2]?' title="'+H[2]+'"':"")+(K?"":' data-handler="selectDay" data-event="click" data-month="'+o.getMonth()+'" data-year="'+o.getFullYear()+'"')+">"+(A&&!z?"&#xa0;":K?'<span class="ui-state-default">'+o.getDate()+"</span>":
'<a class="ui-state-default'+(o.getTime()==b.getTime()?" ui-state-highlight":"")+(o.getTime()==r.getTime()?" ui-state-active":"")+(A?" ui-priority-secondary":"")+'" href="#">'+o.getDate()+"</a>")+"</td>");o.setDate(o.getDate()+1);o=this._daylightSavingAdjust(o)}q+=J+"</tr>"}g++;11<g&&(g=0,l++);q+="</tbody></table>"+(p?"</div>"+(0<j[0]&&G==j[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");I+=q}E+=I}E+=e+(d.browser.msie&&7>parseInt(d.browser.version,10)&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':
"");a._keyEvent=!1;return E},_generateMonthYearHeader:function(a,b,c,d,f,h,j,g){var i=this._get(a,"changeMonth"),p=this._get(a,"changeYear"),r=this._get(a,"showMonthAfterYear"),k='<div class="ui-datepicker-title">',m="";if(h||!i)m+='<span class="ui-datepicker-month">'+j[b]+"</span>";else{for(var j=d&&d.getFullYear()==c,l=f&&f.getFullYear()==c,m=m+'<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">',n=0;12>n;n++)if((!j||n>=d.getMonth())&&(!l||n<=f.getMonth()))m+='<option value="'+
n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>";m+="</select>"}r||(k+=m+(h||!i||!p?"&#xa0;":""));if(!a.yearshtml)if(a.yearshtml="",h||!p)k+='<span class="ui-datepicker-year">'+c+"</span>";else{var g=this._get(a,"yearRange").split(":"),s=(new Date).getFullYear(),j=function(a){a=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?s+parseInt(a,10):parseInt(a,10);return isNaN(a)?s:a},b=j(g[0]),g=Math.max(b,j(g[1]||"")),b=d?Math.max(b,d.getFullYear()):b,g=f?Math.min(g,f.getFullYear()):
g;for(a.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';b<=g;b++)a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";a.yearshtml+="</select>";k+=a.yearshtml;a.yearshtml=null}k+=this._get(a,"yearSuffix");r&&(k+=(h||!i||!p?"&#xa0;":"")+m);return k+"</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"==c?b:0),f=a.drawMonth+("M"==c?b:0),b=Math.min(a.selectedDay,this._getDaysInMonth(d,f))+("D"==c?b:0),d=this._restrictMinMax(a,
this._daylightSavingAdjust(new Date(d,f,b)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();("M"==c||"Y"==c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),c=c&&b<c?c:b;return d&&c>d?d:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,
"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var f=this._getNumberOfMonths(a),c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:f[0]*f[1]),1));0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),
c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,
"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!this.length)return this;d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv),
d.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return"string"==typeof a&&("isDisabled"==a||"getDate"==a||"widget"==a)||"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new B;d.datepicker.initialized=!1;d.datepicker.uuid=
(new Date).getTime();d.datepicker.version="1.8.24";window["DP_jQuery_"+x]=d})(jQuery);return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-position', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.position.js' */
(function(c){c.ui=c.ui||{};var k=/left|center|right/,l=/top|center|bottom/,n=c.fn.position,o=c.fn.offset;c.fn.position=function(b){if(!b||!b.of)return n.apply(this,arguments);var b=c.extend({},b),a=c(b.of),d=a[0],g=(b.collision||"flip").split(" "),f=b.offset?b.offset.split(" "):[0,0],h,j,e;9===d.nodeType?(h=a.width(),j=a.height(),e={top:0,left:0}):d.setTimeout?(h=a.width(),j=a.height(),e={top:a.scrollTop(),left:a.scrollLeft()}):d.preventDefault?(b.at="left top",h=j=0,e={top:b.of.pageY,left:b.of.pageX}):
(h=a.outerWidth(),j=a.outerHeight(),e=a.offset());c.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=k.test(a[0])?a.concat(["center"]):l.test(a[0])?["center"].concat(a):["center","center"]);a[0]=k.test(a[0])?a[0]:"center";a[1]=l.test(a[1])?a[1]:"center";b[this]=a});1===g.length&&(g[1]=g[0]);f[0]=parseInt(f[0],10)||0;1===f.length&&(f[1]=f[0]);f[1]=parseInt(f[1],10)||0;"right"===b.at[0]?e.left+=h:"center"===b.at[0]&&(e.left+=h/2);"bottom"===b.at[1]?e.top+=j:"center"===b.at[1]&&
(e.top+=j/2);e.left+=f[0];e.top+=f[1];return this.each(function(){var a=c(this),d=a.outerWidth(),m=a.outerHeight(),k=parseInt(c.curCSS(this,"marginLeft",true))||0,l=parseInt(c.curCSS(this,"marginTop",true))||0,n=d+k+(parseInt(c.curCSS(this,"marginRight",true))||0),o=m+l+(parseInt(c.curCSS(this,"marginBottom",true))||0),i=c.extend({},e),p;if(b.my[0]==="right")i.left=i.left-d;else if(b.my[0]==="center")i.left=i.left-d/2;if(b.my[1]==="bottom")i.top=i.top-m;else if(b.my[1]==="center")i.top=i.top-m/2;
p={left:i.left-k,top:i.top-l};c.each(["left","top"],function(a,e){if(c.ui.position[g[a]])c.ui.position[g[a]][e](i,{targetWidth:h,targetHeight:j,elemWidth:d,elemHeight:m,collisionPosition:p,collisionWidth:n,collisionHeight:o,offset:f,my:b.my,at:b.at})});c.fn.bgiframe&&a.bgiframe();a.offset(c.extend(i,{using:b.using}))})};c.ui.position={fit:{left:function(b,a){var d=c(window),d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft();b.left=0<d?b.left-d:Math.max(b.left-a.collisionPosition.left,
b.left)},top:function(b,a){var d=c(window),d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop();b.top=0<d?b.top-d:Math.max(b.top-a.collisionPosition.top,b.top)}},flip:{left:function(b,a){if("center"!==a.at[0]){var d=c(window),d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft(),g="left"===a.my[0]?-a.elemWidth:"right"===a.my[0]?a.elemWidth:0,f="left"===a.at[0]?a.targetWidth:-a.targetWidth,h=-2*a.offset[0];b.left+=0>a.collisionPosition.left?g+f+h:0<d?g+f+h:0}},top:function(b,
a){if("center"!==a.at[1]){var d=c(window),d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop(),g="top"===a.my[1]?-a.elemHeight:"bottom"===a.my[1]?a.elemHeight:0,f="top"===a.at[1]?a.targetHeight:-a.targetHeight,h=-2*a.offset[1];b.top+=0>a.collisionPosition.top?g+f+h:0<d?g+f+h:0}}}};c.offset.setOffset||(c.offset.setOffset=function(b,a){/static/.test(c.curCSS(b,"position"))&&(b.style.position="relative");var d=c(b),g=d.offset(),f=parseInt(c.curCSS(b,"top",!0),10)||0,h=parseInt(c.curCSS(b,
"left",!0),10)||0,g={top:a.top-g.top+f,left:a.left-g.left+h};"using"in a?a.using.call(b,g):d.css(g)},c.fn.offset=function(b){var a=this[0];return!a||!a.ownerDocument?null:b?c.isFunction(b)?this.each(function(a){c(this).offset(b.call(this,a,c(this).offset()))}):this.each(function(){c.offset.setOffset(this,b)}):o.call(this)});c.curCSS||(c.curCSS=c.css)})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-interactions', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.droppable.js' */
(function(d){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,b=a.accept;this.isover=0;this.isout=1;this.accept=d.isFunction(b)?b:function(a){return a.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[];d.ui.ddmanager.droppables[a.scope].push(this);
a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var a=d.ui.ddmanager.droppables[this.options.scope],b=0;b<a.length;b++)a[b]==this&&a.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,b){"accept"==a&&(this.accept=d.isFunction(b)?b:function(a){return a.is(b)});d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=d.ui.ddmanager.current;if(b&&(b.currentItem||b.element)[0]!=this.element[0])if(this.accept.call(this.element[0],b.currentItem||b.element))this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",
a,this.ui(b))},_out:function(a){var b=d.ui.ddmanager.current;if(b&&(b.currentItem||b.element)[0]!=this.element[0])if(this.accept.call(this.element[0],b.currentItem||b.element))this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(b))},_drop:function(a,b){var c=b||d.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return!1;var f=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var a=d.data(this,
"droppable");if(a.options.greedy&&!a.options.disabled&&a.options.scope==c.options.scope&&a.accept.call(a.element[0],c.currentItem||c.element)&&d.ui.intersect(c,d.extend(a,{offset:a.element.offset()}),a.options.tolerance))return f=!0,!1});return f?!1:this.accept.call(this.element[0],c.currentItem||c.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(c)),this.element):
!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});d.extend(d.ui.droppable,{version:"1.8.24"});d.ui.intersect=function(a,b,c){if(!b.offset)return!1;var f=(a.positionAbs||a.position.absolute).left,g=f+a.helperProportions.width,e=(a.positionAbs||a.position.absolute).top,h=e+a.helperProportions.height,i=b.offset.left,k=i+b.proportions.width,j=b.offset.top,l=j+b.proportions.height;switch(c){case "fit":return i<=f&&g<=k&&j<=e&&h<=l;
case "intersect":return i<f+a.helperProportions.width/2&&g-a.helperProportions.width/2<k&&j<e+a.helperProportions.height/2&&h-a.helperProportions.height/2<l;case "pointer":return d.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,j,i,b.proportions.height,b.proportions.width);case "touch":return(e>=j&&e<=l||h>=j&&h<=l||e<j&&h>l)&&(f>=i&&f<=k||g>=i&&g<=k||f<i&&g>k);default:return!1}};
d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c=d.ui.ddmanager.droppables[a.options.scope]||[],f=b?b.type:null,g=(a.currentItem||a.element).find(":data(droppable)").andSelf(),e=0;a:for(;e<c.length;e++)if(!(c[e].options.disabled||a&&!c[e].accept.call(c[e].element[0],a.currentItem||a.element))){for(var h=0;h<g.length;h++)if(g[h]==c[e].element[0]){c[e].proportions.height=0;continue a}c[e].visible="none"!=c[e].element.css("display");c[e].visible&&("mousedown"==
f&&c[e]._activate.call(c[e],b),c[e].offset=c[e].element.offset(),c[e].proportions={width:c[e].element[0].offsetWidth,height:c[e].element[0].offsetHeight})}},drop:function(a,b){var c=!1;d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(this.options&&(!this.options.disabled&&(this.visible&&d.ui.intersect(a,this,this.options.tolerance))&&(c=this._drop.call(this,b)||c),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)))this.isout=1,this.isover=
0,this._deactivate.call(this,b)});return c},dragStart:function(a,b){a.element.parents(":not(body,html)").bind("scroll.droppable",function(){a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,b)})},drag:function(a,b){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,b);d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var c=d.ui.intersect(a,this,this.options.tolerance);if(c=!c&&1==this.isover?"isout":c&&0==
this.isover?"isover":null){var f;if(this.options.greedy){var g=this.options.scope,e=this.element.parents(":data(droppable)").filter(function(){return d.data(this,"droppable").options.scope===g});e.length&&(f=d.data(e[0],"droppable"),f.greedyChild="isover"==c?1:0)}f&&"isover"==c&&(f.isover=0,f.isout=1,f._out.call(f,b));this[c]=1;this["isout"==c?"isover":"isout"]=0;this["isover"==c?"_over":"_out"].call(this,b);f&&"isout"==c&&(f.isout=0,f.isover=1,f._over.call(f,b))}}})},dragStop:function(a,b){a.element.parents(":not(body,html)").unbind("scroll.droppable");
a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,b)}}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-interactions', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.resizable.js' */
(function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var b=this,a=this.options;this.element.addClass("ui-resizable");e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],
_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=
!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,
display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=a.handles||(!e(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var c=this.handles.split(",");this.handles=
{};for(var d=0;d<c.length;d++){var f=e.trim(c[d]),g=e('<div class="ui-resizable-handle ui-resizable-'+f+'"></div>');g.css({zIndex:a.zIndex});"se"==f&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[f]=".ui-resizable-"+f;this.element.append(g)}}this._renderAxis=function(a){var a=a||this.element,b;for(b in this.handles){this.handles[b].constructor==String&&(this.handles[b]=e(this.handles[b],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var c=
e(this.handles[b],this.element),d=0,d=/sw|ne|nw|se|n|s/.test(b)?c.outerHeight():c.outerWidth(),c=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join("");a.css(c,d);this._proportionallyResize()}e(this.handles[b])}};this._renderAxis(this.element);this._handles=e(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=
a&&a[1]?a[1]:"se"}});a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){if(!a.disabled){e(this).removeClass("ui-resizable-autohide");b._handles.show()}},function(){if(!a.disabled&&!b.resizing){e(this).addClass("ui-resizable-autohide");b._handles.hide()}}));this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(a){e(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){b(this.element);var a=this.element;a.after(this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(b){var a=!1,c;for(c in this.handles)e(this.handles[c])[0]==b.target&&(a=!0);return!this.options.disabled&&a},_mouseStart:function(b){var a=this.options,c=this.element.position(),
d=this.element;this.resizing=!0;this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()};(d.is(".ui-draggable")||/absolute/.test(d.css("position")))&&d.css({position:"absolute",top:c.top,left:c.left});this._renderProxy();var c=j(this.helper.css("left")),f=j(this.helper.css("top"));a.containment&&(c+=e(a.containment).scrollLeft()||0,f+=e(a.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:c,top:f};this.size=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:
{width:d.width(),height:d.height()};this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalPosition={left:c,top:f};this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-d.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1;a=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor",
"auto"==a?this.axis+"-resize":a);d.addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var a=this.helper,c=this.originalMousePosition,d=this._change[this.axis];if(!d)return!1;c=d.apply(this,[b,b.pageX-c.left||0,b.pageY-c.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)c=this._updateRatio(c,b);c=this._respectSize(c,b);this._propagate("resize",b);a.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+
"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(c);this._trigger("resize",b,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var a=this.options;if(this._helper){var c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),c=d&&e.ui.hasScroll(c[0],"left")?0:this.sizeDiff.height,d=d?0:this.sizeDiff.width,d={width:this.helper.width()-d,height:this.helper.height()-c},c=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,f=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;a.animate||this.element.css(e.extend(d,{top:f,left:c}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!a.animate&&this._proportionallyResize()}e("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(b){var a=
this.options,c,d,e,a={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:Infinity,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:Infinity};if(this._aspectRatio||b)if(b=a.minHeight*this.aspectRatio,d=a.minWidth/this.aspectRatio,c=a.maxHeight*this.aspectRatio,e=a.maxWidth/this.aspectRatio,b>a.minWidth&&(a.minWidth=b),d>a.minHeight&&(a.minHeight=d),c<a.maxWidth&&(a.maxWidth=c),e<a.maxHeight)a.maxHeight=e;this._vBoundaries=a},_updateCache:function(b){this.offset=
this.helper.offset();i(b.left)&&(this.position.left=b.left);i(b.top)&&(this.position.top=b.top);i(b.height)&&(this.size.height=b.height);i(b.width)&&(this.size.width=b.width)},_updateRatio:function(b){var a=this.position,c=this.size,d=this.axis;i(b.height)?b.width=b.height*this.aspectRatio:i(b.width)&&(b.height=b.width/this.aspectRatio);"sw"==d&&(b.left=a.left+(c.width-b.width),b.top=null);"nw"==d&&(b.top=a.top+(c.height-b.height),b.left=a.left+(c.width-b.width));return b},_respectSize:function(b){var a=
this._vBoundaries,c=this.axis,d=i(b.width)&&a.maxWidth&&a.maxWidth<b.width,e=i(b.height)&&a.maxHeight&&a.maxHeight<b.height,g=i(b.width)&&a.minWidth&&a.minWidth>b.width,h=i(b.height)&&a.minHeight&&a.minHeight>b.height;g&&(b.width=a.minWidth);h&&(b.height=a.minHeight);d&&(b.width=a.maxWidth);e&&(b.height=a.maxHeight);var k=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,m=/sw|nw|w/.test(c),c=/nw|ne|n/.test(c);g&&m&&(b.left=k-a.minWidth);d&&m&&(b.left=k-a.maxWidth);
h&&c&&(b.top=l-a.minHeight);e&&c&&(b.top=l-a.maxHeight);(a=!b.width&&!b.height)&&!b.left&&b.top?b.top=null:a&&(!b.top&&b.left)&&(b.left=null);return b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,a=0;a<this._proportionallyResizeElements.length;a++){var c=this._proportionallyResizeElements[a];if(!this.borderDif){var d=[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")],f=[c.css("paddingTop"),
c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];this.borderDif=e.map(d,function(a,b){var c=parseInt(a,10)||0,d=parseInt(f[b],10)||0;return c+d})}if(!e.browser.msie||!e(b).is(":hidden")&&!e(b).parents(":hidden").length)c.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');
var a=e.browser.msie&&7>e.browser.version,c=a?1:0,a=a?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-c+"px",top:this.elementOffset.top-c+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(b,a){return{width:this.originalSize.width+a}},w:function(b,a){return{left:this.originalPosition.left+a,width:this.originalSize.width-
a}},n:function(b,a,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(b,a,c){return{height:this.originalSize.height+c}},se:function(b,a,c){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,a,c]))},sw:function(b,a,c){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,a,c]))},ne:function(b,a,c){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,a,c]))},nw:function(b,a,
c){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,a,c]))}},_propagate:function(b,a){e.ui.plugin.call(this,b,[a,this.ui()]);"resize"!=b&&this._trigger(b,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.extend(e.ui.resizable,{version:"1.8.24"});e.ui.plugin.add("resizable","alsoResize",
{start:function(){var b=e(this).data("resizable").options,a=function(a){e(a).each(function(){var a=e(this);a.data("resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"==typeof b.alsoResize&&!b.alsoResize.parentNode?b.alsoResize.length?(b.alsoResize=b.alsoResize[0],a(b.alsoResize)):e.each(b.alsoResize,function(b){a(b)}):a(b.alsoResize)},resize:function(b,a){var c=e(this).data("resizable"),d=c.options,
f=c.originalSize,g=c.originalPosition,h={height:c.size.height-f.height||0,width:c.size.width-f.width||0,top:c.position.top-g.top||0,left:c.position.left-g.left||0},i=function(b,c){e(b).each(function(){var b=e(this),d=e(this).data("resizable-alsoresize"),f={},g=c&&c.length?c:b.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(g,function(a,b){var c=(d[b]||0)+(h[b]||0);c&&0<=c&&(f[b]=c||null)});b.css(f)})};"object"==typeof d.alsoResize&&!d.alsoResize.nodeType?
e.each(d.alsoResize,function(a,b){i(a,b)}):i(d.alsoResize)},stop:function(){e(this).removeData("resizable-alsoresize")}});e.ui.plugin.add("resizable","animate",{stop:function(b){var a=e(this).data("resizable"),c=a.options,d=a._proportionallyResizeElements,f=d.length&&/textarea/i.test(d[0].nodeName),g=f&&e.ui.hasScroll(d[0],"left")?0:a.sizeDiff.height,f={width:a.size.width-(f?0:a.sizeDiff.width),height:a.size.height-g},g=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||
null,h=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||null;a.element.animate(e.extend(f,h&&g?{top:h,left:g}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var c={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),10)};d&&d.length&&e(d[0]).css({width:c.width,height:c.height});a._updateCache(c);a._propagate("resize",b)}})}});e.ui.plugin.add("resizable",
"containment",{start:function(){var b=e(this).data("resizable"),a=b.element,c=b.options.containment;if(a=c instanceof e?c.get(0):/parent/.test(c)?a.parent().get(0):c)if(b.containerElement=e(a),/document/.test(c)||c==document)b.containerOffset={left:0,top:0},b.containerPosition={left:0,top:0},b.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var d=e(a),f=[];e(["Top","Right","Left","Bottom"]).each(function(a,
b){f[a]=j(d.css("padding"+b))});b.containerOffset=d.offset();b.containerPosition=d.position();b.containerSize={height:d.innerHeight()-f[3],width:d.innerWidth()-f[1]};var c=b.containerOffset,g=b.containerSize.height,h=b.containerSize.width,h=e.ui.hasScroll(a,"left")?a.scrollWidth:h,g=e.ui.hasScroll(a)?a.scrollHeight:g;b.parentData={element:a,left:c.left,top:c.top,width:h,height:g}}},resize:function(b){var a=e(this).data("resizable"),c=a.options,d=a.containerOffset,f=a.position,b=a._aspectRatio||b.shiftKey,
g={top:0,left:0},h=a.containerElement;h[0]!=document&&/static/.test(h.css("position"))&&(g=d);if(f.left<(a._helper?d.left:0))a.size.width+=a._helper?a.position.left-d.left:a.position.left-g.left,b&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=c.helper?d.left:0;if(f.top<(a._helper?d.top:0))a.size.height+=a._helper?a.position.top-d.top:a.position.top,b&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?d.top:0;a.offset.left=a.parentData.left+a.position.left;a.offset.top=
a.parentData.top+a.position.top;c=Math.abs(a.offset.left-g.left+a.sizeDiff.width);d=Math.abs((a._helper?a.offset.top-g.top:a.offset.top-d.top)+a.sizeDiff.height);f=a.containerElement.get(0)==a.element.parent().get(0);g=/relative|absolute/.test(a.containerElement.css("position"));f&&g&&(c-=a.parentData.left);c+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-c,b&&(a.size.height=a.size.width/a.aspectRatio));d+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-d,
b&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var b=e(this).data("resizable"),a=b.options,c=b.containerOffset,d=b.containerPosition,f=b.containerElement,g=e(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,g=g.outerHeight()-b.sizeDiff.height;b._helper&&(!a.animate&&/relative/.test(f.css("position")))&&e(this).css({left:h.left-d.left-c.left,width:i,height:g});b._helper&&(!a.animate&&/static/.test(f.css("position")))&&e(this).css({left:h.left-d.left-c.left,width:i,height:g})}});
e.ui.plugin.add("resizable","ghost",{start:function(){var b=e(this).data("resizable"),a=b.options,c=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=e(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=
e(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});e.ui.plugin.add("resizable","grid",{resize:function(){var b=e(this).data("resizable"),a=b.options,c=b.size,d=b.originalSize,f=b.originalPosition,g=b.axis;a.grid="number"==typeof a.grid?[a.grid,a.grid]:a.grid;var h=Math.round((c.width-d.width)/(a.grid[0]||1))*(a.grid[0]||1),a=Math.round((c.height-d.height)/(a.grid[1]||1))*(a.grid[1]||1);/^(se|s|e)$/.test(g)?(b.size.width=d.width+h,b.size.height=d.height+a):
/^(ne)$/.test(g)?(b.size.width=d.width+h,b.size.height=d.height+a,b.position.top=f.top-a):(/^(sw)$/.test(g)?(b.size.width=d.width+h,b.size.height=d.height+a):(b.size.width=d.width+h,b.size.height=d.height+a,b.position.top=f.top-a),b.position.left=f.left-h)}});var j=function(b){return parseInt(b,10)||0},i=function(b){return!isNaN(parseInt(b,10))}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-interactions', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.selectable.js' */
(function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable");this.dragged=!1;var f;this.refresh=function(){f=e(b.options.filter,b.element[0]);f.addClass("ui-selectee");f.each(function(){var b=e(this),c=b.offset();e.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,
selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=f.addClass("ui-selectee");this._mouseInit();this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(b){var f=
this;this.opos=[b.pageX,b.pageY];if(!this.options.disabled){var d=this.options;this.selectees=e(d.filter,this.element[0]);this._trigger("start",b);e(d.appendTo).append(this.helper);this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0});d.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var c=e.data(this,"selectable-item");c.startselected=!0;!b.metaKey&&!b.ctrlKey&&(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),
c.unselecting=!0,f._trigger("unselecting",b,{unselecting:c.element}))});e(b.target).parents().andSelf().each(function(){var c=e.data(this,"selectable-item");if(c){var d=!b.metaKey&&!b.ctrlKey||!c.$element.hasClass("ui-selected");c.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting");c.unselecting=!d;c.selecting=d;(c.selected=d)?f._trigger("selecting",b,{selecting:c.element}):f._trigger("unselecting",b,{unselecting:c.element});return!1}})}},_mouseDrag:function(b){var f=
this;this.dragged=!0;if(!this.options.disabled){var d=this.options,c=this.opos[0],g=this.opos[1],i=b.pageX,j=b.pageY;if(c>i)var h=i,i=c,c=h;g>j&&(h=j,j=g,g=h);this.helper.css({left:c,top:g,width:i-c,height:j-g});this.selectees.each(function(){var a=e.data(this,"selectable-item");if(a&&a.element!=f.element[0]){var h=false;d.tolerance=="touch"?h=!(a.left>i||a.right<c||a.top>j||a.bottom<g):d.tolerance=="fit"&&(h=a.left>c&&a.right<i&&a.top>g&&a.bottom<j);if(h){if(a.selected){a.$element.removeClass("ui-selected");
a.selected=false}if(a.unselecting){a.$element.removeClass("ui-unselecting");a.unselecting=false}if(!a.selecting){a.$element.addClass("ui-selecting");a.selecting=true;f._trigger("selecting",b,{selecting:a.element})}}else{if(a.selecting)if((b.metaKey||b.ctrlKey)&&a.startselected){a.$element.removeClass("ui-selecting");a.selecting=false;a.$element.addClass("ui-selected");a.selected=true}else{a.$element.removeClass("ui-selecting");a.selecting=false;if(a.startselected){a.$element.addClass("ui-unselecting");
a.unselecting=true}f._trigger("unselecting",b,{unselecting:a.element})}if(a.selected&&!b.metaKey&&!b.ctrlKey&&!a.startselected){a.$element.removeClass("ui-selected");a.selected=false;a.$element.addClass("ui-unselecting");a.unselecting=true;f._trigger("unselecting",b,{unselecting:a.element})}}}});return!1}},_mouseStop:function(b){var f=this;this.dragged=!1;e(".ui-unselecting",this.element[0]).each(function(){var d=e.data(this,"selectable-item");d.$element.removeClass("ui-unselecting");d.unselecting=
!1;d.startselected=!1;f._trigger("unselected",b,{unselected:d.element})});e(".ui-selecting",this.element[0]).each(function(){var d=e.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=!1;d.selected=!0;d.startselected=!0;f._trigger("selected",b,{selected:d.element})});this._trigger("stop",b);this.helper.remove();return!1}});e.extend(e.ui.selectable,{version:"1.8.24"})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-widgets', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.accordion.js' */
(function(d){d.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var a=this,b=a.options;a.running=0;a.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");
a.headers=a.element.find(b.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){b.disabled||d(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){b.disabled||d(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){b.disabled||d(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){b.disabled||d(this).removeClass("ui-state-focus")});a.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");
if(b.navigation){var c=a.element.find("a").filter(b.navigationFilter).eq(0);if(c.length){var f=c.closest(".ui-accordion-header");a.active=f.length?f:c.closest(".ui-accordion-content").prev()}}a.active=a._findActive(a.active||b.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");a.active.next().addClass("ui-accordion-content-active");a._createIcons();a.resize();a.element.attr("role","tablist");a.headers.attr("role","tab").bind("keydown.accordion",
function(b){return a._keydown(b)}).next().attr("role","tabpanel");a.headers.not(a.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();a.active.length?a.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):a.headers.eq(0).attr("tabIndex",0);d.browser.safari||a.headers.find("a").attr("tabIndex",-1);b.event&&a.headers.bind(b.event.split(" ").join(".accordion ")+".accordion",function(b){a._clickHandler.call(a,b,this);b.preventDefault()})},_createIcons:function(){var a=
this.options;a.icons&&(d("<span></span>").addClass("ui-icon "+a.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(a.icons.header).toggleClass(a.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var a=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex");
this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var b=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");(a.autoHeight||a.fillHeight)&&b.css("height","");return d.Widget.prototype.destroy.call(this)},_setOption:function(a,b){d.Widget.prototype._setOption.apply(this,arguments);"active"==a&&this.activate(b);"icons"==a&&(this._destroyIcons(),
b&&this._createIcons());if("disabled"==a)this.headers.add(this.headers.next())[b?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(a){if(!this.options.disabled&&!a.altKey&&!a.ctrlKey){var b=d.ui.keyCode,c=this.headers.length,f=this.headers.index(a.target),g=!1;switch(a.keyCode){case b.RIGHT:case b.DOWN:g=this.headers[(f+1)%c];break;case b.LEFT:case b.UP:g=this.headers[(f-1+c)%c];break;case b.SPACE:case b.ENTER:this._clickHandler({target:a.target},a.target),a.preventDefault()}return g?
(d(a.target).attr("tabIndex",-1),d(g).attr("tabIndex",0),g.focus(),!1):!0}},resize:function(){var a=this.options,b;if(a.fillSpace){if(d.browser.msie){var c=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}b=this.element.parent().height();d.browser.msie&&this.element.parent().css("overflow",c);this.headers.each(function(){b-=d(this).outerHeight(!0)});this.headers.next().each(function(){d(this).height(Math.max(0,b-d(this).innerHeight()+d(this).height()))}).css("overflow",
"auto")}else a.autoHeight&&(b=0,this.headers.next().each(function(){b=Math.max(b,d(this).height("").height())}).height(b));return this},activate:function(a){this.options.active=a;a=this._findActive(a)[0];this._clickHandler({target:a},a);return this},_findActive:function(a){return a?"number"===typeof a?this.headers.filter(":eq("+a+")"):this.headers.not(this.headers.not(a)):!1===a?d([]):this.headers.filter(":eq(0)")},_clickHandler:function(a,b){var c=this.options;if(!c.disabled)if(a.target){var f=d(a.currentTarget||
b),g=f[0]===this.active[0];c.active=c.collapsible&&g?!1:this.headers.index(f);if(!(this.running||!c.collapsible&&g)){var i=this.active,e=f.next(),h=this.active.next(),k={options:c,newHeader:g&&c.collapsible?d([]):f,oldHeader:this.active,newContent:g&&c.collapsible?d([]):e,oldContent:h},j=this.headers.index(this.active[0])>this.headers.index(f[0]);this.active=g?d([]):f;this._toggle(e,h,k,g,j);i.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(c.icons.headerSelected).addClass(c.icons.header);
g||(f.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(c.icons.header).addClass(c.icons.headerSelected),f.next().addClass("ui-accordion-content-active"))}}else if(c.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(c.icons.headerSelected).addClass(c.icons.header);this.active.next().addClass("ui-accordion-content-active");var h=this.active.next(),
k={options:c,newHeader:d([]),oldHeader:c.active,newContent:d([]),oldContent:h},e=this.active=d([]);this._toggle(e,h,k)}},_toggle:function(a,b,c,f,g){var i=this,e=i.options;i.toShow=a;i.toHide=b;i.data=c;var h=function(){if(i)return i._completed.apply(i,arguments)};i._trigger("changestart",null,i.data);i.running=0===b.size()?a.size():b.size();if(e.animated){c={};c=e.collapsible&&f?{toShow:d([]),toHide:b,complete:h,down:g,autoHeight:e.autoHeight||e.fillSpace}:{toShow:a,toHide:b,complete:h,down:g,autoHeight:e.autoHeight||
e.fillSpace};e.proxied||(e.proxied=e.animated);e.proxiedDuration||(e.proxiedDuration=e.duration);e.animated=d.isFunction(e.proxied)?e.proxied(c):e.proxied;e.duration=d.isFunction(e.proxiedDuration)?e.proxiedDuration(c):e.proxiedDuration;var f=d.ui.accordion.animations,k=e.duration,j=e.animated;j&&(!f[j]&&!d.easing[j])&&(j="slide");f[j]||(f[j]=function(a){this.slide(a,{easing:j,duration:k||700})});f[j](c)}else e.collapsible&&f?a.toggle():(b.hide(),a.show()),h(!0);b.prev().attr({"aria-expanded":"false",
"aria-selected":"false",tabIndex:-1}).blur();a.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running;this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}});d.extend(d.ui.accordion,{version:"1.8.24",
animations:{slide:function(a,b){a=d.extend({easing:"swing",duration:300},a,b);if(a.toHide.size())if(a.toShow.size()){var c=a.toShow.css("overflow"),f=0,g={},i={},e,h=a.toShow;e=h[0].style.width;h.width(h.parent().width()-parseFloat(h.css("paddingLeft"))-parseFloat(h.css("paddingRight"))-(parseFloat(h.css("borderLeftWidth"))||0)-(parseFloat(h.css("borderRightWidth"))||0));d.each(["height","paddingTop","paddingBottom"],function(b,c){i[c]="hide";var e=(""+d.css(a.toShow[0],c)).match(/^([\d+-.]+)(.*)$/);
g[c]={value:e[1],unit:e[2]||"px"}});a.toShow.css({height:0,overflow:"hidden"}).show();a.toHide.filter(":hidden").each(a.complete).end().filter(":visible").animate(i,{step:function(b,c){"height"==c.prop&&(f=0===c.end-c.start?0:(c.now-c.start)/(c.end-c.start));a.toShow[0].style[c.prop]=f*g[c.prop].value+g[c.prop].unit},duration:a.duration,easing:a.easing,complete:function(){a.autoHeight||a.toShow.css("height","");a.toShow.css({width:e,overflow:c});a.complete()}})}else a.toHide.animate({height:"hide",
paddingTop:"hide",paddingBottom:"hide"},a);else a.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},a)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1E3:200})}}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-widgets', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.autocomplete.js' */
(function(d){var c=0;d.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,b=this.element[0].ownerDocument,c;this.isMultiLine=this.element.is("textarea");this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(b){if(!a.options.disabled&&
!a.element.propAttr("readOnly")){c=!1;var f=d.ui.keyCode;switch(b.keyCode){case f.PAGE_UP:a._move("previousPage",b);break;case f.PAGE_DOWN:a._move("nextPage",b);break;case f.UP:a._keyEvent("previous",b);break;case f.DOWN:a._keyEvent("next",b);break;case f.ENTER:case f.NUMPAD_ENTER:a.menu.active&&(c=!0,b.preventDefault());case f.TAB:if(!a.menu.active)break;a.menu.select(b);break;case f.ESCAPE:a.element.val(a.term);a.close(b);break;default:clearTimeout(a.searching),a.searching=setTimeout(function(){a.term!=
a.element.val()&&(a.selectedItem=null,a.search(null,b))},a.options.delay)}}}).bind("keypress.autocomplete",function(a){c&&(c=!1,a.preventDefault())}).bind("focus.autocomplete",function(){a.options.disabled||(a.selectedItem=null,a.previous=a.element.val())}).bind("blur.autocomplete",function(b){a.options.disabled||(clearTimeout(a.searching),a.closing=setTimeout(function(){a.close(b);a._change(b)},150))});this._initSource();this.menu=d("<ul></ul>").addClass("ui-autocomplete").appendTo(d(this.options.appendTo||
"body",b)[0]).mousedown(function(b){var c=a.menu.element[0];d(b.target).closest(".ui-menu-item").length||setTimeout(function(){d(document).one("mousedown",function(b){b.target!==a.element[0]&&(b.target!==c&&!d.ui.contains(c,b.target))&&a.close()})},1);setTimeout(function(){clearTimeout(a.closing)},13)}).menu({focus:function(b,d){var c=d.item.data("item.autocomplete");!1!==a._trigger("focus",b,{item:c})&&/^key/.test(b.originalEvent.type)&&a.element.val(c.value)},selected:function(c,d){var e=d.item.data("item.autocomplete"),
h=a.previous;a.element[0]!==b.activeElement&&(a.element.focus(),a.previous=h,setTimeout(function(){a.previous=h;a.selectedItem=e},1));!1!==a._trigger("select",c,{item:e})&&a.element.val(e.value);a.term=a.element.val();a.close(c);a.selectedItem=e},blur:function(){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");d.fn.bgiframe&&this.menu.element.bgiframe();a.beforeunloadHandler=function(){a.element.removeAttr("autocomplete")};
d(window).bind("beforeunload",a.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();d(window).unbind("beforeunload",this.beforeunloadHandler);d.Widget.prototype.destroy.call(this)},_setOption:function(a,b){d.Widget.prototype._setOption.apply(this,arguments);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(d(b||
"body",this.element[0].ownerDocument)[0]);"disabled"===a&&(b&&this.xhr)&&this.xhr.abort()},_initSource:function(){var a=this,b,c;d.isArray(this.options.source)?(b=this.options.source,this.source=function(a,c){c(d.ui.autocomplete.filter(b,a.term))}):"string"===typeof this.options.source?(c=this.options.source,this.source=function(b,f){a.xhr&&a.xhr.abort();a.xhr=d.ajax({url:c,data:b,dataType:"json",success:function(a){f(a)},error:function(){f([])}})}):this.source=this.options.source},search:function(a,
b){a=null!=a?a:this.element.val();this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d);a.pending--;a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){!this.options.disabled&&
a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close()},close:function(a){clearTimeout(this.closing);this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:d.map(a,function(a){return"string"===typeof a?{label:a,value:a}:d.extend({label:a.label||
a.value,value:a.value||a.label},a)})},_suggest:function(a){var b=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(b,a);this.menu.deactivate();this.menu.refresh();b.show();this._resizeMenu();b.position(d.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new d.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,b){var c=
this;d.each(b,function(b,d){c._renderItem(a,d)})},_renderItem:function(a,b){return d("<li></li>").data("item.autocomplete",b).append(d("<a></a>").text(b.label)).appendTo(a)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a))this.element.val(this.term),this.menu.deactivate();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,
b),b.preventDefault()}});d.extend(d.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(a,b){var c=RegExp(d.ui.autocomplete.escapeRegex(b),"i");return d.grep(a,function(a){return c.test(a.label||a.value||a)})}})})(jQuery);
(function(d){d.widget("ui.menu",{_create:function(){var c=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(a){d(a.target).closest(".ui-menu-item a").length&&(a.preventDefault(),c.select(a))});this.refresh()},refresh:function(){var c=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(a){c.activate(a,d(this).parent())}).mouseleave(function(){c.deactivate()})},activate:function(c,a){this.deactivate();if(this.hasScroll()){var b=a.offset().top-this.element.offset().top,d=this.element.scrollTop(),g=this.element.height();0>b?this.element.scrollTop(d+b):b>=g&&this.element.scrollTop(d+b-g+a.height())}this.active=a.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",c,{item:a})},deactivate:function(){this.active&&
(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(c){this.move("next",".ui-menu-item:first",c)},previous:function(c){this.move("prev",".ui-menu-item:last",c)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(c,a,b){this.active?(c=this.active[c+"All"](".ui-menu-item").eq(0),c.length?this.activate(b,
c):this.activate(b,this.element.children(a))):this.activate(b,this.element.children(a))},nextPage:function(c){if(this.hasScroll())if(!this.active||this.last())this.activate(c,this.element.children(".ui-menu-item:first"));else{var a=this.active.offset().top,b=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var c=d(this).offset().top-a-b+d(this).height();return 10>c&&-10<c});e.length||(e=this.element.children(".ui-menu-item:last"));this.activate(c,e)}else this.activate(c,
this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(c){if(this.hasScroll())if(!this.active||this.first())this.activate(c,this.element.children(".ui-menu-item:last"));else{var a=this.active.offset().top,b=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var c=d(this).offset().top-a+b-d(this).height();return 10>c&&-10<c});e.length||(e=this.element.children(".ui-menu-item:first"));this.activate(c,e)}else this.activate(c,
this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[d.fn.prop?"prop":"attr"]("scrollHeight")},select:function(c){this._trigger("selected",c,{item:this.active})}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-widgets', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.button.js' */
(function(b){var g,h,i,e,k=function(){var a=b(this).find(":ui-button");setTimeout(function(){a.button("refresh")},1)},j=function(a){var c=a.name,d=a.form,f=b([]);c&&(f=d?b(d).find("[name='"+c+"']"):b("[name='"+c+"']",a.ownerDocument).filter(function(){return!this.form}));return f};b.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",k);"boolean"!==typeof this.options.disabled?
this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var a=this,c=this.options,d="checkbox"===this.type||"radio"===this.type,f="ui-state-hover"+(!d?" ui-state-active":"");null===c.label&&(c.label=this.buttonElement.html());this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){if(!c.disabled){b(this).addClass("ui-state-hover");
this===g&&b(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){c.disabled||b(this).removeClass(f)}).bind("click.button",function(a){if(c.disabled){a.preventDefault();a.stopImmediatePropagation()}});this.element.bind("focus.button",function(){a.buttonElement.addClass("ui-state-focus")}).bind("blur.button",function(){a.buttonElement.removeClass("ui-state-focus")});d&&(this.element.bind("change.button",function(){e||a.refresh()}),this.buttonElement.bind("mousedown.button",function(a){if(!c.disabled){e=
false;h=a.pageX;i=a.pageY}}).bind("mouseup.button",function(a){if(!c.disabled&&(h!==a.pageX||i!==a.pageY))e=true}));"checkbox"===this.type?this.buttonElement.bind("click.button",function(){if(c.disabled||e)return false;b(this).toggleClass("ui-state-active");a.buttonElement.attr("aria-pressed",a.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(c.disabled||e)return false;b(this).addClass("ui-state-active");a.buttonElement.attr("aria-pressed","true");var d=
a.element[0];j(d).not(d).map(function(){return b(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(c.disabled)return false;b(this).addClass("ui-state-active");g=this;b(document).one("mouseup",function(){g=null})}).bind("mouseup.button",function(){if(c.disabled)return false;b(this).removeClass("ui-state-active")}).bind("keydown.button",function(a){if(c.disabled)return false;(a.keyCode==b.ui.keyCode.SPACE||
a.keyCode==b.ui.keyCode.ENTER)&&b(this).addClass("ui-state-active")}).bind("keyup.button",function(){b(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===b.ui.keyCode.SPACE&&b(this).click()}));this._setOption("disabled",c.disabled);this._resetButton()},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if("checkbox"===this.type||
"radio"===this.type){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b);this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b)));this.element.addClass("ui-helper-hidden-accessible");(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",a)}else this.buttonElement=
this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||
this.buttonElement.removeAttr("title");b.Widget.prototype.destroy.call(this)},_setOption:function(a,c){b.Widget.prototype._setOption.apply(this,arguments);"disabled"===a?c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a);"radio"===this.type?j(this.element[0]).each(function(){b(this).is(":checked")?b(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):b(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
c=b("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),d=this.options.icons,f=d.primary&&d.secondary,e=[];d.primary||d.secondary?(this.options.text&&e.push("ui-button-text-icon"+(f?"s":d.primary?"-primary":"-secondary")),d.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||
(e.push(f?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||a.attr("title",c))):e.push("ui-button-text-only");a.addClass(e.join(" "))}}});b.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,c){"disabled"===a&&this.buttons.button("option",a,c);b.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var a="rtl"===
this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");
b.Widget.prototype.destroy.call(this)}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-widgets', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.dialog.js' */
(function(c){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},j={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};c.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(a){var b=c(this).css(a).offset().top;0>b&&c(this).css("top",a.top-b)}},resizable:!0,
show:null,stack:!0,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");"string"!==typeof this.originalTitle&&(this.originalTitle="");this.options.title=this.options.title||this.originalTitle;var a=this,b=a.options,d=b.title||"&#160;",e=c.ui.dialog.getTitleId(a.element),f=(a.uiDialog=c("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+b.dialogClass).css({zIndex:b.zIndex}).attr("tabIndex",-1).css("outline",
0).keydown(function(d){if(b.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===c.ui.keyCode.ESCAPE){a.close(d);d.preventDefault()}}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(b){a.moveToTop(false,b)});a.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f);var h=(a.uiDialogTitlebar=c("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(f),g=c('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role",
"button").hover(function(){g.addClass("ui-state-hover")},function(){g.removeClass("ui-state-hover")}).focus(function(){g.addClass("ui-state-focus")}).blur(function(){g.removeClass("ui-state-focus")}).click(function(b){a.close(b);return false}).appendTo(h);(a.uiDialogTitlebarCloseText=c("<span></span>")).addClass("ui-icon ui-icon-closethick").text(b.closeText).appendTo(g);c("<span></span>").addClass("ui-dialog-title").attr("id",e).html(d).prependTo(h);c.isFunction(b.beforeclose)&&!c.isFunction(b.beforeClose)&&
(b.beforeClose=b.beforeclose);h.find("*").add(h).disableSelection();b.draggable&&c.fn.draggable&&a._makeDraggable();b.resizable&&c.fn.resizable&&a._makeResizable();a._createButtons(b.buttons);a._isOpen=!1;c.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();
this.originalTitle&&this.element.attr("title",this.originalTitle);return this},widget:function(){return this.uiDialog},close:function(a){var b=this,d,e;if(!1!==b._trigger("beforeClose",a))return b.overlay&&b.overlay.destroy(),b.uiDialog.unbind("keypress.ui-dialog"),b._isOpen=!1,b.options.hide?b.uiDialog.hide(b.options.hide,function(){b._trigger("close",a)}):(b.uiDialog.hide(),b._trigger("close",a)),c.ui.dialog.overlay.resize(),b.options.modal&&(d=0,c(".ui-dialog").each(function(){if(this!==b.uiDialog[0]){e=
c(this).css("z-index");isNaN(e)||(d=Math.max(d,e))}}),c.ui.dialog.maxZ=d),b},isOpen:function(){return this._isOpen},moveToTop:function(a,b){var d=this.options;if(d.modal&&!a||!d.stack&&!d.modal)return this._trigger("focus",b);d.zIndex>c.ui.dialog.maxZ&&(c.ui.dialog.maxZ=d.zIndex);this.overlay&&(c.ui.dialog.maxZ+=1,this.overlay.$el.css("z-index",c.ui.dialog.overlay.maxZ=c.ui.dialog.maxZ));d={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()};c.ui.dialog.maxZ+=1;this.uiDialog.css("z-index",
c.ui.dialog.maxZ);this.element.attr(d);this._trigger("focus",b);return this},open:function(){if(!this._isOpen){var a=this.options,b=this.uiDialog;this.overlay=a.modal?new c.ui.dialog.overlay(this):null;this._size();this._position(a.position);b.show(a.show);this.moveToTop(!0);a.modal&&b.bind("keydown.ui-dialog",function(a){if(a.keyCode===c.ui.keyCode.TAB){var b=c(":tabbable",this),f=b.filter(":first"),b=b.filter(":last");if(a.target===b[0]&&!a.shiftKey)return f.focus(1),!1;if(a.target===f[0]&&a.shiftKey)return b.focus(1),
!1}});c(this.element.find(":tabbable").get().concat(b.find(".ui-dialog-buttonpane :tabbable").get().concat(b.get()))).eq(0).focus();this._isOpen=!0;this._trigger("open");return this}},_createButtons:function(a){var b=this,d=!1,e=c("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=c("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);b.uiDialog.find(".ui-dialog-buttonpane").remove();"object"===typeof a&&null!==a&&c.each(a,function(){return!(d=!0)});d&&(c.each(a,
function(a,d){var d=c.isFunction(d)?{click:d,text:a}:d,e=c('<button type="button"></button>').click(function(){d.click.apply(b.element[0],arguments)}).appendTo(f);c.each(d,function(a,b){if("click"!==a)if(a in e)e[a](b);else e.attr(a,b)});c.fn.button&&e.button()}),e.appendTo(b.uiDialog))},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}var b=this,d=b.options,e=c(document),f;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",
containment:"document",start:function(e,g){f="auto"===d.height?"auto":c(this).height();c(this).height(c(this).height()).addClass("ui-dialog-dragging");b._trigger("dragStart",e,a(g))},drag:function(c,d){b._trigger("drag",c,a(d))},stop:function(h,g){d.position=[g.position.left-e.scrollLeft(),g.position.top-e.scrollTop()];c(this).removeClass("ui-dialog-dragging").height(f);b._trigger("dragStop",h,a(g));c.ui.dialog.overlay.resize()}})},_makeResizable:function(a){function b(a){return{originalPosition:a.originalPosition,
originalSize:a.originalSize,position:a.position,size:a.size}}var a=void 0===a?this.options.resizable:a,d=this,e=d.options,f=d.uiDialog.css("position"),a="string"===typeof a?a:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:a,start:function(a,e){c(this).addClass("ui-dialog-resizing");d._trigger("resizeStart",a,b(e))},resize:function(a,c){d._trigger("resize",
a,b(c))},stop:function(a,f){c(this).removeClass("ui-dialog-resizing");e.height=c(this).height();e.width=c(this).width();d._trigger("resizeStop",a,b(f));c.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(a){var b=[],d=[0,0],e;if(a){if("string"===typeof a||"object"===typeof a&&"0"in a)b=a.split?a.split(" "):
[a[0],a[1]],1===b.length&&(b[1]=b[0]),c.each(["left","top"],function(a,c){+b[a]===b[a]&&(d[a]=b[a],b[a]=c)}),a={my:b.join(" "),at:b.join(" "),offset:d.join(" ")};a=c.extend({},c.ui.dialog.prototype.options.position,a)}else a=c.ui.dialog.prototype.options.position;(e=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(c.extend({of:window},a));e||this.uiDialog.hide()},_setOptions:function(a){var b=this,d={},e=!1;c.each(a,function(a,c){b._setOption(a,c);a in
i&&(e=!0);a in j&&(d[a]=c)});e&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(a,b){var d=this.uiDialog;switch(a){case "beforeclose":a="beforeClose";break;case "buttons":this._createButtons(b);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+b);break;case "dialogClass":d.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+b);break;case "disabled":b?d.addClass("ui-dialog-disabled"):
d.removeClass("ui-dialog-disabled");break;case "draggable":var e=d.is(":data(draggable)");e&&!b&&d.draggable("destroy");!e&&b&&this._makeDraggable();break;case "position":this._position(b);break;case "resizable":(e=d.is(":data(resizable)"))&&!b&&d.resizable("destroy");e&&"string"===typeof b&&d.resizable("option","handles",b);!e&&!1!==b&&this._makeResizable(b);break;case "title":c(".ui-dialog-title",this.uiDialogTitlebar).html(""+(b||"&#160;"))}c.Widget.prototype._setOption.apply(this,arguments)},
_size:function(){var a=this.options,b,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});a.minWidth>a.width&&(a.width=a.minWidth);b=this.uiDialog.css({height:"auto",width:a.width}).height();d=Math.max(0,a.minHeight-b);"auto"===a.height?c.support.minHeight?this.element.css({minHeight:d,height:"auto"}):(this.uiDialog.show(),a=this.element.css("height","auto").height(),e||this.uiDialog.hide(),this.element.height(Math.max(a,d))):this.element.height(Math.max(a.height-
b,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});c.extend(c.ui.dialog,{version:"1.8.24",uuid:0,maxZ:0,getTitleId:function(a){a=a.attr("id");a||(a=this.uuid+=1);return"ui-dialog-title-"+a},overlay:function(a){this.$el=c.ui.dialog.overlay.create(a)}});c.extend(c.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:c.map("focus mousedown mouseup keydown keypress click".split(" "),function(a){return a+".dialog-overlay"}).join(" "),
create:function(a){0===this.instances.length&&(setTimeout(function(){c.ui.dialog.overlay.instances.length&&c(document).bind(c.ui.dialog.overlay.events,function(a){if(c(a.target).zIndex()<c.ui.dialog.overlay.maxZ)return!1})},1),c(document).bind("keydown.dialog-overlay",function(b){a.options.closeOnEscape&&(!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===c.ui.keyCode.ESCAPE)&&(a.close(b),b.preventDefault())}),c(window).bind("resize.dialog-overlay",c.ui.dialog.overlay.resize));var b=(this.oldInstances.pop()||
c("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});c.fn.bgiframe&&b.bgiframe();this.instances.push(b);return b},destroy:function(a){var b=c.inArray(a,this.instances);-1!=b&&this.oldInstances.push(this.instances.splice(b,1)[0]);0===this.instances.length&&c([document,window]).unbind(".dialog-overlay");a.remove();var d=0;c.each(this.instances,function(){d=Math.max(d,this.css("z-index"))});this.maxZ=d},height:function(){var a,b;return c.browser.msie&&
7>c.browser.version?(a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),b=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),a<b?c(window).height()+"px":a+"px"):c(document).height()+"px"},width:function(){var a,b;return c.browser.msie?(a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),b=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),a<b?c(window).width()+"px":a+"px"):c(document).width()+"px"},resize:function(){var a=
c([]);c.each(c.ui.dialog.overlay.instances,function(){a=a.add(this)});a.css({width:0,height:0}).css({width:c.ui.dialog.overlay.width(),height:c.ui.dialog.overlay.height()})}});c.extend(c.ui.dialog.overlay.prototype,{destroy:function(){c.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-widgets', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.progressbar.js' */
(function(b){b.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();b.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(void 0===a)return this._value();this._setOption("value",a);return this},_setOption:function(a,c){"value"===a&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete"));b.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;"number"!==typeof a&&(a=0);return Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*
this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change"));this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%");this.element.attr("aria-valuenow",a)}});b.extend(b.ui.progressbar,{version:"1.8.24"})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-widgets', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.slider.js' */
(function(d){d.widget("ui.slider",d.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var a=this,b=this.options,c=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=b.values&&b.values.length||1,e=[];this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+
this.orientation+" ui-widget ui-widget-content ui-corner-all"+(b.disabled?" ui-slider-disabled ui-disabled":""));this.range=d([]);if(b.range){if(!0===b.range&&(b.values||(b.values=[this._valueMin(),this._valueMin()]),b.values.length&&2!==b.values.length))b.values=[b.values[0],b.values[0]];this.range=d("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))}for(var g=c.length;g<f;g+=1)e.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=c.add(d(e.join("")).appendTo(a.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){b.disabled||d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")}).focus(function(){b.disabled?d(this).blur():(d(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),d(this).addClass("ui-state-focus"))}).blur(function(){d(this).removeClass("ui-state-focus")});this.handles.each(function(a){d(this).data("index.ui-slider-handle",
a)});this.handles.keydown(function(b){var c=d(this).data("index.ui-slider-handle"),e,f,g;if(!a.options.disabled){switch(b.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(b.preventDefault(),!a._keySliding&&(a._keySliding=!0,d(this).addClass("ui-state-active"),e=a._start(b,c),!1===e))return}g=a.options.step;e=a.options.values&&a.options.values.length?
f=a.values(c):f=a.value();switch(b.keyCode){case d.ui.keyCode.HOME:f=a._valueMin();break;case d.ui.keyCode.END:f=a._valueMax();break;case d.ui.keyCode.PAGE_UP:f=a._trimAlignValue(e+(a._valueMax()-a._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:f=a._trimAlignValue(e-(a._valueMax()-a._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(e===a._valueMax())return;f=a._trimAlignValue(e+g);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(e===a._valueMin())return;f=a._trimAlignValue(e-
g)}a._slide(b,c,f)}}).keyup(function(b){var c=d(this).data("index.ui-slider-handle");a._keySliding&&(a._keySliding=!1,a._stop(b,c),a._change(b,c),d(this).removeClass("ui-state-active"))});this._refreshValue();this._animateOff=!1},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},
_mouseCapture:function(a){var b=this.options,c,f,e,g,h;if(b.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();c=this._normValueFromMouse({x:a.pageX,y:a.pageY});f=this._valueMax()-this._valueMin()+1;g=this;this.handles.each(function(b){var a=Math.abs(c-g.values(b));f>a&&(f=a,e=d(this),h=b)});!0===b.range&&this.values(1)===b.min&&(h+=1,e=d(this.handles[h]));if(!1===this._start(a,h))return!1;this._mouseSliding=
!0;g._handleIndex=h;e.addClass("ui-state-active").focus();b=e.offset();this._clickOffset=!d(a.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:a.pageX-b.left-e.width()/2,top:a.pageY-b.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(a,h,c);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,
y:a.pageY});this._slide(a,this._handleIndex,b);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b;"horizontal"===this.orientation?(b=this.elementSize.width,a=a.x-this.elementOffset.left-
(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));b=a/b;1<b&&(b=1);0>b&&(b=0);"vertical"===this.orientation&&(b=1-b);a=this._valueMax()-this._valueMin();b=this._valueMin()+b*a;return this._trimAlignValue(b)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());return this._trigger("start",
a,c)},_slide:function(a,b,c){var d;if(this.options.values&&this.options.values.length){d=this.values(b?0:1);if(2===this.options.values.length&&!0===this.options.range&&(0===b&&c>d||1===b&&c<d))c=d;c!==this.values(b)&&(d=this.values(),d[b]=c,a=this._trigger("slide",a,{handle:this.handles[b],value:c,values:d}),this.values(b?0:1),!1!==a&&this.values(b,c,!0))}else c!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[b],value:c}),!1!==a&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],
value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());this._trigger("change",a,c)}},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,
0);else return this._value()},values:function(a,b){var c,f,e;if(1<arguments.length)this.options.values[a]=this._trimAlignValue(b),this._refreshValue(),this._change(null,a);else if(arguments.length)if(d.isArray(arguments[0])){c=this.options.values;f=arguments[0];for(e=0;e<c.length;e+=1)c[e]=this._trimAlignValue(f[e]),this._change(null,e);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(a):this.value();else return this._values()},_setOption:function(a,b){var c,
f=0;d.isArray(this.options.values)&&(f=this.options.values.length);d.Widget.prototype._setOption.apply(this,arguments);switch(a){case "disabled":b?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(c=0;c<f;c+=1)this._change(null,c);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);b=this.options.values.slice();for(c=0;c<b.length;c+=1)b[c]=
this._trimAlignValue(b[c]);return b},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,c=(a-this._valueMin())%b,a=a-c;2*Math.abs(c)>=b&&(a+=0<c?b:-b);return parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var a=this.options.range,b=this.options,c=this,f=!this._animateOff?b.animate:!1,e,g=
{},h,k,i,j;if(this.options.values&&this.options.values.length)this.handles.each(function(a){e=100*((c.values(a)-c._valueMin())/(c._valueMax()-c._valueMin()));g["horizontal"===c.orientation?"left":"bottom"]=e+"%";d(this).stop(1,1)[f?"animate":"css"](g,b.animate);if(!0===c.options.range)if("horizontal"===c.orientation){if(0===a)c.range.stop(1,1)[f?"animate":"css"]({left:e+"%"},b.animate);if(1===a)c.range[f?"animate":"css"]({width:e-h+"%"},{queue:!1,duration:b.animate})}else{if(0===a)c.range.stop(1,
1)[f?"animate":"css"]({bottom:e+"%"},b.animate);if(1===a)c.range[f?"animate":"css"]({height:e-h+"%"},{queue:!1,duration:b.animate})}h=e});else{k=this.value();i=this._valueMin();j=this._valueMax();e=j!==i?100*((k-i)/(j-i)):0;g["horizontal"===c.orientation?"left":"bottom"]=e+"%";this.handle.stop(1,1)[f?"animate":"css"](g,b.animate);if("min"===a&&"horizontal"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({width:e+"%"},b.animate);if("max"===a&&"horizontal"===this.orientation)this.range[f?
"animate":"css"]({width:100-e+"%"},{queue:!1,duration:b.animate});if("min"===a&&"vertical"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({height:e+"%"},b.animate);if("max"===a&&"vertical"===this.orientation)this.range[f?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:b.animate})}}});d.extend(d.ui.slider,{version:"1.8.24"})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-widgets', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.ui.tabs.js' */
(function(d){var n=0,o=0;d.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,d){"selected"==a?this.options.collapsible&&d==this.options.selected||this.select(d):
(this.options[a]=d,this._tabify())},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++n},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var a=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++o);return d.cookie.apply(null,[a].concat(d.makeArray(arguments)))},_ui:function(a,d){return{tab:a,panel:d,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var a=
d(this);a.html(a.data("label.tabs")).removeData("label.tabs")})},_tabify:function(a){function e(b,a){b.css("display","");!d.support.opacity&&a.opacity&&b[0].style.removeAttribute("filter")}var b=this,c=this.options,g=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=d(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return d("a",this)[0]});this.panels=d([]);this.anchors.each(function(a,e){var h=d(e).attr("href"),f=h.split("#")[0],k;if(f&&(f===location.toString().split("#")[0]||
(k=d("base")[0])&&f===k.href))h=e.hash,e.href=h;g.test(h)?b.panels=b.panels.add(b.element.find(b._sanitizeSelector(h))):h&&"#"!==h?(d.data(e,"href.tabs",h),d.data(e,"load.tabs",h.replace(/#.*$/,"")),h=b._tabId(e),e.href="#"+h,f=b.element.find("#"+h),f.length||(f=d(c.panelTemplate).attr("id",h).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(b.panels[a-1]||b.list),f.data("destroy.tabs",!0)),b.panels=b.panels.add(f)):c.disabled.push(a)});a?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),
this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),void 0===c.selected?(location.hash&&this.anchors.each(function(b,a){if(a.hash==location.hash)return c.selected=b,!1}),"number"!==typeof c.selected&&c.cookie&&(c.selected=parseInt(b._cookie(),10)),"number"!==typeof c.selected&&this.lis.filter(".ui-tabs-selected").length&&(c.selected=
this.lis.index(this.lis.filter(".ui-tabs-selected"))),c.selected=c.selected||(this.lis.length?0:-1)):null===c.selected&&(c.selected=-1),c.selected=0<=c.selected&&this.anchors[c.selected]||0>c.selected?c.selected:0,c.disabled=d.unique(c.disabled.concat(d.map(this.lis.filter(".ui-state-disabled"),function(a){return b.lis.index(a)}))).sort(),-1!=d.inArray(c.selected,c.disabled)&&c.disabled.splice(d.inArray(c.selected,c.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),
0<=c.selected&&this.anchors.length&&(b.element.find(b._sanitizeSelector(b.anchors[c.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(c.selected).addClass("ui-tabs-selected ui-state-active"),b.element.queue("tabs",function(){b._trigger("show",null,b._ui(b.anchors[c.selected],b.element.find(b._sanitizeSelector(b.anchors[c.selected].hash))[0]))}),this.load(c.selected)),d(window).bind("unload",function(){b.lis.add(b.anchors).unbind(".tabs");b.lis=b.anchors=b.panels=null})):c.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));
this.element[c.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");c.cookie&&this._cookie(c.selected,c.cookie);for(var a=0,f;f=this.lis[a];a++)d(f)[-1!=d.inArray(a,c.disabled)&&!d(f).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");!1===c.cache&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if("mouseover"!==c.event){var k=function(b,a){a.is(":not(.ui-state-disabled)")&&a.addClass("ui-state-"+b)};this.lis.bind("mouseover.tabs",
function(){k("hover",d(this))});this.lis.bind("mouseout.tabs",function(){d(this).removeClass("ui-state-hover")});this.anchors.bind("focus.tabs",function(){k("focus",d(this).closest("li"))});this.anchors.bind("blur.tabs",function(){d(this).closest("li").removeClass("ui-state-focus")})}var j,i;c.fx&&(d.isArray(c.fx)?(j=c.fx[0],i=c.fx[1]):j=i=c.fx);var l=i?function(a,c){d(a).closest("li").addClass("ui-tabs-selected ui-state-active");c.hide().removeClass("ui-tabs-hide").animate(i,i.duration||"normal",
function(){e(c,i);b._trigger("show",null,b._ui(a,c[0]))})}:function(a,c){d(a).closest("li").addClass("ui-tabs-selected ui-state-active");c.removeClass("ui-tabs-hide");b._trigger("show",null,b._ui(a,c[0]))},m=j?function(a,c){c.animate(j,j.duration||"normal",function(){b.lis.removeClass("ui-tabs-selected ui-state-active");c.addClass("ui-tabs-hide");e(c,j);b.element.dequeue("tabs")})}:function(a,c){b.lis.removeClass("ui-tabs-selected ui-state-active");c.addClass("ui-tabs-hide");b.element.dequeue("tabs")};
this.anchors.bind(c.event+".tabs",function(){var a=this,e=d(a).closest("li"),f=b.panels.filter(":not(.ui-tabs-hide)"),g=b.element.find(b._sanitizeSelector(a.hash));if(e.hasClass("ui-tabs-selected")&&!c.collapsible||e.hasClass("ui-state-disabled")||e.hasClass("ui-state-processing")||b.panels.filter(":animated").length||b._trigger("select",null,b._ui(this,g[0]))===false){this.blur();return false}c.selected=b.anchors.index(this);b.abort();if(c.collapsible){if(e.hasClass("ui-tabs-selected")){c.selected=
-1;c.cookie&&b._cookie(c.selected,c.cookie);b.element.queue("tabs",function(){m(a,f)}).dequeue("tabs");this.blur();return false}if(!f.length){c.cookie&&b._cookie(c.selected,c.cookie);b.element.queue("tabs",function(){l(a,g)});b.load(b.anchors.index(this));this.blur();return false}}c.cookie&&b._cookie(c.selected,c.cookie);if(g.length){f.length&&b.element.queue("tabs",function(){m(a,f)});b.element.queue("tabs",function(){l(a,g)});b.load(b.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";
d.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return false})},_getIndex:function(a){"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']")));return a},destroy:function(){var a=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var a=
d.data(this,"href.tabs");a&&(this.href=a);var b=d(this).unbind(".tabs");d.each(["href","load","cache"],function(a,d){b.removeData(d+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){d.data(this,"destroy.tabs")?d(this).remove():d(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});a.cookie&&this._cookie(null,a.cookie);return this},add:function(a,
e,b){void 0===b&&(b=this.anchors.length);var c=this,g=this.options,e=d(g.tabTemplate.replace(/#\{href\}/g,a).replace(/#\{label\}/g,e)),a=!a.indexOf("#")?a.replace("#",""):this._tabId(d("a",e)[0]);e.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var f=c.element.find("#"+a);f.length||(f=d(g.panelTemplate).attr("id",a).data("destroy.tabs",!0));f.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");b>=this.lis.length?(e.appendTo(this.list),f.appendTo(this.list[0].parentNode)):
(e.insertBefore(this.lis[b]),f.insertBefore(this.panels[b]));g.disabled=d.map(g.disabled,function(a){return a>=b?++a:a});this._tabify();1==this.anchors.length&&(g.selected=0,e.addClass("ui-tabs-selected ui-state-active"),f.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){c._trigger("show",null,c._ui(c.anchors[0],c.panels[0]))}),this.load(0));this._trigger("add",null,this._ui(this.anchors[b],this.panels[b]));return this},remove:function(a){var a=this._getIndex(a),e=this.options,b=this.lis.eq(a).remove(),
c=this.panels.eq(a).remove();b.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(a+(a+1<this.anchors.length?1:-1));e.disabled=d.map(d.grep(e.disabled,function(b){return b!=a}),function(b){return b>=a?--b:b});this._tabify();this._trigger("remove",null,this._ui(b.find("a")[0],c[0]));return this},enable:function(a){var a=this._getIndex(a),e=this.options;if(-1!=d.inArray(a,e.disabled))return this.lis.eq(a).removeClass("ui-state-disabled"),e.disabled=d.grep(e.disabled,function(b){return b!=
a}),this._trigger("enable",null,this._ui(this.anchors[a],this.panels[a])),this},disable:function(a){var a=this._getIndex(a),d=this.options;a!=d.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),d.disabled.push(a),d.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a])));return this},select:function(a){a=this._getIndex(a);if(-1==a)if(this.options.collapsible&&-1!=this.options.selected)a=this.options.selected;else return this;this.anchors.eq(a).trigger(this.options.event+
".tabs");return this},load:function(a){var a=this._getIndex(a),e=this,b=this.options,c=this.anchors.eq(a)[0],g=d.data(c,"load.tabs");this.abort();if(!g||0!==this.element.queue("tabs").length&&d.data(c,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(a).addClass("ui-state-processing");if(b.spinner){var f=d("span",c);f.data("label.tabs",f.html()).html(b.spinner)}this.xhr=d.ajax(d.extend({},b.ajaxOptions,{url:g,success:function(f,g){e.element.find(e._sanitizeSelector(c.hash)).html(f);e._cleanup();
b.cache&&d.data(c,"cache.tabs",!0);e._trigger("load",null,e._ui(e.anchors[a],e.panels[a]));try{b.ajaxOptions.success(f,g)}catch(i){}},error:function(d,f){e._cleanup();e._trigger("load",null,e._ui(e.anchors[a],e.panels[a]));try{b.ajaxOptions.error(d,f,a,c)}catch(g){}}}));e.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(!1,!0);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));this.xhr&&(this.xhr.abort(),delete this.xhr);this._cleanup();
return this},url:function(a,d){this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",d);return this},length:function(){return this.anchors.length}});d.extend(d.ui.tabs,{version:"1.8.24"});d.extend(d.ui.tabs.prototype,{rotation:null,rotate:function(a,d){var b=this,c=this.options,g=b._rotate||(b._rotate=function(d){clearTimeout(b.rotation);b.rotation=setTimeout(function(){var a=c.selected;b.select(++a<b.anchors.length?a:0)},a);d&&d.stopPropagation()}),f=b._unrotate||(b._unrotate=!d?function(a){a.clientX&&
b.rotate(null)}:function(){g()});a?(this.element.bind("tabsshow",g),this.anchors.bind(c.event+".tabs",f),g()):(clearTimeout(b.rotation),this.element.unbind("tabsshow",g),this.anchors.unbind(c.event+".tabs",f),delete this._rotate,delete this._unrotate);return this}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.core.js' */
jQuery.effects||function(d){function l(a){var b;return a&&a.constructor==Array&&3==a.length?a:(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)]:(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))?[2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3])]:(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))?[parseInt(b[1],16),parseInt(b[2],
16),parseInt(b[3],16)]:(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))?[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(a)?m.transparent:m[d.trim(a).toLowerCase()]}function n(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]])for(var f=a.length;f--;)c=a[f],"string"==typeof a[c]&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c]);else for(c in a)"string"===
typeof a[c]&&(b[c]=a[c]);return b}function o(a){var b,c;for(b in a)c=a[b],(null==c||d.isFunction(c)||b in q||/scrollbar/.test(b)||!/color/i.test(b)&&isNaN(parseFloat(c)))&&delete a[b];return a}function r(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function i(a,b,c,e){"object"==typeof a&&(e=b,c=null,b=a,a=b.effect);d.isFunction(b)&&(e=b,c=null,b={});if("number"==typeof b||d.fx.speeds[b])e=c,c=b,b={};d.isFunction(c)&&(e=c,c=null);b=b||{};c=c||b.duration;c=d.fx.off?0:"number"==typeof c?
c:c in d.fx.speeds?d.fx.speeds[c]:d.fx.speeds._default;e=e||b.complete;return[a,b,c,e]}function j(a){return!a||("number"===typeof a||d.fx.speeds[a])||"string"===typeof a&&!d.effects[a]?!0:!1}d.effects={};d.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor borderColor color outlineColor".split(" "),function(a,b){d.fx.step[b]=function(a){if(!a.colorInit){var e;e=a.elem;var f=b,g;do{g=(d.curCSS||d.css)(e,f);if(g!=""&&g!="transparent"||d.nodeName(e,"body"))break;
f="backgroundColor"}while(e=e.parentNode);e=l(g);a.start=e;a.end=l(a.end);a.colorInit=true}a.elem.style[b]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var m={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,
0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,
255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},p=["add","remove","toggle"],q={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.effects.animateClass=function(a,b,c,e){d.isFunction(c)&&(e=c,c=null);return this.queue(function(){var f=
d(this),g=f.attr("style")||" ",h=o(n.call(this)),i,j=f.attr("class")||"";d.each(p,function(b,c){if(a[c])f[c+"Class"](a[c])});i=o(n.call(this));f.attr("class",j);f.animate(r(h,i),{queue:false,duration:b,easing:c,complete:function(){d.each(p,function(b,c){if(a[c])f[c+"Class"](a[c])});if(typeof f.attr("style")=="object"){f.attr("style").cssText="";f.attr("style").cssText=g}else f.attr("style",g);e&&e.apply(this,arguments);d.dequeue(this)}})})};d.fn.extend({_addClass:d.fn.addClass,addClass:function(a,
b,c,e){return b?d.effects.animateClass.apply(this,[{add:a},b,c,e]):this._addClass(a)},_removeClass:d.fn.removeClass,removeClass:function(a,b,c,e){return b?d.effects.animateClass.apply(this,[{remove:a},b,c,e]):this._removeClass(a)},_toggleClass:d.fn.toggleClass,toggleClass:function(a,b,c,e,f){return"boolean"==typeof b||void 0===b?c?d.effects.animateClass.apply(this,[b?{add:a}:{remove:a},c,e,f]):this._toggleClass(a,b):d.effects.animateClass.apply(this,[{toggle:a},b,c,e])},switchClass:function(a,b,c,
e,f){return d.effects.animateClass.apply(this,[{add:b,remove:a},c,e,f])}});d.extend(d.effects,{version:"1.8.24",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){"toggle"==b&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,b){var c,d;switch(a[0]){case "top":c=0;break;case "middle":c=0.5;break;case "bottom":c=
1;break;default:c=a[0]/b.height}switch(a[1]){case "left":d=0;break;case "center":d=0.5;break;case "right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var b={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},c=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;try{e.id}catch(f){e=document.body}a.wrap(c);
(a[0]===e||d.contains(a[0],e))&&d(e).focus();c=a.parent();"static"==a.css("position")?(c.css({position:"relative"}),a.css({position:"relative"})):(d.extend(b,{position:a.css("position"),zIndex:a.css("z-index")}),d.each(["top","left","bottom","right"],function(c,d){b[d]=a.css(d);isNaN(parseInt(b[d],10))&&(b[d]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return c.css(b).show()},removeWrapper:function(a){var b,c=document.activeElement;return a.parent().is(".ui-effects-wrapper")?
(b=a.parent().replaceWith(a),(a[0]===c||d.contains(a[0],c))&&d(c).focus(),b):a},setTransition:function(a,b,c,e){e=e||{};d.each(b,function(b,d){var h=a.cssUnit(d);0<h[0]&&(e[d]=h[0]*c+h[1])});return e}});d.fn.extend({effect:function(a,b,c,e){var f=i.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},f=g.options.mode,h=d.effects[a];return d.fx.off||!h?f?this[f](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)}):h.call(this,g)},_show:d.fn.show,show:function(a){if(j(a))return this._show.apply(this,
arguments);var b=i.apply(this,arguments);b[1].mode="show";return this.effect.apply(this,b)},_hide:d.fn.hide,hide:function(a){if(j(a))return this._hide.apply(this,arguments);var b=i.apply(this,arguments);b[1].mode="hide";return this.effect.apply(this,b)},__toggle:d.fn.toggle,toggle:function(a){if(j(a)||"boolean"===typeof a||d.isFunction(a))return this.__toggle.apply(this,arguments);var b=i.apply(this,arguments);b[1].mode="toggle";return this.effect.apply(this,b)},cssUnit:function(a){var b=this.css(a),
c=[];d.each(["em","px","%","pt"],function(a,d){0<b.indexOf(d)&&(c=[parseFloat(b),d])});return c}});var k={};d.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,b){k[b]=function(b){return Math.pow(b,a+2)}});d.extend(k,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,
--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});d.each(k,function(a,b){d.easing["easeIn"+a]=b;d.easing["easeOut"+a]=function(a){return 1-b(1-a)};d.easing["easeInOut"+a]=function(a){return 0.5>a?b(2*a)/2:b(-2*a+2)/-2+1}})}(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.blind.js' */
(function(b){b.effects.blind=function(c){return this.queue(function(){var a=b(this),g=["position","top","bottom","left","right"],f=b.effects.setMode(a,c.options.mode||"hide"),d=c.options.direction||"vertical";b.effects.save(a,g);a.show();var e=b.effects.createWrapper(a).css({overflow:"hidden"}),h="vertical"==d?"height":"width",d="vertical"==d?e.height():e.width();"show"==f&&e.css(h,0);var i={};i[h]="show"==f?d:0;e.animate(i,c.duration,c.options.easing,function(){"hide"==f&&a.hide();b.effects.restore(a,
g);b.effects.removeWrapper(a);c.callback&&c.callback.apply(a[0],arguments);a.dequeue()})})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.bounce.js' */
(function(e){e.effects.bounce=function(b){return this.queue(function(){var a=e(this),l=["position","top","bottom","left","right"],h=e.effects.setMode(a,b.options.mode||"effect"),d=b.options.direction||"up",c=b.options.distance||20,m=b.options.times||5,i=b.duration||250;/show|hide/.test(h)&&l.push("opacity");e.effects.save(a,l);a.show();e.effects.createWrapper(a);var f="up"==d||"down"==d?"top":"left",d="up"==d||"left"==d?"pos":"neg",c=b.options.distance||("top"==f?a.outerHeight(!0)/3:a.outerWidth(!0)/
3);"show"==h&&a.css("opacity",0).css(f,"pos"==d?-c:c);"hide"==h&&(c/=2*m);"hide"!=h&&m--;if("show"==h){var g={opacity:1};g[f]=("pos"==d?"+=":"-=")+c;a.animate(g,i/2,b.options.easing);c/=2;m--}for(g=0;g<m;g++){var j={},k={};j[f]=("pos"==d?"-=":"+=")+c;k[f]=("pos"==d?"+=":"-=")+c;a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing);c="hide"==h?2*c:c/2}"hide"==h?(g={opacity:0},g[f]=("pos"==d?"-=":"+=")+c,a.animate(g,i/2,b.options.easing,function(){a.hide();e.effects.restore(a,l);e.effects.removeWrapper(a);
b.callback&&b.callback.apply(this,arguments)})):(j={},k={},j[f]=("pos"==d?"-=":"+=")+c,k[f]=("pos"==d?"+=":"-=")+c,a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing,function(){e.effects.restore(a,l);e.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments)}));a.queue("fx",function(){a.dequeue()});a.dequeue()})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.clip.js' */
(function(b){b.effects.clip=function(e){return this.queue(function(){var a=b(this),h="position top bottom left right height width".split(" "),f=b.effects.setMode(a,e.options.mode||"hide"),c=e.options.direction||"vertical";b.effects.save(a,h);a.show();var d=b.effects.createWrapper(a).css({overflow:"hidden"}),d="IMG"==a[0].tagName?d:a,i="vertical"==c?"height":"width",j="vertical"==c?"top":"left",c="vertical"==c?d.height():d.width();"show"==f&&(d.css(i,0),d.css(j,c/2));var g={};g[i]="show"==f?c:0;g[j]=
"show"==f?0:c/2;d.animate(g,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){f=="hide"&&a.hide();b.effects.restore(a,h);b.effects.removeWrapper(a);e.callback&&e.callback.apply(a[0],arguments);a.dequeue()}})})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.drop.js' */
(function(c){c.effects.drop=function(d){return this.queue(function(){var a=c(this),h="position top bottom left right opacity".split(" "),e=c.effects.setMode(a,d.options.mode||"hide"),b=d.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a);var f="up"==b||"down"==b?"top":"left",b="up"==b||"left"==b?"pos":"neg",g=d.options.distance||("top"==f?a.outerHeight(!0)/2:a.outerWidth(!0)/2);"show"==e&&a.css("opacity",0).css(f,"pos"==b?-g:g);var i={opacity:"show"==e?1:0};i[f]=("show"==
e?"pos"==b?"+=":"-=":"pos"==b?"-=":"+=")+g;a.animate(i,{queue:!1,duration:d.duration,easing:d.options.easing,complete:function(){"hide"==e&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);d.callback&&d.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.explode.js' */
(function(j){j.effects.explode=function(a){return this.queue(function(){var c=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3,d=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3;a.options.mode="toggle"==a.options.mode?j(this).is(":visible")?"hide":"show":a.options.mode;var b=j(this).show().css("visibility","hidden"),e=b.offset();e.top-=parseInt(b.css("marginTop"),10)||0;e.left-=parseInt(b.css("marginLeft"),10)||0;for(var h=b.outerWidth(!0),i=b.outerHeight(!0),f=0;f<c;f++)for(var g=
0;g<d;g++)b.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*(h/d),top:-f*(i/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h/d,height:i/c,left:e.left+g*(h/d)+("show"==a.options.mode?(g-Math.floor(d/2))*(h/d):0),top:e.top+f*(i/c)+("show"==a.options.mode?(f-Math.floor(c/2))*(i/c):0),opacity:"show"==a.options.mode?0:1}).animate({left:e.left+g*(h/d)+("show"==a.options.mode?0:(g-Math.floor(d/2))*(h/d)),top:e.top+
f*(i/c)+("show"==a.options.mode?0:(f-Math.floor(c/2))*(i/c)),opacity:"show"==a.options.mode?1:0},a.duration||500);setTimeout(function(){"show"==a.options.mode?b.css({visibility:"visible"}):b.css({visibility:"visible"}).hide();a.callback&&a.callback.apply(b[0]);b.dequeue();j("div.ui-effects-explode").remove()},a.duration||500)})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.fade.js' */
(function(b){b.effects.fade=function(a){return this.queue(function(){var c=b(this),d=b.effects.setMode(c,a.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){a.callback&&a.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.fold.js' */
(function(c){c.effects.fold=function(a){return this.queue(function(){var b=c(this),j=["position","top","bottom","left","right"],d=c.effects.setMode(b,a.options.mode||"hide"),g=a.options.size||15,h=!!a.options.horizFirst,k=a.duration?a.duration/2:c.fx.speeds._default/2;c.effects.save(b,j);b.show();var e=c.effects.createWrapper(b).css({overflow:"hidden"}),f="show"==d!=h,l=f?["width","height"]:["height","width"],f=f?[e.width(),e.height()]:[e.height(),e.width()],i=/([0-9]+)%/.exec(g);i&&(g=parseInt(i[1],
10)/100*f["hide"==d?0:1]);"show"==d&&e.css(h?{height:0,width:g}:{height:g,width:0});h={};i={};h[l[0]]="show"==d?f[0]:g;i[l[1]]="show"==d?f[1]:0;e.animate(h,k,a.options.easing).animate(i,k,a.options.easing,function(){"hide"==d&&b.hide();c.effects.restore(b,j);c.effects.removeWrapper(b);a.callback&&a.callback.apply(b[0],arguments);b.dequeue()})})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.highlight.js' */
(function(b){b.effects.highlight=function(c){return this.queue(function(){var a=b(this),e=["backgroundImage","backgroundColor","opacity"],d=b.effects.setMode(a,c.options.mode||"show"),f={backgroundColor:a.css("backgroundColor")};"hide"==d&&(f.opacity=0);b.effects.save(a,e);a.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(f,{queue:!1,duration:c.duration,easing:c.options.easing,complete:function(){d=="hide"&&a.hide();b.effects.restore(a,e);d=="show"&&!b.support.opacity&&
this.style.removeAttribute("filter");c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.pulsate.js' */
(function(e){e.effects.pulsate=function(a){return this.queue(function(){var b=e(this),d=e.effects.setMode(b,a.options.mode||"show"),g=2*(a.options.times||5)-1,h=a.duration?a.duration/2:e.fx.speeds._default/2,f=b.is(":visible"),c=0;f||(b.css("opacity",0).show(),c=1);("hide"==d&&f||"show"==d&&!f)&&g--;for(d=0;d<g;d++)b.animate({opacity:c},h,a.options.easing),c=(c+1)%2;b.animate({opacity:c},h,a.options.easing,function(){c==0&&b.hide();a.callback&&a.callback.apply(this,arguments)});b.queue("fx",function(){b.dequeue()}).dequeue()})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.scale.js' */
(function(c){c.effects.puff=function(b){return this.queue(function(){var a=c(this),d=c.effects.setMode(a,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,i=e/100,g={height:a.height(),width:a.width()};c.extend(b.options,{fade:!0,mode:d,percent:"hide"==d?e:100,from:"hide"==d?g:{height:g.height*i,width:g.width*i}});a.effect("scale",b.options,b.duration,b.callback);a.dequeue()})};c.effects.scale=function(b){return this.queue(function(){var a=c(this),d=c.extend(!0,{},b.options),e=c.effects.setMode(a,
b.options.mode||"effect"),i=parseInt(b.options.percent,10)||(0==parseInt(b.options.percent,10)?0:"hide"==e?0:100),g=b.options.direction||"both",f=b.options.origin;"effect"!=e&&(d.origin=f||["middle","center"],d.restore=!0);f={height:a.height(),width:a.width()};a.from=b.options.from||("show"==e?{height:0,width:0}:f);a.to={height:f.height*("horizontal"!=g?i/100:1),width:f.width*("vertical"!=g?i/100:1)};if(b.options.fade&&("show"==e&&(a.from.opacity=0,a.to.opacity=1),"hide"==e))a.from.opacity=1,a.to.opacity=
0;d.from=a.from;d.to=a.to;d.mode=e;a.effect("size",d,b.duration,b.callback);a.dequeue()})};c.effects.size=function(b){return this.queue(function(){var a=c(this),d="position top bottom left right width height overflow opacity".split(" "),e="position top bottom left right overflow opacity".split(" "),i=["width","height","overflow"],g=["fontSize"],f=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],j=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],r=c.effects.setMode(a,
b.options.mode||"effect"),q=b.options.restore||!1,n=b.options.scale||"both",k=b.options.origin,h={height:a.height(),width:a.width()};a.from=b.options.from||h;a.to=b.options.to||h;k&&(k=c.effects.getBaseline(k,h),a.from.top=(h.height-a.from.height)*k.y,a.from.left=(h.width-a.from.width)*k.x,a.to.top=(h.height-a.to.height)*k.y,a.to.left=(h.width-a.to.width)*k.x);var l=a.from.height/h.height,o=a.from.width/h.width,m=a.to.height/h.height,p=a.to.width/h.width;if("box"==n||"both"==n)if(l!=m&&(d=d.concat(f),
a.from=c.effects.setTransition(a,f,l,a.from),a.to=c.effects.setTransition(a,f,m,a.to)),o!=p)d=d.concat(j),a.from=c.effects.setTransition(a,j,o,a.from),a.to=c.effects.setTransition(a,j,p,a.to);if(("content"==n||"both"==n)&&l!=m)d=d.concat(g),a.from=c.effects.setTransition(a,g,l,a.from),a.to=c.effects.setTransition(a,g,m,a.to);c.effects.save(a,q?d:e);a.show();c.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);if("content"==n||"both"==n)f=f.concat(["marginTop","marginBottom"]).concat(g),
j=j.concat(["marginLeft","marginRight"]),i=d.concat(f).concat(j),a.find("*[width]").each(function(){var a=c(this);q&&c.effects.save(a,i);var d=a.height(),e=a.width();a.from={height:d*l,width:e*o};a.to={height:d*m,width:e*p};if(l!=m){a.from=c.effects.setTransition(a,f,l,a.from);a.to=c.effects.setTransition(a,f,m,a.to)}if(o!=p){a.from=c.effects.setTransition(a,j,o,a.from);a.to=c.effects.setTransition(a,j,p,a.to)}a.css(a.from);a.animate(a.to,b.duration,b.options.easing,function(){q&&c.effects.restore(a,
i)})});a.animate(a.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){a.to.opacity===0&&a.css("opacity",a.from.opacity);r=="hide"&&a.hide();c.effects.restore(a,q?d:e);c.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.shake.js' */
(function(d){d.effects.shake=function(a){return this.queue(function(){var b=d(this),j=["position","top","bottom","left","right"];d.effects.setMode(b,a.options.mode||"effect");var c=a.options.direction||"left",e=a.options.distance||20,l=a.options.times||3,f=a.duration||a.options.duration||140;d.effects.save(b,j);b.show();d.effects.createWrapper(b);var g="up"==c||"down"==c?"top":"left",h="up"==c||"left"==c?"pos":"neg",c={},i={},k={};c[g]=("pos"==h?"-=":"+=")+e;i[g]=("pos"==h?"+=":"-=")+2*e;k[g]=("pos"==
h?"-=":"+=")+2*e;b.animate(c,f,a.options.easing);for(e=1;e<l;e++)b.animate(i,f,a.options.easing).animate(k,f,a.options.easing);b.animate(i,f,a.options.easing).animate(c,f/2,a.options.easing,function(){d.effects.restore(b,j);d.effects.removeWrapper(b);a.callback&&a.callback.apply(this,arguments)});b.queue("fx",function(){b.dequeue()});b.dequeue()})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.slide.js' */
(function(c){c.effects.slide=function(d){return this.queue(function(){var a=c(this),h=["position","top","bottom","left","right"],f=c.effects.setMode(a,d.options.mode||"show"),b=d.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a).css({overflow:"hidden"});var g="up"==b||"down"==b?"top":"left",b="up"==b||"left"==b?"pos":"neg",e=d.options.distance||("top"==g?a.outerHeight(!0):a.outerWidth(!0));"show"==f&&a.css(g,"pos"==b?isNaN(e)?"-"+e:-e:e);var i={};i[g]=("show"==f?"pos"==
b?"+=":"-=":"pos"==b?"-=":"+=")+e;a.animate(i,{queue:!1,duration:d.duration,easing:d.options.easing,complete:function(){"hide"==f&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);d.callback&&d.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-effects', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery-ui/jquery.effects.transfer.js' */
(function(e){e.effects.transfer=function(a){return this.queue(function(){var b=e(this),c=e(a.options.to),d=c.offset(),c={top:d.top,left:d.left,height:c.innerHeight(),width:c.innerWidth()},d=b.offset(),f=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(a.options.className).css({top:d.top,left:d.left,height:b.innerHeight(),width:b.innerWidth(),position:"absolute"}).animate(c,a.duration,a.options.easing,function(){f.remove();a.callback&&a.callback.apply(b[0],arguments);b.dequeue()})})}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:jquery-ui-other', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/jquery.ui.menu.js' */
(function(d){d.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(b){d(b.target).closest(".ui-menu-item a").length&&(b.preventDefault(),a.select(b))});this.refresh()},refresh:function(){var a=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(b){a.activate(b,d(this).parent())}).mouseleave(function(){a.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,e=this.element.attr("scrollTop"),d=this.element.height();0>c?this.element.attr("scrollTop",e+c):c>d&&this.element.attr("scrollTop",e+c-d+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",a,{item:b})},deactivate:function(){this.active&&
(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prev().length},last:function(){return this.active&&!this.active.next().length},move:function(a,b,c){this.active?(a=this.active[a+"All"](".ui-menu-item").eq(0),a.length?this.activate(c,a):this.activate(c,this.element.children(b))):
this.activate(c,this.element.children(b))},nextPage:function(a){if(this.hasScroll())if(!this.active||this.last())this.activate(a,this.element.children(":first"));else{var b=this.active.offset().top,c=this.element.height(),e=this.element.children("li").filter(function(){var a=d(this).offset().top-b-c+d(this).height();return 10>a&&-10<a});e.length||(e=this.element.children(":last"));this.activate(a,e)}else this.activate(a,this.element.children(!this.active||this.last()?":first":":last"))},previousPage:function(a){if(this.hasScroll())if(!this.active||
this.first())this.activate(a,this.element.children(":last"));else{var b=this.active.offset().top,c=this.element.height();result=this.element.children("li").filter(function(){var a=d(this).offset().top-b+c-d(this).height();return 10>a&&-10<a});result.length||(result=this.element.children(":first"));this.activate(a,result)}else this.activate(a,this.element.children(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(a){this._trigger("selected",
a,{item:this.active})}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-class-names', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/class-names.js' */
("undefined"===typeof window?global:window).__9686b553e3321d6e3d0827c732703db2=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={NO_VALUE:"aui-restfultable-editable-no-value",NO_ENTRIES:"aui-restfultable-no-entires",RESTFUL_TABLE:"aui-restfultable",ROW:"aui-restfultable-row",READ_ONLY:"aui-restfultable-readonly",ACTIVE:"aui-restfultable-active",ALLOW_HOVER:"aui-restfultable-allowhover",FOCUSED:"aui-restfultable-focused",MOVEABLE:"aui-restfultable-movable",
DISABLED:"aui-restfultable-disabled",SUBMIT:"aui-restfultable-submit",CANCEL:"aui-restfultable-cancel",EDIT_ROW:"aui-restfultable-editrow",CREATE:"aui-restfultable-create",DRAG_HANDLE:"aui-restfultable-draghandle",ORDER:"aui-restfultable-order",EDITABLE:"aui-restfultable-editable",ERROR:"error",DELETE:"aui-restfultable-delete",LOADING:"loading"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-custom-create-view', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/custom-create-view.js' */
("undefined"===typeof window?global:window).__1f0cfb30492ae2f63116aa2cedcf2665=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=__8bce1189c6f418154922d6191fc8f5b9;a.default=(b&&b.__esModule?b:{"default":b}).default.View;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-custom-edit-view', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/custom-edit-view.js' */
("undefined"===typeof window?global:window).__936c753646f6d1af3bf629bcf33202b2=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=__8bce1189c6f418154922d6191fc8f5b9;a.default=(b&&b.__esModule?b:{"default":b}).default.View;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-custom-read-view', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/custom-read-view.js' */
("undefined"===typeof window?global:window).__0e1f773c55b82a2c7d6941f968e43229=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=__8bce1189c6f418154922d6191fc8f5b9;a.default=(b&&b.__esModule?b:{"default":b}).default.View;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-data-keys', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/data-keys.js' */
("undefined"===typeof window?global:window).__14e83a83d67a9572bb0d29807fc2cd51=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={ENABLED_SUBMIT:"enabledSubmit",ROW_VIEW:"RestfulTable_Row_View"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-jquery-serializetoobject', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/serializetoobject.js' */
("undefined"===typeof window?global:window).__adb4260afe32be177f27ec669218f07b=function(){jQuery.fn.serializeObject=function(){var a={};this.find(":input:not(:button):not(:submit):not(:radio):not('select[multiple]')").each(function(){""!==this.name&&(null===this.value&&(this.value=""),a[this.name]=this.value.match(/^(tru|fals)e$/i)?"true"==this.value.toLowerCase():this.value)});this.find("input:radio:checked").each(function(){a[this.name]=this.value});this.find("select[multiple]").each(function(){var c=
jQuery(this),b=c.val();a[this.name]=c.data("aui-ss")?b?b[0]:"":null!==b?b:[]});return a};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-events', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/events.js' */
("undefined"===typeof window?global:window).__82b350b89c9c93ba1221a2c426a06c0b=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={REORDER_SUCCESS:"RestfulTable.reorderSuccess",ROW_ADDED:"RestfulTable.rowAdded",ROW_REMOVED:"RestfulTable.rowRemoved",EDIT_ROW:"RestfulTable.switchedToEditMode",SERVER_ERROR:"RestfulTable.serverError",CREATED:"created",UPDATED:"updated",FOCUS:"focus",BLUR:"blur",SUBMIT:"submit",SAVE:"save",MODAL:"modal",MODELESS:"modeless",CANCEL:"cancel",
CONTENT_REFRESHED:"contentRefreshed",RENDER:"render",FINISHED_EDITING:"finishedEditing",VALIDATION_ERROR:"validationError",SUBMIT_STARTED:"submitStarted",SUBMIT_FINISHED:"submitFinished",INITIALIZED:"initialized",ROW_INITIALIZED:"rowInitialized",ROW_EDIT:"editRow"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-throbber', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/throbber.js' */
("undefined"===typeof window?global:window).__604134cbd82b60bc60ea8f0ca1fb441e=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=function(){return'<span class="aui-restfultable-throbber"></span>'};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-edit-row', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/edit-row.js' */
("undefined"===typeof window?global:window).__32641b41cd9b0d60d010df618be43a5c=function(){function f(a){return a&&a.__esModule?a:{"default":a}}var g={};"use strict";Object.defineProperty(g,"__esModule",{value:!0});var j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},c=f(__205998b249afc65053be53fe079b2622);__adb4260afe32be177f27ec669218f07b;var k=f(__8bce1189c6f418154922d6191fc8f5b9),
l=f(__9686b553e3321d6e3d0827c732703db2),m=f(__14e83a83d67a9572bb0d29807fc2cd51),n=f(__82b350b89c9c93ba1221a2c426a06c0b);f(__a866669d4154059102465265e64017b7);var o=f(__604134cbd82b60bc60ea8f0ca1fb441e);g.default=k.default.View.extend({tagName:"tr",events:{focusin:"_focus",click:"_focus",keyup:"_handleKeyUpEvent"},initialize:function(a){this.$el=(0,c.default)(this.el);this._event=n.default;this.classNames=l.default;this.dataKeys=m.default;this.columns=a.columns;this.isCreateRow=a.isCreateRow;this.allowReorder=
a.allowReorder;this.events["click ."+this.classNames.CANCEL]="_cancel";this.delegateEvents();a.isUpdateMode?this.isUpdateMode=!0:(this._modelClass=a.model,this.model=new this._modelClass);this.fieldFocusSelector=a.fieldFocusSelector;this.bind(this._event.CANCEL,function(){this.disabled=true}).bind(this._event.SAVE,function(a){this.disabled||this.submit(a)}).bind(this._event.FOCUS,function(a){this.focus(a)}).bind(this._event.BLUR,function(){this.$el.removeClass(this.classNames.FOCUSED);this.disable()}).bind(this._event.SUBMIT_STARTED,
function(){this._submitStarted()}).bind(this._event.SUBMIT_FINISHED,function(){this._submitFinished()})},defaultColumnRenderer:function(a){if(!1!==a.allowEdit)return(0,c.default)("<input type='text' />").addClass("text").attr({name:a.name,value:a.value});if(a.value)return document.createTextNode(a.value)},renderDragHandle:function(){return'<span class="'+this.classNames.DRAG_HANDLE+'"></span></td>'},_handleKeyUpEvent:function(a){27===a.keyCode&&this.trigger(this._event.CANCEL)},_cancel:function(a){this.trigger(this._event.CANCEL);
a.preventDefault();return this},_submitStarted:function(){this.submitting=!0;this.showLoading().disable().delegateEvents({});return this},_submitFinished:function(){this.submitting=!1;this.hideLoading().enable().delegateEvents(this.events);return this},_focus:function(a){this.hasFocus()||this.trigger(this._event.FOCUS,a.target.name);return this},hasFocus:function(){return this.$el.hasClass(this.classNames.FOCUSED)},focus:function(a){this.enable();a?a=this.$el.find(this.fieldFocusSelector(a)):(a=this.$el.find(this.classNames.ERROR+
":first"),a=0===a.length?this.$el.find(":input:text:first"):a.parent().find(":input"));this.$el.addClass(this.classNames.FOCUSED);a.focus().trigger("select");return this},disable:function(){var a,b;c.default.browser.mozilla&&(b=this.$el.find(":submit"),b.length&&(a=(0,c.default)("<input type='submit' class='"+this.classNames.SUBMIT+"' />").addClass(b.attr("class")).val(b.val()).data(this.dataKeys.ENABLED_SUBMIT,b),b.replaceWith(a)));this.$el.addClass(this.classNames.DISABLED).find(":submit").attr("disabled",
"disabled");return this},enable:function(){var a,b;c.default.browser.mozilla&&(a=this.$el.find(this.classNames.SUBMIT),(b=a.data(this.dataKeys.ENABLED_SUBMIT))&&a.length&&a.replaceWith(b));this.$el.removeClass(this.classNames.DISABLED).find(":submit").removeAttr("disabled");return this},showLoading:function(){this.$el.addClass(this.classNames.LOADING);return this},hideLoading:function(){this.$el.removeClass(this.classNames.LOADING);return this},hasUpdates:function(){return!!this.mapSubmitParams(this.serializeObject())},
serializeObject:function(){var a=this.$el;return a.serializeObject?a.serializeObject():a.serialize()},mapSubmitParams:function(a){return this.model.changedAttributes(a)},submit:function(a){var b=this,h;document.activeElement!==window&&(0,c.default)(document.activeElement).blur();if(this.isUpdateMode){if(h=this.mapSubmitParams(this.serializeObject()),!h)return b.trigger(b._event.CANCEL)}else this.model.clear(),h=this.mapSubmitParams(this.serializeObject());this.trigger(this._event.SUBMIT_STARTED);
this.model.save(h,{success:function(){b.isUpdateMode?b.trigger(b._event.UPDATED,b.model,a):(b.trigger(b._event.CREATED,b.model.toJSON()),b.model=new b._modelClass,b.render({errors:{},values:{}}),b.trigger(b._event.FOCUS));b.trigger(b._event.SUBMIT_FINISHED)},error:function(a,c,h){400===h.status&&(b.renderErrors(c.errors),b.trigger(b._event.VALIDATION_ERROR,c.errors));b.trigger(b._event.SUBMIT_FINISHED)},silent:!0});return this},renderError:function(a,b){return(0,c.default)("<div />").attr("data-field",
a).addClass(this.classNames.ERROR).text(b)},renderErrors:function(a){var b=this;this.$("."+this.classNames.ERROR).remove();a&&c.default.each(a,function(a,c){b.$el.find("[name='"+a+"']").closest("td").append(b.renderError(a,c))});return this},render:function(a){var b=this;this.$el.empty();this.allowReorder&&(0,c.default)('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(b.$el);c.default.each(this.columns,function(f,d){var e,i;e=a.values[d.id];var g=[{name:d.id,value:e,
allowEdit:d.allowEdit},a.values,b.model];e&&b.$el.attr("data-"+d.id,e);e=b.isCreateRow&&d.createView?(new d.createView({model:b.model})).render(g[0]):d.editView?(new d.editView({model:b.model})).render(g[0]):b.defaultColumnRenderer.apply(b,g);i=(0,c.default)("<td />");"object"===("undefined"===typeof e?"undefined":j(e))&&e.done?e.done(function(a){i.append(a)}):i.append(e);d.styleClass&&i.addClass(d.styleClass);i.appendTo(b.$el)});this.$el.append(this.renderOperations(a.update,a.values)).addClass(this.classNames.ROW+
" "+this.classNames.EDIT_ROW);this.trigger(this._event.RENDER,this.$el,a.values);this.$el.trigger(this._event.CONTENT_REFRESHED,[this.$el]);return this},renderOperations:function(a){var b=(0,c.default)('<td class="aui-restfultable-operations" />');a?b.append((0,c.default)('<input class="aui-button" type="submit" />').attr({accesskey:this.submitAccessKey,value:"Update"})).append((0,c.default)('<a class="aui-button aui-button-link" href="#" />').addClass(this.classNames.CANCEL).text("Cancel").attr({accesskey:this.cancelAccessKey})):
b.append((0,c.default)('<input class="aui-button" type="submit" />').attr({accesskey:this.submitAccessKey,value:"Add"}));return b.add((0,c.default)('<td class="aui-restfultable-status" />').append((0,o.default)()))}});return g=g["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-events', location = 'node_modules/@atlassian/aui/src/js/aui/events.js' */
("undefined"===typeof window?global:window).__bf4c32b87195c47ca7087f8c77ddee31=function(){function g(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){(0,h.default)(j.default).trigger(a,b)}function e(a,b){(0,h.default)(j.default).bind(a,b)}function f(a,b,c){(0,h.default)(b).trigger(a,c);d(a,c);b.id&&d(b.id+"-"+a,c)}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.triggerEvtForInst=b.triggerEvt=b.bindEvt=void 0;var h=g(__205998b249afc65053be53fe079b2622),a;a=__bec41a89fad5278f895ed424cdf50be7;
if(!a||!a.__esModule){var c={};if(null!=a)for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(c[i]=a[i]);c.default=a;a=c}var j=g(__9cafbf2ea7bd105c6c296b132f08cc0c),c=g(__90e6b3a7b5f251fe6bee9d0accee9418);b.bindEvt=e=a.fn(e,"bindEvt",{sinceVersion:"5.8.0"});b.triggerEvt=d=a.fn(d,"triggerEvt",{sinceVersion:"5.8.0"});b.triggerEvtForInst=f=a.fn(f,"triggerEvtForInst",{sinceVersion:"5.8.0"});(0,c.default)("bindEvt",e);(0,c.default)("triggerEvt",d);(0,c.default)("triggerEvtForInst",f);b.bindEvt=
e;b.triggerEvt=d;b.triggerEvtForInst=f;return b}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-entry-model', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/entry-model.js' */
("undefined"===typeof window?global:window).__597c1b57fe3d08f17834e20eb86358c5=function(){function f(a){return a&&a.__esModule?a:{"default":a}}var i={};"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},g=f(__205998b249afc65053be53fe079b2622),m=__bf4c32b87195c47ca7087f8c77ddee31,j=f(__65c5c9d6761cf79ad357a1b86523b68f),
h=f(__8bce1189c6f418154922d6191fc8f5b9),n=f(__82b350b89c9c93ba1221a2c426a06c0b),k=h.default.Model.extend({sync:function(a,b,d){var e=this,c=d.error;d.error=function(a){e._serverErrorHandler(a,this);c&&c.apply(this,arguments)};return h.default.sync.apply(h.default,arguments)},save:function(a,b){var b=b||{},d=this,e,c=b.error,f=b.success;b.error=function(a,b){var e=g.default.parseJSON(b.responseText||b.data);c&&c.call(d,d,e,b)};this.isNew()?h.default.Model.prototype.save.call(this,a,b):a&&(e=k.extend({url:this.url()}),
e=new e({id:this.id}),e.save=h.default.Model.prototype.save,b.success=function(a,b){d.clear().set(a.toJSON());f&&f.call(d,d,b)},e.save(a,b))},destroy:function(a){var a=a||{},b=this,d=this.url(),e;a.data&&(e=g.default.param(a.data));""!==e&&(d=d+"?"+e);g.default.ajax({url:d,type:"DELETE",dataType:"json",contentType:"application/json",success:function(c){b.collection&&b.collection.remove(b);a.success&&a.success.call(b,c)},error:function(c){b._serverErrorHandler(c,this);a.error&&a.error.call(b,c)}});
return this},changedAttributes:function(a){var b={},d=this.toJSON();g.default.each(a,function(a,c){d[a]?d[a]&&d[a]!==c&&("object"===("undefined"===typeof c?"undefined":l(c))?j.default.isEqual(c,d[a])||(b[a]=c):b[a]=c):"string"===typeof c?""!==g.default.trim(c)&&(b[a]=c):g.default.isArray(c)?0!==c.length&&(b[a]=c):b[a]=c});if(!j.default.isEmpty(b))return this.addExpand(b),b},addExpand:function(){},_serverErrorHandler:function(a,b){var d;400!==a.status&&(d=g.default.parseJSON(a.responseText||a.data),
(0,m.triggerEvtForInst)(n.default.SERVER_ERROR,this,[d,a,b]))},fetch:function(a){a=a||{};this.clear();h.default.Model.prototype.fetch.call(this,a)}});i.default=k;return i=i["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table-row', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table/row.js' */
("undefined"===typeof window?global:window).__a0e7996cde285d4ae083a00174a614cb=function(){function e(a){return a&&a.__esModule?a:{"default":a}}var h={};"use strict";Object.defineProperty(h,"__esModule",{value:!0});var b=e(__205998b249afc65053be53fe079b2622),j;var c=__c5a23fa2adacd6145a47562fe6433a8a;if(c&&c.__esModule)j=c;else{var k={};if(null!=c)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(k[d]=c[d]);k.default=c;j=k}d=e(__8bce1189c6f418154922d6191fc8f5b9);var l=e(__9686b553e3321d6e3d0827c732703db2),
m=e(__14e83a83d67a9572bb0d29807fc2cd51),n=e(__82b350b89c9c93ba1221a2c426a06c0b);e(__a866669d4154059102465265e64017b7);var o=e(__604134cbd82b60bc60ea8f0ca1fb441e);h.default=d.default.View.extend({tagName:"tr",events:{"click .aui-restfultable-editable":"edit"},initialize:function(a){a=a||{};this._event=n.default;this.classNames=l.default;this.dataKeys=m.default;this.columns=a.columns;this.allowEdit=a.allowEdit;this.allowDelete=a.allowDelete;if(!this.events["click .aui-restfultable-editable"])throw Error("It appears you have overridden the events property. To add events you will need to usea work around. https://github.com/documentcloud/backbone/issues/244");
this.index=a.index||0;this.deleteConfirmation=a.deleteConfirmation;this.allowReorder=a.allowReorder;this.$el=(0,b.default)(this.el);this.bind(this._event.CANCEL,function(){this.disabled=!0}).bind(this._event.FOCUS,function(a){this.focus(a)}).bind(this._event.BLUR,function(){this.unfocus()}).bind(this._event.MODAL,function(){this.$el.addClass(this.classNames.ACTIVE)}).bind(this._event.MODELESS,function(){this.$el.removeClass(this.classNames.ACTIVE)})},renderDragHandle:function(){return'<span class="'+
this.classNames.DRAG_HANDLE+'"></span></td>'},defaultColumnRenderer:function(a){if(a.value)return document.createTextNode(a.value.toString())},sync:function(a){var b=this;this.model.addExpand(a);this.showLoading();this.model.save(a,{success:function(){b.hideLoading().render();b.trigger(b._event.UPDATED)},error:function(){b.hideLoading()}});return this},refresh:function(a,b){var c=this;this.showLoading();this.model.fetch({success:function(){c.hideLoading().render();a&&a.apply(this,arguments)},error:function(){c.hideLoading();
b&&b.apply(this,arguments)}});return this},hasFocus:function(){return this.$el.hasClass(this.classNames.FOCUSED)},focus:function(){(0,b.default)(this.el).addClass(this.classNames.FOCUSED);return this},unfocus:function(){(0,b.default)(this.el).removeClass(this.classNames.FOCUSED);return this},showLoading:function(){this.$el.addClass(this.classNames.LOADING);return this},hideLoading:function(){this.$el.removeClass(this.classNames.LOADING);return this},edit:function(a){a=(0,b.default)(a.target).is("."+
this.classNames.EDITABLE)?(0,b.default)(a.target).attr("data-field-name"):(0,b.default)(a.target).closest("."+this.classNames.EDITABLE).attr("data-field-name");this.trigger(this._event.ROW_EDIT,a);return this},renderOperations:function(){var a=this;if(!1!==this.allowDelete)return(0,b.default)("<a href='#' class='aui-button' />").addClass(this.classNames.DELETE).text("Delete").click(function(b){b.preventDefault();a.destroy()})},destroy:function(){if(this.deleteConfirmation){var a=
j.popup(400,200,"delete-entity-"+this.model.get("id"));a.element.html(this.deleteConfirmation(this.model.toJSON()));a.show();a.element.find(".cancel").click(function(){a.hide()});a.element.find("form").submit(_.bind(function(b){a.hide();this.model.destroy();b.preventDefault()},this))}else this.model.destroy()},render:function(){var a=this,c=this.model.toJSON(),e=(0,b.default)("<td class='aui-restfultable-operations' />").append(this.renderOperations({},c)),d=(0,b.default)("<td class='aui-restfultable-status' />").append((0,
o.default)());this.$el.removeClass(this.classNames.DISABLED+" "+this.classNames.FOCUSED+" "+this.classNames.LOADING+" "+this.classNames.EDIT_ROW).addClass(this.classNames.READ_ONLY).empty();this.allowReorder&&(0,b.default)('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(a.$el);this.$el.attr("data-id",this.model.id);b.default.each(this.columns,function(e,f){var g,d=(0,b.default)("<td />");g=c[f.id];var i=f.fieldName||f.id,h=[{name:i,value:g,allowEdit:f.allowEdit},
c,a.model];g&&a.$el.attr("data-"+f.id,g);g=f.readView?(new f.readView({model:a.model})).render(h[0]):a.defaultColumnRenderer.apply(a,h);if(!1!==a.allowEdit&&!1!==f.allowEdit){if(i=(0,b.default)("<span />").addClass(a.classNames.EDITABLE).append('<span class="aui-icon aui-icon-small aui-iconfont-edit"></span>').append(g).attr("data-field-name",i),d=(0,b.default)("<td />").append(i).appendTo(a.$el),!g||""==b.default.trim(g))d.addClass(a.classNames.NO_VALUE),i.html((0,b.default)("<em />").text(this.emptyText||
"Enter value"))}else d.append(g);f.styleClass&&d.addClass(f.styleClass);d.appendTo(a.$el)});this.$el.append(e).append(d).addClass(this.classNames.ROW+" "+this.classNames.READ_ONLY);this.trigger(this._event.RENDER,this.$el,c);this.$el.trigger(this._event.CONTENT_REFRESHED,[this.$el]);return this}});return h=h["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-restful-table', location = 'node_modules/@atlassian/aui/src/js/aui/restful-table.js' */
("undefined"===typeof window?global:window).__0aff4c7142050bdd8c0f0681c7246585=function(){function f(a){return a&&a.__esModule?a:{"default":a}}function l(a,b,c){(0,e.default)(b).trigger(a,c);(0,e.default)(document).trigger(a,c);b.id&&(a=b.id+"_"+a,(0,e.default)(document).trigger(a,c))}var m={};"use strict";Object.defineProperty(m,"__esModule",{value:!0});var e=f(__205998b249afc65053be53fe079b2622),n;var h=__c5c8928696c2f1e79d2743a9b233ae16;if(h&&h.__esModule)n=h;else{var j={};if(null!=h)for(var k in h)Object.prototype.hasOwnProperty.call(h,
k)&&(j[k]=h[k]);j.default=h;n=j}var o=f(__8bce1189c6f418154922d6191fc8f5b9),r=f(__9686b553e3321d6e3d0827c732703db2);k=f(__1f0cfb30492ae2f63116aa2cedcf2665);var h=f(__936c753646f6d1af3bf629bcf33202b2),j=f(__0e1f773c55b82a2c7d6941f968e43229),s=f(__14e83a83d67a9572bb0d29807fc2cd51),t=f(__32641b41cd9b0d60d010df618be43a5c),p=f(__597c1b57fe3d08f17834e20eb86358c5),u=f(__82b350b89c9c93ba1221a2c426a06c0b),w=f(__90e6b3a7b5f251fe6bee9d0accee9418);f(__a866669d4154059102465265e64017b7);var q=f(__a0e7996cde285d4ae083a00174a614cb),
v=f(__604134cbd82b60bc60ea8f0ca1fb441e),g=o.default.View.extend({initialize:function(a){var b=this;b.options=e.default.extend(!0,b._getDefaultOptions(a),a);b.id=this.options.id;b._event=u.default;b.classNames=r.default;b.dataKeys=s.default;this.$table=(0,e.default)(a.el).addClass(this.classNames.RESTFUL_TABLE).addClass(this.classNames.ALLOW_HOVER).addClass("aui").addClass(b.classNames.LOADING);this.$table.wrapAll("<form class='aui' action='#' />");this.$thead=(0,e.default)("<thead/>");this.$theadRow=
(0,e.default)("<tr />").appendTo(this.$thead);this.$tbody=(0,e.default)("<tbody/>");if(!this.$table.length)throw Error("RestfulTable: Init failed! The table you have specified ["+this.$table.selector+"] cannot be found.");if(!this.options.columns)throw Error("RestfulTable: Init failed! You haven't provided any columns to render.");this.showGlobalLoading();this.options.columns.forEach(function(a){var d=e.default.isFunction(a.header)?a.header():a.header;"undefined"===typeof d&&(n.warn("You have not specified [header] for column ["+
a.id+"]. Using id for now..."),d=a.id);b.$theadRow.append("<th>"+d+"</th>")});b.$theadRow.append("<th></th><th></th>");this._models=this._createCollection();this._rowClass=this.options.views.row;this.editRows=[];this.$table.closest("form").submit(function(a){b.focusedRow&&b.focusedRow.trigger(b._event.SAVE);a.preventDefault()});this.options.allowReorder&&(this.$theadRow.prepend("<th />"),this.$tbody.sortable({handle:"."+this.classNames.DRAG_HANDLE,helper:function(a,d){var i=(0,e.default)("<div/>").attr("class",
d.attr("class")).addClass(b.classNames.MOVEABLE);d.children().each(function(){var a=(0,e.default)(this),b=parseInt(0+a.css("border-left-width"),10),c=parseInt(0+a.css("border-right-width"),10),b=a[0].clientWidth+b+c;i.append((0,e.default)("<div/>").html(a.html()).attr("class",a.attr("class")).width(b))});i=(0,e.default)("<div class='aui-restfultable-readonly'/>").append(i);i.css({left:d.offset().left});i.appendTo(document.body);return i},start:function(a,d){var i=d.helper[0].clientHeight,f=d.placeholder.find("td");
d.item.addClass(b.classNames.MOVEABLE).children().each(function(a){(0,e.default)(this).width(f.eq(a).width())});var g='<td colspan="'+b.getColumnCount()+'">&nbsp;</td>';d.placeholder.html(g).css({height:i,visibility:"visible"});b.getRowFromElement(d.item[0]).trigger(b._event.MODAL)},stop:function(a,d){if((0,e.default)(d.item[0]).is(":visible"))d.item.removeClass(b.classNames.MOVEABLE).children().attr("style",""),d.placeholder.removeClass(b.classNames.ROW),b.getRowFromElement(d.item[0]).trigger(b._event.MODELESS)},
update:function(a,d){var e={row:b.getRowFromElement(d.item[0]),item:d.item,nextItem:d.item.next(),prevItem:d.item.prev()};b.move(e)},axis:"y",delay:0,containment:"document",cursor:"move",scroll:!0,zIndex:8E3}),this.$tbody.bind("selectstart mousedown",function(a){return!(0,e.default)(a.target).is("."+b.classNames.DRAG_HANDLE)}));!1!==this.options.allowCreate&&(this._createRow=(new this.options.views.editRow({columns:this.options.columns,isCreateRow:!0,model:this.options.model.extend({url:function(){return b.options.resources.self}}),
cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey,allowReorder:this.options.allowReorder,fieldFocusSelector:this.options.fieldFocusSelector})).bind(this._event.CREATED,function(a){b.options.addPosition==void 0&&b.options.createPosition==="bottom"||b.options.addPosition==="bottom"?b.addRow(a):b.addRow(a,0)}).bind(this._event.VALIDATION_ERROR,function(){this.trigger(b._event.FOCUS)}).render({errors:{},values:{}}),this.$create=(0,e.default)('<tbody class="'+this.classNames.CREATE+
'" />').append(this._createRow.el),this._applyFocusCoordinator(this._createRow),this._createRow.trigger(this._event.FOCUS));this._models.bind("remove",function(a){b.getRows().forEach(function(d){if(d.model===a){d.hasFocus()&&b._createRow&&b._createRow.trigger(b._event.FOCUS);b.removeRow(d)}})});this.fetchInitialResources()},fetchInitialResources:function(){var a=this;e.default.isFunction(this.options.resources.all)?this.options.resources.all(function(b){a.populate(b)}):e.default.get(this.options.resources.all,
function(b){a.populate(b)})},move:function(a){var b=this,c=function(a){return a.length?{after:b.getRowFromElement(a).model.url()}:{position:"First"}};a.row&&(c=b.options.reverseOrder?c(a.nextItem):c(a.prevItem),e.default.ajax({url:a.row.model.url()+"/move",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(c),complete:function(){a.row.hideLoading()},success:function(a){AJS.triggerEvtForInst(b._event.REORDER_SUCCESS,b,[a])},error:function(a){var c=e.default.parseJSON(a.responseText||
a.data);AJS.triggerEvtForInst(b._event.SERVER_ERROR,b,[c,a,this])}}),a.row.showLoading())},_createCollection:function(){var a=this;return new (this.options.Collection.extend({sort:function(b){b||(b={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.tableRows=a.getRows();this.models=this.sortBy(this.comparator);this.tableRows=void 0;b.silent||this.trigger("refresh",this,b);return this},remove:function(b,c){this.tableRows=a.getRows();o.default.Collection.prototype.remove.apply(this,
arguments);this.tableRows=void 0;return this}}))([],{comparator:function(b){var c;(void 0!==this.tableRows?this.tableRows:a.getRows()).some(function(a,e){if(a.model.id===b.id)return c=e,!0});return c}})},populate:function(a){this.options.reverseOrder&&a.reverse();this.hideGlobalLoading();a&&a.length?(this._models.reset([],{silent:!0}),this.renderRows(a),this.isEmpty()&&this.showNoEntriesMsg()):this.showNoEntriesMsg();this.$table.append(this.$thead);"bottom"===this.options.createPosition?this.$table.append(this.$tbody).append(this.$create):
this.$table.append(this.$create).append(this.$tbody);this.$table.removeClass(this.classNames.LOADING).trigger(this._event.INITIALIZED,[this]);l(this._event.INITIALIZED,this,[this]);this.options.autoFocus&&this.$table.find(":input:text:first").focus()},showGlobalLoading:function(){this.$loading||(this.$loading=(0,e.default)('<div class="aui-restfultable-init">'+(0,v.default)()+'<span class="aui-restfultable-loading">'+this.options.loadingMsg+"</span></div>"));this.$loading.is(":visible")||this.$loading.insertAfter(this.$table);
return this},hideGlobalLoading:function(){this.$loading&&this.$loading.remove();return this},addRow:function(a,b){var c,d;if(!a.id)throw Error("RestfulTable.addRow: to add a row values object must contain an id. Maybe you are not returning it from your restend point?Recieved:"+JSON.stringify(a));d=new this.options.model(a);c=this._renderRow(d,b);this._models.add(d);this.removeNoEntriesMsg();l(this._event.ROW_ADDED,this,[c,this]);return this},removeRow:function(a){this._models.remove(a.model);a.remove();
this.isEmpty()&&this.showNoEntriesMsg();l(this._event.ROW_REMOVED,this,[a,this])},isEmpty:function(){return 0===this._models.length},getModels:function(){return this._models},getTable:function(){return this.$table},getTableBody:function(){return this.$tbody},getCreateRow:function(){return this._createRow},getColumnCount:function(){var a=2;this.allowReorder&&++a;return this.options.columns.length+a},getRowFromElement:function(a){return(0,e.default)(a).data(this.dataKeys.ROW_VIEW)},showNoEntriesMsg:function(){this.$noEntries&&
this.$noEntries.remove();this.$noEntries=(0,e.default)("<tr>").addClass(this.classNames.NO_ENTRIES).append((0,e.default)("<td>").attr("colspan",this.getColumnCount()).text(this.options.noEntriesMsg)).appendTo(this.$tbody);return this},removeNoEntriesMsg:function(){this.$noEntries&&0<this._models.length&&this.$noEntries.remove();return this},getRows:function(){var a=this,b=[];this.$tbody.find("."+this.classNames.READ_ONLY).each(function(){var c=(0,e.default)(this).data(a.dataKeys.ROW_VIEW);c&&b.push(c)});
return b},_renderRow:function(a,b){var c=this,d=this.$tbody.find("."+this.classNames.READ_ONLY),e,f;f=new this._rowClass({model:a,columns:this.options.columns,allowEdit:this.options.allowEdit,allowDelete:this.options.allowDelete,allowReorder:this.options.allowReorder,deleteConfirmation:this.options.deleteConfirmation});this.removeNoEntriesMsg();f.bind(this._event.ROW_EDIT,function(a){l(this._event.EDIT_ROW,{},[this,c]);c.edit(this,a)});e=f.render().$el;-1!==b&&("number"===typeof b&&0!==d.length?e.insertBefore(d[b]):
this.$tbody.append(e));e.data(this.dataKeys.ROW_VIEW,f);f.bind(this._event.MODAL,function(){c.$table.removeClass(c.classNames.ALLOW_HOVER);c.$tbody.sortable("disable");c.getRows().forEach(function(a){c.isRowBeingEdited(a)||a.delegateEvents({})})});f.bind(this._event.MODELESS,function(){c.$table.addClass(c.classNames.ALLOW_HOVER);c.$tbody.sortable("enable");c.getRows().forEach(function(a){c.isRowBeingEdited(a)||a.delegateEvents()})});this._applyFocusCoordinator(f);this.trigger(this._event.ROW_INITIALIZED,
f);return f},isRowBeingEdited:function(a){var b=!1;this.editRows.some(function(c){if(c.el===a.el)return b=!0});return b},_applyFocusCoordinator:function(a){var b=this;a.hasFocusBound||(a.hasFocusBound=!0,a.bind(this._event.FOCUS,function(){b.focusedRow&&b.focusedRow!==a&&b.focusedRow.trigger(b._event.BLUR);b.focusedRow=a;a instanceof q.default&&b._createRow&&b._createRow.enable()}));return this},_removeEditRow:function(a){a=e.default.inArray(a,this.editRows);this.editRows.splice(a,1);return this},
_shiftFocusAfterEdit:function(){0<this.editRows.length?this.editRows[this.editRows.length-1].trigger(this._event.FOCUS):this._createRow&&this._createRow.trigger(this._event.FOCUS);return this},_saveEditRowOnBlur:function(){return 1>=this.editRows.length},dismissEditRows:function(){this.editRows.forEach(function(a){a.hasUpdates()||a.trigger(this._event.FINISHED_EDITING)},this)},edit:function(a,b){var c=this,d=new this.options.views.editRow({el:a.el,columns:this.options.columns,isUpdateMode:!0,allowReorder:this.options.allowReorder,
fieldFocusSelector:this.options.fieldFocusSelector,model:a.model,cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey}),e=a.model.toJSON();e.update=!0;d.render({errors:{},update:!0,values:e}).bind(c._event.UPDATED,function(b,d){c._removeEditRow(this);this.unbind();a.render().delegateEvents();a.trigger(c._event.UPDATED);!1!==d&&c._shiftFocusAfterEdit()}).bind(c._event.VALIDATION_ERROR,function(){this.trigger(c._event.FOCUS)}).bind(c._event.FINISHED_EDITING,function(){c._removeEditRow(this);
a.render().delegateEvents();this.unbind()}).bind(c._event.CANCEL,function(){c._removeEditRow(this);this.unbind();a.render().delegateEvents();c._shiftFocusAfterEdit()}).bind(c._event.BLUR,function(){c.dismissEditRows();c._saveEditRowOnBlur()&&this.trigger(c._event.SAVE,!1)});this._applyFocusCoordinator(d);d.trigger(c._event.FOCUS,b);c._createRow&&c._createRow.disable();this.editRows.push(d);return d},renderRows:function(a){var b=this._models.comparator,c=[];this._models.comparator=void 0;a=_.map(a,
function(a){a=new this.options.model(a);c.push(this._renderRow(a,-1).el);return a},this);this._models.add(a,{silent:!0});this._models.comparator=b;this.removeNoEntriesMsg();this.$tbody.append(c);return this},_getDefaultOptions:function(a){return{model:a.model||p.default,allowEdit:!0,views:{editRow:t.default,row:q.default},Collection:o.default.Collection.extend({url:a.resources.self,model:a.model||p.default}),allowReorder:!1,fieldFocusSelector:function(a){return":input[name="+a+"], #"+a},loadingMsg:a.loadingMsg||
"Loading"}}});g.ClassNames=r.default;g.CustomCreateView=k.default;g.CustomEditView=h.default;g.CustomReadView=j.default;g.DataKeys=s.default;g.EditRow=t.default;g.EntryModel=p.default;g.Events=u.default;g.Row=q.default;g.Throbber=v.default;(0,w.default)("RestfulTable",g);m.default=g;return m=m["default"]}.call(this);;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-create-steps', location = 'includes/js/zephyr/component/restful/restfultable-create.js' */
if(typeof ZEPHYR=="undefined"){ZEPHYR={}}if(ZEPHYR.serializeObject&&window.location.pathname.indexOf("workflow")>-1){jQuery.fn.serializeObject=ZEPHYR.serializeObject}jQuery.fn.serializeObjectZephyr=function(a){var b={};this.find(":input:not(:button):not(:submit):not(:radio):not('select[multiple]')").each(function(){if(this.name===""){return}if(this.value===null){this.value=""}b[this.name]=this.value.match(/^(tru|fals)e$/i)?this.value.toLowerCase()=="true":this.value});if(this.find(":input:not(:button):not(:submit):not(:radio):not('select[multiple]')")){var d=this.parents("#teststep-table").find("tbody.ui-sortable tr.aui-restfultable-readonly").length;var c=(a)?a:(d+1);b.orderId=c}this.find("input:radio:checked").each(function(){b[this.name]=this.value});this.find("select[multiple]").each(function(){var e=jQuery(this),f=e.val();if(e.data("aui-ss")){if(f){b[this.name]=f[0]}else{b[this.name]=""}}else{if(f!==null){b[this.name]=f}else{b[this.name]=[]}}});return b};(function(a){ZEPHYR.RestfulTable=AJS.RestfulTable.extend({initialize:function(d){var c=this;c.options=a.extend(true,c._getDefaultOptions(d),d);c.id=this.options.id;c._event=AJS.RestfulTable.Events;c.classNames=AJS.RestfulTable.ClassNames;c.dataKeys=AJS.RestfulTable.DataKeys;this.$table=a(d.el).addClass(this.classNames.RESTFUL_TABLE).addClass(this.classNames.ALLOW_HOVER).addClass("aui").addClass(c.classNames.LOADING);this.$thead=a("<thead/>");this.$theadRow=a("<tr />").appendTo(this.$thead);this.$tbody=a("<tbody/>");if(!this.$table.length){throw new Error("AJS.RestfulTable: Init failed! The table you have specified ["+this.$table.selector+"] cannot be found.")}if(!this.options.columns){throw new Error("AJS.RestfulTable: Init failed! You haven't provided any columns to render.")}this.showGlobalLoading();a.each(this.options.columns,function(e,f){var g=a.isFunction(f.header)?f.header():f.header;if(typeof g==="undefined"){console.warn("You have not specified [header] for column ["+f.id+"]. Using id for now...");g=f.id}c.$theadRow.append("<th class='zephyr_create_test_"+f.id+"_th'>"+g+"</th>")});this._models=this._createCollection();this._rowClass=this.options.views.row;this.editRows=[];var b="";c.$theadRow.append("<th>"+b+"</th><th></th>");if(this.options.allowReorder){this.$theadRow.prepend("<th />");this.attachReorderUI()}if(this.options.allowCreate!==false){this._createRow=new this.options.views.editRow({columns:this.options.columns,isCreateRow:true,model:this.options.model.extend({url:function(){return c.options.resources.self}}),cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey,allowReorder:this.options.allowReorder,fieldFocusSelector:this.options.fieldFocusSelector}).bind(this._event.CREATED,function(e){if((c.options.addPosition==undefined&&c.options.createPosition==="bottom")||c.options.addPosition==="bottom"){c.addRow(e)}else{c.addRow(e,0)}}).bind(this._event.VALIDATION_ERROR,function(){this.trigger(c._event.FOCUS)}).render({errors:{},values:{}});this.$create=a('<tbody class="'+this.classNames.CREATE+'" />').append(this._createRow.el);this._applyFocusCoordinator(this._createRow);this._createRow.trigger(this._event.FOCUS)}this._models.bind("remove",function(e){a.each(c.getRows(),function(f,g){if(g.model===e){if(g.hasFocus()&&c._createRow){c._createRow.trigger(c._event.FOCUS)}c.removeRow(g)}})});this.fetchInitialResources();AJS.bindEvt(AJS.RestfulTable.Events.CLONE,function(f,e){c.$el.find("tbody.ui-sortable").html("");c.populate(e)});AJS.bindEvt(ZEPHYR.RestfulTable.Events.DELETE_SUCCESS,function(f,e){c.$el.find("tbody.ui-sortable").html("");_.each(e,function(h,g){h.orderId=(g+1)});c.populate(e)});AJS.bindEvt(AJS.RestfulTable.Events.REORDER_SUCCESS,function(f,e){c.$el.find("tbody.ui-sortable").html("");c.populate(e);c.$tbody.sortable("enable")});AJS.bindEvt(ZEPHYR.RestfulTable.Events.RENDER_DATA,function(f,e){c.options.fetchAll=false})},reorderEntries:function(c,b){this._models.remove(c);this._models.each(function(f,e){var d=e;if(e>=b){d+=1}f.set("orderId",(d+1))});c.set("orderId",(b+1));this._models.add(c,{at:b});AJS.triggerEvtForInst(this._event.REORDER_SUCCESS,this,[this._models.toJSON()])},_createCollection:function(){var b=this;var c=this.options.Collection.extend({sort:function(d){d||(d={});if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}this.tableRows=b.getRows();this.models=this.sortBy(this.comparator);this.tableRows=undefined;if(!d.silent){this.trigger("refresh",this,d)}return this},remove:function(e,d){this.tableRows=b.getRows();Backbone.Collection.prototype.remove.apply(this,arguments);this.tableRows=undefined;return this}});return new c([],{comparator:function(e){var d;a.each(this.tableRows!==undefined?this.tableRows:b.getRows(),function(f){if(this.model.orderId===e.orderId){d=f;return false}});return d}})},fetchInitialResources:function(){var c=this;if(a.isFunction(this.options.resources.all)){this.options.resources.all(function(d){c.populate(d)})}else{if(this.options.isEditDialog){a.get(c.options.resources.all).success(function(d){if(d&&d.length){c.options.fetchAll=true}c.populate(d)})}else{var b=[];this.populate(b)}}},attachReorderUI:function(){var b=this;this.$tbody.sortable({handle:"."+this.classNames.DRAG_HANDLE,helper:function(f,c){var d=a("<div/>").attr("class",c.attr("class")).addClass(b.classNames.MOVEABLE);c.children().each(function(e){var h=a(this);var g=h.outerWidth();d.append(a("<div/>").html(h.html()).attr("class",h.attr("class")).width(g))});d=a("<div class='aui-restfultable-readonly'/>").append(d);d.css({left:c.offset().left});d.appendTo(document.body);return d},start:function(d,e){var c=e.helper[0].clientHeight;var f=e.placeholder.find("td");e.item.addClass(b.classNames.MOVEABLE).children().each(function(h){a(this).width(f.eq(h).width())});var g='<td colspan="'+b.getColumnCount()+'">&nbsp;</td>';e.placeholder.html(g).css({height:c,visibility:"visible"});b.getRowFromElement(e.item[0]).trigger(b._event.MODAL)},stop:function(c,d){if(AJS.$(d.item[0]).is(":visible")){d.item.removeClass(b.classNames.MOVEABLE).children().attr("style","");d.placeholder.removeClass(b.classNames.ROW);b.getRowFromElement(d.item[0]).trigger(b._event.MODELESS)}},update:function(e,g){var c,d,f={},i=b.getRowFromElement(g.item[0]);if(i){var h=i.model;b.reorderEntries(h,g.item.index());i.showLoading();i.trigger(b._event.MODELESS)}},axis:"y",delay:0,containment:"document",cursor:"move",scroll:true,zIndex:8000});this.$tbody.bind("selectstart mousedown",function(c){return !a(c.target).is("."+b.classNames.DRAG_HANDLE)})},populate:function(c){var b=AJS.$("#zephyr-je-customfield-id").val();if(this.options.reverseOrder){c.reverse()}this.hideGlobalLoading();if(c&&c.length){this._models.reset([],{silent:true});this.renderRows(c);if(this.isEmpty()){this.showNoEntriesMsg()}}else{this.showNoEntriesMsg()}AJS.$("input#"+b+"-delete-all").remove();if(!ZEPHYR.ISSUE.Create.Teststep.noChange){ZEPHYR.ISSUE.Create.Teststep.removeNoChangeElement()}if(c.length==0&&!ZEPHYR.ISSUE.Create.Teststep.noChange){this.showDeleteAllEntries(b)}if(ZEPHYR.ISSUE.Create.Teststep.noChange){ZEPHYR.ISSUE.Create.Teststep.noChange=false}this.$table.append(this.$thead);if(this.options.createPosition==="bottom"){this.$table.append(this.$tbody).append(this.$create)}else{this.$table.append(this.$create).append(this.$tbody)}this.$table.removeClass(this.classNames.LOADING).trigger(this._event.INITIALIZED,[this]);AJS.triggerEvtForInst(this._event.INITIALIZED,this,[this]);if(this.options.autoFocus){this.$table.find(":input:text:first").focus()}},showDeleteAllEntries:function(b){var c=ZEPHYR.ISSUE.Create.Teststep.setStepJSON(ZEPHYR.ISSUE.Create.TESTSTEP_DATA_DELETE_ALL,{});if(this.$noEntries){this.$noEntries.remove()}this.$deleteAllEntries=a("<input>").attr("type","hidden").attr("id",b+"-delete-all").attr("name",b).val(JSON.stringify(c)).appendTo(this.$tbody);return this},addRow:function(c,e){var b,d;d=new this.options.model(c);b=this._renderRow(d,e);this._models.add(d);this.removeNoEntriesMsg();AJS.triggerEvtForInst(this._event.ROW_ADDED,this,[b,this]);return this},removeRow:function(b){this._models.remove(b.model);b.remove();if(this.isEmpty()){this.showNoEntriesMsg()}AJS.triggerEvtForInst(this._event.ROW_REMOVED,this,[b,this])},showNoEntriesMsg:function(){if(this.$noEntries){this.$noEntries.remove()}this.$noEntries=a("<tr>").addClass(this.classNames.NO_ENTRIES).append(a("<td>").attr("colspan",this.getColumnCount()).text(this.options.noEntriesMsg)).appendTo(this.$tbody);return this},removeNoEntriesMsg:function(){if(this.$noEntries&&this._models.length>0){this.$noEntries.remove()}return this},getRows:function(){var b=this,c=[];this.$tbody.find("."+this.classNames.READ_ONLY).each(function(){var d=a(this),e=d.data(b.dataKeys.ROW_VIEW);if(e){c.push(e)}});return c},_renderRow:function(h,g){var d=this,f=this.$tbody.find("."+this.classNames.READ_ONLY),c,e,b=AJS.$("#zephyr-je-customfield-id").val();e=new this._rowClass({model:h,columns:this.options.columns,allowEdit:this.options.allowEdit,allowDelete:this.options.allowDelete,allowReorder:this.options.allowReorder,deleteConfirmation:this.options.deleteConfirmation,cloneConfirmation:this.options.cloneConfirmation,fetchAll:this.options.fetchAll,rowOperations:this.options.rowOperations});this.removeNoEntriesMsg();AJS.$("input#"+b+"-delete-all").remove();if(!ZEPHYR.ISSUE.Create.Teststep.noChange){ZEPHYR.ISSUE.Create.Teststep.removeNoChangeElement()}if(ZEPHYR.ISSUE.Create.Teststep.noChange){ZEPHYR.ISSUE.Create.Teststep.noChange=false}e.bind(this._event.ROW_EDIT,function(i){AJS.triggerEvtForInst(this._event.EDIT_ROW,{},[this,d]);d.edit(this,i)});c=e.render().$el;if(g!==-1){if(typeof g==="number"&&f.length!==0){c.insertBefore(f[g])}else{this.$tbody.append(c)}}c.data(this.dataKeys.ROW_VIEW,e);e.bind(this._event.MODAL,function(){d.$table.removeClass(d.classNames.ALLOW_HOVER);d.$tbody.sortable("disable");a.each(d.getRows(),function(){if(!d.isRowBeingEdited(this)){this.delegateEvents({})}})});e.bind(this._event.ANIMATION_STARTED,function(){d.$table.removeClass(d.classNames.ALLOW_HOVER)});e.bind(this._event.ANIMATION_FINISHED,function(){d.$table.addClass(d.classNames.ALLOW_HOVER)});e.bind(this._event.MODELESS,function(){d.$table.addClass(d.classNames.ALLOW_HOVER);d.$tbody.sortable("enable");a.each(d.getRows(),function(){if(!d.isRowBeingEdited(this)){this.delegateEvents()}})});this._applyFocusCoordinator(e);this.trigger(this._event.ROW_INITIALIZED,e);return e},isRowBeingEdited:function(c){var b=false;a.each(this.editRows,function(){if(this.el===c.el){b=true;return false}});return b},_applyFocusCoordinator:function(c){var b=this;if(!c.hasFocusBound){c.hasFocusBound=true;c.bind(this._event.FOCUS,function(){if(b.focusedRow&&b.focusedRow!==c){b.focusedRow.trigger(b._event.BLUR)}b.focusedRow=c;if(c instanceof AJS.RestfulTable.Row&&b._createRow){b._createRow.enable()}})}return this},_removeEditRow:function(c){var b=a.inArray(c,this.editRows);this.editRows.splice(b,1);return this},_shiftFocusAfterEdit:function(){if(this.editRows.length>0){this.editRows[this.editRows.length-1].trigger(this._event.FOCUS)}else{if(this._createRow){this._createRow.trigger(this._event.FOCUS)}}return this},_saveEditRowOnBlur:function(){return this.editRows.length<=1},dismissEditRows:function(){var b=this;a.each(this.editRows,function(){if(!this.hasUpdates()){this.trigger(b._event.FINISHED_EDITING)}})},edit:function(f,e){var b=this,d=new this.options.views.editRow({el:f.el,columns:this.options.columns,isUpdateMode:true,allowReorder:this.options.allowReorder,fieldFocusSelector:this.options.fieldFocusSelector,model:f.model,cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey}),c=f.model.toJSON();c.update=true;d.render({errors:{},update:true,values:c}).bind(b._event.UPDATED,function(g,h){b._removeEditRow(this);this.unbind();f.render().delegateEvents();f.trigger(b._event.UPDATED);if(h!==false){b._shiftFocusAfterEdit()}}).bind(b._event.VALIDATION_ERROR,function(){this.trigger(b._event.FOCUS)}).bind(b._event.FINISHED_EDITING,function(){b._removeEditRow(this);f.render().delegateEvents();this.unbind()}).bind(b._event.CANCEL,function(){b._removeEditRow(this);this.unbind();f.render().delegateEvents();b._shiftFocusAfterEdit()}).bind(b._event.BLUR,function(){b.dismissEditRows();if(b._saveEditRowOnBlur()){this.trigger(b._event.SAVE,false)}});this._applyFocusCoordinator(d);d.trigger(b._event.FOCUS,e);if(b._createRow){b._createRow.disable()}this.editRows.push(d);return d},renderRows:function(d){var b=this._models.comparator,c=[];this._models.comparator=undefined;var e=_.map(d,function(g){var f=new this.options.model(g);c.push(this._renderRow(f,-1).el);return f},this);this._models.add(e,{silent:true});this._models.comparator=b;this.removeNoEntriesMsg();this.$tbody.append(c);return this},_getDefaultOptions:function(b){return{model:b.model||ZEPHYR.RestfulTable.EntryModel,allowEdit:true,views:{editRow:ZEPHYR.RestfulTable.EditRow,row:ZEPHYR.RestfulTable.Row},Collection:Backbone.Collection.extend({url:b.resources.self,model:b.model||ZEPHYR.RestfulTable.EntryModel}),allowReorder:false,fieldFocusSelector:function(c){return":input[name="+c+"], #"+c},loadingMsg:b.loadingMsg||"Loading"}}})})(AJS.$);(function(a){ZEPHYR.RestfulTable.Events={DELETE_SUCCESS:"DELETE_SUCCESS",RENDER_DATA:"RENDER_DATA"};ZEPHYR.RestfulTable.EntryModel=AJS.RestfulTable.EntryModel.extend({initialize:function(b){AJS.RestfulTable.EntryModel.prototype.initialize.call(this,b)},save:function(d,f){f=f||{};var c=this,h,b,e=f.error,g=f.success;f.error=function(i,k){var j=a.parseJSON(k.responseText||k.data);if(e){e.call(c,c,j,k)}};if(this.isNew()){Backbone.Model.prototype.save.call(this,d,f)}else{if(d){h=AJS.RestfulTable.EntryModel.extend({url:this.url()});b=new h({id:this.id});b.save=Backbone.Model.prototype.save;f.success=function(i,j){c.clear().set(i.toJSON());if(g){g.call(c,c,j)}};b.save(d,f)}}}})})(AJS.$);(function(a){ZEPHYR.RestfulTable.EditRow=AJS.RestfulTable.EditRow.extend({tagName:"tr",events:{focusin:"_focus",click:"_focus",keyup:"_handleKeyUpEvent"},initialize:function(b){this.$el=a(this.el);this.fieldFocusSelector=b.fieldFocusSelector;AJS.RestfulTable.EditRow.prototype.initialize.call(this,b)},defaultColumnRenderer:function(b){if(b.allowEdit!==false){var c=a("<textarea />").addClass("ztextarea noresize").attr({name:b.name,value:b.value,rows:4}).css({width:"100%"}).on("keyup",this.resizeTextarea);return c}else{if(b.value){return document.createTextNode(b.value)}}},resizeTextarea:function(){if(this.scrollHeight>1){this.style.height="auto";this.style.height=(this.scrollHeight-2)+"px";AJS.$(this).parent().height(this.scrollHeight+5)}},focus:function(c){var d,b;this.enable();if(c){d=this.$el.find(this.fieldFocusSelector(c))}else{b=this.$el.find(this.classNames.ERROR+":first");if(b.length===0){d=this.$el.find(":input:text:first")}else{d=b.parent().find(":input")}}this.$el.addClass(this.classNames.FOCUSED);d.focus().trigger("select");return this},hasUpdates:function(){return !!this.mapSubmitParams(this.serializeObject())},serializeObject:function(b){return this.$el.serializeObjectZephyr(b)},mapSubmitParams:function(b){return this.model.changedAttributes(b)},submit:function(e){var c=this,d;if(document.activeElement!==window){a(document.activeElement).blur()}if(this.isUpdateMode){var b=this.model.get("orderId");d=this.mapSubmitParams(this.serializeObject(b));if(!d){return c.trigger(c._event.CANCEL)}}else{this.model.clear();d=this.mapSubmitParams(this.serializeObject(0))}this.trigger(this._event.SUBMIT_STARTED);this.model.set(d);if(this.isUpdateMode){c.trigger(c._event.UPDATED,c.model,e)}else{c.trigger(c._event.CREATED,c.model.toJSON());c.model=new c._modelClass();c.render({errors:{},values:{}});c.$el.find('textarea[name="step"]').trigger(c._event.FOCUS)}c.trigger(c._event.SUBMIT_FINISHED);return this},render:function(c){var b=this;this.$el.empty();if(this.allowReorder){a('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(b.$el)}a.each(this.columns,function(e,f){var g,j,h=c.values[f.id],d=[{name:f.id,value:h,allowEdit:f.allowEdit},c.values,b.model];if(h){b.$el.attr("data-"+f.id,h)}if(b.isCreateRow&&f.createView){g=new f.createView({model:b.model}).render(d[0])}else{if(f.editView){g=new f.editView({model:b.model}).render(d[0])}else{g=b.defaultColumnRenderer.apply(b,d)}}if(f.allowEdit!==false){j=a("<td class='zephyr-wiki-edit' />")}else{j=a("<td />")}if(typeof g==="object"&&g.done){g.done(function(i){j.append(i)})}else{j.append(g)}if(f.styleClass){j.addClass(f.styleClass)}j.appendTo(b.$el);if(f.allowEdit!==false){ZEPHYR.wikiEditor.init(j);if(j.find("textarea")){b.resizeTextarea.apply(j.find("textarea")[0])}}});this.$el.append(this.renderOperations(c.update,c.values)).addClass(this.classNames.ROW+" "+this.classNames.EDIT_ROW);this.trigger(this._event.RENDER,this.$el,c.values);this.$el.trigger(this._event.CONTENT_REFRESHED,[this.$el]);return this},renderOperations:function(d){var c=a('<td class="zephyr-aui-restfultable-operations" />');var b=this;if(d){c.append(a('<input class="aui-button" type="button" />').attr({accesskey:this.submitAccessKey,value:"Update"}).bind("click",function(e){e.preventDefault();b.trigger(b._event.SAVE)})).append(a('<a class="aui-button aui-button-link" href="#" />').addClass(this.classNames.CANCEL).text("Cancel").attr({accesskey:this.cancelAccessKey}).bind("click",function(e){e.preventDefault();b.trigger(b._event.CANCEL)}))}else{c.append(a('<input class="aui-button" type="button" />').attr({accesskey:this.submitAccessKey,value:"Add"}).bind("click",function(e){e.preventDefault();b.trigger(b._event.SAVE)}))}return c.add(a('<td class="aui-restfultable-status" />').append(ZEPHYR.RestfulTable.throbber()))}})})(AJS.$);(function(a){ZEPHYR.RestfulTable.Row=AJS.RestfulTable.Row.extend({tagName:"tr",events:{"click .aui-restfultable-editable":"edit"},initialize:function(c){var b=this;c=c||{};AJS.RestfulTable.Row.prototype.initialize.call(this,c)},defaultColumnRenderer:function(c){if(c.allowEdit!==false&&c.value&&!this.options.fetchAll){var b=document.createElement("div");if(c.value){AJS.$.ajax({type:"POST",url:getRestURL()+"/util/render",data:JSON.stringify({rendererType:"zephyr-wiki-renderer",unrenderedMarkup:c.value}),contentType:"application/json",success:function(d){b.innerHTML=d.renderedHTML}})}return b}else{if(c.value){var b=document.createElement("div");b.innerHTML=c.value.toString();return b}}},_showUpdated:function(){var b=this,c=this.$el.addClass(this.classNames.ANIMATING).find("td").css("backgroundColor","#ebf1fd");this.trigger(this._event.ANIMATION_STARTED);b.delegateEvents({});setTimeout(function(){c.animate({backgroundColor:"white"},function(){c.css("backgroundColor","");b.trigger(b._event.ANIMATION_FINISHED);a(document).one("mousemove",function(){b.delegateEvents();b.$el.removeClass(b.classNames.ANIMATING)})})},500)},refresh:function(d,c){var b=this;this.showLoading();this.model.fetch({success:function(){b.hideLoading().render();if(d){d.apply(this,arguments)}},error:function(){if(response.status===401){ZEPHYR.TEST.showUnautorizedError()}else{b.hideLoading();if(c){c.apply(this,arguments)}}}});return this},hasFocus:function(){return this.$el.hasClass(this.classNames.FOCUSED)},focus:function(){a(this.el).addClass(this.classNames.FOCUSED);return this},unfocus:function(){a(this.el).removeClass(this.classNames.FOCUSED);return this},showLoading:function(){this.$el.addClass(this.classNames.LOADING);return this},hideLoading:function(){this.$el.removeClass(this.classNames.LOADING);return this},edit:function(c){var b;if(a(c.target).is("."+this.classNames.EDITABLE)){b=a(c.target).attr("data-field-name")}else{b=a(c.target).closest("."+this.classNames.EDITABLE).attr("data-field-name")}this.trigger(this._event.ROW_EDIT,b);return this},destroy:function(){if(this.deleteConfirmation){}else{this.model.attributes={};var b=this.model.collection;if(b){b.remove(this.model);AJS.triggerEvtForInst(ZEPHYR.RestfulTable.Events.DELETE_SUCCESS,this,[b.toJSON()])}}},render:function(){var c=this,g=this.model.toJSON(),d=AJS.$("<td class='aui-restfultable-status' />").append(ZEPHYR.RestfulTable.throbber()),b=AJS.$("#zephyr-je-customfield-id").val();this.$el.removeClass(this.classNames.DISABLED+" "+this.classNames.FOCUSED+" "+this.classNames.LOADING+" "+this.classNames.EDIT_ROW).addClass(this.classNames.READ_ONLY).empty();if(this.allowReorder){AJS.$('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(c.$el)}this.$el.attr("data-id",this.model.orderId);a.each(this.columns,function(j,l){var m,o=AJS.$("<td />"),n=(c.options.fetchAll)?g[l.htmlId]:g[l.id],p=l.fieldName||l.id,h=[{name:p,value:n,allowEdit:l.allowEdit},g,c.model];if(n){c.$el.attr("data-"+l.id,n)}if(l.readView){m=new l.readView({model:c.model}).render(h[0])}else{m=c.defaultColumnRenderer.apply(c,h)}if(c.allowEdit!==false&&l.allowEdit!==false){var k=AJS.$("<span />").addClass(c.classNames.EDITABLE).addClass("zfj-editable-field").append(m).attr("data-field-name",p).append('<span style="top: 0px; right: 0px;" class="zfj-overlay-icon aui-icon aui-icon-small aui-iconfont-edit"/>');o=AJS.$("<td />").addClass("zephyr_create_word_break").append(k).appendTo(c.$el);if(!m||AJS.$.trim(m)==""){o.addClass(c.classNames.NO_VALUE);k.append(AJS.$("<em />").text(this.emptyText||"Enter value"))}}else{o.append(m)}if(l.styleClass){o.addClass(l.styleClass)}o.appendTo(c.$el)});var e=AJS.$('<input type="hidden" name="'+b+'" id="'+b+"-"+g.orderId+'" />');var f=ZEPHYR.ISSUE.Create.Teststep.setStepJSON(ZEPHYR.ISSUE.Create.TESTSTEP_DATA_ADD_UPDATE,g);e.val(JSON.stringify(f));this.$el.append(e).append(d).addClass(this.classNames.ROW+" "+this.classNames.READ_ONLY);if(this.allowDelete){AJS.$('<td class="zephyr-aui-restfultable-operations" />').append('<span class="aui-icon aui-icon-small aui-iconfont-delete zephyr-teststep-delete"/>').appendTo(this.$el)}this.trigger(this._event.RENDER,this.$el,g);this.options.fetchAll=false;AJS.triggerEvtForInst(ZEPHYR.RestfulTable.Events.RENDER_DATA,this,g);this.$el.trigger(this._event.CONTENT_REFRESHED,[this.$el]);this._assignEvents();return this},_assignEvents:function(){var b=this;this.$(".zephyr-teststep-delete").click(function(c){c.preventDefault();b.destroy()})}});ZEPHYR.RestfulTable.throbber=function(){return'<span class="aui-restfultable-throbber"></span>'}})(AJS.$);;
;
/* module-key = 'com.thed.zephyr.je:zephyr-je-create-steps', location = 'includes/js/zephyr/testcase/steps-create.js' */
if(typeof ZEPHYR=="undefined"){var ZEPHYR={}}if(typeof ZEPHYR.ISSUE=="undefined"){ZEPHYR.ISSUE={}}if(typeof ZEPHYR.ISSUE.Create=="undefined"){ZEPHYR.ISSUE.Create={}}ZEPHYR.ISSUE.Create.TESTSTEP_TYPE_REQUIRED="req";ZEPHYR.ISSUE.Create.TESTSTEP_TYPE_OPTIONAL="opt";ZEPHYR.ISSUE.Create.TESTSTEP_ISSUE_ACTION_NEW="new";ZEPHYR.ISSUE.Create.TESTSTEP_ISSUE_ACTION_EDIT="edit";ZEPHYR.ISSUE.Create.TESTSTEP_DATA_NO_CHANGE="noChange";ZEPHYR.ISSUE.Create.TESTSTEP_DATA_DELETE_ALL="deleteAll";ZEPHYR.ISSUE.Create.TESTSTEP_DATA_ADD_UPDATE="addUpdate";ZEPHYR.ISSUE.Create.Teststep={init:function(a){var b=this.isEditDialog();this.setTeststepType();this.setIssueAction(b);this.setCustomFieldId();ZEPHYR.ISSUE.Create.Teststep.hasEditStepsLoaded=false;this.attachNoChangeUI();if(b){AJS.$("#zephyr-je-action-name").closest(".field-group").prepend('<span class="zfj-module-toggle-wrapper aui-icon aui-icon-small aui-iconfont-collapsed collapse" />');AJS.$(".zfj-module-toggle-wrapper").unbind("click").bind("click",function(c){c.preventDefault();AJS.$(".zfj-module-toggle-wrapper").toggleClass("aui-iconfont-expanded aui-iconfont-collaped expand collapse");if(ZEPHYR.ISSUE.Create.Teststep.isFirst){ZEPHYR.ISSUE.Create.Teststep.hasEditStepsLoaded=true;ZEPHYR.ISSUE.Create.Teststep.initRestfultable(b,a)}})}else{this.initRestfultable(b,a)}return true},attachNoChangeUI:function(){var a=AJS.$('<input type="hidden" name="'+this.getCustomFieldId()+'" id="'+this.getCustomFieldId()+'-no-change" />');var b=ZEPHYR.ISSUE.Create.Teststep.setStepJSON(ZEPHYR.ISSUE.Create.TESTSTEP_DATA_NO_CHANGE,{});a.val(JSON.stringify(b));AJS.$("#project-config-panel-versions-teststep").append(a);ZEPHYR.ISSUE.Create.Teststep.noChange=true},removeNoChangeElement:function(){AJS.$("#"+this.getCustomFieldId()+"-no-change").remove()},setCustomFieldId:function(){this.customFieldId=AJS.$("#zephyr-je-customfield-id").val()},getCustomFieldId:function(){return this.customFieldId},initRestfultable:function(c,a){var e=null,b=null,d=new ZEPHYR.RestfulTable({autoFocus:true,allowReorder:true,allowDelete:true,allowEdit:true,createPosition:"bottom",noEntriesMsg:"Add new test steps, test data and expected results below",loadingMsg:"Test steps are loading",isEditDialog:c,el:a.find("#teststep-table"),resources:{all:getRestURL()+"/teststep/"+JIRA.Issue.getIssueId(),self:"/",},model:this.TestStepModel(b,e),columns:[{id:"orderId",htmlId:"orderId",header:"",allowEdit:false},{id:"step",htmlId:"htmlStep",header:"Test Step",emptyText:"Enter Steps"},{id:"data",htmlId:"htmlData",header:"Test Data",emptyText:"Enter Data"},{id:"result",htmlId:"htmlResult",header:"Expected Result",emptyText:"Enter Expected Result"}]});ZEPHYR.ISSUE.Create.Teststep.isFirst=false},TestStepModel:function(a,b){return ZEPHYR.RestfulTable.EntryModel.extend({url:function(c){if(c){return"/"}else{return"/"}}})},isEditDialog:function(){ZEPHYR.ISSUE.Create.Teststep.isFirst=true;var a=AJS.$("#zephyr-je-action-name").val(),b=(a)?a.toString().toLowerCase():"";if(b.indexOf("quickeditissue")>-1||b.indexOf("commentassignissue")>-1){return true}else{return false}},setTeststepType:function(){var a=AJS.$("#zephyr-je-customfield-isrequired").val();this.teststepType=(a&&a!=="false")?ZEPHYR.ISSUE.Create.TESTSTEP_TYPE_REQUIRED:ZEPHYR.ISSUE.Create.TESTSTEP_TYPE_OPTIONAL},setIssueAction:function(a){this.issueaction=(a)?ZEPHYR.ISSUE.Create.TESTSTEP_ISSUE_ACTION_EDIT:ZEPHYR.ISSUE.Create.TESTSTEP_ISSUE_ACTION_NEW},setStepJSON:function(a,b){return{type:this.teststepType,issueaction:this.issueaction,stepaction:a,data:b}}};ZEPHYR.ISSUE.Create.Teststep.showError=function(b){var c=AJS.$("input#zerrors").val();if(c&&c.length>0){var a="<span class='aui-icon icon-error'></span>";a+=c;AJS.$("div.zephyr-je-ex-error").html(decHTMLifEnc(a))}};function isLoadedInIframe(){try{return(window!==window.parent)}catch(a){return false}}var InitPageContent=function(a){if(isLoadedInIframe()){AJS.$(window).load(function(){a()})}else{AJS.$(document).ready(function(){a()})}};InitPageContent(function(){var a=function(c){var b=AJS.$("#zephyr-je-action-name").val(),d=(b)?b.toString().toLowerCase():"";if(d.indexOf("bulkworkflowtransition")>-1){AJS.$("#zephyr-je-action-name").closest("tr").remove()}else{if(d.indexOf("bulkedit")>-1){AJS.$("#zephyr-je-action-name").closest("tr.availableActionRow").remove()}else{ZEPHYR.ISSUE.Create.Teststep.init(c)}}};JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(c,b){if(b.find("#teststep-table").length&&!b.find("#teststep-table thead").length){a(b)}});if(AJS.$("#teststep-table").length){a(AJS.$("#project-config-panel-versions-teststep"))}});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:analytics', location = 'util/analytics.js' */
define("jira-help-tips/util/analytics",function(){function c(d){d=""+(d||"");return d.replace(/\./g,"-")}function a(){return AJS&&AJS.EventQueue}function b(e,d){if(a()&&d&&d.attributes.id){var g={};var f=c(d.attributes.id);var h="";if(d.attributes.eventPrefix){h=d.attributes.eventPrefix;if(h.charAt(h.length-1)!=="."){h+="."}}g.name=h+"helptips."+f+"."+e;g.properties={};a().push(g)}}return{clean:c,send:b}});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager', location = 'js/HelpTipManager.js' */
define("jira-help-tips/feature/help-tip-manager",["require"],function(e){var h=e("jquery");var d=e("underscore");var c=e("wrm/context-path");var g=e("wrm/data");var b=c()+"/rest/helptips/1.0/tips";var f=g.claim("com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData");var a={dismissedTipIds:[],sequences:[],loaded:h.Deferred(),url:function(){return b},sync:function(k,j){var i=h.Deferred();k||(k="get");j||(j=null);if(k==="get"&&f&&f.dismissed){i.resolve(f.dismissed)}else{h.ajax(this.url(),{type:k,dataType:"json",contentType:"application/json",data:j&&JSON.stringify(j),processData:false}).done(function(l){i.resolve(l)}).fail(function(){i.reject()})}return i.promise()},fetch:function(){var i=this.sync();i.done(h.proxy(function(j){h.merge(this.dismissedTipIds,j);this.loaded.resolve()},this));return i.promise()},show:function(i){this.loaded.done(i)},dismiss:function(i){var j=i.attributes.id;if(!j){i._dismissed=true}else{this.dismissedTipIds.push(j);this.sync("post",{id:j})}},undismiss:function(i){var j=i.attributes.id;if(!j){i._dismissed=false}else{this.dismissedTipIds.splice(h.inArray(j,this.dismissedTipIds),1);this.sync("delete",{id:j})}},isDismissed:function(i){var j=i.attributes.id;return(j)?h.inArray(j,this.dismissedTipIds)>=0:i._dismissed},clearSequences:function(){this.sequences=[]},hideSequences:function(){d.each(this.sequences,function(i){i.view.dismiss()})},showSequences:function(){if(!this._showStarted){var i=this;var j=0;this._showStarted=true;h.when(this.loaded).done(function(){i.sequences.sort(function(l,k){return l.attributes.weight-k.attributes.weight});i.sequences=d.filter(i.sequences,function(l){var k=d.indexOf(i.dismissedTipIds,l.attributes.id)===-1;if(k){l.attributes.position=j++}return k});if(i.sequences.length>0){d.last(i.sequences).attributes.showCloseButton=true;i.sequences[0].show({force:true})}i._showStarted=false})}}};return a});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'templates/HelpTip.soy' */
// This file was automatically generated from HelpTip.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace AJS.Templates.HelpTip.
 */

if (typeof AJS == 'undefined') { var AJS = {}; }
if (typeof AJS.Templates == 'undefined') { AJS.Templates = {}; }
if (typeof AJS.Templates.HelpTip == 'undefined') { AJS.Templates.HelpTip = {}; }


AJS.Templates.HelpTip.tipContent = function(opt_data, opt_ignored) {
  return ((opt_data.title) ? '<h2 class="helptip-title">' + soy.$$escapeHtml(opt_data.title) + '</h2>' : '') + '<p class="helptip-body">' + soy.$$filterNoAutoescape(opt_data.bodyHtml) + '</p>' + ((opt_data.url) ? '<p><a class="helptip-link" href="' + soy.$$escapeHtml(opt_data.url) + '" target="_blank">' + ((opt_data.linkText) ? soy.$$escapeHtml(opt_data.linkText) : soy.$$escapeHtml("Learn more")) + '</a></p>' : '') + AJS.Templates.HelpTip.tipFooter(opt_data);
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipContent.soyTemplateName = 'AJS.Templates.HelpTip.tipContent';
}


AJS.Templates.HelpTip.tipFooter = function(opt_data, opt_ignored) {
  return '<form class="tip-footer">' + AJS.Templates.HelpTip.nextButton(opt_data) + AJS.Templates.HelpTip.closeButton(opt_data) + AJS.Templates.HelpTip.sequencePaging(opt_data) + '</form>';
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipFooter.soyTemplateName = 'AJS.Templates.HelpTip.tipFooter';
}


AJS.Templates.HelpTip.nextButton = function(opt_data, opt_ignored) {
  return '' + ((opt_data.showNextButton) ? '<button class="aui-button helptip-next" type="button">' + ((opt_data.nextButtonText) ? soy.$$escapeHtml(opt_data.nextButtonText) : soy.$$escapeHtml("Next")) + '</button>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.nextButton.soyTemplateName = 'AJS.Templates.HelpTip.nextButton';
}


AJS.Templates.HelpTip.closeButton = function(opt_data, opt_ignored) {
  return '' + ((opt_data.showCloseButton) ? '<button class="aui-button ' + ((opt_data.showNextButton) ? ' aui-button-link ' : '') + ' helptip-close" type="button">' + ((opt_data.closeButtonText) ? soy.$$escapeHtml(opt_data.closeButtonText) : soy.$$escapeHtml("Close")) + '</button>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.closeButton.soyTemplateName = 'AJS.Templates.HelpTip.closeButton';
}


AJS.Templates.HelpTip.sequencePaging = function(opt_data, opt_ignored) {
  return '' + ((opt_data.isSequence && opt_data.length > 1) ? '<span class="helptip-sequence-paging">' + soy.$$escapeHtml(opt_data.position + 1) + '/' + soy.$$escapeHtml(opt_data.length) + '</span>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.sequencePaging.soyTemplateName = 'AJS.Templates.HelpTip.sequencePaging';
}
;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'js/HelpTip.js' */
define("jira-help-tips/feature/help-tip",["require"],function(f){var j=f("jquery");var p=f("underscore");var a=f("jira-help-tips/feature/help-tip-manager");var n=f("jira-help-tips/util/analytics");var l=f("aui/inline-dialog");var d=AJS.Popups;var i=AJS.Templates.HelpTip;var o=0;var k=new Date().getTime();var c="jira-help-tip aui-help";function b(){return false}function g(){return true}function e(){return"jira-help-tip-"+k+(o++)}var h=function(r){var s;this.attributes=j.extend({},r);this.attributes.id||(this.attributes.id=false);this.attributes.callbacks||(this.attributes.callbacks={});if(this.attributes.isSequence){if(!this.attributes.weight){this.attributes.weight=Number.MAX_VALUE}a.sequences.push(this)}if(this.attributes.body){this.attributes.bodyHtml=this.attributes.body;delete this.attributes.body}this.cid=e();s=this.attributes.anchor;delete this.attributes.anchor;this.view=(s)?new m(this,s):new q(this)};j.extend(h.prototype,{show:function(t){t=t||{};var s=this;var u=j.Deferred();if(this.attributes.callbacks.beforeShow){var r=this.attributes.callbacks.beforeShow();if(r&&p.isFunction(r.done)){r.done(u.resolve)}else{u.resolve()}}else{u.resolve()}u.done(function(){a.show(function(){if(!s.isDismissed()){if(!t.force&&d&&d.DisplayController){d.DisplayController.request({name:s.id,weight:1000,show:function(){s.view.show()}})}else{s.view.show()}n.send("shown",s)}})})},dismiss:function(){var r=n.clean(arguments[0]||"programmatically");this.view.dismiss();if(r==="close-button"&&this.attributes.isSequence){a.clearSequences()}if(!this.isDismissed()){a.dismiss(this);n.send("dismissed."+r,this)}},isVisible:function(){return this.view.$el.is(":visible")},isDismissed:function(){return a.isDismissed(this)},refresh:function(){if(!this.isDismissed()){this.view.refresh()}},hide:function(){if(!this.isDismissed()){this.view.dismiss()}},showNextHelpTipInSequence:function(){this.view.clickNext()}});var m=function(s,r){this.initialize(s,r)};j.extend(m.prototype,{initialize:function(s,r){this.model=s;this.anchorSelector=r;this.anchor=j(r);this._initDialog(r);j(document).bind("showLayer",function(v,u,t){if(u==="inlineDialog"&&t.id===s.cid){l.current=null;j(document.body).unbind("click."+s.cid+".inline-dialog-check");t._validateClickToClose=b;t.hide=b}})},show:function(){this.beforeHide=b;this.popup.show()},refresh:function(){var r=j(this.anchorSelector);if(!r.is(":visible")){this.dismiss()}else{if(r.get(0)!==this.anchor.get(0)){this.changeAnchor(r)}else{if(!this.isVisible()){this.show()}else{this.popup.refresh()}}}},changeAnchor:function(r){var s=this.isVisible();this.dismiss();this.$el.remove();this.anchor=r;this._initDialog(r);if(s){this.show()}},dismiss:function(){this.beforeHide=g;this._popupHide()},clickNext:function(){var r=j(this.$el).find(".helptip-next");if(r.length>0){r.click()}},isVisible:function(){return this.$el.is(":visible")},_initDialog:function(t){var r=this;var s=this.model;this.popup=l(j(t),s.cid,p.bind(this._createDialog,this),p.extend({container:"#content",noBind:true,preHideCallback:function(){return r.beforeHide()},calculatePositions:function(u,x,A,w){var v=l.opts.calculatePositions(u,x,A,w);var z=j(this.container);var y=z.offset();if(v.popupCss.left!=="auto"){v.popupCss.left-=y.left;v.popupCss.right="auto"}v.popupCss.top-=y.top;return v},addActiveClass:false,initCallback:s.attributes.callbacks.init,hideCallback:s.attributes.callbacks.hide,persistent:true},s.attributes.inlineDialogOpts));this._popupHide=this.popup.hide;this.popup.hide=b;this.$el=j(this.popup[0]);this.$el.addClass(c)},_createDialog:function(w,u,t){var s=this;var v=a.sequences;var r=this.model.attributes.position;var x=this.model.attributes.isSequence;w.removeClass("contents");w.html(j(i.tipContent(p.extend({showNextButton:x&&(v.length>1&&(r+1<v.length)),length:v.length,position:r,showCloseButton:true},this.model.attributes))));w.unbind("mouseover mouseout");w.find(".helptip-link").click(function(){n.send("learn-more.clicked",s.model)});w.find(".helptip-close").click(function(y){y.preventDefault();s.model.dismiss("close-button")});w.find(".helptip-next").click(function(z){z.preventDefault();s.model.dismiss("next-button");var y=r+1;v[y]&&(v[y].show({force:true}))});t()}});var q=function(r){this.initialize(r)};j.extend(q.prototype,{initialize:function(){this.$el=j("<div></div>");this.$el.addClass(c)},show:function(){},dismiss:function(){}});return h});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:initialiser', location = 'js/initialiser.js' */
define("jira-help-tips/page/initialiser",["jira-help-tips/feature/help-tip-manager","jira/util/users/logged-in-user","underscore"],function(a,d,b){function c(){if(!d.isAnonymous()){a.fetch()}}return{init:b.once(c)}});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:common', location = 'js/legacy.js' */
(function(){AJS.namespace("AJS.HelpTip",null,require("jira-help-tips/feature/help-tip"));AJS.namespace("AJS.HelpTip.Manager",null,require("jira-help-tips/feature/help-tip-manager"));require("jira-help-tips/page/initialiser").init()}());;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:newsletter-signup-tip', location = 'static/components/newsletter/NewsletterSignup.soy' */
// This file was automatically generated from NewsletterSignup.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }


JIRA.Templates.newsletterSignupTip = function(opt_data, opt_ignored) {
  return '<div><p>' + soy.$$escapeHtml(opt_data.description) + '</p>' + aui.form.form({action: '#', isTopLabels: true, extraClasses: 'insiders-signup-form', content: '' + aui.form.textField({id: 'jira-newsletter-user-email', placeholderText: '' + soy.$$escapeHtml("Email address"), value: opt_data.userEmail}) + aui.form.buttons({content: '' + aui.form.submit({type: 'primary', text: '' + soy.$$filterNoAutoescape("Sign me up")}) + aui.form.linkButton({text: '' + soy.$$escapeHtml("No thanks")})})}) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.newsletterSignupTip.soyTemplateName = 'JIRA.Templates.newsletterSignupTip';
}
;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:newsletter-signup-tip', location = 'static/components/newsletter/NewsletterSignup.js' */
define("jira/newsletter/signuptip",["jira/util/formatter","jira-help-tips/feature/help-tip","jquery"],function(formatter,HelpTip,$){var emailRegex=/^[a-zA-Z0-9.!#$%'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function validateEmail(email){if(email.length>255){return false}return emailRegex.test(email)}return{render:function(newsletterFormDetails,helpTipOptions){var defaults={anchor:"#user-options",isSequence:false,showCloseButton:false};defaults.id=newsletterFormDetails.signupId;defaults.title=newsletterFormDetails.signupTitle;defaults.bodyHtml=JIRA.Templates.newsletterSignupTip({userEmail:newsletterFormDetails.userEmail,description:newsletterFormDetails.signupDescription});var tip=new HelpTip($.extend(defaults,helpTipOptions));if(tip.isDismissed()){return }tip.show();AJS.trigger("analyticsEvent",{name:"jira.newsletter.signuptip.shown"});var $body=$("body");$body.on("submit","form.aui.insiders-signup-form",function(e){e.preventDefault();var $form=$(this);$form.find(".error").remove();var $emailInput=$form.find("#jira-newsletter-user-email");var email=$emailInput.val();if(validateEmail(email)){$.ajax({type:"POST",url:formatter.format(newsletterFormDetails.formUrl,encodeURI(email)),dataType:"json"}).success(function(){AJS.trigger("analyticsEvent",{name:"jira.newsletter.signuptip.submitted"})}).error(function(xhr){AJS.trigger("analyticsEvent",{name:"jira.newsletter.signuptip.error",data:{statusCode:xhr.status}})});if(newsletterFormDetails.userEmail!==email){AJS.trigger("analyticsEvent",{name:"jira.newsletter.signuptip.email.changed"})}tip.dismiss("newslettersubscribed")}else{AJS.trigger("analyticsEvent",{name:"jira.newsletter.signuptip.email.validationerror"});$emailInput.after(aui.form.fieldError({message:"Please enter a valid e-mail address."}))}});$body.on("click","form.aui.insiders-signup-form a.cancel",function(e){e.preventDefault();AJS.trigger("analyticsEvent",{name:"jira.newsletter.signuptip.dismissed"});tip.dismiss("newslettercancelled")})}}});;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:newsletter-signup-tip', location = 'static/components/newsletter/initNewsletterSignup.js' */
define("jira/newsletter/init-signup",["jira/newsletter/signuptip","wrm/data"],function(NewsletterSignup,wrmData){return function(){var newsletterSignupData=wrmData.claim("com.atlassian.jira.jira-header-plugin:newsletter-signup-tip.newsletterSignup");if(newsletterSignupData&&newsletterSignupData.showNewsletterTip){NewsletterSignup.render({userEmail:newsletterSignupData.userEmail,formUrl:newsletterSignupData.formUrl,signupTitle:newsletterSignupData.signupTitle,signupDescription:newsletterSignupData.signupDescription,signupId:newsletterSignupData.signupId})}}});require(["jquery","jira/newsletter/init-signup"],function($,InitNewsletterSignup){$(InitNewsletterSignup)});;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/time.js' */
define("jira/jquery/plugins/livestamp/time",["jira/util/formatter","jquery","jira/moment","jira/util/data/meta"],function(formatter,$,moment,Meta){var Time={};function Type(str,isAge){this.key=str;this.isAge=isAge}var relativize=Meta.getBoolean("date-relativize");Type.types={};for(var a=["shortAge","longAge","fullAge","short","long","full","timestamp"],i=0,l=a.length,t;i<l;i++){t=a[i];Type.types[t]=new Type(t,t.toLowerCase().indexOf("age")!==-1)}var momentTranslations={};Time.FormatType=Type;function getTextForRelativeAge(age,type,param){if(age in momentTranslations){return formatter.format(momentTranslations[age],param)}else{return null}}function getFormatString(type){switch(type.key){case"short":case"shortAge":return"ll";case"long":case"longAge":return"LL";case"full":case"fullAge":return"LLL";case"timestamp":return"LLL";default:return null}}function beginningOfDay(time){return time.clone().hours(0).minutes(0).seconds(0).milliseconds(0)}function isYesterday(now,date){var end=beginningOfDay(now);var start=end.clone().subtract("d",1);return start<=date&&date<end}function isTomorrow(now,date){var start=beginningOfDay(now).add("d",1);var end=start.clone().add("d",1);return start<=date&&date<end}function getMinutesBetween(start,end){return Math.floor(end.diff(start,"minutes",true))}function getHoursBetween(start,end){var hourDiff=end.diff(start,"hours",true);return Math.round(hourDiff)}function getDaysBetween(start,end){return Math.floor(end.diff(start,"days",true))}function formatDateWithFormatString(date,type){var formatString=getFormatString(type);return date.format(formatString)}function formatDateWithRelativeAge(date,type,now){now=now||moment();if(date<=now){if(date>now.clone().subtract("m",1)){return getTextForRelativeAge("aMomentAgo",type)}else{if(date>now.clone().subtract("m",2)){return getTextForRelativeAge("oneMinuteAgo",type)}else{if(date>now.clone().subtract("m",50)){return getTextForRelativeAge("xMinutesAgo",type,getMinutesBetween(date,now))}else{if(date>now.clone().subtract("m",90)){return getTextForRelativeAge("oneHourAgo",type)}else{if(isYesterday(now,date)&&date<now.clone().subtract("h",5)){return getTextForRelativeAge("oneDayAgo",type)}else{if(date>now.clone().subtract("d",1)){return getTextForRelativeAge("xHoursAgo",type,getHoursBetween(date,now))}else{if(date>now.clone().subtract("d",7)){return getTextForRelativeAge("xDaysAgo",type,Math.max(getDaysBetween(date,now),2))}else{if(date>now.clone().subtract("d",8)){return getTextForRelativeAge("oneWeekAgo",type)}}}}}}}}}else{if(date<now.clone().add("m",1)){return getTextForRelativeAge("inAMoment",type)}else{if(date<now.clone().add("m",2)){return getTextForRelativeAge("inOneMinute",type)}else{if(date<now.clone().add("m",50)){return getTextForRelativeAge("inXMinutes",type,getMinutesBetween(now,date))}else{if(date<now.clone().add("m",90)){return getTextForRelativeAge("inOneHour",type)}else{if(isTomorrow(now,date)&&date>now.clone().add("h",5)){return getTextForRelativeAge("inOneDay",type)}else{if(date<now.clone().add("d",1)){return getTextForRelativeAge("inXHours",type,getHoursBetween(now,date))}else{if(date<now.clone().add("d",7)){return getTextForRelativeAge("inXDays",type,Math.max(getDaysBetween(now,date),2))}else{if(date<now.clone().add("d",8)){return getTextForRelativeAge("inOneWeek",type)}}}}}}}}}return formatDateWithFormatString(date,type)}Time.formatDate=function formatDate(momentDate,type,forceRelativize){if(momentDate&&type){if((relativize||forceRelativize)&&type.isAge){return formatDateWithRelativeAge(momentDate,type)}else{return formatDateWithFormatString(momentDate,type)}}else{return null}};Time.setRelativeTranslations=function(values){for(var k in values){momentTranslations[k]=values[k]}};Time.restoreDefaultRelativeTranslations=function(){this.setRelativeTranslations({"inAMoment":"Now","inOneMinute":"In 1 minute","inXMinutes":"In {0} minutes","inOneHour":"In 1 hour","inXHours":"In {0} hours","inOneDay":"Tomorrow","inXDays":"In {0} days","inOneWeek":"In 1 week","aMomentAgo":"Just now","oneMinuteAgo":"1 minute ago","xMinutesAgo":"{0} minutes ago","oneHourAgo":"1 hour ago","xHoursAgo":"{0} hours ago","oneDayAgo":"Yesterday","xDaysAgo":"{0} days ago","oneWeekAgo":"1 week ago"})};Time.restoreDefaultRelativeTranslations();Time.formatDateWithRelativeAge=formatDateWithRelativeAge;Time.formatDateWithFormatString=formatDateWithFormatString;return Time});AJS.namespace("JIRA.Time",null,require("jira/jquery/plugins/livestamp/time"));;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/livestamp.js' */
define("jira/jquery/plugins/livestamp/livestamp",["jquery","jira/moment","jira/util/data/meta","jira/jquery/plugins/livestamp/time"],function($,moment,Meta,Time){var timeout,updateInterval=6000,relativize=Meta.getBoolean("date-relativize"),livestamps=[],prep=function($el,timestamp){$el.data("livestampdata",timestamp);livestamps.push($el)},run=function(){clearTimeout(timeout);update();timeout=setTimeout(run,updateInterval)},update=function(){livestamps=$.grep(livestamps,function($el){var timestamp=$el.data("livestampdata"),forceRelativize=$el.data("relativize"),from,to;if(!moment.isMoment(timestamp)||!$el.closest("html").length){$el.removeData("livestampdata")}else{from=$el.text();var tsFormat=$el.data("datetime-format");tsFormat=tsFormat?tsFormat:"fullAge";if(!(relativize||forceRelativize)){tsFormat=tsFormat.replace("Age","")}to=Time.formatDate(timestamp,Time.FormatType.types[tsFormat],forceRelativize);if(from!==to){$el.text(to)}}return !!$el.data("livestampdata")})},add=function($el){$el.each(function(){var $this=$(this),timestamp=$this.attr("datetime");if(timestamp){var timestampMoment=isNaN(timestamp)?moment(timestamp).zone(timestamp):moment(parseInt(timestamp,10));prep($this,timestampMoment)}});run();return $el};$.fn.livestamp=function(){return add(this)};return add});(function(){require("jira/jquery/plugins/livestamp/livestamp")})();;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled-localization', location = 'out/bundled-localization.js' */
(function(){var a={"git-plugin-section.documentation":"Git Integration for JIRA Documentation","git-plugin-section.support":"Email BigBrassBand Support","git-plugin-repositories-link.label":"Git Repositories","git-plugin-keys-link.label":"SSH Keys","git-plugin-global-settings-link.label":"General","git-plugin-webhooks-link.label":"Webhooks","git-plugin-webpanel.label":"Git Source Code","git-plugin-webpanel.error-getting-branches":"No git info available","git-plugin-webpanel.branches":"Branches","git-plugin-webpanel.branches-count":"{0} branches","git-plugin-webpanel.branches-count.plural.0":"{0} branch","git-plugin-webpanel.branches-count.plural.1":"{0} branches","git-plugin-webpanel.branches-count.plural.2":"{0} branches","git-plugin-webpanel.branches-count-in-repos":"{0} branches in repositories:","git-plugin-webpanel.branches-count-in-repos.plural.0":"{0} branch in repositories:","git-plugin-webpanel.branches-count-in-repos.plural.1":"{0} branches in repositories:","git-plugin-webpanel.branches-count-in-repos.plural.2":"{0} branches in repositories:","git-plugin-webpanel.tags":"Tags","git-plugin-webpanel.tags.more-tags":"more...","git-plugin-webpanel.tags.note-tags-are-disabled":"Git Tags feature is currently disabled. Please contact your JIRA administrator to enable.","git-plugin-webpanel.commits-count":"\u003cb\u003e{0}\u003c/b\u003e commits","git-plugin-webpanel.commits-count.plural.0":"\u003cb\u003e{0}\u003c/b\u003e commit","git-plugin-webpanel.commits-count.plural.1":"\u003cb\u003e{0}\u003c/b\u003e commits","git-plugin-webpanel.commits-count.plural.2":"\u003cb\u003e{0}\u003c/b\u003e commits","git-plugin-webpanel.commits-count-title":"{0} commits","git-plugin-webpanel.commits-count-title.plural.0":"{0} commit","git-plugin-webpanel.commits-count-title.plural.1":"{0} commits","git-plugin-webpanel.commits-count-title.plural.2":"{0} commits","git-plugin-webpanel.summary":"Roll Up","git-plugin-webpanel.behind-ahead":"{0} behind, {1} ahead","git-plugin-webpanel.behind-ahead-tooltip":"{0} commits behind, {1} commits ahead","git-plugin-webpanel.behind-ahead-tooltip.behind.plural.0":"{0} commit behind","git-plugin-webpanel.behind-ahead-tooltip.behind.plural.1":"{0} commits behind","git-plugin-webpanel.behind-ahead-tooltip.behind.plural.2":"{0} commits behind","git-plugin-webpanel.behind-ahead-tooltip.ahead.plural.0":"{0} commit ahead","git-plugin-webpanel.behind-ahead-tooltip.ahead.plural.1":"{0} commits ahead","git-plugin-webpanel.behind-ahead-tooltip.ahead.plural.2":"{0} commits ahead","git.repositories":"Manage Git Integration for JIRA","git.repositories.description":"The table below shows the Git repositories connected for indexing.","git.no.repositories.configured":"You do not currently have any git repositories connected.","git.no.repositories.configured.on.hosting":"No Git Repositories configured. Create a Git Repository or Connect to a Git Repository.","git.no.repositories.help.create":"- Help: Create a Git Repository (local)","git.no.repositories.help.create.new.bare":"- New/Bare","git.no.repositories.help.create.import.clone":"- Import/Clone","git.no.repositories.help.connect":"- Help: Connect to Git Repository (external)","git.keys":"SSH Keys","git.keys.description":"The table below shows the SSH keys currently added to access to remote repositories.","git.keys.column.associations":"Associations","git.keys.column.lastusedby":"Last Used By","git.keys.private.cell.password.title":"Protected with password","git.no.keys.added":"You do not currently have any SSH keys added.","git.linkformat.path":"View Format","git.linkformat.default.name":"git-service","git.linkformat.changeset":"Changeset Format","git.linkformat.file.added":"File Added Format","git.linkformat.file.modified":"File Modified Format","git.linkformat.file.deleted":"File Deleted Format","git.linkformat.view.files.at":"View diff at {0}","git.repository.tracked.does.not.exist":"Tracked folder with ID \'{0}\' does not exist.","git.repository.does.not.exist":"Git repository with id \'{0}\' does not exist.","git.add.repository":"Connect to Git Repository","git.create.repository":"Create Git Repository","git.loading":"Loading...","git.hosted.repository.name":"Display name","git.hosted.repository.created":"Repository Created","git.hosted.repository.name.description":"Name of the new repository","git.hosted.repository.name.is.empty":"Name is empty","git.hosted.repository.key.is.empty":"Key is empty","git.hosted.repository.key.is.not.valid.url":"Key is not valid url","git.hosted.repository.clone.url":"Clone URL","git.hosted.repository.key.is.not.valid":"Repository key {0} is not valid git url","git.hosted.repository.key":"Key","git.hosted.repository.key.description":"Repository key can be changed later but connected users will need to update to the new name.","git.hosted.repository.usernames":"Connect to this repository using JIRA usernames and passwords.","git.hosted.repository.use.default.settings":"Repository is using default settings.","git.hosted.repository.advanced.settings":"Click here to configure advanced settings for this repository.","git.hosted.repository.initial.commit":"Add initial commit","git.server.error.commits.must.reference":"Failed to push commit {0}. Commits to this repo must reference one of these projects {1} in JIRA","git.server.error.not.valid.issue":"{0} is not a valid issue","git.manage.git.repositories":"Manage Git Repositories","git.welcome.configure.repository":"Configure Git Repository","git.welcome.create.repository":"Create a new Git repository","git.welcome.create.repository.description":"Hosted here at: {0}","git.welcome.connect.repository":"Connect to a Git repository","git.welcome.connect.repository.description":"This includes GitLab, TFS, Stash, Gerrit and any other Git server instance.","git.add.repository.description":"Use this page to add a new git repository.","git.add.repository.submit.button.hotkey":"Press {0} to submit form","git.repository.root":"Repository Root","git.repository.root.help":"This is the path to a clone of the repository. You may use the Standard Setup to clone the repository into the JIRA home directory.","git.repository.origin":"Repository Origin","git.repository.username":"Username","git.repository.password":"Password","git.repository.usehttp":"Use basic http authentication","git.errors.you.must.specify.the.root.of.the.repository":"You must specify the root of the Git repository.","git.errors.you.must.specify.the.root.of.the.repository.repo.id":"You must specify the root of the Git repository {0}.","git.errors.you.must.specify.the.root.of.the.repository.repo.id.na":"You must specify the root of the Git repository.","git.errors.you.must.specify.the.origin.of.the.repository":"You must specify the origin of the Git repository.","git.errors.you.must.specify.a.name.for.the.repository":"You must specify a name for the Git repository.","git.errors.you.must.specify.a.name.for.the.key":"You must specify a name for SSH key","git.errors.you.must.specify.private.key":"You must specify private key","git.errors.security.write.file.violation":"Security violation: not authorized to write temp file","git.errors.cannot.check.private.key":"Error at checking format of private key","git.errors.wrong.format.private.key":"The key format is invalid. Please check your private key.","git.errors.ssh.keyid.does.not.exist":"SSH key with specified id does not exist","git.errors.repository.does.not.exist":"Repository with specified id does not exist","git.errors.path.is.invalid":"The path {0} is invalid","git.error.path.is.invalid.advice":"This path is invalid in your system. Please double check the path","git.errors.path.not.found":"The path {0} doesn\'t exist or invalid","git.errors.path.should.end.with.asterisk":"The path {0} should end with /* or \\*","git.errors.path.no.read.access":"Plugin has no read access to the path {0}","git.errors.path.no.write.access":"Plugin has no write access to the path {0}","git.errors.clone.repo.fail":"Error! Process finished but no Repositories was cloned!","git.errors.external-service.login.or.password.is.not.valid":"Login or password is not valid","git.repository.details":"Git Repository Details","git.repository.actions":"Actions","git.repository.enabled":"Enabled","git.repository.disabled":"Disabled","git.repository.indexing":"Indexing {0}","git.repository.indexing.norepos":"There are no repositories to reindex","git.repository.indexing.busy":"Reindex command is queued. Your repository will soon be processed.","git.repository.smartcommits.processing":"Processing Smart Commits","git.repository.smartcommits.failure-email.header":"Smart Commit processing failed for commit \u003ca href=\"{0}\"\u003e{1}\u003c/a\u003e in","git.repository.smartcommits.failure-email.title":"Smart Commit processing failed","git.repository.smartcommits.failure-email.message":"Commit message","git.repository.smartcommits.failure-email.errors":"Detected error:","git.repository.smartcommits.failure-email.examples":"Examples:\n\n{0} #comment Fixing bug\n{0} #comment Adding code comments #time 10m\n{0} #comment Investigating problem #time 5.5h {1}\n{0} #comment Adding code comments #time 2h #assign {2}\n{0} #comment Adding code comments #time 2h #assign {3}\n{0} #comment Adding code comments #time 2h #fixversion 2.9.5\n{0} #comment Adding code comments #time 2h #affectsversion 2.9.0","git.repository.smartcommits.failure-email.help-link":"For more information and help about Smart Commits in the Git Integration for JIRA add-on, visit:","git.repository.smartcommits.failure-email.footer":"You are receiving this email because your JIRA administrator has Smart Commits enabled in the Git Integration for JIRA add-on for this repository and this commit was not processed correctly.","git.repository.smartcommits.error.unknown-jira-user":"Cannot find JIRA user with given commit author email: {0}","git.repository.smartcommits.error.ambiguous-jira-user":"Found more than one JIRA user with email: {0}","git.repository.smartcommits.error.unknown-issue":"Issue has not been found: {0}","git.repository.smartcommits.error.unknown-command":"Invalid command: {0}","git.repository.smartcommits.error.assignee-cmd-has-one-param":"#assignee command must have one parameter","git.repository.smartcommits.error.exception-during-command-processing":"Can\'t process command: {0}","git.repository.smartcommits.error.version-cmd-has-none-param":"Version name isnt passed","git.repository.smartcommits.error.version-cmd-version-has-not-been-created":"Version {0} hasnt been created.","git.repository.smartcommits.transition.error.unknownstatus":"No Status","git.repository.smartcommits.transition.error.nocommand":"No command provided for transitioning issue {0}.","git.repository.smartcommits.transition.error.noactions":"No transitions for issue {0} ({1}) found or you do not have permission to transition this issue.","git.repository.smartcommits.transition.error.nomatch":"No transitions for issue {0} matched the command \'{2}\'.\n\n* Valid transitions for status {1} are: {3}\n* Add a comment with #comment\n* Log time with #time (examples: 5m, 2h, 1d, 2w)\n* Assign issue with #assign (use a JIRA username or email address of JIRA user)\n* Add fix version with #fixversion or add affects version with #affectsversion (reference an existing version or create a new one)","git.repository.smartcommits.transition.error.ambiguous":"The Smart Commit transition \'{0}\' entered for issue {1} ({2}) is ambiguous. The valid transitions for this issue are: {3}.","git.repository.smartcommits.lozenge.message-ok":"smart commit","git.repository.smartcommits.lozenge.message-error":"smart commit error","git.repository.smartcommits.lozenge.message-no-smart":"commit","git.repository.status.updated":"updated","git.repository.status.in.progress":"in progress","git.repository.status.indexing":"indexing","git.repository.status.error":"error","git.repository.status.disabled":"disabled","git.repository.status.notfound":"no repositories","git.repository.status.scanning":"scanning","git.repository.location":"Location","git.repository.hosted.here":"Jira Hosted","git.repository.external":"External","git.repository.trackedfolder":"Tracked folder","git.repository.service":"External service","git.repository.hosturl":"Host URL","git.repository.account":"Account","git.repository.root.description":"Full path to the Git root on same local machine as JIRA.","git.repository.origin.description":"Full URI to the Git origin (from where repository was cloned) - use git-style paths.","git.repository.origin.detect":"Detect","git.repository.display.name":"Display Name","git.repository.username.description":"Username for basic http authentication.","git.repository.password.description":"Password for basic http authentication.","git.repository.revision.indexing":"Revision Indexing","git.repository.revision.indexing.enabled":"Index and link to any mentioned issue keys in the revision history","git.repository.revision.indexing.disabled":"Do not index and link to the revision history","git.repository.enable.fetches":"Enable Fetches","git.repository.enable.fetches.enabled":"Git repository hosted on remote server","git.repository.enable.fetches.disabled":"Git repository hosted on same server as JIRA","git.repository.revision.cache.size":"Revision Cache Size","git.repository.revision.cache.size.description":"The number of revisions to keep cached in memory for quick retrieval.  Note: this number does not affect the speed with which revisions are looked up from the index (to get revisions for a given issue).  This affects the speed at which the full content of those revisions are retrieved from Git.","git.repository.last.index.date":"Last indexed","git.edit.repository":"Update Repository","git.edit.repository.advanced.page.title":"Git Repository - Advanced","git.edit.repository.advanced.page.description":"Use this page to edit a git repository.","git.admin.errors.occured.when.updating":"Error occurred while updating the repository. Please refer to the log for more details.","git.admin.errors.occured.when.creating":"Error occurred while creating the repository. Please refer to the log for more details.","git.repository.web.link":"Web Link","git.repository.web.linking":"Web Linking","git.repository.web.linking.description":"Web linking allows JIRA users to click on changeset and file links to web server capable of showing changes and files.","git.repository.view.format":"View Format","git.repository.changeset.format":"Changeset Format","git.repository.file.added.format":"File Added Format","git.repository.file.modified.format":"File Modified Format","git.repository.file.deleted.format":"File Deleted Format","git.repository.smart.commits":"Smart Commits","git.repository.smart.commits.enabled":"Enable Smart Commits","git.repository.smart.commits.description":"What is Smart Commits?","git.repository.commitvalidation.title":"Commit Message Validation","git.repository.commitvalidation.checkbox.title":"Require JIRA issue key in commit messages","git.repository.commitvalidation.checkbox.desc":"If checked, then any commit that does not reference a valid JIRA issue key is rejected","git.repository.code.review.issue.tab":"Git Code Review Issue Tab","git.repository.roll.up.issue.tab":"Git Roll Up Issue Tab","git.repository.commits.tab":"Git Commits Issue and Project Tabs","git.repository.repository.browser":"Repository Browser","git.repository.repository.browser.description":"What is Repository Browser?","git.repository.associate.to.all.projects":"Associate with all projects","git.repository.project.permissions":"Project Permissions","git.repository.map.project.permissions":"Associate Project Permissions","git.repository.map.project.permissions.description":"Restrict access to the Repository Browser for the \u003cb\u003e{0}\u003c/b\u003e repository by associating the project permissions. Remember &mdash; the \u003cb\u003eView Development Tools\u003c/b\u003e permission must be granted to Users / Group / Project Roles.","git.repository.map.project.permissions.description.new.repo":"Restrict access to the Repository Browser for the repository by associating the project permissions. Remember &mdash; the \u003cb\u003eView Development Tools\u003c/b\u003e permission must be granted to Users / Group / Project Roles.","git.repository.map.project.repository.browser.error":"There are no projects associated with the {0} repository.\nAssociate at least one project with the repository or disable the Repository Browser feature.","git.repository.browser.feature.help":"The Repository Browser allows users to view git repositories of configured projects via the Git menu on the JIRA dashboard. JIRA System Administrators must assign the View Development Tools project permission to users who will be using this feature.","git.repository.repository.settings":"Repository Settings","git.delete.repository":"Delete Git repository","git.confirm.delete.repository":"Are you sure you want to delete indexes and settings of \u003cb\u003e{0}\u003c/b\u003e?","git.delete.repository.files":"Also delete git repository files at \u003cb\u003e{0}\u003c/b\u003e","git.delete.repository.files.no.root":"Also delete git repository files","git.delete.key":"Delete SSH key","git.delete.hosted.successfully":"Server: \u003cb\u003e{0}\u003c/b\u003e has been removed.","git.delete.tracked-folder.successfully":"Tracked folder: \u003cb\u003e{0}\u003c/b\u003e has been removed.","git.delete.gitlab-repo.successfully":"Connected server: \u003cb\u003e{0}\u003c/b\u003e has been removed.","git.delete.repo.successfully":"Repository: \u003cb\u003e{0}\u003c/b\u003e has been removed.","git.confirm.delete.key":"Are you sure you want to delete \u003cb\u003e{0}\u003c/b\u003e?","git.add.key":"Add SSH key","git.add.key.description":"Use this page to add a new ssh key.","git.associate.key.menu":"Associations","git.associate.key.repository.title":"Limit usage of key \"{0}\" only to selected repositories","git.associate.key.repository.label":"Repositories","git.associate.key.empty.list":"You do not currently have any git repositories configured or all of them associated with other keys.","git.associate.key.selectall":"Select All","git.associate.key.selectnone":"Select None","git.key.error.wrongid":"Wrong ssh key id","git.key.name":"Key name","git.key.private":"Private key","git.key.passphrase":"Passphrase","git.key.existent":"Existing key","git.key.existent.description":"Associate existing key with repository","git.bulk.edit":"Bulk Change","git.import":"Import Configuration","git.export":"Export Configuration","git.edit":"Edit repository","git.edit.tracked.folder":"Edit tracked folder","git.edit.integrated.repository":"Edit connected server","git.delete":"Remove repository","git.delete.tracked.folder":"Remove tracked folder","git.delete.integrated.repository":"Remove connected server","git.reset":"Reset index","git.reset.error.repository.not.specified":"Integer parameter repoId is required.","git.reindex":"Reindex repository","git.reindex.tracked.folder":"Reindex tracked folder","git.reindex.integrated.repository":"Reindex connected server","git.reindex.all":"Reindex All","git.reindex.message":"Indexing job is scheduled but is not running at the moment. Press button below if you want to start it immediately","git.reindex.slow.message":"Reindexing your repository may take up to several hours (based on size)","git.clone.slow.message":"Cloning remote repository may take up to several hours (based on size)","git.reindex.completemessage":"Indexing job has been completed","git.reindex.dialog.starting":"Starting reindex","git.reindex.dialog.error.alert":"Error calling reindex","git.reindex.dialog.error.message":"Error while reindexing of {0}","git.reset.last.indexed.revisions":"Reset last indexed revisions","git.confirm.reset.last.indexed.revisions":"Are you sure you want to reset last indexed revisions of the \u003cb\u003e{0}\u003c/b\u003e repository?","git.repository":"Repository","git.repository.activate":"Activate Git Repository","git.repository.activate.description":"Attempts to connect to the Git repository. If successful, the repository will be indexed.","git.repository.activation.failed":"An error occurred while activating the connection: {0}.","git.repository.activation.successful":"The repository is now active.","git.repository.status":"Status","git.repository.tags.header":"Tags","git.repository.tags.radiobutton.show-all":"Show all tags","git.repository.tags.radiobutton.use-pattern":"Show tags matching the pattern","git.repository.tags.filter":"Issue page tag name filter","git.repository.tags.filter.description":"Optional regular expression to filter which tags to show on issue pages.","git.repository.tags.filter.error.wrong-pattern":"Filter should be a valid \u003ca href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" style=\"color:red;\"\u003eJava regular expression.\u003c/a\u003e\u003c/br\u003e\u003csub\u003e\u003ca href=\"mailto:support@bigbrassband.com?subject=Tag Filter RegEx Request\" class=\"external-link\" rel=\"nofollow\"\u003eNeed help writing the RegEx? \u003csup\u003e\u003cspan class=\"aui-icon aui-icon-small aui-iconfont-email-large\"\u003eInsert meaningful text here for accessibility\u003c/span\u003e\u003c/sup\u003e\u003c/a\u003e\u003c/sub\u003e","git.repository.mainbranch":"Main Branch","git.repository.mainbranch.description":"Specify branch if your repo has no master branch. Leave blank if master branch is present.","git.repositories.reindex":"Git repositories indexing","git.repository.doesnt.indexed":"Never","git.repository.inactive.updating":"Updating","git.repository.inactive.reset":"Reset due cluster sync","git.repository.inactive.plugin.disabled":"Plugin is disabled","git.repository.inactive.disabled":"Disabled","git.repository.inactive.error.no.root":"Root path is undefined","git.repository.inactive.error.root.not.exist":"Folder \'{0}\' doesn\'t exist","git.repository.inactive.error.no.connection":"Connection to git repository failed: {0}","git.reindex.startdate":"Indexing started at:","git.inprogress.title":"Indexing started at: {0} Progress: {1}%","git.admin.privilege.required":"This action requires administrative privileges.","git.license.EXPIRED":"Plugin license has expired","git.license.TYPE_MISMATCH":"Invalid license: License type mismatch","git.license.USER_MISMATCH":"Invalid license: License user count mismatch","git.license.EDITION_MISMATCH":"Invalid license: License edition mismatch","git.license.VERSION_MISMATCH":"Invalid license: License version mismatch","git.license.valid":"Plugin license is valid","git.license.nolicense":"You have no license installed","git.license.error":"Error validate license","git.wizard.repository.location":"Repository location","git.wizard.advanced":"Advanced setup","git.wizard.technical.error":"Technical error reported from the git client:","git.wizard.repository.location.description1":"We support many ways to access Git. Simply paste in the location to your Git repository above and click next below. We will auto-detect the location and ask you an additional questions required to complete setup.","git.wizard.repository.location.description2":"Below are some examples. If you are unsure, paste in anything you have that looks like one of the examples below. If it isn\'t correct, we will tell you and you can try a different location.","git.wizard.example.header.type":"Location Type","git.wizard.example.header.example":"Example","git.wizard.checking.connection":"Checking Connection","git.wizard.verifying.repository.origin":"\u003cb\u003eVerifying\u003c/b\u003e repository origin","git.plugin.wizard.clone.success":"\u003cb\u003eVerifying\u003c/b\u003e repository origin - Success","git.wizard.authentication":"Authentication","git.wizard.authentication.description":"This Git repository requires a private key to access. The private key will be provided to you by the Git administrator as either a file or a block of text of number and letters. You need either the file OR the block of text \u2013 not both.","git.wizard.upload.private.key":"Upload private key","git.wizard.paste.private.key":"Paste private key","git.wizard.how.to.config.private.key":"How to configure private key?","git.wizard.http.auth.description":"Enter the user name and password you typically use to access your git hosting through your web browser.","git.wizard.checking.authentication":"Checking authentication","git.wizard.checking.authentication.information":"\u003cb\u003eChecking\u003c/b\u003e authentication information","git.wizard.passphrase.description":"This private key is secured by a passphrase. Please enter it below.","git.wizard.index":"Index","git.wizard.mainbranch":"Select main branch","git.wizard.mainbranch.description":"Repository has no MASTER branch please select one to make display of commits more compact","git.wizard.creating.local.copy":"\u003cb\u003eCreating\u003c/b\u003e local copy of git repository","git.wizard.indexing":"\u003cb\u003eIndexing\u003c/b\u003e git repository to build change history","git.wizard.done":"Done","git.wizard.configuration.complete":"Configuration complete","git.wizard.done.note1":"You have completed the configuration of the Git Integration for JIRA. The Git Integration for JIRA will automatically pull in any changes from the Git repository without any more assistance from you.","git.wizard.done.note2":"If you need to change the configuration later, look under Git Integration for JIRA in the Add-ons section on the Administration page.","git.wizard.done.follow.link":"Follow link","git.wizard.done.let.users.know":"Let your users know about it","git.wizard.done.send.email":"Click here to send an e-mail using your mail program to your users to let them know that the Git Integration for JIRA is available for them to use.","git.wizard.done.mail.subject":"Git%20Viewer%20for%20JIRA%20Now%20Available&amp;","git.wizard.done.mail.body":"Hello%20everyone%2C%0A%0AYou%20can%20now%20see%20Git%20activity%20inside%20of%20JIRA.%20Please%20check%20out%20this%20helpful%20guide%20for%20more%20information%3A%0Ahttp%3A%2F%2Fwww.bigbrassband.com%2FGitUserGuide%0A%0AThanks!","git.wizard.done.note3":"This e-mail includes a link to helpful \"Getting Started\" information.","git.wizard.done.message":"Repository added successfully","git.wizard.repo.done.message":"Repository: \u003cb\u003e{0}\u003c/b\u003e has been added.","git.wizard.tracked.done.message":"Tracked folder: \u003cb\u003e{0}\u003c/b\u003e has been added.","git.wizard.gitlab.done.message":"Server: \u003cb\u003e{0}\u003c/b\u003e has been added.","git.wizard.tracked.location.button":"Scan folder","git.wizard.tracked.results.button":"Import repositories","git.wizard.addtracked.title":"Add tracked folder","git.wizard.tracked.location":"Tracked folder location","git.wizard.tracked.placeholder":"/path/with/asterisk/required/*","git.wizard.addtracked.description":"The tracked folder will be scanned periodically (based on the \u003ca href=\"{0}/secure/GPGlobalSettings.jspa\" target=\"_blank\"\u003eRepository Reindexing\u003c/a\u003e interval in General settings).","git.wizard.addtracked.description2":"Any new repositories found will be automatically added to JIRA; repositories missing will be automatically removed from JIRA. Tracked folders will not clone any repositories to the JIRA server, only indexes will be created.","git.wizard.scantracked.title":"Scanning folder","git.wizard.scantracked.progress":"Scanning folder for Git repositories...","git.wizard.indextracked.progress":"Importing and indexing found repositories...","git.wizard.foundtracked.title":"Repositories found","git.wizard.foundtracked.table.enabled":"Enabled","git.wizard.foundtracked.table.name":"Repository name","git.wizard.foundtracked.table.path":"Repository path","git.wizard.integrated.location.title":"Connect to GitLab","git.wizard.integrated.location.description":"Once configured your \u003cstrong\u003e{0}\u003c/strong\u003e account will be scanned and indexed periodically (based on the \u003ca href=\"{1}/secure/GPGlobalSettings.jspa\" target=\"_blank\"\u003eRepository Reindexing\u003c/a\u003e interval in General settings).","git.wizard.integrated.location.description2":"Any new repositories added to your \u003cstrong\u003e{0}\u003c/strong\u003e account will be automatically added to JIRA; repositories missing will be automatically removed from JIRA. Built-in \u003ca href=\"https://bigbrassband.com/documentation.html#gitctrlvwr_weblinking\"\u003eWeb Linking\u003c/a\u003e feature is available and configured automatically.","git.wizard.integrated.scan.title":"Scanning external repositories","git.wizard.integrated.scan.progress":"Scanning external service for Git repositories...","git.wizard.integrated.index.progress":"Cloning and indexing found repositories...","git.wizard.integrated.result.title":"Repositories found","git.wizard.integrated.index.title":"Indexing repositories","git.wizard.integrated.location.button":"Connect","git.wizard.github.location.title":"Connect to GitHub","git.wizard.integrated.result.header.type":"Service importing","git.wizard.integrated.result.header.hosturl":"Host URL","git.wizard.integrated.result.header.username":"Account used","git.wizard.integration.suggestion.header":"Connecting a GtiLab Server?","git.wizard.integration.suggestion.text":"\u003ca href=\"javascript:window.location.hash=\'#integrated\';window.location.reload(true);\"\u003eTry\u003c/a\u003e the new GitLab integration feature!","git.wizard.github-server.suggestion.header":"Connecting a GitHub Server?","git.wizard.github-server.suggestion.text":"\u003ca href=\"javascript:window.location.hash=\'#github\';window.location.reload(true);\"\u003eTry\u003c/a\u003e the new GitHub integration feature!","git.repositories.showtracked.button":"Show tracked repositories","git.repositories.showtracked.title":"Tracked folder","git.repositories.showtracked.name":"Tracked folder:","git.repositories.showtracked.lastscan":"Last scanned:","git.repositories.showtracked.norepos.header":"No repositories found","git.repositories.showtracked.norepos.desc":"You have no repositories at \u003cb\u003e{0}\u003c/b\u003e at this time. You can clone or copy repositories into this location to keep it tracked.","git.diff.no.changes.detected":"No changes detected","git.diff.no.changes.detected.description":"Result of source code comparison is empty","git.diff.binary.content":"Binary file contents","git.diff.no.content":"Nothing to show. File diff is empty","git.diff.codereview.link.to.diff":"Diff","git.diff.codereview.link.browse":"Browse","git.diff.codereview.subtask.path":"{0} (branch: {1})","git.diff.codereview.somebody.commented":"[~{0}] commented:","git.diff.codereview.somebody.commented-link":"commented:","git.diff.submodules.are.not.supported":"Submodules are not supported yet","git.diff.no.merge.base":"No changes to compare","git.diff.no.merge.base.description":"Base and compare branches have entirely different commit histories","git.diff.commit.expander.more.commits":"More {0} commits","git.diff.commit.expander.more.commits.plural.0":"More {0} commit","git.diff.commit.expander.more.commits.plural.1":"More {0} commits","git.diff.commit.expander.more.commits.plural.2":"More {0} commits","git.import.updating":"Updating repository {0}","git.import.creating":"Creating repository {0}","git.import.delete":"Deleting repository {0}","git.import.error.wrong.id":"Wrong thread id passed","git.import.error.resource.busy":"Import Configuration Resource is busy","git.import.error.invalid.header":"Invalid header","git.import.error.could.not.delete.repository":"Could not delete repository {0}","git.import.error.invalid.project.ids.line":"Invalid project IDs: {0}. Line {1}","git.import.error.invalid.project.ids":"Invalid project IDs: {0}","git.import.error.invalid.tags.filter.wrong-pattern.line":"Tags filter is not a valid java pattern: {0}. Line {1}","git.import.error.invalid.tags.filter.wrong-pattern":"Tags filter is not a valid java pattern: {0}","git.import.error.invalid.repository.key.line":"Repository key {0} is not valid git url. Line {1}","git.import.error.validation.failed":"Validation failed","git.import.line.number":"Line {0}","git.import.validation":"Validation","git.import.upload.info":"Upload a tab separated file with repository configuration","git.import.choose.file":"Choose File...","git.bulk.how.to.use":"How to use Bulk Change?","git.export.hint.to.make.changes":"To make changes to multiple repositories at once:","git.export.hint.export.current":"Export your current repository configuration","git.export.hint.add.edit.delete":"Add/edit/delete repositories in .TSV format","git.export.hint.detailed.instructions":"Detailed instructions","git.export.hint.detailed.instructions.video":"Detailed instructions (video)","git.export.hint.download":"Press \'{0}\' to export current configuration of your repositories","git.export.hint.upload.tsv":"Upload .TSV","git.export.download":"Download","git.export.header":"Export current repository configuration","git.import.header":"Import repository configuration","git.import.examples.existing":"Example existing repository configuration","git.import.examples.new":"Example new repository configuration","git.import.examples.full":"Example existing repository full configuration","git.import.delete.confirm":"Confirm deletion","git.import.delete.folowing.repositories":"Following repositories will be deleted:","git.import.ssh.association.confirm":"Confirm SSH key association","git.import.ssh.association.description1":"You will convert some common SSH keys into associated keys by upload this tsv file:","git.import.ssh.association.description2":"The following repositories might be indexed incorrectly the next time because they use a common key removed above:","git.import.completed":"Completed","git.import.done.with.errors":"Done with errors","git.import.failed":"Import failed. See above for errors","git.import.footer.hint":"Hint: Leave repository id blank when adding new repositories","git.import.proceed.delete":"Proceed","git.import.upload":"Upload","git.scann.starting":"Starting scanning...","git.scann.validation":"Validating {0}","git.scann.scanning":"Scanning {0}","git.diff.error.obtaining.commit.info":"An error occured during obtaining commit info.","git.diff.error.cannot.obtain.commit.info":"Error! Cannot obtain commit info!","git.diff.error.cannot.obtain.commit.range.info":"Error! Cannot obtain commit range info!","git.plugin.build.info.current.build":"Current build: {0}","git.message.configuration.updated":"Git Integration for JIRA settings were updated","git.lozenge.label":"Optional","git.globalsettings.title":"General","git.globalsettings.permission.label.true":"Show for all projects","git.globalsettings.permission.label.false":"Show for selected projects:","git.globalsettings.permission.label.false.total":"Do not display","git.email.commits.title.issue":"Git commits added to {0}: {1}","git.email.commits.title.repo":"Git commits added to repository {0}","git.email.commits.body.title.issue":"The following commits added to {0} ({1})","git.email.commits.body.title.repo":"The following commits added to {0}","git.issue.touch.last.updated.date":"JIRA Issue Updates","git.issue.last.updated.date.enable.updates":"Allow new commits to change Last Updated field","git.issue.send.commit.notification.emails":"Commit Notification Emails","git.issue.send.commit.notification.emails.descr":"Send commit notification emails","bbb.gp.activity.stream":"Git commits from Git Integration for JIRA","git.activity.stream.enable":"Git Activity Stream","git.activity.stream.enable.description":"Show Git commits in Activity Stream","bbb.gp.activity.stream.filter.commit.post":"Commit","git.globalsettings.showtags.title":"Git Tags","git.globalsettings.showtags.title.description":"Calculate and show Git tags in Git Source Code panel","git.globalsettings.code.comments.enable":"Code Comments","git.globalsettings.code.comments.enable.description":"Enable Code Comments","git.globalsettings.reindex.title":"Repository Reindexing","git.globalsettings.reindex.interval.lable":"Reindex interval","git.globalsettings.reindex.interval.description":"Automatic reindex interval (minutes)","git.globalsettings.reindex.interval.error.required":"Reindex interval is required","git.globalsettings.reindex.interval.error.minvalue":"Reindex interval should be greater than or equal to 1","git.globalsettings.gc.title":"Repositories Garbage Collection checker","git.globalsettings.gc.interval.label":"GC check interval","git.globalsettings.gc.interval.description":"Automatic GC check interval (minutes)","git.globalsettings.gc.interval.error.required":"GC check interval is required","git.globalsettings.gc.interval.error.minvalue":"GC check interval should be greater than or equal to 1","git.globalsettings.gc.looseobjects.label":"Max loose objects count","git.globalsettings.gc.looseobjects.description":"Maximum of loose objects before GC performed","git.globalsettings.gc.looseobjects.error.required":"Max loose objects count is required","git.globalsettings.gc.looseobjects.error.minvalue":"Max loose objects count should be greater than or equal to 1","git.globalsettings.gc.packfiles.label":"Max packed files count","git.globalsettings.gc.packfiles.description":"Maximum of packed files before GC performed","git.globalsettings.gc.packfiles.error.required":"Max packed files count is required","git.globalsettings.gc.packfiles.error.minvalue":"Max packed files count should be greater than or equal to 1","git.globalsettings.diff.title":"Diff","git.globalsettings.diff.sizethreshold.label":"Max diff line count","git.globalsettings.diff.sizethreshold.desc":"Max amount of lines in a file diff before file gets truncated.","git.globalsettings.diff.sizethreshold.required":"Max diff line count is required","git.globalsettings.diff.sizethreshold.invalid":"Max diff line count should be greater than or equal to 1","git.globalsettings.code.review.requires.resolved.status":"Code review requires ticket to be resolved","git.globalsettings.code.review.issue.statuses":"Code Review Issue Statuses","git.globalsettings.code.review.issue.statuses.description":"Code review requires ticket to be in this status","git.globalsettings.code.review.issue.statuses.error":"There are no issue status mentioned as required for creation of pull requires. Choose at least one issue status or select Required status used by default.","git.jql.field.gitbranch.name":"Git Branch (multivalue)","git.jql.field.gitbranch.description":"A custom calculated field that contains git branches having git commits reference to issue.","git.jql.searcher.gitbranches.name":"Git Branches Searcher","git.jql.searcher.gitbranches.description":"Search for git branches.","git.jql.field.gitCommitsReferenced.name":"Git Commits Referenced","git.jql.field.gitCommitsReferenced.description":"A custom boolean calculated field showing whether issue associated with any git commit or not.","git.jql.searcher.gitCommitsReferenced.name":"Git Commits Referenced Searcher","git.jql.searcher.gitCommitsReferenced.description":"Search for issues associated with git commits.","git.jql.searcher.error.unsupportedoperator":"Operator {0} is not supported by {1} field","git.jql.searcher.error.notboolean":"Boolean parse error: {0}","git.jql.searcher.error.empty.branch":"Empty is not supported as git branch","git.webhooks.title":"Webhooks","git.webhooks.enabled":"Enable webhook","git.webhooks.secret":"Secret key:","git.webhooks.reindex.title":"Reindex Webhook","git.webhooks.reindex.description":"You can cause an immediate index of your repositories through a webhook. Copy and paste this secret URL into your Git repositories webhook section: \u003cb\u003e{0}\u003c/b\u003e\n","git.webhooks.reindex.description2":"Help with using \u003ca href=\"https://gitlab.com/gitlab-org/gitlab-ce/blob/master/doc/web_hooks/web_hooks.md\"\u003eGitLab\u003c/a\u003e and \u003ca href=\"https://developer.github.com/webhooks/\"\u003eGitHub\u003c/a\u003e web hooks.","git.webhooks.secret.error.required":"Secret key is required","binary.file.add":"binary file added","binary.file.delete":"binary file deleted","binary.file.modify":"binary files differ","large.file.add":"large file added","large.file.delete":"large file deleted","large.file.modify":"large files differ","git.error.target.directory.exists":"Target directory exists: {0}.","git.error.target.directory.exists.advice":"The folder for cloning the repository already exists on server. Please either remove existing repository or use advanced setup and specify a different repository folder.","git.error.http.connection.advice":"Attempt to connect to the Git server failed. This may be because of invalid username and password or may be because of a network error.","git.error.ssh.connection.advice":"The SSH connection failed. The passphrase may be wrong or the specified ssh key is not accepted by the Git server. Check that public key is known to git server.","git.error.operation":"Internal plugin error.","git.error.operation.advice":"Something went wrong while the plugin was performing internal routines.","git.error.invalid.host":"Host or port specified in {0} are inaccessible","git.error.invalid.host.advice":"The server specified is inaccessible. Please check to make sure the host and port are correct or check the network configuration on your Jira server.","git.error.invalid.origin":"Specified origin {0} is incorrect or not supported","git.error.invalid.origin.advice":"The Git origin specified is not supported. Please see the examples below. Try pasting in a different origin string.","git.error.invalid.private.key":"Private SSH key is invalid or empty","git.error.invalid.private.key.advice":"That is not a valid SSH private key. Please try a different one.","git.error.invalid.repository.id":"Repository with id={0} does not exist","git.error.invalid.repository.id.advice":"Repository with this id does not exist. Please try to reach necessary repository by menu instead of direct URL.","git.error.invalid.repository.id.advice.web":"Please try to reload the web page and repeat your operation.","git.error.invalid.remote.advice":"Possible reason:\u003c/br\u003e- Repository URL is invalid\u003c/br\u003e- Your SSH key has permissions to the git server, but does not have access to the repository","git.error.repository.is.not.active":"Repository is not enabled","git.error.repository.is.not.active.advice":"Repository is not enabled. Please fix repository settings.","git.error.branch.does.not.exist":"Branch does not exist: {0}","git.error.tag.does.not.exist":"Tag does not exist: {0}","git.error.path.does.not.exist":"Path does not exist: {0}","git.error.branch.does.not.exist.open.pull-request":"Branch {0} no longer exists. You can \u003ca href=\"javascript:void(0)\" onclick=\"jQuery.get(\'{1}\');location.href=\'{2}\';return false;\"\u003eclose\u003c/a\u003e the pull request.","git.error.main.branch.does.not.exist":"Can not compare with main branch. Main branch \"{1}\" of repository \"{0}\" does not exist.","git.error.main.branch.does.not.exist.advice":"Push main branch or change it in repository configuration.","git.error.missed.repository.name":"repository origin {0} does not contain repository name","git.error.missed.repository.name.advice":"This Git server does not have a name. Please use advanced setup.","git.error.read.permission":"Jira does not have read access to {0}","git.error.read.permission.advice":"The plugin can not read from a folder on your Jira server. Please fix the permissions.","git.error.write.permission":"Jira does not have write access to {0}","git.error.write.permission.advice":"The plugin can not write to a folder on your Jira server. Please fix the permissions.","git.error.access.denied":"Access Denied","git.error.access.denied.advice":"You do not have enough permissions to perform this operation. Please contact your JIRA administrator.","git.error.diff.too.large":"Diff is too large to display","git.error.diff.pull.request.does.not.exist":"Pull request #{0} does not exist.","git.error.diff.too.low.setting.value":"Diff can\'t be loaded because \u003cstrong\u003e{0}\u003c/strong\u003e is set too low. Your JIRA admin can increase this value in \u003ca href=\"{1}\"\u003eGeneral\u003c/a\u003e settings.","git.error.diff.lines.count.too.large":"Diff can\'t be loaded because total lines changed limit of {0} lines has been exceeded.","git.error.empty.project.mapping":"There are no projects associated with the {0} repository.","git.error.empty.project.mapping.advice":"Associate at least one project with the repository or disable the Repository Browser feature.","git.error.empty.revision":"Empty revision has been passed","git.error.empty.revision.range":"At least one of revisions is empty","git.error.revision.not.found":"Revision {0} not found","git.error.revision.not.found.range":"At least one of revisions not found","git.error.repository.key.is.not.unique":"Repository key {0} is not unique","git.error.non.unique.key.advice":"There is another repository with same key. Change key to another one.","git.error.repository.autoincrement.is.not.sequential":"It was expected autoincrement is sequential and next id is not greater then {0}, but was {1}.","git.error.repository.autoincrement.is.not.sequential.advice":"Internal error","git.error.gitrepository.is.not.initialized":"Git Repository is not initialized. If the problem will not be resolved in a second, it\'s an internal error. Please contact bigbrassband.","git.error.missing.required.param":"Parameter {0} is required","git.error.missing.required.param.advice":"Please specify required parameter to use this operation","git.error.wrong.username.password":"Wrong username/password","git.error.wrong.username.password.advice":"","license-servlet.name":"License Servlet","license-servlet.description":"The License Servlet Plugin","plugin.license.storage.admin.license.action.acquire.title":"Acquire a new license","plugin.license.storage.admin.license.action.buy":"Buy","plugin.license.storage.admin.license.action.new.title":"Enter a new license","plugin.license.storage.admin.license.action.renew":"Renew","plugin.license.storage.admin.license.action.try":"Try","plugin.license.storage.admin.license.action.update":"Update","plugin.license.storage.admin.license.action.update.title":"Update your license","plugin.license.storage.admin.license.action.upgrade":"Upgrade","plugin.license.storage.admin.license.attribute.creationdate.title":"Creation Date","plugin.license.storage.admin.license.attribute.description.title":"Description","plugin.license.storage.admin.license.attribute.expirationdate.title":"Expiration Date","plugin.license.storage.admin.license.attribute.maintenanceexpirationdate.title":"Maintenance Expiration date","plugin.license.storage.admin.license.attribute.maxusers.title":"Maximum Number of Users","plugin.license.storage.admin.license.attribute.maxusers.unlimited":"Unlimited","plugin.license.storage.admin.license.attribute.organization.title":"Organization","plugin.license.storage.admin.license.attribute.pluginkey.title":"Plugin Key","plugin.license.storage.admin.license.attribute.sen.title":"Support Entitlement Number (SEN)","plugin.license.storage.admin.license.attribute.serverid.title":"Server Id","plugin.license.storage.admin.license.attribute.status.invalid.eval":"Invalid {0} evaluation license with a {1} error","plugin.license.storage.admin.license.attribute.status.invalid.noneval":"Invalid {0} license with a {1} error","plugin.license.storage.admin.license.attribute.status.title":"Status","plugin.license.storage.admin.license.attribute.status.unlicensed":"Unlicensed","plugin.license.storage.admin.license.attribute.status.valid.eval":"Valid {0} evaluation license","plugin.license.storage.admin.license.attribute.status.valid.noneval":"Valid {0} license","plugin.license.storage.admin.license.details":"License Details","plugin.license.storage.admin.license.error.EXPIRED":"expired","plugin.license.storage.admin.license.error.TYPE_MISMATCH":"type mismatch","plugin.license.storage.admin.license.error.USER_MISMATCH":"user mismatch","plugin.license.storage.admin.license.error.VERSION_MISMATCH":"version mismatch","plugin.license.storage.admin.license.invalid":"The license you have submitted is invalid. Your license has not been updated.","plugin.license.storage.admin.license.remove":"Your license has successfully been removed.","plugin.license.storage.admin.license.type.ACADEMIC":"academic","plugin.license.storage.admin.license.type.COMMERCIAL":"commercial","plugin.license.storage.admin.license.type.COMMUNITY":"community","plugin.license.storage.admin.license.type.DEMONSTRATION":"demonstration","plugin.license.storage.admin.license.type.DEVELOPER":"developer","plugin.license.storage.admin.license.type.HOSTED":"hosted","plugin.license.storage.admin.license.type.NON_PROFIT":"non-profit","plugin.license.storage.admin.license.type.OPEN_SOURCE":"open source","plugin.license.storage.admin.license.type.PERSONAL":"personal","plugin.license.storage.admin.license.type.STARTER":"starter","plugin.license.storage.admin.license.type.TESTING":"testing","plugin.license.storage.admin.license.update":"The license you submitted is valid. Your license has been successfully updated.","plugin.license.storage.admin.license.update.invalid":"The license you submitted has an error. Your license has been updated. See below for more information.","plugin.license.storage.admin.plugin.unavailable":"Sorry, but we cannot find the required licensing support to execute the requested operation. Please ensure that the Plugin License Storage plugin is installed and enabled. Restarting this plugin should resolve the problem.","plugin.license.storage.admin.title":"{0} License Administration","plugin.license.storage.admin.unpermitted":"Sorry, you are not permitted to manage this plugin\'s license. Please log in as an administrator.","plugin.license.storage.admin.upm.licensing.aware":"Sorry, you cannot update your plugin license on this screen. Please use the \u003ca href=\'{0}\'\u003ePlugin Manager\u003c/a\u003e instead.","plugin.license.storage.admin.maintenence.period.expired":"Your maintenance period for the Git Integration for JIRA has expired.","plugin.license.storage.admin.maintenence.period.expires.today":"Your maintenance period for Git Integration for JIRA will expire today.","plugin.license.storage.admin.maintenence.period.expires":"Your maintenance period for Git Integration for JIRA will expire in {0} days.","plugin.license.storage.admin.license.period.expired":"Your license for the Git Integration for JIRA has expired.","plugin.license.storage.admin.license.period.expires.today":"Your license for Git Integration for JIRA will expire today.","plugin.license.storage.admin.license.period.expires":"Your license for Git Integration for JIRA will expire in {0} days.","server.license.storage.admin.maintenence.period.expired":"Your maintenance period for the Git Server for JIRA has expired.","server.license.storage.admin.maintenence.period.expires.today":"Your maintenance period for Git Server for JIRA will expire today.","server.license.storage.admin.maintenence.period.expires":"Your maintenance period for Git Server for JIRA will expire in {0} days.","server.license.storage.admin.license.period.expired":"Your license for the Git Server for JIRA has expired.","server.license.storage.admin.license.period.expires.today":"Your license for Git Server for JIRA will expire today.","server.license.storage.admin.license.period.expires":"Your license for Git Server for JIRA will expire in {0} days.","plugin.license.storage.admin.maintenence.period.expires.action":"You can renew your license \u003ca href=\"{0}\"\u003ehere\u003c/a\u003e.","git-plugin-viewer.menu.link":"Git","git-plugin-viewer.menu.current":"Current repository","git-plugin-viewer.menu.recent":"Recent repositories","git-plugin-viewer.menu.clone-info":"Clone repository","git-plugin-viewer.menu.all":"View all repositories","git-plugin-viewer.menu.favourites":"Favorite repositories","git-plugin-viewer.browse.title":"Browse","git-plugin-viewer.browse.branch":"branch","git-plugin-viewer.browse.manage-link":"Repositories","git-plugin-viewer.browse.branches":"Branches","git-plugin-viewer.browse.tag":"tag","git-plugin-viewer.browse.tags":"Tags","git-plugin-viewer.browse.latest-commit":"Latest commit","git-plugin-viewer.browse.commit-message":"Commit message","git-plugin-viewer.browse.file-name":"File name","git-plugin-viewer.browse.loading-commits-data":"Loading commit data...","git-plugin-viewer.browse.no-files-title":"Empty branch","git-plugin-viewer.browse.no-files-message":"There are no files in the current branch","git-plugin-viewer.commits.title":"Commits","git-plugin-viewer.commits.list.empty":"There are no commits!","git-plugin-viewer.commits.paginator.prev":"Prev","git-plugin-viewer.single-commit.title":"Changes","git-plugin-viewer.manage.title":"All repositories","git-plugin-viewer.manage.configure.admin-link":"Configure repositories","git-plugin-viewer.manage.admin-link":"Manage repositories","git-plugin-viewer.manage.header":"Repositories","git-plugin-viewer.manage.add-more.title":"Missing git repository?","git-plugin-viewer.manage.add-more.message":"If you can&rsquo;t find the git repository you are looking for - contact your JIRA admin to add and/or map the git repository to a JIRA project.","git-plugin-viewer.manage.no-repositories.title":"No repositories yet","git-plugin-viewer.manage.no-repositories.message.user":"You don&rsquo;t have any repositories configured or they are not yet mapped to a JIRA project for permission. Ask your JIRA admin to add the git repository to the Git Integration for JIRA.","git-plugin-viewer.manage.no-repositories.message.admin":"You don&rsquo;t have any repositories configured or they are not yet mapped to a JIRA project for permission.","git-plugin-viewer.manage.git-repository":"Git Repository","git-plugin-viewer.manage.recent-issue":"Recent Issue","git-plugin-viewer.manage.last-updated-by":"Last updated by","git-plugin-viewer.manage.updated-on":"Last commit","git-plugin-viewer.manage.no-commits":"No commits","git-plugin-viewer.manage.remove-from-favourites":"Remove this repository from your favorites","git-plugin-viewer.manage.add-to-favourites":"Add this repository to your favorites","git-plugin-viewer.manage.mark-as-favorite":"Mark as favorite","git-plugin-viewer.manage.favorite":"Favorite","git-plugin-viewer.manage.start.watching":"Start watching","git-plugin-viewer.manage.stop.watching":"Stop watching","git-plugin-viewer.compare.title":"Compare","git-plugin-viewer.compare.hnav.summary":"Summary","git-plugin-viewer.compare.hnav.commits":"Commits","git-plugin-viewer.compare.hnav.diff":"Diff","git-plugin-viewer.compare.hnav.issues":"Issues","git-plugin-viewer.compare.empty.branch.warning":"Select branch to compare","git-plugin-viewer.compare.no.branch.match.warning":"No branch name matches this JIRA issue","git-plugin-viewer.compare.no.branch.match.advice":"No associated git branch name matches this JIRA issue ({0}). Select a branch to compare.","git-plugin-viewer.compare.issues.title":"Referenced JIRA issues","git-plugin-viewer.compare.issues.no.issues":"No referring issues found","git-plugin-viewer.compare.issues.jql.link":"View in Issue Navigator","git-plugin-viewer.compare.issues.jql.link.plural.0":"View in Issue Navigator","git-plugin-viewer.compare.issues.jql.link.plural.1":"View in Issue Navigator","git-plugin-viewer.compare.issues.jql.link.plural.2":"View in Issue Navigator","git-plugin-viewer.compare.issues.jql.link.text":"View in Issue Navigator","git-plugin-viewer.compare.dropdown.base":"base","git-plugin-viewer.compare.dropdown.compare":"compare","git-plugin-viewer.issues.type":"T","git-plugin-viewer.issues.priority":"P","git-plugin-viewer.issues.issue-key":"Key","git-plugin-viewer.issues.issue-summary":"Summary","git-plugin-viewer.issues.assignee":"Assignee","git-plugin-viewer.issues.status":"Status","git-plugin-viewer.issues.resolution":"Resolution","git-plugin-viewer.issues.null.assignee":"Unassigned","git-plugin-viewer.issues.null.resolution":"Unresolved","git-plugin-viewer.diff.truncated.title":"Diff is truncated","git-plugin-viewer.diff.truncated":"Could not display the entire diff because too many files changed.","git.no.log.entries.message":"There are no Git commits that reference this issue.","git.last.indexed.repo.message":"Git index was last updated on {0}","git.last.indexed.repo.never.message":"Git index hasn\'t been updated yet","git.index.error.admin.message":"Indexing is failing for some repositories. Please alert your JIRA administrator.","git.issue-tab.label":"Git Commits","git.issue-tab.description":"Show Git commits related to an issue in an issue tab panel.","git.issue-tab.repository":"Repository","git.issue-tab.replaced":"REPLACE","git.issue-tab.reindexing":"RE-INDEXING","git.issue-tab.lines.added":"Added","git.issue-tab.lines.added.title":"Lines added","git.issue-tab.lines.changed":"Modified","git.issue-tab.lines.deleted":"Deleted","git.issue-tab.lines.deleted.title":"Lines deleted","git.issue-tab.lines.total-added":"Total added","git.issue-tab.lines.total-changed":"Total modified","git.issue-tab.lines.total-deleted":"Total deleted","git.issue-tab.lines.changed.title":"Lines changed","git.issue.commits-tab.view-full-commit":"View full commit","git.issue.commits-tab.more-commits":"%i more...","git.issue.commits-tab.num-more-dots":"{0} more...","git.issue.commits-tab.num-more-commits":"{0} more commits","git.issue.commits-tab.num-more-commits.plural.0":"{0} more commit","git.issue.commits-tab.num-more-commits.plural.1":"{0} more commits","git.issue.commits-tab.num-more-commits.plural.2":"{0} more commits","git.issue.summary-tab.label":"Git Roll Up","git.issue.summary-tab.description":"Show Git statistics related to an issue in an issue tab panel.","git.issue.summary-tab.commits.title":"Commits","git.issue.summary-tab.aggregate.title":"Aggregated Lines by Developers","git.issue.summary-tab.files.title":"Files","git.issue.summary-tab.first.commit.date":"First commit","git.issue.summary-tab.last.commit.date":"Last commit","git.issue.summary-tab.commit.count":"Total commits","git.issue.summary-tab.ago":"ago","git.issue.summary-tab.indexed-at":"indexed {0}","git.issue.summary-tab.commits":"Commits","git.issue.summary-tab.files":"Files","git.issue.summary-tab.lines":"Lines","git.issue.summary-tab.added":"added","git.issue.summary-tab.changed":"changed","git.issue.summary-tab.deleted":"deleted","git.issue.summary-tab.sort":"Sort","git.issue.summary-tab.sort.options":"Sort options","git.issue.summary-tab.sort.name":"Name","git.issue.summary-tab.sort.path":"Path","git.issue.summary-tab.sort.changes":"Most changes","git.issue.summary-tab.sort.changed":"Most changed","git.issue.summary-tab.sort.lines-added":"Lines added","git.issue.summary-tab.sort.most-lines-added":"Most lines added","git.issue.summary-tab.sort.lines-changed":"Lines changed","git.issue.summary-tab.sort.most-lines-changed":"Most lines changed","git.issue.summary-tab.sort.lines-deleted":"Lines removed","git.issue.summary-tab.sort.most-lines-deleted":"Most lines removed","git.issue.summary-tab.sort.lines-before":"Lines before","git.issue.summary-tab.sort.most-lines-before":"Most lines before","git.issue.summary-tab.sort.lines-after":"Lines after","git.issue.summary-tab.sort.most-lines-after":"Most lines after","git.issue.summary-tab.sort.rollup":"Rollup","git.issue.summary-tab.sort.rollup.options":"Rollup options","git.issue.summary-tab.sort.rollup.none":"None","git.issue.summary-tab.sort.rollup.extention":"Extension","git.issue.summary-tab.sort.rollup.change":"Change","git.issue.summary-tab.sort.rollup.extention-and-change":"Extension and change","git.issue.summary-tab.sort.rollup.change-and-extention":"Change and extension","git.issue.summary-tab.file":"File","git.issue.summary-tab.file.extention.none":"(none)","git.project-tab.description":"A tab showing the git commits for the project","git.project-tab.label":"Git Commits","git.project-tab.all-versions":"All versions","git.project-tab.released-versions":"Released versions","git.project-tab.unreleased-versions":"Unreleased versions","git.project-tab.select-version":"Select version:","git.project-tab.no-commits":"No commits were found!","git.project-tab.released-at":"released {0}","bbb.gp.activitystream.icon.tooltip":"Commit","bbb.gp.general.enabled":"Enabled","bbb.gp.general.disabled":"Disabled","bbb.gp.general.merge":"Merge","bbb.gp.general.base":"Base","bbb.gp.general.pullreq-management.close-pull-request":"Close Pull Request","bbb.gp.general.pullreq-management.create-pull-request":"Create Pull Request","bbb.gp.issuePicker.placeholder":"Select Issue","bbb.gp.notification.comment.commented-by":"{0} commented {1}","bbb.gp.notification.old.git.title":"JIRA Git Connection Error Reason","bbb.gp.notification.hello.user":"Hello {0},","bbb.gp.notification.old.git.body1":"You attempted to connect to a Git repository at {0} with a command line Git client that is too old to connect.","bbb.gp.notification.old.git.body2":"Git for JIRA requires you to use a command line Git client version 2.1.0 or greater.","bbb.gp.notification.old.git.body4":"If update your command line Git client, then you can connect to the Git repositories at {0}.","bbb.gp.codereview.commit.committed":"committed {0}","bbb.gp.codereview.commit.lines.hidden":"{0} lines hidden","bbb.gp.codereview.commit.lines.hidden.plural.0":"{0} line hidden","bbb.gp.codereview.commit.lines.hidden.plural.1":"{0} lines hidden","bbb.gp.codereview.commit.lines.hidden.plural.2":"{0} lines hidden","bbb.gp.codereview.conversation.confirm-delete-dialog.body":"Are you sure you want to delete comment?","bbb.gp.codereview.conversation.reply":"Reply","bbb.gp.codereview.conversation.edit-comment":"Edit comment","bbb.gp.codereview.conversation.delete-comment":"Remove comment","bbb.gp.codereview.conversation.comment-form.new-issue":"New issue","bbb.gp.codereview.conversation.comment-form.comment-label":"Comment","bbb.gp.codereview.conversation.comment-form.save":"Save comment","bbb.gp.codereview.conversation.edit-form.apply":"Apply","bbb.gp.codereview.review-issue-tab.description":"Show Pull Requests related to the issue in issue tab panel","bbb.gp.codereview.review-issue-tab.label":"Git Code Review","bbb.gp.codereview.review-issue-tab.title":"Pull requests","bbb.gp.codereview.review-issue-tab.pull-request-link":"Pull Request from {0} to {1}","bbb.gp.codereview.review-issue-tab.pull-request-link-email":"Pull Request from {0} to {1} in \u003ca href=\"{2}\"\u003e{3}\u003c/a\u003e","bbb.gp.codereview.review-issue-tab.pull-subtask-link-email":"Created sub-task: \u003ca href=\"{0}\"\u003e{1}\u003c/a\u003e","bbb.gp.codereview.review-issue-tab.viewer-disabled-tooltip":"The Repository Browser feature must be enabled for at least one associated repository","bbb.gp.codereview.review-issue-tab.view-diff-link":"View diff","bbb.gp.codereview.review-issue-tab.link-to-compare-page.title":"Open in Repository Browser","bbb.gp.codereview.review-issue-tab.commit-comment-link":"Commit {0}","bbb.gp.codereview.review-issue-tab.commit-link-email":"Commit {0} in \u003ca href=\"{1}\"\u003e{2}\u003c/a\u003e","bbb.gp.codereview.review-issue-tab.compare-comment-link":"Compare Diff between {0} and {1}","bbb.gp.codereview.review-issue-tab.compare-link-email":"Compare Diff between {0} and {1} in \u003ca href=\"{2}\"\u003e{3}\u003c/a\u003e","bbb.gp.codevreiew.issue-web-panel.open-pull-request-link.title":"Pull Request","bbb.gp.codereview.pullreq-dialog.associated-jira-issue":"Associated JIRA issue","bbb.gp.codereview.pullreq-dialog.repo-picker-placeholder":"Type here to find a repo","bbb.gp.codereview.tab.content.ui.error":"Unable to load content for given branches: {0}","bbb.gp.codereview.tab.content.ui.error.timeout":"Timeout Exceeded","bbb.gp.codereview.pullreq-info.ui.error":"Unable to load Pull Request Info for repository {0}: {1}","bbb.gp.codereview.pullreq-info.rest.error":"Error processing parameters for PullRequest Info:","bbb.gp.configuration.commit-emails.title":"Commit Notification Emails","bbb.gp.configuration.commit-emails.send":"Send notifications","bbb.gp.configuration.commit-emails.max-minutes":"Max commit age in minutes","bbb.gp.configuration.commit-emails.max-minutes.description":"Only e-mail commits that are newer than this many minutes old","bbb.gp.configuration.commit-emails.warning":"Administrator must enable notifications in Git Integration for JIRA settings.","bbb.gp.configuration.commit-emails.admin-warning":"Must be also enabled in global Git Integration for JIRA settings.","bbb.gp.configuration.page-user-profile-panel.title":"Git Integration for JIRA preferences","bbb.gp.configuration.page-user-profile-panel.git-commit-emails.label":"Git Commit Emails","bbb.gp.configuration.page-user-profile-panel.dialog-title":"Git Integration for JIRA preferences","bbb.gp.configuration.page-user-profile-panel.submit-error":"Error of updating User Preferences","bbb.gp.configuration.clone-info-dialog.title":"Git Repository Connection Information","bbb.gp.configuration.clone-info-dialog.your-jira-password":"Your JIRA password","bbb.gp.configuration.clone-info-dialog.git-client-version-note.text.body1":"Command line","bbb.gp.configuration.clone-info-dialog.git-client-version-note.text.body2":"client must be version \u003e=","bbb.gp.configuration.clone-info-dialog.how-clone-repo-note":"Cloning the Repo","bbb.gp.configuration.clone-info-dialog.how-to-remember-password-for-a-day":"Remembering Password for a Day","bbb.gp.configuration.clone-info-dialog.how-to-remember-password-permanently":"Remembering Password Permanently","bbb.gp.configuration.clone-info-dialog.web-page-link-text":"Clone repository","bbb.gp.configuration.clone-info-dialog.issue-tab-link-text":"Clone Repo","bbb.gp.gitviewer.branches-dropdown.search-field-placeholder":"Type to find branch/tag","bbb.gp.gitviewer.branches-dropdown.branches-n-of":"Branches ({0} of {1} matching)","bbb.gp.gitviewer.branches-dropdown.tags-n-of":"Tags ({0} of {1} matching)","bbb.gp.gitviewer.control-pull-request.error.html.open-for-issue":"\u003ca href=\"{1}\"\u003ePull request\u003c/a\u003e for the same issue {0} is already open","bbb.gp.gitviewer.control-pull-request.error.text.open-for-issue":"Pull request for the same issue {0} is already open","bbb.gp.gitviewer.control-pull-request.error.html.issue-state.needs-resolved-status":"To create a pull request, the issue must be resolved. Your JIRA admin can change this in settings.","bbb.gp.gitviewer.control-pull-request.error.html.issue-state.needs-specific-status":"To create a pull request, the issue status must be: {0}. Your JIRA admin can change this in settings.","bbb.gp.gitviewer.control-pull-request.error.html.open-for-compare-params":"\u003ca href=\"{1}\"\u003ePull request\u003c/a\u003e with same compare parameters is already open for issue {0}","bbb.gp.gitviewer.control-pull-request.error.text.open-for-compare-params":"Pull request with same compare parameters is already open for issue {0}","bbb.gp.gitviewer.control-pull-request.error.branch-deleted":"Branch associated with issue {0} was deleted","bbb.gp.gitviewer.control-pull-request.error.open-for-issue":"Only one pull request may be open for issue","bbb.gp.gitviewer.control-pull-request.error.open-for-compare-params":"Only one pull request may be open for the same compare parameters","bbb.gp.gitviewer.control-pull-request.error.gitviewer-disabled":"Git Viewer must be enabled for selected repository","bbb.gp.gitviewer.control-pull-request.error.compare-branch":"Compare branch must be selected","bbb.gp.gitviewer.control-pull-request.error.base-branch":"Base branch must be selected","bbb.gp.gitviewer.control-pull-request.error.equal-branches":"Base branch must not be equal to compare branch","bbb.gp.gitviewer.control-pull-request.error.issue-key":"Issue must be selected","bbb.gp.gitviewer.control-pull-request.error.server-error":"Server Error","bbb.gp.gitviewer.control-pull-request.error.reopening":"Server error of reopening pull request","bbb.gp.gitviewer.control-pull-request.error.closing":"Server error of closing pull request","bbb.gp.gitviewer.control-pull-request.error.creating":"Server error of creating pull request","bbb.gp.gitviewer.control-pull-request.error.issue.does.not.exist":"Issue with specified id does not exist","bbb.gp.gitviewer.control-pull-request.error.pullrequest-not-found":"Pull request not found","bbb.gp.gitviewer.control-pull-request.error.commit-not-found":"Commit not found","bbb.gp.gitviewer.control-pull-request.error.code-not-found":"Code not found","bbb.gp.gitviewer.control-pull-request.error.comment-not-found":"Comment not found","bbb.gp.gitviewer.control-pull-request.error.pullrequest-is-closed":"Pull request is closed","bbb.gp.gitviewer.control-pull-request.error.subtask-creating":"Can\'t create subtask","bbb.gp.gitviewer.control-pull-request.error.repoid-not-corresponding":"Repository ids not corresponding","bbb.gp.gitviewer.control-pull-request.success.reopening":"Pull Request was reopened","bbb.gp.gitviewer.control-pull-request.success.closing":"Pull Request was closed","bbb.gp.gitviewer.control-pull-request.success.creating":"Pull Request was created","bbb.gp.gitviewer.pull-request.closed-commenting.tooltip":"Pull Request is closed. Reopen Pull Request to enable commenting.","bbb.gp.gitviewer.code-comments.error.disabled":"Permissions denied. Code Comments Feature is disabled.","bbb.gp.gitviewer.code-comments.error.context-issue-is-required":"issue key is required.","bbb.gp.gitviewer.plural-forms.formula":"(n != 1)","bbb.gp.gitviewer.plural-forms.formula-mod":"2","bbb.gp.common.date.relative.a.moment.ago":"Just now","bbb.gp.common.date.relative.one.minute.ago":"1 minute ago","bbb.gp.common.date.relative.x.minutes.ago":"{0} minutes ago","bbb.gp.common.date.relative.one.hour.ago":"1 hour ago","bbb.gp.common.date.relative.x.hours.ago":"{0} hours ago","bbb.gp.common.date.relative.one.day.ago":"Yesterday","bbb.gp.common.date.relative.x.days.ago":"{0} days ago","bbb.gp.common.date.relative.one.week.ago":"1 week ago","bbb.gp.common.date.relative.in.a.moment":"Now","bbb.gp.common.date.relative.in.one.minute":"In 1 minute","bbb.gp.common.date.relative.in.x.minutes":"In {0} minutes","bbb.gp.common.date.relative.in.one.hour":"In 1 hour","bbb.gp.common.date.relative.in.x.hours":"In {0} hours","bbb.gp.common.date.relative.in.one.day":"Tomorrow","bbb.gp.common.date.relative.in.x.days":"In {0} days","bbb.gp.common.date.relative.in.one.week":"In 1 week","admin.common.words.close":"Close","common.forms.cancel":"Cancel","common.words.close":"Close","common.words.configure":"Configure","common.words.delete":"Delete","common.words.next":"Next",};if(typeof window!="undefined"){window.bbb=window.bbb||{};bbb.gp=bbb.gp||{};bbb.gp.localization=a}else{module.exports=a}})();;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled-soy', location = '/blocks/datespan/datespan.soy' */
// This file was automatically generated from datespan.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bbb.gp.datespan.soy.
 */

if (typeof bbb == 'undefined') { var bbb = {}; }
if (typeof bbb.gp == 'undefined') { bbb.gp = {}; }
if (typeof bbb.gp.datespan == 'undefined') { bbb.gp.datespan = {}; }
if (typeof bbb.gp.datespan.soy == 'undefined') { bbb.gp.datespan.soy = {}; }


bbb.gp.datespan.soy.datespan = function(opt_data, opt_ignored) {
  return '<span class="bbb-gp-datespan" datetime=' + soy.$$escapeHtml(opt_data.datetime) + ' title="' + soy.$$escapeHtml(opt_data.tooltip) + '"><span class="bbb-gp-datespan__web">' + soy.$$filterNoAutoescape(opt_data.web) + '</span><span class="bbb-gp-datespan__print">' + soy.$$escapeHtml(opt_data.print) + '</span></span>';
};
if (goog.DEBUG) {
  bbb.gp.datespan.soy.datespan.soyTemplateName = 'bbb.gp.datespan.soy.datespan';
}


bbb.gp.datespan.soy.dateTextSpan = function(opt_data, opt_ignored) {
  return '<span class="bbb-gp-datespan__date-text-span">' + soy.$$escapeHtml(opt_data.dateText) + '</span>';
};
if (goog.DEBUG) {
  bbb.gp.datespan.soy.dateTextSpan.soyTemplateName = 'bbb.gp.datespan.soy.dateTextSpan';
}
;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled-soy', location = 'blocks/sort-header/sort-header.soy' */
// This file was automatically generated from sort-header.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bbb.gp.sortHeader.soy.
 */

if (typeof bbb == 'undefined') { var bbb = {}; }
if (typeof bbb.gp == 'undefined') { bbb.gp = {}; }
if (typeof bbb.gp.sortHeader == 'undefined') { bbb.gp.sortHeader = {}; }
if (typeof bbb.gp.sortHeader.soy == 'undefined') { bbb.gp.sortHeader.soy = {}; }


bbb.gp.sortHeader.soy.sortHeader = function(opt_data, opt_ignored) {
  return '' + bbb.gp.sortHeader.soy.sortHeader__content(soy.$$augmentMap(opt_data, {tag: 'div'}));
};
if (goog.DEBUG) {
  bbb.gp.sortHeader.soy.sortHeader.soyTemplateName = 'bbb.gp.sortHeader.soy.sortHeader';
}


bbb.gp.sortHeader.soy.sortHeader_th = function(opt_data, opt_ignored) {
  return '' + bbb.gp.sortHeader.soy.sortHeader__content(soy.$$augmentMap(opt_data, {tag: 'th'}));
};
if (goog.DEBUG) {
  bbb.gp.sortHeader.soy.sortHeader_th.soyTemplateName = 'bbb.gp.sortHeader.soy.sortHeader_th';
}


bbb.gp.sortHeader.soy.sortHeader__content = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tag) + ' class="bbb-gp-sort-header bbb-gp-sort-header_order_' + soy.$$escapeHtml(opt_data.order) + ' ' + ((opt_data.classes) ? soy.$$escapeHtml(opt_data.classes) : '') + '" data-key="' + soy.$$escapeHtml(opt_data.key) + '"><span class="bbb-gp-sort-header__content bbb-gp-sort-header__content_order_' + soy.$$escapeHtml(opt_data.order) + '">' + soy.$$escapeHtml(opt_data.text) + '</span></' + soy.$$escapeHtml(opt_data.tag) + '>';
};
if (goog.DEBUG) {
  bbb.gp.sortHeader.soy.sortHeader__content.soyTemplateName = 'bbb.gp.sortHeader.soy.sortHeader__content';
}


bbb.gp.sortHeader.soy.sortHeader_th_inactive = function(opt_data, opt_ignored) {
  return '<th ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' ' + ((opt_data.classes) ? 'class="' + soy.$$escapeHtml(opt_data.classes) + '"' : '') + '><span>' + soy.$$escapeHtml(opt_data.text) + '</span></th>';
};
if (goog.DEBUG) {
  bbb.gp.sortHeader.soy.sortHeader_th_inactive.soyTemplateName = 'bbb.gp.sortHeader.soy.sortHeader_th_inactive';
}


bbb.gp.sortHeader.soy.sortHeader_inactive = function(opt_data, opt_ignored) {
  return '<div ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' ' + ((opt_data.classes) ? 'class="' + soy.$$escapeHtml(opt_data.classes) + '"' : '') + '"><span>' + soy.$$escapeHtml(opt_data.text) + '</span></div>';
};
if (goog.DEBUG) {
  bbb.gp.sortHeader.soy.sortHeader_inactive.soyTemplateName = 'bbb.gp.sortHeader.soy.sortHeader_inactive';
}
;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled-soy', location = 'blocks/header-of-page/header-of-page.soy' */
// This file was automatically generated from header-of-page.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bbb.gp.headerOfPage.soy.
 */

if (typeof bbb == 'undefined') { var bbb = {}; }
if (typeof bbb.gp == 'undefined') { bbb.gp = {}; }
if (typeof bbb.gp.headerOfPage == 'undefined') { bbb.gp.headerOfPage = {}; }
if (typeof bbb.gp.headerOfPage.soy == 'undefined') { bbb.gp.headerOfPage.soy = {}; }


bbb.gp.headerOfPage.soy.headerOfPage = function(opt_data, opt_ignored) {
  var output = '<header class="bbb-gp-header-of-page aui-page-header"><div class="aui-page-header-inner ' + ((opt_data.innerHeaderClass) ? soy.$$escapeHtml(opt_data.innerHeaderClass) : '') + '"><div class="aui-page-header-image"><span class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner" style="display:inline-block"><img class="bbb-gp-header-of-page__plugin-logo" src="' + soy.$$escapeHtml(opt_data.baseUrl) + '/download/resources/' + soy.$$escapeHtml(opt_data.pluginKey) + ':git-plugin-images-resource/images/plugin-logo.png"></img></span></span></div><div class="aui-page-header-main"><h1 ' + ((opt_data.titleClass) ? 'class="' + soy.$$escapeHtml(opt_data.titleClass) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.title) + '</h1></div>';
  if (opt_data.actions) {
    output += '<div class="aui-page-header-actions">';
    var actionList23 = opt_data.actions;
    var actionListLen23 = actionList23.length;
    for (var actionIndex23 = 0; actionIndex23 < actionListLen23; actionIndex23++) {
      var actionData23 = actionList23[actionIndex23];
      output += bbb.gp.headerOfPage.soy.headerOfPage__action(actionData23);
    }
    output += '</div>';
  }
  output += '</div></header>';
  return output;
};
if (goog.DEBUG) {
  bbb.gp.headerOfPage.soy.headerOfPage.soyTemplateName = 'bbb.gp.headerOfPage.soy.headerOfPage';
}


bbb.gp.headerOfPage.soy.headerOfPage__action = function(opt_data, opt_ignored) {
  return '<a class="aui-button" href="' + soy.$$escapeHtml(opt_data.url) + '">' + soy.$$escapeHtml(opt_data.text) + '</a>';
};
if (goog.DEBUG) {
  bbb.gp.headerOfPage.soy.headerOfPage__action.soyTemplateName = 'bbb.gp.headerOfPage.soy.headerOfPage__action';
}
;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled-soy', location = 'gitviewer/blocks/all-repos-list/all-repos-list.soy' */
// This file was automatically generated from all-repos-list.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bbb.gp.gitviewer.allReposList.soy.
 */

if (typeof bbb == 'undefined') { var bbb = {}; }
if (typeof bbb.gp == 'undefined') { bbb.gp = {}; }
if (typeof bbb.gp.gitviewer == 'undefined') { bbb.gp.gitviewer = {}; }
if (typeof bbb.gp.gitviewer.allReposList == 'undefined') { bbb.gp.gitviewer.allReposList = {}; }
if (typeof bbb.gp.gitviewer.allReposList.soy == 'undefined') { bbb.gp.gitviewer.allReposList.soy = {}; }


bbb.gp.gitviewer.allReposList.soy.allReposList = function(opt_data, opt_ignored) {
  var output = '<table class="bbb-gp-gitviewer-all-repos-list aui"><thead><tr class="bbb-gp-gitviewer-all-repos-list__h-row">' + ((opt_data.repositories) ? bbb.gp.sortHeader.soy.sortHeader_th({key: 'displayName', order: 'none', text: "Git Repository"}) + bbb.gp.sortHeader.soy.sortHeader_th({key: 'lastIssuesOrderData', order: 'none', text: "Recent Issue"}) + bbb.gp.sortHeader.soy.sortHeader_th({key: 'authorDisplayName', order: 'none', text: "Last updated by"}) + bbb.gp.sortHeader.soy.sortHeader_th({key: 'lastCommitTimestamp', order: 'none', text: "Last commit"}) : '') + '</tr></thead><tbody class="bbb-gp-gitviewer-all-repos-list__t-body">';
  if (opt_data.repositories) {
    var repoList25 = opt_data.repositories;
    var repoListLen25 = repoList25.length;
    for (var repoIndex25 = 0; repoIndex25 < repoListLen25; repoIndex25++) {
      var repoData25 = repoList25[repoIndex25];
      output += bbb.gp.gitviewer.allReposList.soy.allReposList__row({repo: repoData25, baseUrl: opt_data.baseUrl});
    }
  }
  output += '</tbody></table>';
  return output;
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.allReposList.soy.allReposList.soyTemplateName = 'bbb.gp.gitviewer.allReposList.soy.allReposList';
}


bbb.gp.gitviewer.allReposList.soy.allReposList__row = function(opt_data, opt_ignored) {
  var output = '<tr><td><div class="favourite-status"><div>' + ((opt_data.repo.favourite) ? '<a class="bbb-gp-gitviewer-all-repos-list__favourite-status-link fav-link enabled aui-icon aui-icon-small aui-iconfont-star" title="' + soy.$$escapeHtml("Remove this repository from your favorites") + '" data-repo-id="' + soy.$$escapeHtml(opt_data.repo.id) + '" href="#" >' + soy.$$escapeHtml("Remove this repository from your favorites") + '</a>' : '<a class="bbb-gp-gitviewer-all-repos-list__favourite-status-link fav-link disabled aui-icon aui-icon-small aui-iconfont-unstar" title="' + soy.$$escapeHtml("Add this repository to your favorites") + '" data-repo-id="' + soy.$$escapeHtml(opt_data.repo.id) + '" href="#" >' + soy.$$escapeHtml("Add this repository to your favorites") + '</a>') + '</div></div><div class="favourite-item"><a href="' + soy.$$escapeHtml(opt_data.baseUrl) + '/secure/bbb.gp.gitviewer.BrowseGit.jspa?repoId=' + soy.$$escapeHtml(opt_data.repo.id) + '">' + soy.$$escapeHtml(opt_data.repo.displayName) + '</a></div></td><td>';
  var issueList57 = opt_data.repo.lastIssues;
  var issueListLen57 = issueList57.length;
  for (var issueIndex57 = 0; issueIndex57 < issueListLen57; issueIndex57++) {
    var issueData57 = issueList57[issueIndex57];
    output += soy.$$filterNoAutoescape(issueData57) + ((! (issueIndex57 == issueListLen57 - 1)) ? ', ' : '');
  }
  output += '</td><td>';
  if (opt_data.repo.authorInfo) {
    var user__soy68 = opt_data.repo.authorInfo;
    output += '<span ' + ((user__soy68.isAJiraUser) ? 'class="user-hover gp-user-info" id="issue_summary_assignee_' + soy.$$escapeHtml(user__soy68.userName) + '" rel="' + soy.$$escapeHtml(user__soy68.userName) + '"' : 'class="gp-user-info"') + '><img class="gp-avatar-inner" src="' + soy.$$escapeHtml(user__soy68.avatarUrl) + '" /> ' + soy.$$escapeHtml(user__soy68.displayName) + '</span>';
  }
  output += '</td>' + ((opt_data.repo.lastCommit) ? '<td><a href="' + soy.$$escapeHtml(opt_data.baseUrl) + '/secure/bbb.gp.gitviewer.Commits.jspa?repoId=' + soy.$$escapeHtml(opt_data.repo.id) + '">' + bbb.gp.datespan.soy.datespan(opt_data.repo.lastCommit.lastCommitTimeTrio) + '</a></td>' : '<td>' + soy.$$escapeHtml("No commits") + '</td>') + '</tr>';
  return output;
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.allReposList.soy.allReposList__row.soyTemplateName = 'bbb.gp.gitviewer.allReposList.soy.allReposList__row';
}
;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled-soy', location = 'gitviewer/blocks/repo-title/repo-title.soy' */
// This file was automatically generated from repo-title.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bbb.gp.gitviewer.repoTitle.soy.
 */

if (typeof bbb == 'undefined') { var bbb = {}; }
if (typeof bbb.gp == 'undefined') { bbb.gp = {}; }
if (typeof bbb.gp.gitviewer == 'undefined') { bbb.gp.gitviewer = {}; }
if (typeof bbb.gp.gitviewer.repoTitle == 'undefined') { bbb.gp.gitviewer.repoTitle = {}; }
if (typeof bbb.gp.gitviewer.repoTitle.soy == 'undefined') { bbb.gp.gitviewer.repoTitle.soy = {}; }


bbb.gp.gitviewer.repoTitle.soy.repoTitle = function(opt_data, opt_ignored) {
  return '<span>' + soy.$$escapeHtml(opt_data.repoName) + ' <div class="bbb-gp-gitviewer-repo-title__favourite-status favourite-status">' + ((opt_data.favourite) ? '<a class="fav-link enabled bbb-gp-gitviewer-repo-title__favourite-status-a aui-icon aui-icon-small aui-iconfont-star" title="' + soy.$$escapeHtml("Remove this repository from your favorites") + '" data-repo-id="' + soy.$$escapeHtml(opt_data.repoId) + '" href="#" >' + soy.$$escapeHtml("Remove this repository from your favorites") + '</a><a class="bbb-gp-gitviewer-repo-title__status-title">' + soy.$$escapeHtml("Favorite") + '</a>' : '<a class="fav-link disabled bbb-gp-gitviewer-repo-title__favourite-status-a aui-icon aui-icon-small aui-iconfont-unstar" title="' + soy.$$escapeHtml("Add this repository to your favorites") + '" data-repo-id="' + soy.$$escapeHtml(opt_data.repoId) + '" href="#" >' + soy.$$escapeHtml("Add this repository to your favorites") + '</a><a class="bbb-gp-gitviewer-repo-title__status-title">' + soy.$$escapeHtml("Mark as favorite") + '</a>') + '</div><div  class="bbb-gp-gitviewer-repo-title__watching-status"><span class="aui-badge">' + soy.$$escapeHtml(opt_data.watchersCount) + '</span><a class="bbb-gp-gitviewer-repo-title__status-title bbb-gp-gitviewer-repo-title__watching-status-title">' + bbb.gp.gitviewer.repoTitle.soy.pageBrowse__watching(opt_data) + '</a></div></span>';
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.repoTitle.soy.repoTitle.soyTemplateName = 'bbb.gp.gitviewer.repoTitle.soy.repoTitle';
}


bbb.gp.gitviewer.repoTitle.soy.pageBrowse__watching = function(opt_data, opt_ignored) {
  return '' + ((opt_data.watched) ? soy.$$escapeHtml("Stop watching") : soy.$$escapeHtml("Start watching"));
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.repoTitle.soy.pageBrowse__watching.soyTemplateName = 'bbb.gp.gitviewer.repoTitle.soy.pageBrowse__watching';
}
;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled-soy', location = 'gitviewer/blocks/body-of-page.soy' */
// This file was automatically generated from body-of-page.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bbb.gp.gitviewer.bodyOfPage.soy.
 */

if (typeof bbb == 'undefined') { var bbb = {}; }
if (typeof bbb.gp == 'undefined') { bbb.gp = {}; }
if (typeof bbb.gp.gitviewer == 'undefined') { bbb.gp.gitviewer = {}; }
if (typeof bbb.gp.gitviewer.bodyOfPage == 'undefined') { bbb.gp.gitviewer.bodyOfPage = {}; }
if (typeof bbb.gp.gitviewer.bodyOfPage.soy == 'undefined') { bbb.gp.gitviewer.bodyOfPage.soy = {}; }


bbb.gp.gitviewer.bodyOfPage.soy.bodyOfPage = function(opt_data, opt_ignored) {
  return '<div class="aui-page-panel content-container ' + ((opt_data.classes) ? soy.$$escapeHtml(opt_data.classes) : '') + '"><div class="aui-panel"><div class="aui-page-panel-inner bbb-gp-gitviewer-body-of-page__content">' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div></div></div>';
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.bodyOfPage.soy.bodyOfPage.soyTemplateName = 'bbb.gp.gitviewer.bodyOfPage.soy.bodyOfPage';
}
;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled-soy', location = 'gitviewer/entry-points/page-all-repos/page-all-repos.soy' */
// This file was automatically generated from page-all-repos.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bbb.gp.gitviewer.pageAllRepos.soy.
 */

if (typeof bbb == 'undefined') { var bbb = {}; }
if (typeof bbb.gp == 'undefined') { bbb.gp = {}; }
if (typeof bbb.gp.gitviewer == 'undefined') { bbb.gp.gitviewer = {}; }
if (typeof bbb.gp.gitviewer.pageAllRepos == 'undefined') { bbb.gp.gitviewer.pageAllRepos = {}; }
if (typeof bbb.gp.gitviewer.pageAllRepos.soy == 'undefined') { bbb.gp.gitviewer.pageAllRepos.soy = {}; }


bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__noReposWarning = function(opt_data, opt_ignored) {
  return '<div class="aui-message warning shadowed"><p class="title">' + "No repositories yet" + '</p><span class="aui-icon icon-warning"></span>' + ((opt_data.isAdmin) ? '<p>' + "You don\x26rsquo;t have any repositories configured or they are not yet mapped to a JIRA project for permission." + ' <a href="ViewGitRepositories.jspa">' + "Configure repositories" + '</a></p>' : '<p>' + "You don\x26rsquo;t have any repositories configured or they are not yet mapped to a JIRA project for permission. Ask your JIRA admin to add the git repository to the Git Integration for JIRA." + '</p>') + '</div>';
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__noReposWarning.soyTemplateName = 'bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__noReposWarning';
}


bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__contactAdminMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-message shadowed closeable"><p class="title">' + "Missing git repository?" + '</p><p>' + "If you can\x26rsquo;t find the git repository you are looking for - contact your JIRA admin to add and/or map the git repository to a JIRA project." + '</p><span class="aui-icon icon-close" role="button" tabindex="0"></span></div>';
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__contactAdminMessage.soyTemplateName = 'bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__contactAdminMessage';
}


bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__body = function(opt_data, opt_ignored) {
  return '' + bbb.gp.gitviewer.bodyOfPage.soy.bodyOfPage({classes: 'bbb-gp-gitviewer-page-all-repos__body', content: '<section class="aui-page-panel-content">' + ((opt_data.hasRepositories) ? '<div class="bbb-gp-gitviewer-page-all-repos__all-repos-list"></div>' + ((! opt_data.isAdmin) ? bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__contactAdminMessage(null) : '') : bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__noReposWarning(opt_data)) + '</section>'});
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__body.soyTemplateName = 'bbb.gp.gitviewer.pageAllRepos.soy.pageAllRepos__body';
}
;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled-soy', location = 'codereview/blocks/compare-issues/issues-list.soy' */
// This file was automatically generated from issues-list.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bbb.gp.gitviewer.pageIssues.soy.
 */

if (typeof bbb == 'undefined') { var bbb = {}; }
if (typeof bbb.gp == 'undefined') { bbb.gp = {}; }
if (typeof bbb.gp.gitviewer == 'undefined') { bbb.gp.gitviewer = {}; }
if (typeof bbb.gp.gitviewer.pageIssues == 'undefined') { bbb.gp.gitviewer.pageIssues = {}; }
if (typeof bbb.gp.gitviewer.pageIssues.soy == 'undefined') { bbb.gp.gitviewer.pageIssues.soy = {}; }


bbb.gp.gitviewer.pageIssues.soy.issuesList = function(opt_data, opt_ignored) {
  var output = '<table class="bbb-gp-gitviewer-issues-list aui"><thead><tr class="bbb-gp-gitviewer-issues-list__h-row">' + ((opt_data.issues) ? bbb.gp.sortHeader.soy.sortHeader_th({key: 'type', order: 'none', text: "T"}) + bbb.gp.sortHeader.soy.sortHeader_th({key: 'priority', order: 'none', text: "P"}) + bbb.gp.sortHeader.soy.sortHeader_th({key: 'issueKey', order: 'none', text: "Key"}) + bbb.gp.sortHeader.soy.sortHeader_th({key: 'issueSummary', order: 'none', text: "Summary"}) + bbb.gp.sortHeader.soy.sortHeader_th({key: 'assignee', order: 'none', text: "Assignee"}) + bbb.gp.sortHeader.soy.sortHeader_th({key: 'status', order: 'none', text: "Status"}) + bbb.gp.sortHeader.soy.sortHeader_th({key: 'resolution', order: 'none', text: "Resolution"}) : '') + '</tr></thead><tbody class="bbb-gp-gitviewer-issues-list__t-body">';
  if (opt_data.issues) {
    var issueList37 = opt_data.issues;
    var issueListLen37 = issueList37.length;
    for (var issueIndex37 = 0; issueIndex37 < issueListLen37; issueIndex37++) {
      var issueData37 = issueList37[issueIndex37];
      output += bbb.gp.gitviewer.pageIssues.soy.issuesList__row({issue: issueData37, baseUrl: opt_data.baseUrl});
    }
  }
  output += '</tbody></table>';
  return output;
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.pageIssues.soy.issuesList.soyTemplateName = 'bbb.gp.gitviewer.pageIssues.soy.issuesList';
}


bbb.gp.gitviewer.pageIssues.soy.issuesList__row = function(opt_data, opt_ignored) {
  return '<tr><td title = "' + soy.$$escapeHtml(opt_data.issue.typeName) + ' - ' + soy.$$escapeHtml(opt_data.issue.typeDescription) + '"><img src = "' + soy.$$escapeHtml(opt_data.issue.typeIconUrl) + '" class = "bbb-gp-gitviewer-issues-list__type-icon"></img></td><td title = "' + soy.$$escapeHtml(opt_data.issue.priorityName) + ' - ' + soy.$$escapeHtml(opt_data.issue.priorityDescription) + '"><img src = "' + soy.$$escapeHtml(opt_data.issue.priorityIconUrl) + '" class = "bbb-gp-gitviewer-issues-list__priority-icon"></img></td><td><a href="' + soy.$$escapeHtml(opt_data.baseUrl) + '/browse/' + soy.$$escapeHtml(opt_data.issue.issueKey) + '">' + soy.$$escapeHtml(opt_data.issue.issueKey) + '</a></td><td><a href="' + soy.$$escapeHtml(opt_data.baseUrl) + '/browse/' + soy.$$escapeHtml(opt_data.issue.issueKey) + '">' + soy.$$escapeHtml(opt_data.issue.issueSummary) + '</a></td><td>' + ((opt_data.issue.assignee.name) ? '<a class = "gp-bubble-user user-hover" rel = "' + soy.$$escapeHtml(opt_data.issue.assignee.name) + '" href="' + soy.$$escapeHtml(opt_data.baseUrl) + '/secure/ViewProfile.jspa?name=' + soy.$$escapeHtml(opt_data.issue.assignee.name) + '">' + soy.$$escapeHtml(opt_data.issue.assignee.displayName) + '</a>' : soy.$$escapeHtml(opt_data.issue.assignee.displayName)) + '</td><td><span class="jira-issue-status-lozenge aui-lozenge ' + ((opt_data.issue.statusColorName) ? 'jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.issue.statusColorName) : 'jira-issue-status-lozenge-green') + ' jira-issue-status-lozenge-max-width-medium">' + soy.$$escapeHtml(opt_data.issue.status) + '</span></td><td>' + ((opt_data.issue.resolution) ? soy.$$escapeHtml(opt_data.issue.resolution) : '') + '</td></tr>';
};
if (goog.DEBUG) {
  bbb.gp.gitviewer.pageIssues.soy.issuesList__row.soyTemplateName = 'bbb.gp.gitviewer.pageIssues.soy.issuesList__row';
}
;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:lib-backbonejs-brace', location = 'lib/thirdparty/backbone.brace.min.js' */
/*! 
 *  Backbone Brace - 2013-11-07 
 *  Copyright 2013 Atlassian Software Systems Pty Ltd
 *  Licensed under the Apache License, Version 2.0
 */
!function(){function a(a){return q.isArray(a)?q.reduce(a,function(a,b){return a[b]=null,a},{}):a}function b(a,e){if(!a||null==e)return e;if(a===String&&q.isString(e))return e;if(a===Number&&q.isNumber(e))return e;if(a===Boolean&&q.isBoolean(e))return e;if("string"==typeof a||a instanceof String){if(typeof e!=""+a)throw"The typeof "+e+" is "+typeof e+" but expected it to be "+a;return e}if(q.isArray(a)||a===Array){if(!d(e))throw"Array type expected, but nonnull, non-Array value provided.";return a!==Array&&a[0]?q.map(e,q.bind(b,null,a[0])):e}if("function"!=typeof a)throw"Invalid expected type "+a+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";return e instanceof a?e:c(a)?new a(b([a.model],e)):new a(e)}function c(a,b){return a&&(a.__super__ instanceof(b||r.Collection)||a.__super__===(b||r.Collection).prototype||a===(b||r.Collection))}function d(a){return q.has(a,"length")&&!(a instanceof String||q.has({string:1,"function":1},typeof a)||a instanceof r.Collection)}function e(a,b){var c={};return q.each(a,function(a,d){if(b[d]&&!f(a,b[d])){if(!a||f(b[d],a))return;throw d+" has conflicted type descriptors."}c[d]=a}),c}function f(a,b){return b&&b!==a?a&&"string"!=typeof a?a instanceof Array?b===Array||b instanceof Array&&f(a[0],b[0]):"function"!=typeof b?!1:c(b)?c(a,b):a.prototype instanceof b:!1:!0}function g(a){return q.isObject(a)?q.reduce(a,function(a,b,c){return b&&q.isFunction(b.toJSON)?a[c]=b.toJSON():q.isArray(b)&&(a[c]=q.map(b,function(a){return a&&q.isFunction(a.toJSON)?a.toJSON():a})),a},a):a}function h(a){return function(){var b=a.call(this);return g(b)}}function i(b){return function c(d,e){var f,g,i=q.extend({},d);return d&&d.mixins&&(g=d.mixins,delete i.mixins),f=b.call(this,i,e),this.prototype.namedEvents&&n.Mixins.applyMixin(f,{namedEvents:this.prototype.namedEvents}),this.prototype.namedAttributes&&n.Mixins.applyMixin(f,{namedAttributes:this.prototype.namedAttributes}),g&&q.each(d.mixins,function(a){n.Mixins.applyMixin(f,a)}),f.prototype.namedEvents&&n.Mixins.applyMixin(f,n.EventsMixinCreator.create(f.prototype.namedEvents)),f.prototype.namedAttributes&&(f.prototype.namedAttributes=a(f.prototype.namedAttributes),n.Mixins.applyMixin(f,n.AttributesMixinCreator.create(f.prototype.namedAttributes,f.prototype.idAttribute))),f.prototype.toJSON&&(f.prototype.toJSON=h(f.prototype.toJSON)),f.extend=c,f}}function j(a,c){var d=a.prototype,e=c.prototype,f=d.set;e.set=function(a,c,d){var e,g=this.namedAttributes;if(!g||null==a)return f.apply(this,arguments);q.isObject(a)?(e=q.clone(a),d=c):(e={},e[a]=c);for(var h in e)if(q.has(e,h)){if(!q.has(g,h))throw"Attribute '"+h+"' does not exist";e[h]=b(g[h],e[h])}return f.call(this,e,d)};var g=d.get;e.get=function(a){if(this.namedAttributes&&!q.has(this.namedAttributes,a))throw"Attribute '"+a+"' does not exist";return g.apply(this,arguments)}}function k(a,b){var c=a.prototype,d=b.prototype,e=c.parse;d.parse=function(a,b){return q.pick(e(a,b),q.keys(this.namedAttributes))}}function l(a){var b=a.extend(),c=a.extend;return b.extend=i(c),b}function m(a){var b=l(a);return j(a,b),k(a,b),b}var n,o=this,p=o.Brace;n="undefined"!=typeof exports?exports:o.Brace={},n.noConflict=function(){return o.Brace=p,this};var q=o._;q||"undefined"==typeof require||(q=require("underscore"));var r=o.Backbone;r||"undefined"==typeof require||(r=require("backbone")),n.Mixins={createMethodName:function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)},applyMixin:function(b,c){q.forEach(q.keys(c),function(d){var f=b.prototype;if("initialize"===d){var g=f.initialize;return f.initialize=function(){g&&g.apply(this,arguments),c.initialize.apply(this,arguments)},void 0}if("validate"===d){var h=f.validate;return f.validate=function(){if(h){var a=h.apply(this,arguments);if(a)return a}return c.validate.apply(this,arguments)},void 0}if("defaults"!==d){if("namedAttributes"===d){var i=a(f.namedAttributes)||{},j=a(c[d]);return f.namedAttributes=q.extend(i,e(j,i)),void 0}if("namedEvents"===d){if(!q.isArray(c[d]))throw"Expects events member on mixin to be an array";return f.namedEvents||(f.namedEvents=[]),f.namedEvents=q.uniq(f.namedEvents.concat(c[d])),void 0}if(f.hasOwnProperty(d))throw"Mixin error: class already has property '"+d+"' defined";f[d]=c[d]}else{var k=f.defaults||(f.defaults={}),l=c[d];for(var m in l){if(k.hasOwnProperty(m))throw"Mixin error: class already has default '"+m+"' defined";k[m]=l[m]}}},this)}},n.AttributesMixinCreator={create:function(a,b){var c={};if(a||(a={}),q.has(a,"id")||(a.id=null),q.each(a,function(a,b){var d=n.Mixins.createMethodName("set",b);c[d]=function(a,c){return this.set(b,a,c)};var e=n.Mixins.createMethodName("get",b);c[e]=function(){return this.get(b)}}),"string"==typeof b&&"undefined"!=typeof a[b]&&"id"!==b){a.id=a[b];var d=n.Mixins.createMethodName("get",b),e=n.Mixins.createMethodName("set",b);c.getId=function(){return this[d]()},c.setId=function(a,b){return this[e](a,b)}}return c},ensureType:b},n.EventsMixinCreator={create:function(a){var b={},c=function(a){var c=n.Mixins.createMethodName("on",a);b[c]=function(){return this.on.apply(this,[a].concat(q.toArray(arguments)))};var d=n.Mixins.createMethodName("trigger",a);b[d]=function(){return this.trigger.apply(this,[a].concat(q.toArray(arguments)))}};return q.each(a,q.bind(c,this)),b}},n.Model=m(r.Model),n.Collection=l(r.Collection),n.View=l(r.View),n.Router=l(r.Router);var s=function(){this.initialize.apply(this,arguments)};q.extend(s.prototype,r.Events,{initialize:function(){}}),s.extend=r.Model.extend,n.Evented=l(s)}();;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled', location = 'out/bundled-externals.js' */
(function e(b,g,d){function c(m,j){if(!g[m]){if(!b[m]){var i=typeof require=="function"&&require;if(!j&&i){return i(m,!0)}if(a){return a(m,!0)}var k=new Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[m]={exports:{}};b[m][0].call(h.exports,function(l){var o=b[m][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[m].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(d,b,i){var c=d("./ns.js");var g=c.namespace;var h=c.access;var a=c.assignInPlace;var f=c.appendInPlace;var j=c.assign;b.exports={namespace:g,access:h,assignInPlace:a,appendInPlace:f,assign:j}},{"./ns.js":2}],2:[function(b,c,a){(function(d){var g=Object.assign||function(v){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var s in u){if(Object.prototype.hasOwnProperty.call(u,s)){v[s]=u[s]}}}return v};var l=c.exports;var k=undefined;function m(){return typeof window!=="undefined"||k}function o(){return typeof window!=="undefined"&&window||d}function n(s){if(!m()&&!s){throw new Error("Must run in browser or have non-null context")}}function q(t,w,y){n(w);var v=0;var s=t.indexOf(".",0);var x=w||o();if(!x){throw Error("Context is not defined and there isn't `window` nor `global` objects to set default context")}do{if(!x){return undefined}s=t.indexOf(".",v);var u=s>=0?t.substring(v,s):t.substring(v);if((x[u]===undefined||x[u]===null)&&!y){x[u]={}}x=x[u];v=s+1}while(s>=0);return x}l.setMockIsBrowser=function p(s){k=s};l.namespace=function j(s,t){return q(s,t)};l.access=function i(t,w){var v=0;var s=t.indexOf(".",0);do{if(!w){return undefined}s=t.indexOf(".",v);var u=s>=0?t.substring(v,s):t.substring(v);w=w[u];v=s+1}while(s>=0);return w};l.assignInPlace=function f(t,x,u){n(u);u=u||o();var s=t.lastIndexOf(".");if(s<0){u[t]=x}else{var v=t.substring(0,s);var w=t.substring(s+1);l.namespace(v,u)[w]=x}};l.appendInPlace=function h(s,w,u){n(u);var v=l.namespace(s,u||o());for(var t in w){v[t]=w[t]}};l.assign=function r(u,v,x){u=typeof u=="string"?u:""+u;var w=u.indexOf(".");var y=w<0?u:u.substring(0,w);var t=v&&v[y];var s=w<0?x:r(u.substring(w+1),t,x);if(s===t){return v}else{var z=Array.isArray(v)?v.slice():g({},v);z[y]=s;return z}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],3:[function(c,d,b){var g=d.exports;var a=c("@evoja/ns-plain");var f=a.assignInPlace;g.getActionNameSubtractor=function(h){return function(i){if(i.indexOf(h)!=0){throw new Error("Incompatible action type. type="+i+", prefix="+h)}return i.substring(h.length)}};g.getActionConstRegistrator=function(j,i){return function h(k){if(typeof k=="string"){i[k]=j+k;return}for(var l=0;l<k.length;++l){i[k[l]]=j+k[l]}}};g.createSimpleAction=function(i,h){if(!i){throw new Error("`type` must not be empty or undefined")}h=h||[];if(typeof h=="string"){h=[h]}return function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++){k[l]=arguments[l]}if(k[0]==i){console.error("Warning! Usually you should not pass actionType to arguments of a SimpleAction")}var m={type:i};h.forEach(function(n,o){return f(n,k[o],m)});return m}};g.getSimpleActionsRegistrator=function(h){return function(m,o){for(var l in m){var j=m[l];if(typeof j=="string"){h[l]=g.createSimpleAction(j)}else{var n=j[0];var i=j.slice(1);if(o){i=i.map(function(k){return o+"."+k})}h[l]=g.createSimpleAction(n,i)}}}}},{"@evoja/ns-plain":1}],4:[function(c,f,b){var a=c("./actions.js");var d=a.getActionConstRegistrator;var g=a.getSimpleActionsRegistrator;f.exports={getActionConstRegistrator:d,getSimpleActionsRegistrator:g}},{"./actions.js":3}],5:[function(d,g,c){var a=d("./reducers.js");var h=a.wrapEvReducer;var b=a.createComplexEvReducer;var f=a.chainReducers;g.exports={wrapEvReducer:h,createComplexEvReducer:b,chainReducers:f}},{"./reducers.js":6}],6:[function(k,c,v){var p=Object.assign||function(z){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var w in y){if(Object.prototype.hasOwnProperty.call(y,w)){z[w]=y[w]}}}return z};var g=function(){function w(B,A){var E=[];var x=true;var D=false;var C=undefined;try{for(var z=B[Symbol.iterator](),F;!(x=(F=z.next()).done);x=true){E.push(F.value);if(A&&E.length===A){break}}}catch(y){D=true;C=y}finally{try{if(!x&&z["return"]){z["return"]()}}finally{if(D){throw C}}}return E}return function(x,y){if(Array.isArray(x)){return x}else{if(Symbol.iterator in Object(x)){return w(x,y)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}}();var m=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol==="function"&&w.constructor===Symbol?"symbol":typeof w};var t=c.exports;var s=k("./utils.js");var l=s.evAssert;var j=s.createExtractor;var a=s.createReplacer;var f=s.ActionToNamespaceException;t.NoDefaultStateError=function d(w){Error.apply(this,arguments)};t.createEvReducer=function(y){var A=y.types;var w=y.defaultState;var x=y.anyType;l(w!==undefined,"`defaultState` must not be undefined: "+w,t.NoDefaultStateError);l((typeof A==="undefined"?"undefined":m(A))=="object","`types` must be an object: "+A);function z(D,C){if(D===undefined){D=w}var B=A[C.type]||[];if(x){B=B.concat(x)}return B.reduce(function(G,K){var J=K.extractor;var H=K.replacer;var F=K.defaultData;var E=K.fun;var I=G;try{I=J(I,C);if(I===undefined){I=F}I=E(I,C);I=H(G,I,C)}catch(L){if(L instanceof f){return G}else{throw Error("Error reducing. "+L.stack,L)}}return I},D)}z.conf=y;z.isEv=true;return z};function o(y){if(typeof y=="string"){y=[j(y),a(y)]}var z,x;if(Array.isArray(y)){var A=y;var w=g(A,2);var z=w[0];var x=w[1];y={extractor:z,replacer:x}}return y}function b(x,w){try{return x({},w,{})}catch(y){if(y instanceof f){return{}}throw Error("Error wrapping default. "+y.stack,y)}}t.createReducer=function(w,F,x,D){if(typeof F=="string"){F=[F]}l(Array.isArray(F),"`actioinTypes` must be an array: "+F);var C=o(w);var y=C.extractor;var z=C.replacer;var A,E;if(F.length==0){E=[{extractor:y,replacer:z,defaultData:x,fun:D}];A={}}else{E=[];A=F.reduce(function(I,H){return I[H]=[{extractor:y,replacer:z,defaultData:x,fun:D}],I},{})}var G;try{G=b(z,x)}catch(B){if(B instanceof f){G={}}else{throw B}}if(G===undefined){G={}}return t.createEvReducer({types:A,defaultState:G,anyType:E})};t.mergeDefaultState=function i(z,y){if(z===undefined){return y}if(z===null||Array.isArray(z)||(typeof z==="undefined"?"undefined":m(z))!=="object"){return z}if((typeof y==="undefined"?"undefined":m(y))!=="object"){return z}if(Object.keys(y).length==0){return z}var w=p({},z);for(var x in y){w[x]=i(z[x],y[x])}return w};t.chainEvReducers=function n(y,w){l(Array.isArray(y),"`reducers` must be an array: "+y);var x={defaultState:w!==undefined?w:{},types:{},anyType:[]};y.forEach(function(E){var A=E.conf;var C=A.types;var B=A.anyType;var z=A.defaultState;for(var D in C){x.types[D]=x.types[D]?x.types[D].concat(C[D]):C[D]}x.defaultState=t.mergeDefaultState(x.defaultState,z);x.anyType=x.anyType.concat(B)});return t.createEvReducer(x)};function q(w){return w.isEv}t.chainReducers=function r(x){if(x.every(q)){return t.chainEvReducers(x)}return function w(z,y){return x.reduce(function(A,B){return B(A,y)},z)}};t.NoFunctionError=function(w){Error.apply(this,arguments)};function h(w){throw new t.NoFunctionError(w)}t.createComplexEvReducer=function u(y,x){var C=arguments.length==1?[undefined,y]:Array.isArray(y)&&!Array.isArray(x)?[x,y]:[y,x];var B=g(C,2);var w=B[0];var A=B[1];var z=A.map(function(J,L){var I=g(J,4);var F=I[0];var N=I[1];var H=I[2];var E=I[3];var G=typeof H=="function"?[H,E]:typeof E=="function"?[E,H]:h(L+"th config does not contain function",arguments[0]);var D=g(G,2);var M=D[0];var K=D[1];return t.createReducer(F,N,K,M)});return t.chainEvReducers(z,w)};t.wrapEvReducer=function(B,D){B=o(B);var A=B.extractor;var C=B.replacer;var z=function z(H){var K=H.extractor;var I=H.replacer;var F=H.defaultData;var E=H.fun;var G=function G(M,L){return K(A(M,L),L)};var J=function J(N,M,L){return C(N,I(A(N,L),M,L),L)};return{extractor:G,replacer:J,defaultData:F,fun:E}};var y=D.conf;var w={};w.defaultState=b(C,y.defaultState);w.types={};for(var x in y.types){w.types[x]=y.types[x].map(z)}w.anyType=y.anyType.map(z);return t.createEvReducer(w)}},{"./utils.js":7}],7:[function(c,a,h){var j=function(){function m(r,q){var u=[];var n=true;var t=false;var s=undefined;try{for(var p=r[Symbol.iterator](),v;!(n=(v=p.next()).done);n=true){u.push(v.value);if(q&&u.length===q){break}}}catch(o){t=true;s=o}finally{try{if(!n&&p["return"]){p["return"]()}}finally{if(t){throw s}}}return u}return function(n,o){if(Array.isArray(n)){return n}else{if(Symbol.iterator in Object(n)){return m(n,o)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}}();var i=a.exports;var b=c("@evoja/ns-plain");var f=b.access;var d=b.namespace;var l=b.assign;i.evAssert=function k(m,n){var o=arguments.length<=2||arguments[2]===undefined?Error:arguments[2];if(!m){throw new o(n)}};i.comp=function(){for(var n=arguments.length,m=Array(n),o=0;o<n;o++){m[o]=arguments[o]}return function(){var s=this;for(var p=arguments.length,r=Array(p),q=0;q<p;q++){r[q]=arguments[q]}return Array.prototype.reduce.call(m,function(u,t){return[t.apply(s,u)]},r)[0]}};i.ActionToNamespaceException=function g(n,o,m){Error.apply(this,arguments)};i.actionToNamespace=function(m){return function(n){return(m.match(/\{\w+(?:\.\w+)*\}/g)||[]).map(i.comp(function(o){return o.substring(1,o.length-1)},function(o){return["{"+o+"}",f(o,n)]})).reduce(function(o,p){var s=j(p,2);var r=s[0];var q=s[1];if(typeof q!="string"&&typeof q!="number"){throw new i.ActionToNamespaceException("action does not match to template "+n+", "+m)}return o.replace(new RegExp(r,"g"),q)},m)}};i.createExtractor=function(m){if(m==""){return function(p,o){return p}}var n=i.actionToNamespace(m);return function(p,o){return f(n(o),p)}};i.createReplacer=function(m){if(m==""){return function(q,p,o){return p}}var n=i.actionToNamespace(m);return function(q,p,o){return l(n(o),q,p)}}},{"@evoja/ns-plain":1}],8:[function(d,b,f){var j=d("./raw");var h=[];var k=[];var i=j.makeRequestCallFromTimer(c);function c(){if(k.length){throw k.shift()}}b.exports=a;function a(l){var m;if(h.length){m=h.pop()}else{m=new g()}m.task=l;j(m)}function g(){this.task=null}g.prototype.call=function(){try{this.task.call()}catch(l){if(a.onerror){a.onerror(l)}else{k.push(l);i()}}finally{this.task=null;h[h.length]=this}}},{"./raw":9}],9:[function(b,c,a){(function(g){c.exports=l;function l(q){if(!i.length){p();h=true}i[i.length]=q}var i=[];var h=false;var p;var k=0;var d=1024;function n(){while(k<i.length){var q=k;k=k+1;i[q].call();if(k>d){for(var r=0,s=i.length-k;r<s;r++){i[r]=i[r+k]}i.length-=k;k=0}}i.length=0;k=0;h=false}var o=typeof g!=="undefined"?g:self;var m=o.MutationObserver||o.WebKitMutationObserver;if(typeof m==="function"){p=f(n)}else{p=j(n)}l.requestFlush=p;function f(u){var q=1;var s=new m(u);var t=document.createTextNode("");s.observe(t,{characterData:true});return function r(){q=-q;t.data=q}}function j(r){return function q(){var s=setTimeout(t,0);var u=setInterval(t,50);function t(){clearTimeout(s);clearInterval(u);r()}}}l.makeRequestCallFromTimer=j}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],10:[function(b,c,a){c.exports=b("./lib")},{"./lib":15}],11:[function(j,b,s){var n=j("asap/raw");function d(){}var g=null;var t={};function i(v){try{return v.then}catch(u){g=u;return t}}function r(w,u){try{return w(u)}catch(v){g=v;return t}}function l(x,v,u){try{x(v,u)}catch(w){g=w;return t}}b.exports=c;function c(u){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof u!=="function"){throw new TypeError("not a function")}this._45=0;this._81=0;this._65=null;this._54=null;if(u===d){return}h(u,this)}c._10=null;c._97=null;c._61=d;c.prototype.then=function(w,u){if(this.constructor!==c){return a(this,w,u)}var v=new c(d);p(this,new m(w,u,v));return v};function a(u,w,v){return new u.constructor(function(z,y){var x=new c(d);x.then(z,y);p(u,new m(w,v,x))})}function p(v,u){while(v._81===3){v=v._65}if(c._10){c._10(v)}if(v._81===0){if(v._45===0){v._45=1;v._54=u;return}if(v._45===1){v._45=2;v._54=[v._54,u];return}v._54.push(u);return}k(v,u)}function k(v,u){n(function(){var w=v._81===1?u.onFulfilled:u.onRejected;if(w===null){if(v._81===1){o(u.promise,v._65)}else{f(u.promise,v._65)}return}var x=r(w,v._65);if(x===t){f(u.promise,g)}else{o(u.promise,x)}})}function o(u,v){if(v===u){return f(u,new TypeError("A promise cannot be resolved with itself."))}if(v&&(typeof v==="object"||typeof v==="function")){var w=i(v);if(w===t){return f(u,g)}if(w===u.then&&v instanceof c){u._81=3;u._65=v;q(u);return}else{if(typeof w==="function"){h(w.bind(v),u);return}}}u._81=1;u._65=v;q(u)}function f(u,v){u._81=2;u._65=v;if(c._97){c._97(u,v)}q(u)}function q(u){if(u._45===1){p(u,u._54);u._54=null}if(u._45===2){for(var v=0;v<u._54.length;v++){p(u,u._54[v])}u._54=null}}function m(w,u,v){this.onFulfilled=typeof w==="function"?w:null;this.onRejected=typeof u==="function"?u:null;this.promise=v}function h(w,x){var u=false;var v=l(w,function(y){if(u){return}u=true;o(x,y)},function(y){if(u){return}u=true;f(x,y)});if(!u&&v===t){u=true;f(x,g)}}},{"asap/raw":9}],12:[function(b,c,a){var d=b("./core.js");c.exports=d;d.prototype.done=function(h,g){var f=arguments.length?this.then.apply(this,arguments):this;f.then(null,function(i){setTimeout(function(){throw i},0)})}},{"./core.js":11}],13:[function(b,a,f){var k=b("./core.js");a.exports=k;var c=l(true);var i=l(false);var d=l(null);var h=l(undefined);var g=l(0);var j=l("");function l(m){var n=new k(k._61);n._81=1;n._65=m;return n}k.resolve=function(n){if(n instanceof k){return n}if(n===null){return d}if(n===undefined){return h}if(n===true){return c}if(n===false){return i}if(n===0){return g}if(n===""){return j}if(typeof n==="object"||typeof n==="function"){try{var o=n.then;if(typeof o==="function"){return new k(o.bind(n))}}catch(m){return new k(function(q,p){p(m)})}}return l(n)};k.all=function(m){var n=Array.prototype.slice.call(m);return new k(function(s,r){if(n.length===0){return s([])}var q=n.length;function p(t,w){if(w&&(typeof w==="object"||typeof w==="function")){if(w instanceof k&&w.then===k.prototype.then){while(w._81===3){w=w._65}if(w._81===1){return p(t,w._65)}if(w._81===2){r(w._65)}w.then(function(x){p(t,x)},r);return}else{var v=w.then;if(typeof v==="function"){var u=new k(v.bind(w));u.then(function(x){p(t,x)},r);return}}}n[t]=w;if(--q===0){s(n)}}for(var o=0;o<n.length;o++){p(o,n[o])}})};k.reject=function(m){return new k(function(o,n){n(m)})};k.race=function(m){return new k(function(o,n){m.forEach(function(p){k.resolve(p).then(o,n)})})};k.prototype["catch"]=function(m){return this.then(null,m)}},{"./core.js":11}],14:[function(b,c,a){var d=b("./core.js");c.exports=d;d.prototype["finally"]=function(g){return this.then(function(f){return d.resolve(g()).then(function(){return f})},function(f){return d.resolve(g()).then(function(){throw f})})}},{"./core.js":11}],15:[function(b,c,a){c.exports=b("./core.js");b("./done.js");b("./finally.js");b("./es6-extensions.js");b("./node-extensions.js");b("./synchronous.js")},{"./core.js":11,"./done.js":12,"./es6-extensions.js":13,"./finally.js":14,"./node-extensions.js":16,"./synchronous.js":17}],16:[function(d,f,c){var h=d("./core.js");var a=d("asap");f.exports=h;h.denodeify=function(j,k){if(typeof k==="number"&&k!==Infinity){return i(j,k)}else{return g(j)}};var b=("function (err, res) {if (err) { rj(err); } else { rs(res); }}");function i(m,n){var k=[];for(var l=0;l<n;l++){k.push("a"+l)}var j=["return function ("+k.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(k).concat([b]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],j)(h,m)}function g(n){var k=Math.max(n.length-1,3);var l=[];for(var m=0;m<k;m++){l.push("a"+m)}var j=["return function ("+l.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+k+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+b+";","var res;","switch (argLength) {",l.concat(["extra"]).map(function(p,o){return("case "+(o)+":res = fn.call("+["self"].concat(l.slice(0,o)).concat("cb").join(",")+");break;")}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],j)(h,n)}h.nodeify=function(j){return function(){var l=Array.prototype.slice.call(arguments);var n=typeof l[l.length-1]==="function"?l.pop():null;var k=this;try{return j.apply(this,arguments).nodeify(n,k)}catch(m){if(n===null||typeof n=="undefined"){return new h(function(p,o){o(m)})}else{a(function(){n.call(k,m)})}}}};h.prototype.nodeify=function(k,j){if(typeof k!="function"){return this}this.then(function(l){a(function(){k.call(j,null,l)})},function(l){a(function(){k.call(j,l)})})}},{"./core.js":11,asap:8}],17:[function(b,c,a){var d=b("./core.js");c.exports=d;d.enableSynchronous=function(){d.prototype.isPending=function(){return this.getState()==0};d.prototype.isFulfilled=function(){return this.getState()==1};d.prototype.isRejected=function(){return this.getState()==2};d.prototype.getValue=function(){if(this._81===3){return this._65.getValue()}if(!this.isFulfilled()){throw new Error("Cannot get a value of an unfulfilled promise.")}return this._65};d.prototype.getReason=function(){if(this._81===3){return this._65.getReason()}if(!this.isRejected()){throw new Error("Cannot get a rejection reason of a non-rejected promise.")}return this._65};d.prototype.getState=function(){if(this._81===3){return this._65.getState()}if(this._81===-1||this._81===-2){return 0}return this._81}};d.disableSynchronous=function(){d.prototype.isPending=undefined;d.prototype.isFulfilled=undefined;d.prototype.isRejected=undefined;d.prototype.getValue=undefined;d.prototype.getReason=undefined;d.prototype.getState=undefined}},{"./core.js":11}],18:[function(c,f,b){var d=Object.assign||function(m){for(var k=1;k<arguments.length;k++){var l=arguments[k];for(var j in l){if(Object.prototype.hasOwnProperty.call(l,j)){m[j]=l[j]}}}return m};b.__esModule=true;b["default"]=i;var g=c("./compose");var a=h(g);function h(j){return j&&j.__esModule?j:{"default":j}}function i(){for(var j=arguments.length,l=Array(j),k=0;k<j;k++){l[k]=arguments[k]}return function(m){return function(u,n,r){var o=m(u,n,r);var t=o.dispatch;var s=[];var q={getState:o.getState,dispatch:function p(v){return t(v)}};s=l.map(function(v){return v(q)});t=a["default"].apply(undefined,s)(o.dispatch);return d({},o,{dispatch:t})}}}},{"./compose":21}],19:[function(c,f,b){b.__esModule=true;b["default"]=a;function d(h,g){return function(){return g(h.apply(undefined,arguments))}}function a(g,j){if(typeof g==="function"){return d(g,j)}if(typeof g!=="object"||g===null){throw new Error("bindActionCreators expected an object or a function, instead received "+(g===null?"null":typeof g)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?')}var m=Object.keys(g);var h={};for(var l=0;l<m.length;l++){var k=m[l];var n=g[k];if(typeof n==="function"){h[k]=d(n,j)}}return h}},{}],20:[function(d,b,g){g.__esModule=true;g["default"]=m;var k=d("./createStore");var h=d("lodash/isPlainObject");var l=n(h);var j=d("./utils/warning");var f=n(j);function n(o){return o&&o.__esModule?o:{"default":o}}function c(q,r){var p=r&&r.type;var o=p&&'"'+p.toString()+'"'||"an action";return'Reducer "'+q+'" returned undefined handling '+o+". To ignore an action, you must explicitly return the previous state."}function a(o,p,s){var r=Object.keys(p);var t=s&&s.type===k.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(r.length===0){return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers."}if(!(0,l["default"])(o)){return"The "+t+' has unexpected type of "'+{}.toString.call(o).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"')}var q=Object.keys(o).filter(function(u){return !p.hasOwnProperty(u)});if(q.length>0){return"Unexpected "+(q.length>1?"keys":"key")+" "+('"'+q.join('", "')+'" found in '+t+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.')}}function i(o){Object.keys(o).forEach(function(q){var s=o[q];var p=s(undefined,{type:k.ActionTypes.INIT});if(typeof p==="undefined"){throw new Error('Reducer "'+q+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.')}var r="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(typeof s(undefined,{type:r})==="undefined"){throw new Error('Reducer "'+q+'" returned undefined when probed with a random type. '+("Don't try to handle "+k.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")}})}function m(p){var v=Object.keys(p);var w={};for(var q=0;q<v.length;q++){var u=v[q];if(typeof p[u]==="function"){w[u]=p[u]}}var t=Object.keys(w);var o;try{i(w)}catch(r){o=r}return function s(){var y=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var B=arguments[1];if(o){throw o}if("production"!=="production"){var F=a(y,w,B);if(F){(0,f["default"])(F)}}var z=false;var H={};for(var C=0;C<t.length;C++){var G=t[C];var x=w[G];var A=y[G];var E=x(A,B);if(typeof E==="undefined"){var D=c(G,B);throw new Error(D)}H[G]=E;z=z||E!==A}return z?H:y}}},{"./createStore":22,"./utils/warning":24,"lodash/isPlainObject":34}],21:[function(b,c,a){a.__esModule=true;a["default"]=d;function d(){for(var f=arguments.length,g=Array(f),h=0;h<f;h++){g[h]=arguments[h]}return function(){if(g.length===0){return arguments.length<=0?undefined:arguments[0]}var j=g[g.length-1];var i=g.slice(0,-1);return i.reduceRight(function(k,l){return l(k)},j.apply(undefined,arguments))}}},{}],22:[function(d,f,b){b.__esModule=true;b.ActionTypes=undefined;b["default"]=c;var a=d("lodash/isPlainObject");var h=g(a);function g(j){return j&&j.__esModule?j:{"default":j}}var i=b.ActionTypes={INIT:"@@redux/INIT"};function c(j,n,t){if(typeof n==="function"&&typeof t==="undefined"){t=n;n=undefined}if(typeof t!=="undefined"){if(typeof t!=="function"){throw new Error("Expected the enhancer to be a function.")}return t(c)(j,n)}if(typeof j!=="function"){throw new Error("Expected the reducer to be a function.")}var k=j;var l=n;var p=[];var o=p;var u=false;function m(){if(o===p){o=p.slice()}}function s(){return l}function q(y){if(typeof y!=="function"){throw new Error("Expected listener to be a function.")}var w=true;m();o.push(y);return function x(){if(!w){return}w=false;m();var z=o.indexOf(y);o.splice(z,1)}}function r(y){if(!(0,h["default"])(y)){throw new Error("Actions must be plain objects. Use custom middleware for async actions.")}if(typeof y.type==="undefined"){throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}if(u){throw new Error("Reducers may not dispatch actions.")}try{u=true;l=k(l,y)}finally{u=false}var x=p=o;for(var w=0;w<x.length;w++){x[w]()}return y}function v(w){if(typeof w!=="function"){throw new Error("Expected the nextReducer to be a function.")}k=w;r({type:i.INIT})}r({type:i.INIT});return{dispatch:r,subscribe:q,getState:s,replaceReducer:v}}},{"lodash/isPlainObject":34}],23:[function(g,f,j){j.__esModule=true;j.compose=j.applyMiddleware=j.bindActionCreators=j.combineReducers=j.createStore=undefined;var p=g("./createStore");var c=r(p);var i=g("./combineReducers");var o=r(i);var a=g("./bindActionCreators");var k=r(a);var b=g("./applyMiddleware");var l=r(b);var n=g("./compose");var q=r(n);var m=g("./utils/warning");var h=r(m);function r(s){return s&&s.__esModule?s:{"default":s}}function d(){}if("production"!=="production"&&typeof d.name==="string"&&d.name!=="isCrushed"){(0,h["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build.")}j.createStore=c["default"];j.combineReducers=o["default"];j.bindActionCreators=k["default"];j.applyMiddleware=l["default"];j.compose=q["default"]},{"./applyMiddleware":18,"./bindActionCreators":19,"./combineReducers":20,"./compose":21,"./createStore":22,"./utils/warning":24}],24:[function(b,c,a){a.__esModule=true;a["default"]=d;function d(f){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(f)}try{throw new Error(f)}catch(g){}}},{}],25:[function(c,d,b){var a=c("./_root");var f=a.Symbol;d.exports=f},{"./_root":32}],26:[function(g,d,i){var k=g("./_Symbol"),a=g("./_getRawTag"),j=g("./_objectToString");var f="[object Null]",c="[object Undefined]";var h=k?k.toStringTag:undefined;function b(l){if(l==null){return l===undefined?c:f}return(h&&h in Object(l))?a(l):j(l)}d.exports=b},{"./_Symbol":25,"./_getRawTag":29,"./_objectToString":30}],27:[function(b,c,a){(function(f){var d=typeof f=="object"&&f&&f.Object===Object&&f;c.exports=d}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],28:[function(c,d,b){var f=c("./_overArg");var a=f(Object.getPrototypeOf,Object);d.exports=a},{"./_overArg":31}],29:[function(d,b,g){var i=d("./_Symbol");var h=Object.prototype;var c=h.hasOwnProperty;var j=h.toString;var f=i?i.toStringTag:undefined;function a(n){var p=c.call(n,f),l=n[f];try{n[f]=undefined;var m=true}catch(o){}var k=j.call(n);if(m){if(p){n[f]=l}else{delete n[f]}}return k}b.exports=a},{"./_Symbol":25}],30:[function(d,f,b){var a=Object.prototype;var g=a.toString;function c(h){return g.call(h)}f.exports=c},{}],31:[function(b,c,a){function d(g,f){return function(h){return g(f(h))}}c.exports=d},{}],32:[function(c,f,b){var d=c("./_freeGlobal");var g=typeof self=="object"&&self&&self.Object===Object&&self;var a=d||g||Function("return this")();f.exports=a},{"./_freeGlobal":27}],33:[function(b,c,a){function d(f){return f!=null&&typeof f=="object"}c.exports=d},{}],34:[function(g,d,j){var b=g("./_baseGetTag"),i=g("./_getPrototype"),a=g("./isObjectLike");var c="[object Object]";var h=Function.prototype,l=Object.prototype;var m=h.toString;var f=l.hasOwnProperty;var k=m.call(Object);function n(q){if(!a(q)||b(q)!=c){return false}var p=i(q);if(p===null){return true}var o=f.call(p,"constructor")&&p.constructor;return typeof o=="function"&&o instanceof o&&m.call(o)==k}d.exports=n},{"./_baseGetTag":26,"./_getPrototype":28,"./isObjectLike":33}],35:[function(b,c,a){c.exports={redux:b("redux"),promise:b("promise"),evNs:b("@evoja/ns-plain"),evReduxActions:b("@evoja/redux-actions"),evReduxReducers:b("@evoja/redux-reducers")};if(typeof window!=="undefined"){window.bbb=window.bbb||{};window.bbb.gp=window.bbb.gp||{};window.bbb.gp.externals=c.exports}},{"@evoja/ns-plain":1,"@evoja/redux-actions":4,"@evoja/redux-reducers":5,promise:10,redux:23}]},{},[35]);;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:out-bundled', location = 'out/bundled.js' */
(function e(b,g,d){function c(m,j){if(!g[m]){if(!b[m]){var i=typeof require=="function"&&require;if(!j&&i){return i(m,!0)}if(a){return a(m,!0)}var k=new Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[m]={exports:{}};b[m][0].call(h.exports,function(l){var o=b[m][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[m].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(b,c,a){b("../src/main/resources/blocks/datespan/datespan.bf.js");b("../src/main/resources/blocks/get-plural-text/get-plural-text.bf.js");b("../src/main/resources/blocks/sort-table/sort-table.bf.js");b("../src/main/resources/gitviewer/blocks/repo-title/repo-title.bf.js");b("../src/main/resources/gitviewer/entry-points/page-all-repos/page-all-repos.bf.js");b("../src/main/resources/gitviewer/entry-points/page-issues/page-issues.bf.js");b("../src/main/resources/gp-tools/date-time.bf.js");b("../src/main/resources/gp-tools/debug-tools.bf.js");b("../src/main/resources/gp-tools/enable-disable-tools.bf.js");b("../src/main/resources/gp-tools/encode-decode-tools.bf.js");b("../src/main/resources/gp-tools/evoja.bf.js");b("../src/main/resources/gp-tools/gpbackbone/gpbackbone.bf.js");b("../src/main/resources/gp-tools/namespace.bf.js");b("../src/main/resources/gp-tools/url-tools.bf.js")},{"../src/main/resources/blocks/datespan/datespan.bf.js":3,"../src/main/resources/blocks/get-plural-text/get-plural-text.bf.js":4,"../src/main/resources/blocks/sort-table/sort-table.bf.js":9,"../src/main/resources/gitviewer/blocks/repo-title/repo-title.bf.js":18,"../src/main/resources/gitviewer/entry-points/page-all-repos/page-all-repos.bf.js":19,"../src/main/resources/gitviewer/entry-points/page-issues/page-issues.bf.js":20,"../src/main/resources/gp-tools/date-time.bf.js":22,"../src/main/resources/gp-tools/debug-tools.bf.js":23,"../src/main/resources/gp-tools/enable-disable-tools.bf.js":24,"../src/main/resources/gp-tools/encode-decode-tools.bf.js":25,"../src/main/resources/gp-tools/evoja.bf.js":26,"../src/main/resources/gp-tools/gpbackbone/gpbackbone.bf.js":31,"../src/main/resources/gp-tools/namespace.bf.js":35,"../src/main/resources/gp-tools/url-tools.bf.js":36}],2:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i){break}}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]){_i["return"]()}}finally{if(_d){throw _e}}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else{if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}}();exports.format=format;exports.getText=getText;exports.getKeyIndex=getKeyIndex;exports.getPluralText=getPluralText;exports.getParts=getParts;exports.combineParts=combineParts;function format(tpl){var args=Array.prototype.slice.call(arguments,1);return tpl.replace(/{(\d+)}/g,function(match,number){return typeof args[number]=="undefined"?match:args[number]})}function getText(localizationObj,args){var _args=_slicedToArray(args,4),key=_args[0],a=_args[1],b=_args[2],c=_args[3];var text=localizationObj[key];if(text===undefined){return key}var text=text===undefined?key:text;if(args.length==1){return text}if(args.length<=4){return format(text,a,b,c)}var params=Array.prototype.slice.call(args);params[0]=text;return format.apply(null,params)}function getKeyIndex(localizationObj,n){var pluralFormFormula=getText(localizationObj,["bbb.gp.plural-forms.formula"]);var pluralFormMod=getText(localizationObj,["bbb.gp.plural-forms.formula-mod"]);var formulaWithDoubleRes="var plural=0.0; plural=plural + "+pluralFormFormula;var keyIndex=eval(formulaWithDoubleRes);if(keyIndex>=pluralFormMod){return undefined}return keyIndex}function getPluralText(localizationObj,args){var _args2=_slicedToArray(args,2),key=_args2[0],n=_args2[1];var index=getKeyIndex(localizationObj,n);return getText(localizationObj,[key+".plural."+index,n])}function getParts(text,params){var parts=text.split(/{\w*}/g);var regEx=/{(\w*)}/g;var substs=[];var match=regEx.exec(text);while(match){substs.push(match[1]);match=regEx.exec(text)}var result=[];for(var i=0;i<parts.length;++i){var part=parts[i];var subst=substs[i];if(part){result.push(part)}if(subst!==undefined){result.push(params[subst]!==undefined?params[subst]:"{"+subst+"}")}}return result}function isSimplePart(part){return typeof part=="string"||typeof part=="number"}function combineParts(parts){if(parts.length==0){return[]}var result=[];var prevPart=parts[0];for(var i=1;i<parts.length;++i){var curPart=parts[i];if(isSimplePart(prevPart)&&isSimplePart(curPart)){prevPart=prevPart+curPart}else{result.push(prevPart);prevPart=curPart}}result.push(prevPart);return result}},{}],3:[function(h,d,i){var g=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol==="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};var f=h("bbb-gp/gp-tools/externals.js").evNs;var c=h("bbb-gp/gp-tools/date-time.bf.js");var j=h("bbb-gp/gp-tools/jquery-wrapper.js");var a=bbb.gp.datespan.soy;function m(o){if(typeof o=="function"){return o}if(!o||typeof o!="string"){return function(p){return p}}if(o.indexOf("{0}")<=0){return function(p){return AJS.format(o,p)}}return function(q){var p=q.indexOf("<span")!=0?0:q.indexOf(">")+1;var r=q.charAt(p);if(r.toUpperCase()==r){q=q.substring(0,p)+r.toLowerCase()+q.substring(p+1)}return AJS.format(o,q)}}function b(t,o,r){var s=(typeof t==="undefined"?"undefined":g(t))!="object"?c.getMoment(t,o):t;var p=a.dateTextSpan({dateText:c.formatVisibleWeb(s)});var q=c.formatVisiblePrint(s);var r=r&&m(r);return{tooltip:c.formatTooltip(s),web:r?r(p):p,print:r?r(q):q,datetime:t}}function n(o,r){var p=j(o);var q=p.hasClass("bbb-gp-datespan")?p:p.find(".bbb-gp-datespan");q.tooltip(r)}function l(r,p){var o=j(r);var u=o.attr("datetime");var s=o.attr("format");var t=b(u,false,s);var q=AJS.$(a.datespan(t));o.replaceWith(q);n(q,p)}function k(o,p){j(o).find(".bbb-gp-datespan_server").each(function(q,r){l(r)})}d.exports={normalizeFormat:m,getTrio:b,initTooltips:n,replaceWithDatespan:l,initDatespans:k};f.appendInPlace("bbb.gp.datespan",d.exports)},{"bbb-gp/gp-tools/date-time.bf.js":22,"bbb-gp/gp-tools/externals.js":27,"bbb-gp/gp-tools/jquery-wrapper.js":33}],4:[function(d,f,b){var a=d("bbb-gp/gp-tools/externals.js").evNs;function c(h,k){var g=bbb.gp.localization["bbb.gp.gitviewer.plural-forms.formula"];var i=new Function("n"," return 0.0 + "+g);var j=i(k);return AJS.format(bbb.gp.localization[h+".plural."+j],k)}f.exports={getPluralText:c};a.appendInPlace("bbb.gp.i18n",f.exports)},{"bbb-gp/gp-tools/externals.js":27}],5:[function(f,c,g){var l=f("bbb-gp/gp-tools/gpbackbone/GpView.js");var d=f("bbb-gp/gp-tools/externals.js").evNs;var b=d.namespace("bbb.gp.sortHeader.soy");var j=l.extend({template:b.sortHeader,initialize:function i(){l.prototype.initialize.apply(this,arguments);this.key=this.options.key;this.template=this.options.template||this.template;this.text=this.options.text;this.classes=this.options.classes;this.model.on("change",this.render,this);this.render()},remove:function h(){this.model.off(null,null,this);l.prototype.remove.apply(this,arguments)},render:function a(){if(this.removed){return}this.applyRendered(this.template({key:this.key,order:this.key==this.model.getKey()?this.model.getOrder():"none",text:this.text,classes:this.classes}));return this},events:{click:function k(){var m=this.model.getKey()!=this.key?"asc":this.model.getOrder()=="asc"?"desc":this.model.getOrder()=="desc"?"none":"asc";this.model.set({key:this.key,order:m})}}});c.exports=j},{"bbb-gp/gp-tools/externals.js":27,"bbb-gp/gp-tools/gpbackbone/GpView.js":28}],6:[function(f,b,h){var l=f("bbb-gp/gp-tools/gpbackbone/backbone-wrapper.js").Brace;var c=f("bbb-gp/gp-tools/externals.js").evNs;var j=l.Model.extend({namedAttributes:["initialSettings","settingsId","key","order","defaultKey"],defaults:{order:"none",defaultKey:"id"},initialize:function i(n,m){if(!this.getSettingsId()){throw new Error("settingsId attribute must be defined")}this.initAttributes();this.initUrl();this.on("change",function(){this.save()},this)},initAttributes:function a(){var n=this.getInitialSettings();this.unset("initialSettings");if(AJS.$.type(n)=="string"&&n){try{var m=JSON.parse(n);this.setOrder(m.order);this.setKey(m.key);if(m.defaultKey){this.setDefaultKey(m.defaultKey)}}catch(o){console.error('Incorrect sort settings string: "'+n+'"',o)}}else{if(n&&!this.has("key")){this.setOrder(n.order);this.setKey(n.key);if(n.defaultKey){this.setDefaultKey(n.defaultKey)}}}},initUrl:function g(){this.url=AJS.params.baseURL+"/rest/gitplugin/1.0/user-frontend-settings/"+this.getSettingsId();this.unset("settingsId")},getSortKoeff:function d(){var m=this.getOrder()&&this.getOrder().toLowerCase();return m=="asc"?1:m=="desc"?-1:0},getDefaultSortKoeff:function k(){return 1}});b.exports=j},{"bbb-gp/gp-tools/externals.js":27,"bbb-gp/gp-tools/gpbackbone/backbone-wrapper.js":30}],7:[function(d,b,h){var l=d("bbb-gp/gp-tools/gpbackbone/backbone-wrapper.js").Brace;var m=d("bbb-gp/gp-tools/gpbackbone/backbone-wrapper.js").Backbone;var j=d("bbb-gp/blocks/sort-header/SortModel.js");var f=l.Model.extend({namedAttributes:{sortModel:j,collection:m.Collection},initialize:function i(){this.on("change",this.initSorting,this);this.initSorting()},initSorting:function c(){var n=this.getSortModel();var p=this.getCollection();if(this.oldCollection){this.oldSortModel.off(null,null,this.oldCollection)}this.oldCollection=p;this.oldSortModel=n;var o=this;p.comparator=function(t,s){var r=n.getSortKoeff()&&n.getKey()||n.getDefaultKey();var q=n.getSortKoeff()||n.getDefaultSortKoeff();return o.compare(t,s,r,q)||o.compare(t,s,n.getDefaultKey(),n.getDefaultSortKoeff())};n.on("change",p.sort,p);p.sort()},compare:function a(t,r,p,n){var o=this.getNormalizedValue(t,p);var s=this.getNormalizedValue(r,p);var q=o<s?-1:o>s?1:0;return q*n},getNormalizedValue:function k(p,o){var n=this.getByKey(p,o);if(AJS.$.type(n)=="string"){n=n.toLowerCase()}if(n===null||n===undefined){n=""}return n},getByKey:function g(r,q){var n=q.indexOf(".",0);var p=n<0?q:q.substring(0,n);var s=AJS.$.isFunction(r.get)?r.get(p):r[p];if(n<0||s===undefined||s===null){return s}var o=q.substring(n+1);return this.getByKey(s,o)}});b.exports=f},{"bbb-gp/blocks/sort-header/SortModel.js":6,"bbb-gp/gp-tools/gpbackbone/backbone-wrapper.js":30}],8:[function(f,c,h){var l=f("bbb-gp/gp-tools/gpbackbone/GpView.js");var k=f("bbb-gp/blocks/sort-header/SortHeaderView.js");var g=l.extend({initialize:function j(){l.prototype.initialize.apply(this,arguments);this.model.on("change:collection",this.initCollection,this);this.initCollection()},initCollection:function d(){if(this.oldCollection){this.oldCollection.off(null,null,this)}this.model.getCollection().on("all",this.render,this);this.oldCollection=this.model.getCollection();this.render()},remove:function i(){this.model.getCollection().off(null,null,this);this.model.off(null,null,this);l.prototype.remove.apply(this,arguments)},renderHeaderRow:function a(n){var m=this.getHeader();AJS.$(n).each(function(o,p){m.append(p)})},activeHeaderTemplate:bbb.gp.sortHeader.soy.sortHeader_th,inactiveHeaderTemplate:bbb.gp.sortHeader.soy.sortHeader_th_inactive,render:function b(){if(this.removed){return}this.removeInnerViews();this.applyRendered(this.renderTable());var o=this;var n=AJS.$(this.tableHeaders).map(function(r,s){if(s.sortKey){var q=new k({model:o.model.getSortModel(),key:s.sortKey,text:s.text,classes:s.classes,template:o.activeHeaderTemplate});o.addInnerView(q);return q.el}else{return o.inactiveHeaderTemplate({text:s.text,classes:s.classes})}});this.renderHeaderRow(n);var m=this.getBody();var p=this.model.getCollection();if(!p.isEmpty()){var o=this;p.map(function(r,q){m.append(o.renderRow(r,q))})}else{if(this.renderRowIfEmpty){m.append(this.renderRowIfEmpty())}}return this}});c.exports=g},{"bbb-gp/blocks/sort-header/SortHeaderView.js":5,"bbb-gp/gp-tools/gpbackbone/GpView.js":28}],9:[function(c,d,b){var a=c("bbb-gp/gp-tools/externals.js").evNs;var f=a.namespace("bbb.gp.sortTable");f.SortTableModel=c("./SortTableModel.js");f.SortTableView=c("./SortTableView.js")},{"./SortTableModel.js":7,"./SortTableView.js":8,"bbb-gp/gp-tools/externals.js":27}],10:[function(f,d,i){var h=f("bbb-gp/blocks/sort-table/SortTableView.js");var p=f("bbb-gp/gp-tools/i18n.js");var m=f("bbb-gp/gp-tools/ajs-wrapper.js").getAJS();var k=f("bbb-gp/gp-tools/jquery-wrapper.js");var c=bbb.gp.gitviewer.pageIssues.soy;var g=h.extend({initialize:function j(){h.prototype.initialize.apply(this,arguments)},tableHeaders:[{text:p.getText("git-plugin-viewer.issues.type"),sortKey:"typeName",classes:"bbb-gp-gitviewer-issues-list__sort-header-type"},{text:p.getText("git-plugin-viewer.issues.priority"),sortKey:"priorityOrder",classes:"bbb-gp-gitviewer-issues-list__sort-header-priority"},{text:p.getText("git-plugin-viewer.issues.issue-key"),sortKey:"issueKeyOrder",classes:"bbb-gp-gitviewer-issues-list__sort-header-issue-key"},{text:p.getText("git-plugin-viewer.issues.issue-summary"),sortKey:"issueSummary",classes:"bbb-gp-gitviewer-issues-list__sort-header-issue-summary"},{text:p.getText("git-plugin-viewer.issues.assignee"),sortKey:"assignee.displayName",classes:"bbb-gp-gitviewer-issues-list__sort-header-assignee"},{text:p.getText("git-plugin-viewer.issues.status"),sortKey:"statusOrder",classes:"bbb-gp-gitviewer-issues-list__sort-header-status"},{text:p.getText("git-plugin-viewer.issues.resolution"),sortKey:"resolution",classes:"bbb-gp-gitviewer-issues-list__sort-header-resolution"}],renderTable:function n(){return c.issuesList({baseUrl:m.params.baseURL})},renderRow:function o(r){var q=r.toJSON();var s=k(c.issuesList__row({issue:r.toJSON(),baseUrl:m.params.baseURL}));return s},getHeader:function a(){return this.$(".bbb-gp-gitviewer-issues-list__h-row")},getBody:function l(){return this.$(".bbb-gp-gitviewer-issues-list__t-body")},render:function b(){h.prototype.render.apply(this,arguments)}});d.exports=g},{"bbb-gp/blocks/sort-table/SortTableView.js":8,"bbb-gp/gp-tools/ajs-wrapper.js":21,"bbb-gp/gp-tools/i18n.js":32,"bbb-gp/gp-tools/jquery-wrapper.js":33}],11:[function(c,f,b){var d=c("bbb-gp/gp-tools/gpbackbone/backbone-wrapper.js").Brace;var g=c("bbb-gp/gp-tools/jquery-wrapper.js");var a=c("bbb-gp/gp-tools/ajs-wrapper.js").getAJS();var h=d.Model.extend({namedAttributes:["issueKey","issueKeyOrder","issueSummary","assignee","status","statusOrder","statusColorName","resolution","typeName","typeDescription","typeIconUrl","priorityName","priorityOrder","priorityIconUrl","priorityDescription"]});f.exports=h},{"bbb-gp/gp-tools/ajs-wrapper.js":21,"bbb-gp/gp-tools/gpbackbone/backbone-wrapper.js":30,"bbb-gp/gp-tools/jquery-wrapper.js":33}],12:[function(c,d,b){var a=c("./IssueListView.js");var f=c("bbb-gp/blocks/sort-table/SortTableModel.js");var h=c("./IssueRowModel.js");function g(m){var n=m.issues;var l=m.sortSettings;var k=[];AJS.$.each(n,function(q,r){var p=new h(r);k.push(p)});var j=new f({sortModel:{initialSettings:bbb.gp.encodeDecodeTools.htmlDecode(l),settingsId:"gitviewer-page-compare__issues-list",defaultKey:"issueKeyOrder"},collection:k});var i=new a({model:j});var o=AJS.$(".bbb-gp-codereview-compare-issues__container");o.append(i.el)}d.exports.initIssuesList=g},{"./IssueListView.js":10,"./IssueRowModel.js":11,"bbb-gp/blocks/sort-table/SortTableModel.js":7}],13:[function(b,c,a){var d=b("bbb-gp/blocks/sort-table/SortTableModel.js");var f=d.extend({namedAttributes:["timeZone"]});c.exports=f},{"bbb-gp/blocks/sort-table/SortTableModel.js":7}],14:[function(g,f,i){var h=g("bbb-gp/blocks/sort-table/SortTableView.js");var q=g("bbb-gp/gp-tools/i18n.js");var m=g("bbb-gp/gp-tools/ajs-wrapper.js").getAJS();var k=g("bbb-gp/gp-tools/jquery-wrapper.js");var d=bbb.gp.gitviewer.allReposList.soy;var n=h.extend({initialize:function j(){h.prototype.initialize.apply(this,arguments)},tableHeaders:[{text:q.getText("git-plugin-viewer.manage.git-repository"),sortKey:"displayName",classes:"bbb-gp-gitviewer-all-repos-list__sort-header-display-name"},{text:q.getText("git-plugin-viewer.manage.recent-issue"),sortKey:"lastIssuesOrderData",classes:"bbb-gp-gitviewer-all-repos-list__sort-header-last-issues"},{text:q.getText("git-plugin-viewer.manage.last-updated-by"),sortKey:"authorInfo.displayName",classes:"bbb-gp-gitviewer-all-repos-list__sort-header-last-author"},{text:q.getText("git-plugin-viewer.manage.updated-on"),sortKey:"lastCommit.lastCommitTimestamp",classes:"bbb-gp-gitviewer-all-repos-list__sort-header-last-time"}],renderTable:function o(){return d.allReposList({baseUrl:m.params.baseURL})},renderRow:function p(t){var s=this.options.lastSelectedGitViewerTabUrl;var r=t.toJSON();if(r.lastCommit){r.lastCommit.lastCommitTimeTrio=bbb.gp.datespan.getTrio(r.lastCommit.lastCommitTimeIso)}var u=k(d.allReposList__row({repo:t.toJSON(),baseUrl:m.params.baseURL}));return u},getHeader:function b(){return this.$(".bbb-gp-gitviewer-all-repos-list__h-row")},getBody:function l(){return this.$(".bbb-gp-gitviewer-all-repos-list__t-body")},events:{"click .bbb-gp-gitviewer-all-repos-list__favourite-status-link":function a(u){if(u&&u.preventDefault&&"function"===typeof u.preventDefault){u.preventDefault()}var s=k(u.currentTarget);var r=s.attr("data-repo-id");var t=this.model.getCollection().get(r);t.updateFavoriteStatus(!t.get("favourite"))}},render:function c(){h.prototype.render.apply(this,arguments);bbb.gp.datespan.initTooltips(this.el)}});f.exports=n},{"bbb-gp/blocks/sort-table/SortTableView.js":8,"bbb-gp/gp-tools/ajs-wrapper.js":21,"bbb-gp/gp-tools/i18n.js":32,"bbb-gp/gp-tools/jquery-wrapper.js":33}],15:[function(c,d,b){var g=c("./RepoListView.js");var f=c("./RepoListModel.js");function a(h,j){var p=j.repositories;var i=j.lastSelectedGitViewerTabUrl;var n=j.sortSettings;var l=[];AJS.$.each(p,function(r,s){var q=new bbb.gp.gitviewer.repoTitle.RepoTitleModel(s);l.push(q)});var k=new bbb.gp.sortTable.SortTableModel({sortModel:{initialSettings:bbb.gp.encodeDecodeTools.htmlDecode(n),settingsId:"gitviewer-page-all-repos__all-repos-list"},collection:l});var o=new g({model:k,lastSelectedGitViewerTabUrl:i});var m=AJS.$(".bbb-gp-gitviewer-page-all-repos__all-repos-list");m.append(o.el)}d.exports.initReposList=a},{"./RepoListModel.js":13,"./RepoListView.js":14}],16:[function(b,a,c){var h=b("bbb-gp/gp-tools/gpbackbone/backbone-wrapper.js").Brace;var d=b("bbb-gp/gp-tools/jquery-wrapper.js");var i=b("bbb-gp/gp-tools/ajs-wrapper.js").getAJS();var j=h.Model.extend({namedAttributes:["repoId","favourite","watched","watchersCount","lastCommit","authorInfo","lastIssues","lastIssuesOrderData","displayName"],updateWatchStatus:function g(l){var k=this;d.ajax({url:i.contextPath()+"/rest/gitplugin/1.0/watch/",type:"PUT",data:{repoId:this.id,watched:l},success:function m(n){k.setWatchersCount(n.watchersCount);k.setWatched(l)}})},updateFavoriteStatus:function f(l){var m=this,o=l?"POST":"DELETE",k=i.contextPath()+"/rest/gitplugin/1.0/favourites/";d.ajax({url:k+this.id,type:o,dataType:"json",success:function n(p){m.setFavourite(l)}})}});a.exports=j},{"bbb-gp/gp-tools/ajs-wrapper.js":21,"bbb-gp/gp-tools/gpbackbone/backbone-wrapper.js":30,"bbb-gp/gp-tools/jquery-wrapper.js":33}],17:[function(d,c,f){var l=d("bbb-gp/gp-tools/gpbackbone/GpView.js");var b=bbb.gp.gitviewer.repoTitle.soy;var k=l.extend({events:{"click .bbb-gp-gitviewer-repo-title__watching-status":"changeWatching","click .bbb-gp-gitviewer-repo-title__favourite-status":"changeFavorite"},initialize:function g(){l.prototype.initialize.apply(this,arguments);this.model.on("change:favourite",this.render,this);this.model.on("change:watched",this.render,this);this.render()},remove:function h(){this.model.off(null,null,this);l.prototype.remove.apply(this,arguments)},render:function a(){this.applyRendered(b.repoTitle({repoName:this.model.getDisplayName(),repoId:this.model.getRepoId(),favourite:this.model.getFavourite(),watched:this.model.getWatched(),watchersCount:this.model.getWatchersCount()}))},changeWatching:function j(m){if(m&&m.preventDefault&&"function"===typeof m.preventDefault){m.preventDefault()}this.model.updateWatchStatus(!this.model.getWatched())},changeFavorite:function i(m){if(m&&m.preventDefault&&"function"===typeof m.preventDefault){m.preventDefault()}this.model.updateFavoriteStatus(!this.model.getFavourite())}});c.exports=k},{"bbb-gp/gp-tools/gpbackbone/GpView.js":28}],18:[function(c,d,b){var a=c("bbb-gp/gp-tools/externals.js").evNs;a.appendInPlace("bbb.gp.gitviewer.repoTitle",{RepoTitleModel:c("./RepoTitleModel.js"),RepoTitleView:c("./RepoTitleView.js")})},{"./RepoTitleModel.js":16,"./RepoTitleView.js":17,"bbb-gp/gp-tools/externals.js":27}],19:[function(c,d,b){var a=c("bbb-gp/gp-tools/externals.js").evNs;var f=c("bbb-gp/gitviewer/blocks/all-repos-list/all-repos-list.js");a.assignInPlace("bbb.gp.gitviewer.pageAllRepos.initReposList",f.initReposList)},{"bbb-gp/gitviewer/blocks/all-repos-list/all-repos-list.js":15,"bbb-gp/gp-tools/externals.js":27}],20:[function(c,d,b){var a=c("bbb-gp/gp-tools/externals.js").evNs;var f=c("bbb-gp/codereview/blocks/compare-issues/init-issues-list.js");a.assignInPlace("bbb.gp.gitviewer.pageIssues.initIssuesList",f.initIssuesList)},{"bbb-gp/codereview/blocks/compare-issues/init-issues-list.js":12,"bbb-gp/gp-tools/externals.js":27}],21:[function(h,d,j){var m=d.exports;var b=typeof AJS!=="undefined"&&AJS;m.hasAJS=function g(){return !!b};m.getAJS=function i(){if(!b){throw new Error("Access to AJS is allowed in browser only")}return b};m.setMockAJS=function c(s){b=s};m.getUserLocale=function r(){return m.getAJS().Meta.get("user-locale")};var o=typeof AP!=="undefined"&&AP;m.hasAP=function l(){return !!o};m.getAP=function n(){if(!o){throw new Error("Access to AP is allowed in browser only")}return o};m.setMockAP=function q(s){o=s};var a=typeof JIRA!=="undefined"&&JIRA;m.hasJIRA=function k(){return !!a};m.getJIRA=function p(){if(!a){throw new Error("Access to JIRA is allowed in browser only")}return a};m.setMockJIRA=function f(s){a=s}},{}],22:[function(f,a,g){var b=f("./externals.js").evNs;var p=f("./moment-wrapper.js");var d=f("./ajs-wrapper.js").getJIRA();var h=f("./jquery-wrapper.js");var l=typeof d!=="undefined"&&d.Time;var k=l.FormatType.types;var n=l.formatDate;function o(q){return function(s){var r=n(s,q);return r&&r.trim()}}var i=o(k.longAge);var m=o(k.full);var c=o(k.timestamp);var j=function j(s,q){if(isNaN(Number(s))){var r=p(s);r.zone(s);return r}else{return q?p.unix(s):p(s)}};a.exports={formatVisibleWeb:i,formatVisiblePrint:m,formatTooltip:c,getMoment:j};b.appendInPlace("bbb.gp.dateTime",a.exports)},{"./ajs-wrapper.js":21,"./externals.js":27,"./jquery-wrapper.js":33,"./moment-wrapper.js":34}],23:[function(m,a,z){var o=m("./externals.js").evNs;var h=m("./jquery-wrapper.js");var v=function v(){this.prefix="bbb.gp.debugTools";this.isReplaying=false;this.actions=[];this.replayActions=[];this.debugMode=this.restoreIsDebugMode();this.logActionTypeExpr=this.restoreLogActionTypeExpr();this.allowChanges=this.restoreIsAllowChanges()};v.prototype={isWebStorageAvailable:function p(){return typeof Storage!=="undefined"},checkWebStorageAvailable:function s(){if(!this.isWebStorageAvailable()){throw Error("WebStorage is not available in your browser. Please inform Git Integration for JIRA support team.")}},getIsAllowChangesKey:function d(){return this.prefix+".allowChanges"},restoreIsAllowChanges:function g(){if(!this.isWebStorageAvailable()){return true}var A=localStorage.getItem(this.getIsAllowChangesKey());return A===undefined||A===null||A==="true"||A===true},setIsAllowChanges:function w(A){this.checkWebStorageAvailable();localStorage.setItem(this.getIsAllowChangesKey(),A);this.allowChanges=A},getIsDebugKey:function k(){return this.prefix+".isDebugMode"},setIsDebugMode:function x(A){this.checkWebStorageAvailable();localStorage.setItem(this.getIsDebugKey(),A);this.debugMode=A},restoreIsDebugMode:function n(){var A=this.isWebStorageAvailable()&&localStorage.getItem(this.getIsDebugKey());return A==="true"||A===true},isDebugMode:function j(){return this.debugMode},getLogActionTypeExprKey:function i(){return this.prefix+".logActionTypeExpr"},setLogActionTypeExpr:function r(A){this.checkWebStorageAvailable();localStorage.setItem(this.getLogActionTypeExprKey(),A);this.logActionTypeExpr=A},restoreLogActionTypeExpr:function u(){var A=this.isWebStorageAvailable()&&localStorage.getItem(this.getLogActionTypeExprKey());return A===undefined?null:A},getLogActionTypeExpr:function l(){return this.logActionTypeExpr},pushAction:function y(A){this.actions.push(A)},copyActionsToClipboard:function t(){if(!this.isDebugMode()){return}var D=JSON.stringify(this.actions);var C=h('<div style="position:absolute;background-color:#fff;top:100px;left:100px;border:solid red 3px;z-index:10000"/>');C.html('<div style="display:inline-block;vertical-align:top;padding:10px;">Copy to clipboard: Ctrl/ +C <br><a href="#">Hide the popup</a></div>');var A=h('<textarea style="display:inline-block;height:50px;"/>');A.val(D);A.appendTo(C);C.appendTo(h("body"));C.on("click",function(){A.focus();A.select()});A.focus();A.select();var B=C.find("a");B.on("click",function(){C.remove()})},getReplayMiddleware:function c(){var A=this;return function B(D){var E=D.dispatch;var C=D.getState;return function(F){return function(G){if(!A.isReplaying&&!A.allowChanges||A.isReplaying&&typeof G=="function"){console.log("do nothing");return G}return F(G)}}}},setReplayActions:function q(A){this.replayActions=A},setDispatch:function b(A){this.dispatch=A},replay:function f(){this.isReplaying=true;for(var A=0;A<this.replayActions.length;++A){this.dispatch(this.replayActions[A])}this.isReplaying=false}};a.exports={Debug:v};o.appendInPlace("bbb.gp.debugTools",a.exports)},{"./externals.js":27,"./jquery-wrapper.js":33}],24:[function(f,b,g){var c=f("./externals.js").evNs;var h=f("./jquery-wrapper.js");function i(n,m){var l=h.extend({},n);if(m){for(var k in m){delete l[k]}}return l}function a(l){var o={};var k={};for(var p in l){k[p]={};var n=l[p];for(var m=0;m<n.length;++m){k[p][n[m]]=true;o[n[m]]=true}}return{all:o,values:k}}function j(o,m,l,n,k){if(o&&h.isFunction(o[l])){o[l].call(k,m,l,n)}}function d(k,l,m){l=a(l);h(k).on("change",function(q){var p=l.values[q.target.value];var n=i(l.all,p);for(var o in n){h(o).attr("disabled","");j(m,false,o,q,this)}for(var o in p){h(o).attr("disabled",null);j(m,true,o,q,this)}})}b.exports.configure=d;c.assignInPlace("bbb.gp.enableDisableTools.configure",d)},{"./externals.js":27,"./jquery-wrapper.js":33}],25:[function(f,g,d){var c=f("./externals.js").evNs;var h=f("./jquery-wrapper.js");function b(i){if(!i){return i}return h("<div/>").html(i).text()}function a(i){return AJS.$("<div/>").text(i).html()}g.exports.htmlDecode=b;g.exports.escapeHtml=a;c.assignInPlace("bbb.gp.encodeDecodeTools.htmlDecode",b);c.assignInPlace("bbb.gp.encodeDecodeTools.escapeHtml",a)},{"./externals.js":27,"./jquery-wrapper.js":33}],26:[function(b,c,a){(function(f){var d=b("./externals.js");if(typeof window!=="undefined"){window.evoja=window.evoja||{};window.evoja.redux=d.redux;window.evoja.ns=d.evNs;window.evoja.reduxActions=d.evReduxActions;window.evoja.reduxReducers=d.evReduxReducers}else{if(typeof f!=="undefined"){f.evoja=f.evoja||{};f.evoja.redux=d.redux;f.evoja.ns=d.evNs;f.evoja.reduxActions=d.evReduxActions;f.evoja.reduxReducers=d.evReduxReducers}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./externals.js":27}],27:[function(b,c,a){"use-strict";c.exports=typeof window!=="undefined"?bbb.gp.externals:b("bbb-gp/gp-tools/externals-bundler.js")},{"bbb-gp/gp-tools/externals-bundler.js":"bbb-gp/gp-tools/externals-bundler.js"}],28:[function(b,c,a){(function(){var m=b("./backbone-wrapper.js").Backbone;var n=m.View.extend({className:"bbb-gp-gpbackbone-view__rendered",initialize:function g(o){if(o&&o.tagName){this.$el.removeClass(this.className)}this.cidClassName=this.className+"_"+this.cid;if(this.$el.hasClass(this.className)||o.replaceEl){this.$el.addClass(this.cidClassName)}this.innerViews=[]},remove:function h(){if(this.removed){return}this.removed=true;m.View.prototype.remove.apply(this,arguments)},removeWithoutElement:function j(){if(this.removed){return}this.$el.empty().off();this.stopListening();return this},stopListening:function d(){if(m.View.prototype.stopListening){m.View.prototype.stopListening.apply(this,arguments)}AJS.$(this.innerViews).each(function(p,o){if(o.stopListening){o.stopListening()}})},removeInnerViews:function l(){AJS.$(this.innerViews).each(function(p,o){o.remove()});this.innerViews=[]},addInnerView:function f(o){if(!o){throw new Error("Trying to add empty argument as a View")}this.innerViews.push(o)},getRoot:function k(){return this.$el.hasClass(this.cidClassName)?this.$el[0]:this.$el.children()[0]},applyRendered:function i(q){if(this.$el.hasClass(this.cidClassName)){var p=null;var o=null;if(this.$el.parent().length>0){p=this.$el.parent();o=this.$el}this.setElement(q);if(p){if(o){o.replaceWith(this.$el)}else{p.append(this.$el)}}this.$el.addClass(this.cidClassName)}else{this.$el.html(q)}}});c.exports=n})()},{"./backbone-wrapper.js":30}],29:[function(b,c,a){(function(){var g=b("./backbone-wrapper.js").Brace;var f=g.Model.extend({namedAttributes:{isLoading:"boolean",isError:"boolean"},defaults:{isLoading:false,isError:false},fetch:function d(){if(this.fetchXhr&&this.fetchXhr.readyState>0&&this.fetchXhr.readyState<4){this.fetchXhr.abort()}var h=this;this.setIsLoading(true);this.fetchXhr=g.Model.prototype.fetch.apply(h,arguments).then(function(){h.setIsLoading(false)},function(){h.set({isLoading:false,isError:true})});return this.fetchXhr}});c.exports=f})()},{"./backbone-wrapper.js":30}],30:[function(c,d,b){var a=c("bbb-gp/gp-tools/externals.js").evNs;d.exports.Backbone=typeof Backbone!=="undefined"&&Backbone;d.exports.Brace=typeof Brace!=="undefined"&&Brace},{"bbb-gp/gp-tools/externals.js":27}],31:[function(c,d,b){var a=c("bbb-gp/gp-tools/externals.js").evNs;a.assignInPlace("bbb.gp.gpbackbone",{GpView:c("./GpView.js"),StatusModel:c("./StatusModel.js")})},{"./GpView.js":28,"./StatusModel.js":29,"bbb-gp/gp-tools/externals.js":27}],32:[function(c,d,a){var h=c("bbb-gp-common/lib/util/i18n-tools");var f=d.exports;var b="bbb-gp/out/bundled-localization.js";var g=typeof window!="undefined"?window.bbb.gp.localization:c(b);f.getText=function(){return h.getText(g,Array.prototype.slice.call(arguments))};f.getPluralText=function(){return h.getPluralText(g,Array.prototype.slice.call(arguments))};f.format=h.format},{"bbb-gp-common/lib/util/i18n-tools":2}],33:[function(h,i,f){var d;if(typeof AJS!=="undefined"&&AJS.$){d=AJS.$}else{if(typeof jQuery!=="undefined"){d=jQuery}else{if(typeof $!=="undefined"&&$&&$.fn&&$.fn.jquery){d=$}else{var g="jquery";var a="jquery-deferred";var b="jquery-param";d=h(g);d.param=h(b);var c=h(a);c.extend(d,c)}}}i.exports=d},{}],34:[function(b,c,a){var d=typeof window!=="undefined"&&window.moment;c.exports=d},{}],35:[function(d,f,c){var b=d("./externals.js").evNs;var a=function a(g,h,i){return i?b.access(g,h):b.namespace(g,h)};if(typeof window!=="undefined"){b.assignInPlace("bbb.gp.namespace",a)}else{if(typeof f!=="undefined"){f.exports=a}}},{"./externals.js":27}],36:[function(f,b,h){var c=f("./externals.js").evNs;var i=f("./jquery-wrapper.js");function d(m){var l={};for(var k in m){if(m[k]!==null&&m[k]!==undefined){l[k]=m[k]}}return i.param(l)}function g(k){return d({a:k}).substring(2)}function j(l,n,r){var t="";var q=l.split("?");var m=q[0];var p=q[1];var s="";if(p){q=p.split("&");for(var o=0;o<q.length;o++){if(q[o].split("=")[0]!=n){t+=s+q[o];s="&"}}}var k=s+""+n+"="+g(r);return m+"?"+t+k}function a(k){setTimeout(function(){window.open(k,"_self")})}b.exports={param:d,getQueryParam:g,updateURLParameter:j,openUrlInOtherCallStack:a};c.appendInPlace("bbb.gp.urlTools",b.exports)},{"./externals.js":27,"./jquery-wrapper.js":33}]},{},[1]);;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:block-clone-info-dialog', location = 'configuration/blocks/clone-info-dialog/RepositoryInfoModel.js' */
AJS.$(function(){var a=bbb.gp.namespace("bbb.gp.configuration.cloneInfoDialog");a.RepositoryModel=Backbone.Model.extend({namedAttributes:{id:"string",displayName:"string",hosted:"boolean",repositoryHostingUrl:"string"}});a.RepositoryCollection=Backbone.Collection.extend({model:a.RepositoryModel});a.RepositoryInfoModel=Brace.Model.extend({setProjectKey:function(b){this.projectKey=b},namedAttributes:{repositories:a.RepositoryCollection},url:function(){return AJS.contextPath()+"/rest/gitplugin/1.0/repository?projectKey="+this.projectKey},parse:function(b){return{repositories:b.repositories}},showLink:function(){return this._hasHostedRepositoriesVisibleForUser()},_hasHostedRepositoriesVisibleForUser:function(){return(this.getJiraHostedRepos().length>0)},getJiraHostedRepos:function(){if(this.getRepositories()!=undefined){return this.getRepositories().filter(this._isHosted)}else{return[]}},_isHosted:function(b){return b.get("hosted")},hasRepoId:function(b){if(this.getRepositories()===undefined){return false}return this.getRepositories().find(function(d,c,e){return d.get("id")==b})}})});;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:block-clone-info-dialog', location = 'configuration/blocks/clone-info-dialog/CreateCloneInfoDialog.js' */
AJS.$(function(){var a=bbb.gp.namespace("bbb.gp.configuration.cloneInfoDialog");a.Dialog=function(){this.dialog=new AJS.Dialog({width:700,height:520,id:"bbb-gp-clone-info-dialog__dialog",closeOnOutsideClick:true});this.repoId=null;this.hostedReposPanel=null;this.hostedRepos=[];this.buildProgressIndicatorPage()};AJS.$.extend(a.Dialog.prototype,{buildProgressIndicatorPage:function(){this.dialog.addPage();this.dialog.addHeader("Git Repository Connection Information");var b=a.soy.dialogProgressIndicatorPage();this.addPanel(b)},buildHostedReposPage:function(b){this.hostedRepos=new Backbone.Collection(b);this.hostedReposPanel=a.soy.dialogHostedReposPage({repositories:this.hostedRepos.toJSON(),user:AJS.Meta.get("remote-user")});this.dialog.addPage();this.dialog.addHeader("Git Repository Connection Information");this.addPanel(this.hostedReposPanel);this.onChangeRepository()},addPanel:function(b){this.dialog.addPanel("",b);this.page=this.dialog.getPage(this.dialog.curpage);this.page.addButtonPanel();this.buildCancelButton()},getJiraHostedRepos:function(){return this.model.repositories},buildCancelButton:function(){this.dialog.addLink("Close",function(b){b.hide()},"#")},show:function(){if((arguments.length>=1)){this.repoId=arguments[0];this._selectRepo()}else{this.repoId=null}this.onChangeRepository();this.dialog.show()},_selectRepo:function(){if((this.repoId===null)||(this.hostedReposPanel===null)){return}var c=AJS.$(".bbb-gp-configuration-cloneinfodialog_repositories");var b=AJS.$(c);b.val(this.repoId)},hide:function(){this.dialog.hide()},handleClose:function(b){if(this.state.getDialogIsVisible()){this.state.set({dialogIsVisible:false,formProfile:this.getFormData(b)})}},onChangeRepository:function(){if((this.hostedReposPanel===null)||(this.hostedRepos.length===0)){return}var e=AJS.$(".bbb-gp-configuration-cloneinfodialog_repositories");var c=e[0].tagName=="SPAN"?e[0].id:e.selected().val();var d=this._getRepoById(c);var b=d.get("repositoryHostingUrl");AJS.$(".bbb-gp-configuration-cloneinfodialog_repo-url").html(b);AJS.$(".bbb-gp-configuration-cloneinfodialog_repo_clone-command").html("git clone "+b)},_getRepoById:function(b){return this.hostedRepos.find(function(d,c,e){return d.get("id")==b})}});a.CloneInfoDialogManagerFn=function(){this.dialog=new a.Dialog();this.model=new a.RepositoryInfoModel();this.model.on("change",this.onLoadRepositories,this)};AJS.$.extend(a.CloneInfoDialogManagerFn.prototype,{model:"model",dialog:null,hostedRepos:undefined,getCurrentProjectByAjaxIfRequired:function(){if(this.hostedRepos!==undefined){return}this.hostedRepos=[];var b=this;AJS.$.ajax({url:AJS.contextPath()+"/rest/api/1.0/menus/browse_link.json?inAdminMode=false",type:"GET",success:function(e){var d=e.sections.filter(function(h){return h.id=="project_current"});if(d.length==0){console.log("Current project is empty");return}var g=d[0].items[0].label;var f=/([^\(\)]*)/g;var c=g.match(f)[2];b.getRepositoriesByAjax(c)},error:function(c){console.log("Can't get current project")}})},getRepositoriesByAjax:function(b){this.model.setProjectKey(b);this.model.fetch().error(function(c){console.error("Can't get repositories info: ",c.responseText)})},onLoadRepositories:function(){this.hostedRepos=this.model.getJiraHostedRepos();this.dialog.buildHostedReposPage(this.hostedRepos);this.dialog._selectRepo();this.dialog.onChangeRepository();this.renderLinkOnCodeReviewTab();this.renderLinksOnCommitsTab()},getRepositoriesModel:function(){return this.model},renderLinkOnCodeReviewTab:function(){if(this.model.showLink()){var b=AJS.$(".bbb-gp-codereview-page-review-tab__clone-info-link").filter(this._isEmptyDiv);var c=a.soy.linkCloneInfoDialogIssueTab();b.html(c)}},renderLinksOnCommitsTab:function(){if(this.model.showLink()){var c=this;var b=AJS.$(".bbb-gp-codereview-commit__clone-info-link-with-id");b=b.filter(this._isEmptyDiv);b=b.filter(AJS.$.proxy(this._isRepoInfoLoaded,this));b.each(this._renderOneLinkOnCommitsTab)}},_isEmptyDiv:function(b,c){return(AJS.$(c).text().length===0)},_isRepoInfoLoaded:function(c,d){var b=AJS.$(d).attr("repoId");return this.model.hasRepoId(b)},_renderOneLinkOnCommitsTab:function(d,e){var c=AJS.$(e);var b=c.attr("repoId");var f=a.soy.linkCloneInfoDialogCommitsTab({repoId:b});c.html(f)},doInitializationNow:function(){this.getCurrentProjectByAjaxIfRequired()},getDialog:function(){this.getCurrentProjectByAjaxIfRequired();return this.dialog},openDialog:function(){this.getDialog().show()},openDialogForRepo:function(b){this.getDialog().show(b)}});a.CloneInfoDialogManager=new a.CloneInfoDialogManagerFn()});;
;
/* module-key = 'com.xiplink.jira.git.jira_git_plugin:block-clone-info-dialog', location = 'configuration/blocks/clone-info-dialog/clone-info-dialog.soy' */
// This file was automatically generated from clone-info-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bbb.gp.configuration.cloneInfoDialog.soy.
 */

if (typeof bbb == 'undefined') { var bbb = {}; }
if (typeof bbb.gp == 'undefined') { bbb.gp = {}; }
if (typeof bbb.gp.configuration == 'undefined') { bbb.gp.configuration = {}; }
if (typeof bbb.gp.configuration.cloneInfoDialog == 'undefined') { bbb.gp.configuration.cloneInfoDialog = {}; }
if (typeof bbb.gp.configuration.cloneInfoDialog.soy == 'undefined') { bbb.gp.configuration.cloneInfoDialog.soy = {}; }


bbb.gp.configuration.cloneInfoDialog.soy.linkCloneInfoDialogWebPanel = function(opt_data, opt_ignored) {
  return '<div class="bbb-gp-codereview-issue-web-panel__line"><span class="octicon octicon-repo-clone"></span>&ensp;<a href="javascript:void(0)" onclick="bbb.gp.configuration.cloneInfoDialog.CloneInfoDialogManager.openDialog();return false;">' + soy.$$escapeHtml("Clone repository") + '</a></div>';
};
if (goog.DEBUG) {
  bbb.gp.configuration.cloneInfoDialog.soy.linkCloneInfoDialogWebPanel.soyTemplateName = 'bbb.gp.configuration.cloneInfoDialog.soy.linkCloneInfoDialogWebPanel';
}


bbb.gp.configuration.cloneInfoDialog.soy.linkCloneInfoDialogIssueTab = function(opt_data, opt_ignored) {
  return '<a href="#" onclick="bbb.gp.configuration.cloneInfoDialog.CloneInfoDialogManager.openDialog();">' + soy.$$escapeHtml("Clone Repo") + '</a>';
};
if (goog.DEBUG) {
  bbb.gp.configuration.cloneInfoDialog.soy.linkCloneInfoDialogIssueTab.soyTemplateName = 'bbb.gp.configuration.cloneInfoDialog.soy.linkCloneInfoDialogIssueTab';
}


bbb.gp.configuration.cloneInfoDialog.soy.linkCloneInfoDialogCommitsTab = function(opt_data, opt_ignored) {
  return '<a href="#" onclick="bbb.gp.configuration.cloneInfoDialog.CloneInfoDialogManager.openDialogForRepo(' + soy.$$escapeHtml(opt_data.repoId) + ');">' + soy.$$escapeHtml("Clone Repo") + '</a>';
};
if (goog.DEBUG) {
  bbb.gp.configuration.cloneInfoDialog.soy.linkCloneInfoDialogCommitsTab.soyTemplateName = 'bbb.gp.configuration.cloneInfoDialog.soy.linkCloneInfoDialogCommitsTab';
}


bbb.gp.configuration.cloneInfoDialog.soy.dialogProgressIndicatorPage = function(opt_data, opt_ignored) {
  return '<div id="bbb-gp-configuration-cloneinfodialog__progress-indicator" class="aui-progress-indicator"><span class="aui-progress-indicator-value"></span></div>';
};
if (goog.DEBUG) {
  bbb.gp.configuration.cloneInfoDialog.soy.dialogProgressIndicatorPage.soyTemplateName = 'bbb.gp.configuration.cloneInfoDialog.soy.dialogProgressIndicatorPage';
}


bbb.gp.configuration.cloneInfoDialog.soy.dialogHostedReposPage = function(opt_data, opt_ignored) {
  var output = '<form class="aui ajs-dirty-warning-exempt"><fieldset><p><b>' + soy.$$escapeHtml("Repository") + ':</b>&nbsp;&nbsp;&nbsp;';
  if (opt_data.repositories.length == 1) {
    output += '<span class="bbb-gp-configuration-cloneinfodialog_repositories" id="' + soy.$$escapeHtml(opt_data.repositories[0].id) + '">' + soy.$$escapeHtml(opt_data.repositories[0].displayName) + '</span>';
  } else {
    output += '<select class="select bbb-gp-configuration-cloneinfodialog_repositories" name="repository" onchange="bbb.gp.configuration.cloneInfoDialog.CloneInfoDialogManager.getDialog().onChangeRepository()">';
    var repositoryList31 = opt_data.repositories;
    var repositoryListLen31 = repositoryList31.length;
    for (var repositoryIndex31 = 0; repositoryIndex31 < repositoryListLen31; repositoryIndex31++) {
      var repositoryData31 = repositoryList31[repositoryIndex31];
      output += '<option value="' + soy.$$escapeHtml(repositoryData31.id) + '">' + soy.$$escapeHtml(repositoryData31.displayName) + '</option>';
    }
    output += '</select>';
  }
  output += '</p><!-- <table class="aui"><tbody><tr><th>' + soy.$$escapeHtml("Clone URL") + '</th><td class="bbb-gp-configuration-cloneinfodialog_repo-url"></td></tr><tr><th>' + soy.$$escapeHtml("Username") + '</th><td>' + soy.$$escapeHtml(opt_data.user) + '</td></tr><tr><th>' + soy.$$escapeHtml("Password") + '</th><td><tt>' + soy.$$escapeHtml("Your JIRA password") + '</tt></td></tr></tbody></table> --><p><b>' + soy.$$escapeHtml("Clone URL") + ':&nbsp;</b><span class="bbb-gp-configuration-cloneinfodialog_repo-url"></span></p><p><b>' + soy.$$escapeHtml("Username") + ':&nbsp;</b><span>' + soy.$$escapeHtml(opt_data.user) + '</span></p><p><b>' + soy.$$escapeHtml("Password") + ':&nbsp;</b><span><tt>' + soy.$$escapeHtml("Your JIRA password") + '</tt></span></p><p>' + soy.$$escapeHtml("Command line") + ' <tt>git</tt>&nbsp;' + soy.$$escapeHtml("client must be version \x3e\x3d") + ' <tt>2.1.0</tt>&nbsp;</p><h3>' + soy.$$escapeHtml("Cloning the Repo") + '</h3><label><tt class="bbb-gp-configuration-cloneinfodialog_repo_clone-command">git clone $selectedRepository.getUrl</tt></label><h3>' + soy.$$escapeHtml("Remembering Password for a Day") + '</h3><label><tt>git config credential.helper \'cache --timeout=86400\'</tt></label><h3>' + soy.$$escapeHtml("Remembering Password Permanently") + '</h3><label><tt>git config credential.helper \'store\'</tt></label></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  bbb.gp.configuration.cloneInfoDialog.soy.dialogHostedReposPage.soyTemplateName = 'bbb.gp.configuration.cloneInfoDialog.soy.dialogHostedReposPage';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/dialog.js' */
define("jira/admin-helper/dialog",["jquery","jira/dialog/dialog","jira/focus/set-focus"],function(c,a,b){return a.extend({_getDefaultOptions:function(){return c.extend(this._super(),{cached:false,widthClass:"large",stacked:true})},defineResources:function(){this._super();this.requireResource("com.atlassian.jira.plugins.jira-admin-helper-plugin:whereismycf-resources")},decorateContent:function(){var d=this;this.get$popupContent().find(".cancel").click(function(f){d.hide();f.preventDefault()})},_onShowContent:function(){this._super();if(a.current===this){var d=new b.FocusConfiguration();d.context=this.get$popup()[0];d.parentElementSelectors=[".form-body"];b.pushConfiguration(d);b.triggerFocus()}},hide:function(d){if(this._super(d)===false){return false}b.popConfiguration()}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/notification-helper-init.js' */
require(["jquery","jira/admin-helper/dialog","jira/util/data/meta"],function(c,a,b){if(b.get("is-admin")){c(document).delegate(".notificationhelper-trigger","click",function(e){e.preventDefault();new a({id:"notification-helper-dialog",content:function d(g){var f=this;require(["jira/admin-helper/notification-helper/content-loader"],function(h){h.loadContent(f,g)})}}).show()})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/permission-helper-init.js' */
require(["jquery","jira/admin-helper/dialog","jira/util/data/meta"],function(c,a,b){if(b.get("is-admin")){c(document).delegate(".permissionhelper-trigger","click",function(e){e.preventDefault();new a({id:"permission-helper-dialog",content:function d(g){var f=this;require(["jira/admin-helper/permission-helper/content-loader"],function(h){h.loadContent(f,g)})}}).show()})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/whereismycf-init.js' */
require(["jquery","jira/admin-helper/dialog","jira/util/data/meta","jira/dialog/dialog"],function(e,a,d,b){if(d.get("is-admin")){var c="Where is my field?";e(document).delegate(".whereismycf-trigger","click",function(h){h.preventDefault();new a({id:"whereismycf-dialog",content:function g(j){var i=this;require(["jira/admin-helper/whereismycf/content-loader"],function(k){k.loadContentForView(i,j)})}}).show()});e(document).bind("showLayer",function(h,j,i){if(j=="inlineDialog"&&i.popup.attr("id")=="inline-dialog-field_picker_popup"){if(i.popup.find(".whereismycf-qfpicker-link").length==0){var g=e("<a href='#' class='whereismycf-qfpicker-link'>"+c+"</a>").appendTo(i.popup.find(".qf-picker-header dl"));g.click(function(m){m.preventDefault();i.hide();f();var k=b.current;new a({id:"whereismycf-dialog",content:function l(o){var n=this;require(["jira/admin-helper/whereismycf/content-loader"],function(p){p.loadContentForEditAndCreate(n,k,o)})}}).show()})}}});function f(){AJS.InlineDialog.current=null}}});;
;
/* module-key = 'com.atlassian.jira-core-project-templates:jira-core-project-templates-resources', location = '/soy/CoreProjectTemplates.soy' */
// This file was automatically generated from CoreProjectTemplates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.CoreTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }
if (typeof JIRA.Templates.ProjectTemplates.CoreTemplates == 'undefined') { JIRA.Templates.ProjectTemplates.CoreTemplates = {}; }


JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: "Create simple tasks, organize them and get them done. You can use this project to manage your tasks or assign them to someone else.", projectTemplate: 'taskManagement'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: "Create your tasks, organize and track their progress, and deliver your work on time. Estimations and time tracking allow you to report on where your project is at any stage.", projectTemplate: 'projectManagement'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: "Create your tasks and track them at every step, from start to finish. You can use this project to review documentation, approve expenses, or other processes.", projectTemplate: 'processManagement'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: "Visualize work across your team with a board.", projectTemplate: 'projectManagement', issueTypesHtml: '' + JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml(opt_data.description) + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml("Issue Types") + '</h6><ul class="project-template-issuetype-list">' + ((opt_data.issueTypesHtml != null) ? soy.$$filterNoAutoescape(opt_data.issueTypesHtml) : JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType(null) + JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType(null)) + '</ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml("Workflow") + '</h6><div class="workflow ' + soy.$$escapeHtml(opt_data.projectTemplate) + '"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.issueType = function(opt_data, opt_ignored) {
  return '<li><span class="issuetype-list-label"><span class="issuetype-icon ' + soy.$$escapeHtml(opt_data.iconKey) + '"></span><span class="issuetype-name">' + soy.$$escapeHtml(opt_data.label) + '</span></span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.issueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.issueType';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey: 'task', label: "Task"});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey: 'subtask', label: "Sub-task"});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-confluence-plugin:issue-link-confluence-js', location = 'js/issuelink-confluence.js' */
(function($){var settings={getCurrentAppId:function(context){return $("#issue-link-confluence-app-id",context).val()},shouldExecute:function(context){return $("#confluence-page-link",context).length!==0},getIssueId:function(context){return $("input[name=id]",context).val()}};JIRA.bind(JIRA.Events.NEW_PAGE_ADDED,function(e,context){IssueLinkAppLinks.init(settings,context)})})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-confluence-plugin:confluence-page-resource', location = 'js/ConfluencePageSearch.js' */
AJS.$(function($){var confluenceSearchDialog=new JIRA.FormDialog({id:"confluence-page-search-dialog",trigger:"#confluence-page-link .confluence-search-trigger",widthClass:"large",height:"565px",content:function(render){var dialog=this;JIRA.SmartAjax.makeRequest({url:contextPath+"/rest/confluenceIssueLink/1/confluence/applink",complete:function(xhr,textStatus,smartAjaxResult){if(smartAjaxResult.successful){var appLinks=smartAjaxResult.data.applicationLinks;render(JIRA.Templates.ConfluencePageSearch.result({appLinks:appLinks}));initAppLinks(dialog).done(function(context,helper){initSearchDialog(context,helper);$("#link-search-text",context).focus()})}else{AJS.messages.error("#search-results-table",{body:"The JIRA server could not be contacted. This may be a temporary glitch or the server may be down.",closeable:false});render()}}})},submitHandler:function(e,callback){e.preventDefault();$("#search-panel-button").click().removeAttr("disabled");callback()}});function initSearchDialog($dialog,helper){$("#confluence-app-link",$dialog).change(function(){var authenticationRequired=helper.selectServer($(this).val()).authenticationRequired;if(!authenticationRequired){populateSpaces($dialog,$(this).val(),helper)}$("#search-results-table",$dialog).empty();setSearchControlsEnabled(true,$dialog)});$("#search-panel-button",$dialog).click(function(){$("#search-results-table",$dialog).empty();var searchText=$("#link-search-text",$dialog).val();searchText=$.trim(searchText);if(searchText){doSearch(searchText,$dialog)}else{AJS.messages.info("#search-results-table",{body:"Please enter search value.",closeable:false})}return false})}var spaceAjaxId=0;function populateSpaces($context,appId,helper){$("select#search-panel-space",$context).html(JIRA.Templates.ConfluencePageSearch.allSpacesOption());var myAjaxId=++spaceAjaxId;JIRA.SmartAjax.makeRequest({url:contextPath+"/rest/confluenceIssueLink/1/confluence/space?appId="+appId,complete:function(xhr,textStatus,smartAjaxResult){if(myAjaxId!==spaceAjaxId){return }if(smartAjaxResult.successful){var spaces=smartAjaxResult.data.spaces;$("select#search-panel-space",$context).html(JIRA.Templates.ConfluencePageSearch.spaceOptions({spaces:spaces}))}else{if(smartAjaxResult.status===401){helper.setAuthenticationRequired(appId,true)}else{setSearchControlsEnabled(false,$context);var msg;if(smartAjaxResult.status===403){msg="Content on the Confluence site could not be accessed because the Confluence server\'s \'Remote API\' feature is disabled. The Confluence system administrator must enable this \'Remote API\' feature for JIRA to successfully access this content."}else{msg="Unable to gather information from the selected Confluence instance."}AJS.messages.error("#search-results-table",{body:msg,closeable:false})}}}})}function setSearchControlsEnabled(enabled,$context){if(enabled){$("#link-search-text",$context).removeAttr("disabled");$("#search-panel-space",$context).removeAttr("disabled");$("#search-panel-button",$context).removeAttr("disabled")}else{$("#link-search-text",$context).attr("disabled","disabled");$("#search-panel-space",$context).attr("disabled","disabled");$("#search-panel-button",$context).attr("disabled","disabled")}}function setLoadingIconVisible(visible,$context){$("#link-search-loading",$context).toggleClass("hidden",!visible)}function doSearch(searchText,$context){setLoadingIconVisible(true,$context);var appLinkId=$("#confluence-app-link",$context).val();var spaceKey=$("#search-panel-space option:selected",$context).val();JIRA.SmartAjax.makeRequest({url:contextPath+"/rest/confluenceIssueLink/1/confluence/search?query="+searchText+"&appId="+appLinkId+"&spaceKey="+spaceKey+"&maxResults=10",complete:function(xhr,textStatus,smartAjaxResult){setLoadingIconVisible(false,$context);if(smartAjaxResult.successful){var results=smartAjaxResult.data.result;var resultHtml=JIRA.Templates.ConfluencePageSearch.resultsTable({results:results});$("#search-results-table",$context).html(resultHtml)}else{var msg;if(smartAjaxResult.hasData){msg="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."}else{msg="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down."}AJS.messages.error("#search-results-table",{body:msg,closeable:false})}$("#confluence-searchresult tbody tr",$context).click(function(){var linkUrl=$(this).children().first().data("url");$("#confluence-page-url").val(linkUrl);$("#link-issue-dialog .error").hide();confluenceSearchDialog.hide();$("#link-issue-dialog").show();$("#confluence-page-url").focus().select()})}})}function initAppLinks(dialog){var settings={getCurrentAppId:function(context){return $("#confluence-app-link",context).val()},shouldExecute:function(context){return $("#confluence-app-link",context).length!==0},onAuthenticationSuccessCallback:function(context,currentAppId,helper){populateSpaces(context,currentAppId,helper)},getIssueId:function(context){return $("#confluence-page-link input[name=id]").val()}};return IssueLinkAppLinks.init(settings,dialog.$popup).done(function(context,helper){populateSpaces(context,settings.getCurrentAppId(context),helper)})}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-link-confluence-plugin:confluence-page-resource', location = 'templates/dialog/searchresult.soy' */
// This file was automatically generated from searchresult.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ConfluencePageSearch.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ConfluencePageSearch == 'undefined') { JIRA.Templates.ConfluencePageSearch = {}; }


JIRA.Templates.ConfluencePageSearch.result = function(opt_data, opt_ignored) {
  var output = '<h2>' + soy.$$escapeHtml("Find a Confluence page") + '</h2><form class="aui search-form" id="confluence-page-search-form" action="#" method="post"><div class="field-group"><label for="confluence-app-link">' + soy.$$escapeHtml("Server") + ':</label>';
  if (opt_data.appLinks.length == 1) {
    output += '<span class="field-value">' + soy.$$escapeHtml(opt_data.appLinks[0].name) + '</span><input id="confluence-app-link" class="hidden" type="hidden" name="appId" value="' + soy.$$escapeHtml(opt_data.appLinks[0].id) + '"/>';
  } else {
    output += '<select id="confluence-app-link" class="select medium-field" name="appId">';
    var appLinkList17 = opt_data.appLinks;
    var appLinkListLen17 = appLinkList17.length;
    for (var appLinkIndex17 = 0; appLinkIndex17 < appLinkListLen17; appLinkIndex17++) {
      var appLinkData17 = appLinkList17[appLinkIndex17];
      output += '<option value="' + soy.$$escapeHtml(appLinkData17.id) + '">' + soy.$$escapeHtml(appLinkData17.name) + '</option>';
    }
    output += '</select>';
  }
  output += '</div><div class="issue-link-applinks-authentication-message applinks-message-bar"></div><div class="hidden"><input class="issue-link-applinks-application-type" type="hidden" value="com.atlassian.applinks.api.application.confluence.ConfluenceApplicationType"/></div><div class="issue-link-oauth-toggle field-group"><label for="link-search-text" id="linkSearch-label">' + soy.$$escapeHtml("Search") + ':</label><input id="link-search-text" type="text" tabindex="0" class="text" name="linkSearch" size="50" /> <select tabindex="0" class="search-space select" id="search-panel-space"><option value="">' + soy.$$escapeHtml("All Spaces") + '</option></select> <input type="submit" tabindex="0" class="aui-button" id="search-panel-button" value="' + soy.$$escapeHtml("Search") + '"/><span id="link-search-loading" class="icon loading throbber hidden"/></div><div class="message-panel hidden"></div><div id="search-results-table" class="data-table"></div><div class="buttons-container form-footer"><div class="buttons"><button class="aui-button aui-button-link cancel" id="confluence-link-cancel" title="' + soy.$$escapeHtml("Press Esc to close") + '">' + soy.$$escapeHtml("Close") + '</button></div></div></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ConfluencePageSearch.result.soyTemplateName = 'JIRA.Templates.ConfluencePageSearch.result';
}


JIRA.Templates.ConfluencePageSearch.resultsTable = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.results.length > 0) {
    output += '<table id="confluence-searchresult" class="aui"><thead><tr><th width="180px">' + soy.$$escapeHtml("Title") + '</th><th width="550px">' + soy.$$escapeHtml("Excerpt") + '</th></tr></thead><tbody>';
    var resultList44 = opt_data.results;
    var resultListLen44 = resultList44.length;
    for (var resultIndex44 = 0; resultIndex44 < resultListLen44; resultIndex44++) {
      var resultData44 = resultList44[resultIndex44];
      output += '<tr title="' + soy.$$escapeHtml(resultData44.title) + '"><td class="title" data-url="' + soy.$$escapeHtml(resultData44.url) + '">' + soy.$$escapeHtml(resultData44.title) + '</td><td class="excerpt">' + soy.$$escapeHtml(resultData44.excerpt) + '</td></tr>';
    }
    output += '</tbody></table>';
  } else {
    output += '<div class="aui-message info"><span class="aui-icon icon-info"></span><p>' + soy.$$escapeHtml("Search returned no results.") + '</p></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ConfluencePageSearch.resultsTable.soyTemplateName = 'JIRA.Templates.ConfluencePageSearch.resultsTable';
}


JIRA.Templates.ConfluencePageSearch.spaceOptions = function(opt_data, opt_ignored) {
  var output = '<option value="">' + soy.$$escapeHtml("All Spaces") + '</option>';
  var spaceList64 = opt_data.spaces;
  var spaceListLen64 = spaceList64.length;
  for (var spaceIndex64 = 0; spaceIndex64 < spaceListLen64; spaceIndex64++) {
    var spaceData64 = spaceList64[spaceIndex64];
    output += '<option value="' + soy.$$escapeHtml(spaceData64.key) + '">' + soy.$$escapeHtml(spaceData64.name) + '</option>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ConfluencePageSearch.spaceOptions.soyTemplateName = 'JIRA.Templates.ConfluencePageSearch.spaceOptions';
}


JIRA.Templates.ConfluencePageSearch.allSpacesOption = function(opt_data, opt_ignored) {
  return '<option value="">' + soy.$$escapeHtml("All Spaces") + '</option><option value="" disabled="disabled">' + soy.$$escapeHtml("Loading...") + '</option>';
};
if (goog.DEBUG) {
  JIRA.Templates.ConfluencePageSearch.allSpacesOption.soyTemplateName = 'JIRA.Templates.ConfluencePageSearch.allSpacesOption';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-analytics-tracker', location = 'includes/js/rapid/AnalyticsTracker.js' */
define("jira-agile/rapid/analytics-tracker",["require"],function(b){var a=b("underscore");function c(e,g,d){if(a.isUndefined(e)){throw new Error("You must specify a category")}this.params={};this.params.category=e;var f=0;if(!a.isUndefined(g)){this.params.action=g;f++;if(!a.isUndefined(d)){this.params.label=d;f++}}this.requiredArgumentNames=["action","label","value"].slice(f);this.useAsync=true}c.prototype.setAsync=function(d){this.useAsync=d;return this};c.prototype.trigger=function(){if(this.requiredArgumentNames.length<arguments.length){AJS.log("Warning: too many arguments passed in. Needed at most "+this.requiredArgumentNames.length+" but got "+arguments.length)}var f=a.clone(this.params);for(var e=0;e<arguments.length&&!a.isUndefined(this.requiredArgumentNames[e]);e++){f[this.requiredArgumentNames[e]]=arguments[e]}this._validateParams(f);var d="gh.analytics.async";AJS.$(AJS).trigger(d,f)};c.prototype._validateParams=function(e){var d=["category","action","label"];a.each(d,function(f){if(!a.isUndefined(e[f])&&!a.isString(e[f])){e[f]=e[f].toString()}else{if(a.isUndefined(e[f])){e[f]=""}}});a.each(["category","action"],function(f){e[f]=e[f].replace(/\s+/g,"")});if(!a.isUndefined(e.value)){e.value=parseInt(e.value,10);if(isNaN(e.value)){e.value=undefined}}};return c});AJS.namespace("GH.AnalyticsTracker",null,require("jira-agile/rapid/analytics-tracker"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-help-analytics', location = 'includes/js/rapid/ui/help/HelpAnalytics.js' */
AJS.$(function(){var c=require("jira-agile/rapid/analytics-tracker");var a=function(d){return new c(d).setAsync(false)};AJS.$("#gh_view_help").click(function(d){a("gh.gethelp").trigger("usermenu","docs");return b(AJS.$(this))});AJS.$("#greenhopper-my-jira-home-enablement").click(function(d){a("gh.myjirahome").trigger("usermenu","enabled");return b(AJS.$(this))});AJS.$("#greenhopper-my-jira-home-enablement-ondemand").click(function(d){a("gh.myjirahome").trigger("usermenu","set");return b(AJS.$(this))});AJS.$("#greenhopper-my-jira-home-disablement-ondemand").click(function(d){a("gh.myjirahome").trigger("usermenu","disable");return b(AJS.$(this))});AJS.$("#greenhopper-my-jira-home-set").click(function(d){a("gh.myjirahome").trigger("usermenu","set");return b(AJS.$(this))});AJS.$("#beta_gh\\.configuration\\.rapid\\.removal").click(function(g){var d=AJS.$(this),f=d.attr("checked")?"on":"off";a("gh.labs.feature").trigger("rapid_removal",f);return true});AJS.$(document).delegate("#js-classic-link_lnk","click",function(d){a("gh.agile.menu").trigger("classic");return true});var b=function(d){if(d.attr("target")=="_blank"){return true}else{setTimeout('document.location = "'+d.attr("href")+'"',100);return false}}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-help-analytics', location = 'includes/js/rapid/Analytics.js' */
if(typeof GH==="undefined"){window.GH={}}(function(c,g,e,d){d.AnalyticsEnabled=true;var b="gh.analytics.async";function f(){g(document).on(b,function(i,h){a(h)})}function a(i){var j={};var h=i.category;if(!e.isUndefined(i.action)){h=h+"."+i.action}if(!e.isUndefined(i.label)){j.label=i.label}if(!e.isUndefined(i.value)){j.value=i.value}c.trigger("analytics",{name:h,data:j})}f()})(AJS,AJS.$,_,GH);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-globalissueoperations', location = 'includes/js/gh-globalissueoperations.js' */
(function(){var e=require("jira-agile/rapid/analytics-tracker");var c=new e("gh.issueaction.gotorapidboard").setAsync(false);var b=JIRA.FormDialog.extend({_performRedirect:function(f){c.trigger("direct");window.location.href=f}});var d=new b({id:"gh-rapidboard-dialog",trigger:"a.issueaction-greenhopper-rapidboard-operation",ajaxOptions:function(){return JIRA.Dialogs.getDefaultAjaxOptions.apply(this,arguments)}});var a=function(g,h){var i="";var f=AJS.$(g);if(f.hasClass("js-rapidboard-operation-sprint")){i="sprint."}else{if(f.hasClass("js-rapidboard-operation-issue")){i="issue."}}i+=h;return i};AJS.$(function(){AJS.$(document).on("simpleClick",".issueaction-greenhopper-rapidboard-operation",function(g){g.preventDefault();var f=a(g.currentTarget,"open");c.trigger(f);d.show()});AJS.$(document).on("simpleClick",".js-select-rapidboard",function(g){var f=a(g.currentTarget,"chosen");c.trigger(f)})})})();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/gh-namespace.js' */
if(typeof GH!=="object"){window.GH={}}GH.namespace=function(d,c,e){var f=d.split(".");c=c||window;for(var b=0,g=f.length-1;b<g;b++){var a=c[f[b]];c=(a!=null)?a:c[f[b]]={}}c[f[b]]=e||c[f[b]]||{};return c[f[b]]};;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/initFieldPickers.js' */
(function(c){function b(d){c(".js-epic-picker",d).each(function(){var f=c(this);var e=new JIRA.EpicPicker({element:f});c(document).trigger(JIRA.EpicPicker.READY_EVENT,e)})}function a(d){c(".js-sprint-picker",d).each(function(){var f=c(this);var e=new JIRA.SprintPicker({element:f});c(document).trigger(JIRA.SprintPicker.READY_EVENT,e)})}JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(g,d,f){if(f!==JIRA.CONTENT_ADDED_REASON.panelRefreshed){b(d);a(d)}})})(AJS.$);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/EpicPicker.js' */
JIRA.EpicPicker=AJS.SingleSelect.extend({init:function(q){var f=q.element;var c;var p=this;AJS.$.extend(q,{submitInputVal:true,showDropdownButton:true,removeDuplicates:true,ajaxOptions:{url:contextPath+"/rest/greenhopper/1.0/epics",query:true,data:b,formatResponse:d,error:j}});var m=this.setSelection;this.setSelection=function(s,r){if(s.properties.customItem){return}m.apply(this,arguments)};h();function b(s){var r=!n();return{searchQuery:s,projectKey:AJS.$(f).attr("data-project-key"),maxResults:100,hideDone:r}}function l(z,s,y,v){z=AJS.escapeHTML(String(z));s=AJS.escapeHTML(String(s));v=AJS.escapeHTML(String(v));var A=v.toUpperCase();var t=z.toUpperCase();var B=s.toUpperCase();A=(A+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1");var r=new RegExp("("+A+")","gi");var w=t.search(r);var x;if(w>-1){x=z.slice(w,w+v.length);z=z.replace(x,"<em>"+x+"</em>")}w=B.search(r);if(w>-1){x=s.slice(w,w+v.length);s=s.replace(x,"<em>"+x+"</em>")}var u=y?(" &#8226; "+"Done"):"";return z+" - <span class='epic-menu-metadata'>("+s+u+")</span>"}function d(u){if(!u||!u.epicLists||u.total===0){return[]}var x=[];var y=p.getQueryVal();var z=0;for(var w=0;w<u.epicLists.length;w++){var r=u.epicLists[w];var t=r.epicNames;var v=a(w+1,r.listDescriptor);if(t.length>0){_.each(t,function(A){v.addItem(k(A,y))});x.push(v)}z+=t.length}if(z>0){var s=new AJS.GroupDescriptor({weight:0,showLabel:false,items:[new AJS.ItemDescriptor({label:y,highlighted:true,styleClass:"ghx-epic-menu-header",customItem:true,html:"<li><h5>"+AJS.format("Showing {0} of {1} matching epics",z,u.total)+"</h5><label for='chkShowDoneEpic'><input type='checkbox' id='chkShowDoneEpic'"+(n()?" checked":"")+">"+"Show done epics"+"</label></li>"})]});x.unshift(s)}return x}function k(v,u){var s=v.key;var w=v.name;var t=v.isDone;var r=l(w,s,t,u);return new AJS.ItemDescriptor({value:"key:"+s,fieldText:w,label:r,html:r,allowDuplicate:false,highlighted:true})}function a(s,r){return new AJS.GroupDescriptor({weight:s,label:r,replace:true})}function j(t,u,s){var r=AJS.$(f);r.siblings(".ghx-error").remove();r.before(GH.tpl.rapid.notification.renderAuiMessage({message:("Error"+": "+s),type:"error",className:"ghx-error aui-ss"}))}function i(t){var r="";var s=false;if(t&&t.length>0){r=AJS.format("Epic with key \'\'{0}\'\' does not exist.",t);s=true}return{isError:s,message:r}}function o(s){var r,t;c.apply(p,[s]);s=s||AJS.$.trim(p.$field.val());t=p.model.getDescriptor(s);if(!t&&p.$container.hasClass("aui-ss-editing")){r=i(s);if(r.isError){p.options.errorMessage=r.message;p.showErrorMessage(s)}else{p.hideErrorMessage()}}}function e(){AJS.$(p.$field[0].form).submit()}function h(){p._super(q);c=p.handleFreeInput;p.handleFreeInput=o;var r=require("jira/ajs/layer/inline-layer");p.dropdownController.bind(r.EVENTS.show,function(s,t){t.off("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',g);t.on("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',g)})}function n(){return localStorage.getItem("gh.epicpicker.showdone")==="true"}function g(s){s.preventDefault();var r=!n();localStorage.setItem("gh.epicpicker.showdone",r);p.$field.click();return false}}});JIRA.EpicPicker.READY_EVENT="gh.epic-picker.ready";;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintPicker.js' */
JIRA.SprintPicker=AJS.SingleSelect.extend({init:function(f){var n={ACTIVE:"ACTIVE",FUTURE:"FUTURE",CLOSED:"CLOSED"};var j=10;var b=f.element;var l,o;var u=b.data("saved-state"),t=b.data("saved-id");var h,q=this;var e=AJS.SelectSuggestHandler.extend({formatSuggestions:function(y,z){y=this._super(y,z);if(z.length===0){y[y.length-1].footerText("Start typing for sprints.")}return y}});AJS.$.extend(f,{submitInputVal:false,showDropdownButton:true,removeOnUnSelect:false,maxInlineResultsDisplayed:j,ajaxOptions:{url:contextPath+"/rest/greenhopper/1.0/sprint/picker",query:true,formatResponse:w,error:s}});p();function i(z){var y=l.apply(this,arguments);y.find("a").append(GH.tpl.customfields.sprintpicker.renderSuggestionMeta(z.properties));return y}function x(A){var z=this.getSelectedDescriptor(),y;if(!A&&!z){c(null)}k();this.hideErrorMessage();if(!z){y=d(A)}else{y=r(z)}if(y.message){this.options.errorMessage=y.message;o.apply(this,arguments);this.$errorMessage.addClass("inline-edit-error")}if(y.needsScopeChangeWarning){m()}}function d(A){var z=null,y=false;if(A&&A.length>0){if(u){z=AJS.format("{0} is not a valid sprint name. This issue will be returned to the backlog.",A);if(u===n.ACTIVE){y=true}}else{z=AJS.format("{0} is not a valid sprint name.",A)}}else{if(u===n.ACTIVE){y=true}}return{message:z,needsScopeChangeWarning:y}}function r(z){var y=false;if(u===n.ACTIVE){if(v()){y=true}else{y=(t!=z.properties.value)}}else{if(u===n.FUTURE){if(z.properties.stateKey===n.ACTIVE){y=true}}else{if(!u){if(z.properties.stateKey===n.ACTIVE){y=true}}}}return{message:null,needsScopeChangeWarning:y}}function m(){if(!h){if(!v()){h=AJS.$(GH.tpl.rapid.notification.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:true,title:"Sprint scope will be affected by this action."}))}var y=q.$container.closest(".inline-edit-fields");if(y.size()>0){if(v()){h=AJS.$('<div class="ghx-estimate-scope-warning"></div>');h.text("Sprint scope will be affected by this action.");y.find(".field-group").append(h)}else{y.closest(".editable-field").append(h)}}else{if(v()){h=AJS.$(GH.tpl.rapid.notification.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:true,title:"Sprint scope will be affected by this action."}))}q.$container.closest(".field-group").append(h)}}h.show()}function k(){if(h){h.remove();h=null}}function w(y){if(!y.suggestions&&!y.allMatches){return[]}var A=new AJS.GroupDescriptor({weight:0,label:"Suggestions"});var z=new AJS.GroupDescriptor({weight:1,label:"All sprints"});_.each(a(y.suggestions),function(B){A.addItem(g(B,true))});_.each(a(y.allMatches),function(B){z.addItem(g(B,false))});return[A,z]}function g(A,z){var y=AJS.escapeHTML(String(A.name));return new AJS.ItemDescriptor({value:A.id.toString(),label:A.name,html:y,stateKey:A.stateKey,boardName:A.boardName,allowDuplicate:false,isSuggestion:z})}function a(y){return _.sortBy(y,function(z){return z.name.toLowerCase()})}function c(y){if(GH.SprintConfig){AJS.$(GH).trigger("QuickEdit.fieldChange",{fieldId:GH.SprintConfig.getSprintFieldId(),fieldChangeData:{original:t,updated:y?y.properties.value:null}})}}function p(){q._super(f);l=q.listController._renders.suggestion;o=q.showErrorMessage;q.listController._renders.suggestion=i;q.showErrorMessage=x;if(v()){var y=q.$container.closest(".inline-edit-fields");var z=y.size()>0;if(z){var A=b.parent().find("input");A.on("focus",function(){q.showErrorMessage()})}}b.bind("selected",function(D,C,B){if(!v()||!z){B.showErrorMessage(B.getQueryVal())}c(C);q.showErrorMessage()});q.suggestionsHandler=new e(q.options,q.model)}function s(z,B,A){var y=AJS.$(b);y.siblings(".ghx-error").remove();y.before(GH.tpl.rapid.notification.renderAuiMessage({message:("Error"+": "+A),type:"error",className:"ghx-error aui-ss"}))}function v(){if(GH&&GH.DetailsObjectFactory){return GH.DetailsObjectFactory.isInlineEditableEnabled()}return false}}});JIRA.SprintPicker.READY_EVENT="gh.sprint-picker.ready";;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintPicker.soy' */
// This file was automatically generated from SprintPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintpicker.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintpicker == 'undefined') { GH.tpl.customfields.sprintpicker = {}; }


GH.tpl.customfields.sprintpicker.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '' + ((opt_data.boardName && ! opt_data.isSuggestion) ? '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithBoardName(opt_data) + ')</span>' : '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName(opt_data) + ')</span>');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderSuggestionMeta';
}


GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml("Active sprint") : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml("Future sprint") : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintpicker.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format("Active sprint in {0}",opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format("Future sprint in {0}",opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithBoardName';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/rapid/ui/notification/Notification.js' */
GH.namespace("GH.Notification");GH.Notification={};GH.Notification.autoHideEnabled=true;GH.Notification.showErrors=function(d,a){var b=GH.Notification.prepareNotificationDiv();var c=GH.tpl.rapid.notification.renderErrorMessages(d);if(typeof a=="undefined"){a=true}AJS.messages.error(b,{title:"Error",body:c,closeable:a});if(GH.Notification._divStyle(b)){b.css(GH.Notification._divStyle(b))}b.show()};GH.Notification.showWarnings=function(f,e){var b={autoHide:true,autoHideDelay:5000,preRendered:false,showTitle:false};e=_.extend({},b,e);var c=GH.Notification.prepareNotificationDiv();var a;if(!e.preRendered){a=GH.tpl.rapid.notification.renderErrorMessages({errors:f})}else{a=f}var d={body:a,closeable:true};if(e.showTitle){d.title="Warning"}AJS.messages.warning(c,d);if(GH.Notification._divStyle(c)){c.css(GH.Notification._divStyle(c))}c.show();if(e.autoHide&&GH.Notification.autoHideEnabled){setTimeout(function(){c.hide()},e.autoHideDelay)}};GH.Notification.showWarning=function(b){var a=GH.Notification.prepareNotificationDiv();AJS.messages.warning(a,{body:b,closeable:true});if(GH.Notification._divStyle(a)){a.css(GH.Notification._divStyle(a))}a.show()};GH.Notification.clear=function(){GH.Notification.prepareNotificationDiv().hide()};GH.Notification.handleDateFormatMismatchError=function(c){var b='<a href="'+GH.Ajax.CONTEXT_PATH+'/secure/admin/AdvancedApplicationProperties.jspa">';b+="Advanced Settings";b+="</a>";var a=AJS.format("It appears your JIRA date format settings are misconfigured. Please check the {0} and ensure that \'\'jira.date.time.picker.java.format\'\' and \'\'jira.date.time.picker.javascript.format\'\' have matching output.",b);GH.Notification.showWarnings(a,{autoHide:false,preRendered:true})};GH.Notification.auiMessage=function(b){var a=_.extend({type:"generic",icon:true,messageHtml:false},b);return GH.tpl.rapid.notification.renderAuiMessage({type:a.type,title:a.title,icon:a.icon,messageHtml:a.messageHtml,message:a.message})};GH.Notification.Handler={_defaultNotificationHandler:function(){var a=AJS.$("<div/>");AJS.$(".global-msg").remove();a.addClass("global-msg").appendTo("body");return a},_defaultDivStyleHandler:function(a){return{marginLeft:-a.outerWidth()/2,top:20}},setCustomDivStyleHandler:function(a){this._customDivStyleHandler=a;this._useDefault=false},_useDefault:true,setCustomNotificationHandler:function(a){this._customNotificationHandler=a;this._useDefault=false},removeCustomHandlers:function(){this._useDefault=true},getNotificationHandler:function(){if(!this._useDefault&&this._customNotificationHandler!=null){return this._customNotificationHandler}else{return this._defaultNotificationHandler}},getDivStyleHandler:function(){if(!this._useDefault&&this._customDivStyleHandler!=null){return this._customDivStyleHandler}else{return this._defaultDivStyleHandler}}};GH.Notification._divStyle=function(b){var a=GH.Notification.Handler.getDivStyleHandler();return a(b)};GH.Notification.prepareNotificationDiv=function(){var a=GH.Notification.Handler.getNotificationHandler();return a()};GH.Notification.showSuccess=function(d,b){clearTimeout(GH.Notification.current);var a={timeout:5000,closeable:true,shadowed:true};b=_.extend(a,b,{body:d});var c=GH.Notification.prepareNotificationDiv();AJS.messages.success(c,b);if(GH.Notification._divStyle(c)){c.css(GH.Notification._divStyle(c))}c.show();if(GH.Notification.autoHideEnabled){GH.Notification.current=setTimeout(function(){AJS.$(".global-msg").hide()},b.timeout)}};GH.Notification.showIssueMessage=function(d){var c=JIRA.SessionStorage;var b=null;var a=null;if(!d){d=c.getItem("selectedIssueId")}if(d){a=c.getItem("selectedIssueKey");b=c.getItem("selectedIssueMsg");GH.Notification.showIssueMessageImpl(d,b,a)}c.removeItem("selectedIssueId");c.removeItem("selectedIssueKey");c.removeItem("selectedIssueMsg")};GH.Notification.showIssueMessageImpl=function(d,c,a){if(!c){c="thanks_issue_updated"}var b=AJS.params[c];if(b&&a){b=AJS.format(b,a);GH.Notification.showSuccess(b)}};GH.Notification.addPageLoadMessage=function(c,a){var b=GH.storage.get("gh.pageloadmessages",true)||[];b.push({message:c,type:a||"success"});GH.storage.put("gh.pageloadmessages",b,true)};GH.Notification._displayPageLoadMessages=function(){var c=GH.storage.get("gh.pageloadmessages",true);if(c){var a=c[0].type;var b="";_.each(c,function(d){if(b.length>0){b+="<br>"}b+=d.message});switch(a){case"warning":GH.Notification.showWarning(b);break;case"success":default:GH.Notification.showSuccess(b);break}GH.storage.put("gh.pageloadmessages",null,true)}};GH.Notification.showBoardUpdatedMessage=function(){GH.Notification.clearBoardUpdatedMessage();var b=AJS.$.Deferred();var a=AJS.$(GH.tpl.rapid.notification.renderGHtvMessage()).appendTo("#gh");a.data("deferred",b);a.find(".js-refresh-now").click(function(c){c.preventDefault();a.removeData("deferred");GH.Notification.clearBoardUpdatedMessage();b.resolve()});a.find(".js-ignore-refresh").click(function(c){c.preventDefault();GH.Notification.clearBoardUpdatedMessage()});return b.promise()};GH.Notification.clearBoardUpdatedMessage=function(){var a=AJS.$("#ghx-update-message");if(a.length){var b=a.data("deferred");if(b&&b.reject){b.reject()}a.remove()}};GH.Notification.isBoardUpdatedMessageVisible=function(){var a=AJS.$("#ghx-update-message");return a.length>0};AJS.$(document).ready(function(){GH.Notification.showIssueMessage();if(GH.storage){GH.Notification._displayPageLoadMessages()}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/rapid/ui/notification/Notification.soy' */
// This file was automatically generated from Notification.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.notification.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.notification == 'undefined') { GH.tpl.rapid.notification = {}; }


GH.tpl.rapid.notification.renderErrorMessages = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.length > 1) {
    output += '<ul>';
    var errorList6 = opt_data.errors;
    var errorListLen6 = errorList6.length;
    for (var errorIndex6 = 0; errorIndex6 < errorListLen6; errorIndex6++) {
      var errorData6 = errorList6[errorIndex6];
      output += '<li>' + ((errorData6.noAutoescape) ? soy.$$filterNoAutoescape(errorData6.message) : soy.$$escapeHtml(errorData6.message)) + '</li>';
    }
    output += '</ul>';
  } else {
    var errorList18 = opt_data.errors;
    var errorListLen18 = errorList18.length;
    for (var errorIndex18 = 0; errorIndex18 < errorListLen18; errorIndex18++) {
      var errorData18 = errorList18[errorIndex18];
      output += '<p>' + ((errorData18.noAutoescape) ? soy.$$filterNoAutoescape(errorData18.message) : soy.$$escapeHtml(errorData18.message)) + '</p>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderErrorMessages.soyTemplateName = 'GH.tpl.rapid.notification.renderErrorMessages';
}


GH.tpl.rapid.notification.renderContextualErrors = function(opt_data, opt_ignored) {
  var output = '';
  var errorList29 = opt_data.errors;
  var errorListLen29 = errorList29.length;
  for (var errorIndex29 = 0; errorIndex29 < errorListLen29; errorIndex29++) {
    var errorData29 = errorList29[errorIndex29];
    output += '<div class="ghx-error">' + soy.$$escapeHtml(errorData29.message) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderContextualErrors.soyTemplateName = 'GH.tpl.rapid.notification.renderContextualErrors';
}


GH.tpl.rapid.notification.renderMessageHolder = function(opt_data, opt_ignored) {
  return '<div class="ghx-body-warning">' + soy.$$escapeHtml(AJS.format("This version of {0} is not a supported browser.",opt_data.browser)) + ' <a href="' + soy.$$escapeHtml(opt_data.docsUrl) + '">' + soy.$$escapeHtml("See our documentation for the list of supported browsers.") + '</a></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderMessageHolder.soyTemplateName = 'GH.tpl.rapid.notification.renderMessageHolder';
}


GH.tpl.rapid.notification.renderAuiMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-message ' + soy.$$escapeHtml(opt_data.type) + ((opt_data.className) ? ' ' + soy.$$escapeHtml(opt_data.className) : '') + '">' + ((opt_data.title) ? '<p class="title">' + ((opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + '<strong>' + soy.$$escapeHtml(opt_data.title) + '</strong></p>' : '') + ((opt_data.message) ? '<p>' + ((! opt_data.title && opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + ((opt_data.messageHtml) ? soy.$$filterNoAutoescape(opt_data.message) : soy.$$escapeHtml(opt_data.message)) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderAuiMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderAuiMessage';
}


GH.tpl.rapid.notification.renderGHtvMessage = function(opt_data, opt_ignored) {
  return '<div id="ghx-update-message" class="ghx-tv-message"><p>' + soy.$$escapeHtml("This board has been updated") + ': <a href="" class="js-refresh-now">' + soy.$$escapeHtml("Refresh") + '</a><span class="ghx-divider">&bull;</span><a href="" class="js-ignore-refresh">' + soy.$$escapeHtml("Ignore") + '</a></p></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderGHtvMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderGHtvMessage';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintMultiselect.js' */
JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(f,d){function c(e){var h=new AJS.GroupDescriptor({weight:0,label:"Suggestions",items:_.map(e.suggestions,b)});var g=new AJS.GroupDescriptor({weight:1,label:"All sprints",items:_.map(e.allMatches,b)});return[h,g]}function b(g){g.date=moment(g.date,"YYYY-MM-DDTHH:mm:ssZ").format("LL");var e=GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta(g);return new AJS.ItemDescriptor({value:g.id,label:g.name,html:e,title:GH.tpl.customfields.sprintmultiselect.renderTooltip(g),date:g.date,boardName:g.boardName,stateKey:g.stateKey,highlighted:true,allowDuplicate:false})}function a(e){return _.sortBy(e,"id")}AJS.$(".js-sprint-checkboxmultiselect",d).each(function(){var e=new AJS.CheckboxMultiSelect({element:this,maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:true,ajaxOptions:{url:AJS.contextPath()+"/rest/greenhopper/1.0/sprint/picker",error:function(){e._setSuggestions([])},data:{excludeCompleted:false},query:true,formatResponse:c},suggestionsHandler:GH.SprintSuggestHandler})})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintMultiselect.soy' */
// This file was automatically generated from SprintMultiselect.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintmultiselect.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintmultiselect == 'undefined') { GH.tpl.customfields.sprintmultiselect = {}; }


GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '<div>' + soy.$$escapeHtml(opt_data.name) + '</div><div><span class=\'ghx-sprint-multiselect-meta\'> ' + ((opt_data.boardName) ? GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName(opt_data) : GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName(opt_data)) + '</span></div>';
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml("Active") : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml("Future") : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml("Closed") : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format("Active \xb7 {0}",opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format("Future \xb7 {0}",opt_data.boardName)) : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format("Closed \xb7 {0}",opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderTooltip = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format("Started on {0}",opt_data.date)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml("Future") : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format("Closed on {0}",opt_data.date)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderTooltip.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderTooltip';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintSuggestHandler.js' */
define("includes/js/field/sprint-suggest-handler",["jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"],function(a){return a.extend({formatSuggestions:function(c,d){var b=this.model.getDisplayableSelectedDescriptors();prepareSelectedDescriptors(b);var e=function(f){var g;for(g in b){if(b[g].properties.value===f.properties.value.toString()){return false}}return true};c=_.map(c,function(g){var f=_.filter(g.properties.items,e);g.properties.items=f;return g});return this._super(c,d)}})});function prepareSelectedDescriptors(a){_.each(a,function(c){var b=JSON.parse(c.properties.meta);b.date=moment(b.date).format("LL");c.properties.title=GH.tpl.customfields.sprintmultiselect.renderTooltip(b);c.properties.html=GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta(b)})}AJS.namespace("GH.SprintSuggestHandler",null,require("includes/js/field/sprint-suggest-handler"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/EpicLinkMultiselect.js' */
require(["require"],function(c){var d=c("jquery");var b=c("underscore");function e(f){if(f.indexOf("project")!==0){return""}return a(f).trim()}function a(f){function g(i){var j=i.match(/\bproject\s*=\s*(\S+)/i);return j?j[1]:null}function h(i){var j=i.match(/\bproject\s+in\s+\((.*?)\)/i);return j?j[1]:null}return g(f)||h(f)}JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(h,f){var g=d("#jql",this).val();f.find(".js-epiclink-checkboxmultiselect").each(function(){var i=new AJS.CheckboxMultiSelect({element:this,matchingStrategy:"(^|.*?(.*))({0})(.*)",maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:true,ajaxOptions:{url:AJS.contextPath()+"/rest/greenhopper/1.0/epics",error:function(){i._setSuggestions([])},data:{searchQuery:"",projectKey:e(g),filterEpicsByGivenProjects:true,maxResults:100},query:true,minQueryLength:0,formatResponse:function(j){var m=[];m.push(new AJS.GroupDescriptor({weight:1,items:[new AJS.ItemDescriptor({highlighted:true,label:"No Epic Link",value:"EMPTY",title:"EMPTY"})]}));if(!j||!j.epicLists||j.total===0){return m}for(var n=0;n<j.epicLists.length;n++){var l=j.epicLists[n];var k=l.epicNames;var o=new AJS.GroupDescriptor({label:l.listDescriptor,weight:n});if(k.length>0){b.each(k,function(p){o.addItem(new AJS.ItemDescriptor({highlighted:true,label:p.name+" - ("+p.key+")",value:p.key,title:p.key}))});m.push(o)}}return m}},suggestionsHandler:GH.EpicLinkSuggestHandler})})})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/EpicLinkSuggestHandler.js' */
define("includes/js/field/epic-link-suggest-handler",["jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"],function(a){return a.extend({formatSuggestions:function(c,e){var b=this.model.getDisplayableSelectedDescriptors();var d=function(f){var g;for(g in b){if(b[g].properties.value===f.properties.value.toString()){return false}}return true};c=_.map(c,function(g){var f=_.filter(g.properties.items,d);g.properties.items=f;return g});return this._super(c,e)}})});AJS.namespace("GH.EpicLinkSuggestHandler",null,require("includes/js/field/epic-link-suggest-handler"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:project-template-resources', location = '/projecttemplates/soy/ProjectTemplates.soy' */
// This file was automatically generated from ProjectTemplates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.projecttemplates.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.projecttemplates == 'undefined') { GH.tpl.projecttemplates = {}; }


GH.tpl.projecttemplates.kanbanInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: "Use this project to optimise the flow of work in your development project. Add constraints to work-in-progress, analyze how long it takes to complete issues, find bottlenecks in your process, and more. This project includes a Kanban board, a basic Agile workflow and issue type configuration, which you can change later on.", extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml("Story") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml("Epic") + '</span></span></li>', workflowScreenshotClass: 'kanban-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.kanbanInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.kanbanInfoPageJira7';
}


GH.tpl.projecttemplates.scrumInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: "Use this project to manage your Agile development work. Create a backlog, organise work into sprints, check progress using reports, and more. This project includes a Scrum board, a basic Agile workflow and issue type configuration, which you can change later on.", extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml("Story") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml("Epic") + '</span></span></li>', workflowScreenshotClass: 'scrum-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.scrumInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.scrumInfoPageJira7';
}


GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: "Use this project to work on new features for your product and also track any bugs. This project provides you with a basic workflow and issue type configuration, which you can change later on.", extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon improvement"></span><span class="issuetype-name">' + soy.$$escapeHtml("Improvement") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon newfeature"></span><span class="issuetype-name">' + soy.$$escapeHtml("New Feature") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml("Epic") + '</span></span></li>', workflowScreenshotClass: 'basic-development-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7';
}


GH.tpl.projecttemplates.templateInfoDialog = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml(opt_data.description) + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml("Issue Types") + '</h6><ul class="project-template-issuetype-list" ><li><span class="issuetype-list-label"><span class="issuetype-icon bug"></span><span class="issuetype-name">' + soy.$$escapeHtml("Bug") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon task"></span><span class="issuetype-name">' + soy.$$escapeHtml("Task") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon subtask"></span><span class="issuetype-name">' + soy.$$escapeHtml("Sub-task") + '</span></span></li>' + soy.$$filterNoAutoescape(opt_data.extraIssueTypes) + '</ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml("workflow") + '</h6><div class="workflow ' + soy.$$escapeHtml(opt_data.workflowScreenshotClass) + '"></div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.templateInfoDialog.soyTemplateName = 'GH.tpl.projecttemplates.templateInfoDialog';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-globalkeyboardshortcuts', location = 'includes/js/gh-globalkeyboardshortcuts.js' */
(function(b){b.namespace("gh.app.globalkeyboardshortcuts");var a=gh.app.globalkeyboardshortcuts;a.findSelectedIssueId=function(){var c;if(jira&&jira.app&&jira.app.issuenavigator&&jira.app.issuenavigator.getSelectedIssueId){c=jira.app.issuenavigator.getSelectedIssueId()}if(!c&&jira&&jira.app&&jira.app.issue&&jira.app.issue.getIssueId){c=jira.app.issue.getIssueId()}return c};a.goToAgile=function(){var c=(contextPath?contextPath:"")+"/secure/RapidBoard.jspa";window.location.href=c};a.followLink=function(c){var d=b(c);if(d.length>0&&(d[0].nodeName.toLowerCase()==="a"||d[0].nodeName.toLowerCase()==="link")){d.click();window.location.href=d.attr("href")}};a.sendToTop=function(d,e){if(window.GH&&GH.RapidBoard&&GH.Shortcut&&GH.Shortcut.sendToTop){GH.Shortcut.sendToTop(d);a.closeDialogAndPopMessage();return}if(d!="Action"){return}var c=e||a.findSelectedIssueId();if(!contextPath){contextPath=""}JIRA.SmartAjax.makeRequest({type:"post",contentType:"application/json",url:contextPath+"/rest/greenhopper/1.0/rank/global/first",data:JSON.stringify({issueId:c}),success:a.handleRankSuccess});AJS.$(AJS).trigger("gh.global.rankissues",{action:"rankToTop"+(d?d:""),count:1})};a.sendToBottom=function(d,e){if(window.GH&&GH.RapidBoard&&GH.Shortcut&&GH.Shortcut.sendToBottom){GH.Shortcut.sendToBottom(d);a.closeDialogAndPopMessage();return}if(d!="Action"){return}var c=e||a.findSelectedIssueId();if(!contextPath){contextPath=""}JIRA.SmartAjax.makeRequest({type:"post",contentType:"application/json",url:contextPath+"/rest/greenhopper/1.0/rank/global/last",data:JSON.stringify({issueId:c}),success:a.handleRankSuccess});AJS.$(AJS).trigger("gh.global.rankissues",{action:"rankToBottom"+(d?d:""),count:1})};a.closeDialogAndPopMessage=function(){if(JIRA.IssueNavigator.isNavigator()){AJS.reloadViaWindowLocation()}else{if(JIRA.Dialog&&JIRA.Dialog.current){JIRA.Dialog.current.hide()}if(window.GH){if(GH.Message&&GH.Message.showIssueMessage){GH.Message.showIssueMessage()}else{if(GH.RapidBoard&&GH.Notification&&GH.Notification.showIssueMessage){GH.Notification.showIssueMessage()}}if(window.Boards){Boards.refreshAll()}}else{if(JIRA.IssueNavigator&&JIRA.IssueNavigator.Shortcuts&&JIRA.IssueNavigator.Shortcuts.flashIssueRow){JIRA.IssueNavigator.Shortcuts.flashIssueRow()}}}};a.handleRankSuccess=function(c,e,d){a.storeSuccessMessage(c.issueId,c.issueKey,"thanks_issue_updated");a.closeDialogAndPopMessage()};a.storeSuccessMessage=function(e,c,d){var f=JIRA.SessionStorage;f.setItem("selectedIssueId",e);f.setItem("selectedIssueKey",c);f.setItem("selectedIssueMsg",d)};AJS.$(function(){AJS.$(document).delegate(".issueaction-greenhopper-rank-top-operation","click",function(c){c.preventDefault();var d=AJS.$(this).attr("data-issueid");a.sendToTop("Action",d)});AJS.$(document).delegate(".issueaction-greenhopper-rank-bottom-operation","click",function(c){c.preventDefault();var d=AJS.$(this).attr("data-issueid");a.sendToBottom("Action",d)})})})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:bamboo-soy-resources', location = 'templates/plugins/bamboo/components.soy' */
// This file was automatically generated from components.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bamboo.components.
 */

if (typeof bamboo == 'undefined') { var bamboo = {}; }
if (typeof bamboo.components == 'undefined') { bamboo.components = {}; }


bamboo.components.pageHeader = function(opt_data, opt_ignored) {
  return '' + aui.page.pageHeader({content: '' + ((opt_data.headerImageContent) ? aui.page.pageHeaderImage({content: opt_data.headerImageContent}) : '') + aui.page.pageHeaderMain({content: opt_data.headerMainContent}) + ((opt_data.headerActionsContent) ? aui.page.pageHeaderActions({content: opt_data.headerActionsContent}) : '')});
};
if (goog.DEBUG) {
  bamboo.components.pageHeader.soyTemplateName = 'bamboo.components.pageHeader';
}


bamboo.components.icon = function(opt_data, opt_ignored) {
  return '<span class="bamboo-icon bamboo-icon-' + soy.$$escapeHtml(opt_data.type) + '"' + ((opt_data.text && opt_data.showTitle) ? ' title="' + soy.$$escapeHtml(opt_data.text) + '"' : '') + '>' + ((opt_data.text) ? '<span>' + soy.$$escapeHtml(opt_data.text) + '</span>' : '') + '</span>';
};
if (goog.DEBUG) {
  bamboo.components.icon.soyTemplateName = 'bamboo.components.icon';
}


bamboo.components.buildDetail = function(opt_data, opt_ignored) {
  return '<dl><dt class="' + soy.$$escapeHtml(opt_data.keyClass) + '">' + soy.$$escapeHtml(opt_data.key) + '</dt><dd>' + soy.$$filterNoAutoescape(opt_data.value) + '</dd></dl>';
};
if (goog.DEBUG) {
  bamboo.components.buildDetail.soyTemplateName = 'bamboo.components.buildDetail';
}


bamboo.components.artifacts = function(opt_data, opt_ignored) {
  var output = '<ul id="shared-artifacts">';
  var artifactList42 = opt_data.artifacts;
  var artifactListLen42 = artifactList42.length;
  for (var artifactIndex42 = 0; artifactIndex42 < artifactListLen42; artifactIndex42++) {
    var artifactData42 = artifactList42[artifactIndex42];
    output += bamboo.components.artifactItem(soy.$$augmentMap(artifactData42, {id: artifactData42.name, url: artifactData42.link.href}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.artifacts.soyTemplateName = 'bamboo.components.artifacts';
}


bamboo.components.artifactItem = function(opt_data, opt_ignored) {
  return '<li>' + bamboo.components.icon({type: 'artifact-shared'}) + ' <a class="artifact-link" id="artifact-' + soy.$$escapeHtml(opt_data.id) + '" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</a><span class="filesize">(' + soy.$$escapeHtml(opt_data.prettySizeDescription) + ')</span></li>';
};
if (goog.DEBUG) {
  bamboo.components.artifactItem.soyTemplateName = 'bamboo.components.artifactItem';
}


bamboo.components.labels = function(opt_data, opt_ignored) {
  var output = '<ul class="labels">';
  var labelList65 = opt_data.labels;
  var labelListLen65 = labelList65.length;
  for (var labelIndex65 = 0; labelIndex65 < labelListLen65; labelIndex65++) {
    var labelData65 = labelList65[labelIndex65];
    output += bamboo.components.labelItem(soy.$$augmentMap(labelData65, {url: opt_data.baseBambooUrl + '/browse/label/' + labelData65.name}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.labels.soyTemplateName = 'bamboo.components.labels';
}


bamboo.components.labelItem = function(opt_data, opt_ignored) {
  return '<li><a class="lozenge" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '"><span>' + soy.$$escapeHtml(opt_data.name) + '</span></a></li>';
};
if (goog.DEBUG) {
  bamboo.components.labelItem.soyTemplateName = 'bamboo.components.labelItem';
}


bamboo.components.errorResponseMessage = function(opt_data, opt_ignored) {
  return '' + bamboo.components.auiWarning({body: '' + ((opt_data.errorMessage.messageBody) ? '<p>' + soy.$$escapeHtml(opt_data.errorMessage.messageBody) + '</p>' : (opt_data.errorMessage.oauthCallback) ? '<p><a href="' + soy.$$filterNoAutoescape(opt_data.errorMessage.oauthCallback) + '&amp;redirectUrl=' + soy.$$filterNoAutoescape(opt_data.oAuthDanceReturnUrl) + '">' + soy.$$escapeHtml("Log in \x26 approve") + '</a></p>' : '<p>' + soy.$$escapeHtml(opt_data.errorMessage.message) + '</p>')});
};
if (goog.DEBUG) {
  bamboo.components.errorResponseMessage.soyTemplateName = 'bamboo.components.errorResponseMessage';
}


bamboo.components.auiWarning = function(opt_data, opt_ignored) {
  return '<div class="aui-message warning"><span class="aui-icon icon-warning"></span>' + soy.$$filterNoAutoescape(opt_data.body) + '</div>';
};
if (goog.DEBUG) {
  bamboo.components.auiWarning.soyTemplateName = 'bamboo.components.auiWarning';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-vendor-jquery-plugins-jquery-select2', location = 'node_modules/@atlassian/aui/src/js-vendor/jquery/plugins/jquery.select2.js' */
("undefined"===typeof window?global:window).__874787fbb4407ec800648684906992cd=function(){var y=jQuery;"undefined"==typeof y.fn.each2&&y.extend(y.fn,{each2:function(a){for(var b=y([0]),c=-1,d=this.length;++c<d&&(b.context=b[0]=this[c])&&!1!==a.call(b[0],c,b););return this}});var e=jQuery,w=function(a){var b,c,d,g;if(!a||1>a.length)return a;b="";c=0;for(d=a.length;c<d;c++)g=a.charAt(c),b+=O[g]||g;return b},k=function(a,b){for(var c=0,d=b.length;c<d;c+=1)if(m(a,b[c]))return c;return-1},m=function(a,
b){return a===b?!0:void 0===a||void 0===b||null===a||null===b?!1:a.constructor===String?a+""===b+"":b.constructor===String?b+""===a+"":!1},B=function(a,b){var c,d,g;if(null===a||1>a.length)return[];c=a.split(b);d=0;for(g=c.length;d<g;d+=1)c[d]=e.trim(c[d]);return c},G=function(a){a.on("keydown",function(){void 0===e.data(a,"keyup-change-value")&&e.data(a,"keyup-change-value",a.val())});a.on("keyup",function(){var b=e.data(a,"keyup-change-value");void 0!==b&&a.val()!==b&&(e.removeData(a,"keyup-change-value"),
a.trigger("keyup-change"))})},H=function(a,b,c){var c=c||void 0,d;return function(){var g=arguments;window.clearTimeout(d);d=window.setTimeout(function(){b.apply(c,g)},a)}},j=function(a){a.preventDefault();a.stopPropagation()},z=function(a,b,c){var d,g=[],h;(d=a.attr("class"))&&e((""+d).split(" ")).each2(function(){0===this.indexOf("select2-")&&g.push(this)});(d=b.attr("class"))&&e((""+d).split(" ")).each2(function(){0!==this.indexOf("select2-")&&(h=c(this))&&g.push(h)});a.attr("class",g.join(" "))},
I=function(a,b,c,d){var g=w(a.toUpperCase()).indexOf(w(b.toUpperCase())),b=b.length;0>g?c.push(d(a)):(c.push(d(a.substring(0,g))),c.push("<span class='select2-match'>"),c.push(d(a.substring(g,g+b))),c.push("</span>"),c.push(d(a.substring(g+b,a.length))))},J=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},K=function(a){var b,c=null,d=a.quietMillis||100,g=a.url,h=this;return function(l){window.clearTimeout(b);
b=window.setTimeout(function(){var b=a.data,d=g,t=a.transport||e.fn.select2.ajaxDefaults.transport,f=e.extend({},e.fn.select2.ajaxDefaults.params,{type:a.type||"GET",cache:a.cache||!1,jsonpCallback:a.jsonpCallback||void 0,dataType:a.dataType||"json"}),b=b?b.call(h,l.term,l.page,l.context):null,d="function"===typeof d?d.call(h,l.term,l.page,l.context):d;c&&c.abort();a.params&&(e.isFunction(a.params)?e.extend(f,a.params.call(h)):e.extend(f,a.params));e.extend(f,{url:d,dataType:a.dataType,data:b,success:function(b){b=
a.results(b,l.page);l.callback(b)}});c=t.call(h,f)},d)}},L=function(a){var b=a,c,d,g=function(a){return""+a.text};e.isArray(b)&&(d=b,b={results:d});!1===e.isFunction(b)&&(d=b,b=function(){return d});a=b();a.text&&(g=a.text,e.isFunction(g)||(c=a.text,g=function(a){return a[c]}));return function(a){var c=a.term,d={results:[]},n;if(c==="")a.callback(b());else{n=function(b,d){var i,f,b=b[0];if(b.children){i={};for(f in b)b.hasOwnProperty(f)&&(i[f]=b[f]);i.children=[];e(b.children).each2(function(a,b){n(b,
i.children)});(i.children.length||a.matcher(c,g(i),b))&&d.push(i)}else a.matcher(c,g(b),b)&&d.push(b)};e(b().results).each2(function(a,b){n(b,d.results)});a.callback(d)}}},M=function(a){var b=e.isFunction(a);return function(c){var d=c.term,g={results:[]};e(b?a():a).each(function(){var a=void 0!==this.text,b=a?this.text:this;if(""===d||c.matcher(d,b))g.results.push(a?this:{id:this,text:this})});c.callback(g)}},r=function(a,b){if(e.isFunction(a))return!0;if(!a)return!1;throw Error(b+" must be a function or a falsy value");
},o=function(a){return e.isFunction(a)?a():a},N=function(a){var b=0;e.each(a,function(a,d){d.children?b+=N(d.children):b++});return b},P=function(a,b,c,d){var g=a,h=!1,e,i,f,t;if(d.createSearchChoice&&d.tokenSeparators&&!(1>d.tokenSeparators.length)){for(;;){h=-1;i=0;for(f=d.tokenSeparators.length;i<f&&!(t=d.tokenSeparators[i],h=a.indexOf(t),0<=h);i++);if(0>h)break;e=a.substring(0,h);a=a.substring(h+t.length);if(0<e.length&&(e=d.createSearchChoice.call(this,e,b),void 0!==e&&null!==e&&void 0!==d.id(e)&&
null!==d.id(e))){h=!1;i=0;for(f=b.length;i<f;i++)if(m(d.id(e),d.id(b[i]))){h=!0;break}h||c(e)}}if(g!==a)return a}},C=function(a,b){var c=function(){};c.prototype=new a;c.prototype.constructor=c;c.prototype.parent=a.prototype;c.prototype=e.extend(c.prototype,b);return c};if(void 0===window.Select2){var f,s,D,E,A,v,x={x:0,y:0},F;f={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){a=
a.which?a.which:a;switch(a){case f.LEFT:case f.RIGHT:case f.UP:case f.DOWN:return!0}return!1},isControl:function(a){switch(a.which){case f.SHIFT:case f.CTRL:case f.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){a=a.which?a.which:a;return 112<=a&&123>=a}};var O={"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A",
"\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C",
"\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E",
"\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H",
"\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K",
"\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N",
"\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O",
"\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R",
"\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U",
"\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W",
"\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a",
"\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av",
"\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e",
"\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g",
"\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i",
"\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l",
"\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o",
"\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p",
"\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s",
"\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u",
"\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y",
"\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};s=e(document);var Q=1;A=function(){return Q++};s.on("mousemove",function(a){x.x=a.pageX;x.y=a.pageY});s=C(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(a){var b,c;this.opts=a=this.prepareOpts(a);
this.id=a.id;void 0!==a.element.data("select2")&&null!==a.element.data("select2")&&a.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(a.element.attr("id")||"autogen"+A());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);var d=!1,g;this.body=function(){!1===d&&(g=a.element.closest("body"),d=!0);return g};z(this.container,this.opts.element,this.opts.adaptContainerCssClass);
this.container.attr("style",a.element.attr("style"));this.container.css(o(a.containerCss));this.container.addClass(o(a.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",j);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");z(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(o(a.dropdownCssClass));
this.dropdown.data("select2",this);this.dropdown.on("click",j);this.results=b=this.container.find(".select2-results");this.search=c=this.container.find("input.select2-input");this.resultsPage=this.queryCount=0;this.context=null;this.initContainer();this.container.on("click",j);this.results.on("mousemove",function(a){(void 0===x||x.x!==a.pageX||x.y!==a.pageY)&&e(a.target).trigger("mousemove-filtered",a)});this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".select2-results",this.bind(this.highlightUnderEvent));
var h=this.results,l=H(80,function(a){h.trigger("scroll-debounced",a)});h.on("scroll",function(a){0<=k(a.target,h.get())&&l(a)});this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded));e(this.container).on("change",".select2-input",function(a){a.stopPropagation()});e(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()});e.fn.mousewheel&&b.mousewheel(function(a,c,d,g){c=b.scrollTop();0<g&&0>=c-g?(b.scrollTop(0),j(a)):0>g&&b.get(0).scrollHeight-
b.scrollTop()+g<=b.height()&&(b.scrollTop(b.get(0).scrollHeight-b.height()),j(a))});G(c);c.on("keyup-change input paste",this.bind(this.updateResults));c.on("focus",function(){c.addClass("select2-focused")});c.on("blur",function(){c.removeClass("select2-focused")});this.dropdown.on("mouseup",".select2-results",this.bind(function(a){0<e(a.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(a),this.selectHighlighted(a))}));this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()});
e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==a.maximumInputLength&&this.search.attr("maxlength",a.maximumInputLength);var i=a.element.prop("disabled");void 0===i&&(i=!1);this.enable(!i);i=a.element.prop("readonly");void 0===i&&(i=!1);this.readonly(i);if(!(i=F)){i=e("<div class='select2-measure-scrollbar'></div>");i.appendTo("body");var f={width:i.width()-i[0].clientWidth,height:i.height()-i[0].clientHeight};i.remove();i=f}F=i;this.autofocus=a.element.prop("autofocus");
a.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=void 0},destroy:function(){var a=this.opts.element,b=a.data("select2");this.close();this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null);void 0!==b&&(b.container.remove(),b.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},
optionToData:function(a){if(a.is("option"))return{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:m(a.attr("locked"),"locked")||m(a.data("locked"),!0)};if(a.is("optgroup"))return{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}},prepareOpts:function(a){var b,c,d,g=this;b=a.element;"select"===b.get(0).tagName.toLowerCase()&&(this.select=c=a.element);c&&e.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),
function(){if(this in a)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");});a=e.extend({},{populateResults:function(b,c,d){var f,t=this.opts.id;f=function(b,c,h){var l,j,m,k,o,u,q,b=a.sortResults(b,c,d);l=0;for(j=b.length;l<j;l=l+1){m=b[l];o=m.disabled===true;k=!o&&t(m)!==void 0;u=m.children&&m.children.length>0;q=e("<li></li>");q.addClass("select2-results-dept-"+h);q.addClass("select2-result");q.addClass(k?"select2-result-selectable":"select2-result-unselectable");
o&&q.addClass("select2-disabled");u&&q.addClass("select2-result-with-children");q.addClass(g.opts.formatResultCssClass(m));k=e(document.createElement("div"));k.addClass("select2-result-label");o=a.formatResult(m,k,d,g.opts.escapeMarkup);o!==void 0&&k.html(o);q.append(k);if(u){u=e("<ul></ul>");u.addClass("select2-result-sub");f(m.children,u,h+1);q.append(u)}q.data("select2-data",m);c.append(q)}};f(c,b,0)}},e.fn.select2.defaults,a);"function"!==typeof a.id&&(d=a.id,a.id=function(a){return a[d]});if(e.isArray(a.element.data("select2Tags"))){if("tags"in
a)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+a.element.attr("id");a.tags=a.element.data("select2Tags")}if(c)a.query=this.bind(function(a){var c={results:[],more:false},d=a.term,e,f,p;p=function(b,c){var e;if(b.is("option"))a.matcher(d,b.text(),b)&&c.push(g.optionToData(b));else if(b.is("optgroup")){e=g.optionToData(b);b.children().each2(function(a,b){p(b,e.children)});e.children.length>0&&c.push(e)}};e=b.children();if(this.getPlaceholder()!==void 0&&
e.length>0)(f=this.getPlaceholderOption())&&(e=e.not(f));e.each2(function(a,b){p(b,c.results)});a.callback(c)}),a.id=function(a){return a.id},a.formatResultCssClass=function(a){return a.css};else if(!("query"in a))if("ajax"in a){if((c=a.element.data("ajax-url"))&&0<c.length)a.ajax.url=c;a.query=K.call(a.element,a.ajax)}else if("data"in a)a.query=L(a.data);else if("tags"in a&&(a.query=M(a.tags),void 0===a.createSearchChoice&&(a.createSearchChoice=function(a){return{id:e.trim(a),text:e.trim(a)}}),void 0===
a.initSelection))a.initSelection=function(b,c){var d=[];e(B(b.val(),a.separator)).each(function(){var b={id:this,text:this},c=a.tags;e.isFunction(c)&&(c=c());e(c).each(function(){if(m(this.id,b.id)){b=this;return false}});d.push(b)});c(d)};if("function"!==typeof a.query)throw"query function not defined for Select2 "+a.element.attr("id");return a},monitorSource:function(){var a=this.opts.element,b,c;a.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&
this.initSelection()}));b=this.bind(function(){var b=a.prop("disabled");void 0===b&&(b=!1);this.enable(!b);b=a.prop("readonly");void 0===b&&(b=!1);this.readonly(b);z(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(o(this.opts.containerCssClass));z(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(o(this.opts.dropdownCssClass))});a.on("propertychange.select2",b);void 0===this.mutationCallback&&(this.mutationCallback=function(a){a.forEach(b)});
c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;void 0!==c&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new c(this.mutationCallback),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(a){a=e.Event("select2-selecting",{val:this.id(a),object:a});this.opts.element.trigger(a);return!a.isDefaultPrevented()},triggerChange:function(a){a=a||{};a=e.extend({},a,{type:"change",
val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly;if(a===this.enabledInterface)return!1;this.container.toggleClass("select2-container-disabled",!a);this.close();this.enabledInterface=a;return!0},
enable:function(a){void 0===a&&(a=!0);this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){void 0===a&&(a=!1);if(this._readonly===a)return!1;this._readonly=a;this.opts.element.prop("readonly",a);this.enableInterface();return!0},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var a=this.dropdown,b=this.container.offset(),c=this.container.outerHeight(!1),
d=this.container.outerWidth(!1),g=a.outerHeight(!1),h=e(window),f=h.width(),i=h.height(),n=h.scrollLeft()+f,j=h.scrollTop()+i,c=b.top+c,p=b.left,j=c+g<=j,m=b.top-g>=this.body().scrollTop(),k=a.outerWidth(!1),r=p+k<=n,s;a.hasClass("select2-drop-above")?(g=!0,!m&&j&&(s=!0,g=!1)):(g=!1,!j&&m&&(g=s=!0));s&&(a.hide(),b=this.container.offset(),c=this.container.outerHeight(!1),d=this.container.outerWidth(!1),a.outerHeight(!1),n=h.scrollLeft()+f,h.scrollTop(),c=b.top+c,p=b.left,k=a.outerWidth(!1),r=p+k<=
n,a.show());this.opts.dropdownAutoWidth?(h=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),k=a.outerWidth(!1)+(h.scrollHeight===h.clientHeight?0:F.width),k>d?d=k:k=d,r=p+k<=n):this.container.removeClass("select2-drop-auto-width");"static"!==this.body().css("position")&&(n=this.body().offset(),c-=n.top,p-=n.left);r||(p=b.left+d-k);d={left:p,width:d};g?(d.bottom=i-b.top,d.top="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(d.top=
c,d.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above"));d=e.extend(d,o(this.opts.dropdownCss));a.css(d)},shouldOpen:function(){var a;if(this.opened()||!1===this._enabled||!0===this._readonly)return!1;a=e.Event("select2-opening");this.opts.element.trigger(a);return!a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;
this.opening();return!0},opening:function(){var a=this.containerId,b="scroll."+a,c="resize."+a,d="orientationchange."+a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());a=e("#select2-drop-mask");0==a.length&&(a=e(document.createElement("div")),a.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),a.hide(),a.appendTo(this.body()),
a.on("mousedown touchstart click",function(a){var b=e("#select2-drop");0<b.length&&(b=b.data("select2"),b.opts.selectOnBlur&&b.selectHighlighted({noFocus:!0}),b.close({focus:!0}),a.preventDefault(),a.stopPropagation())}));this.dropdown.prev()[0]!==a[0]&&this.dropdown.before(a);e("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");a.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){e(this).on(c+
" "+b+" "+d,function(){g.positionDropdown()})})},close:function(){if(this.opened()){var a=this.containerId,b="scroll."+a,c="resize."+a,d="orientationchange."+a;this.container.parents().add(window).each(function(){e(this).off(b).off(c).off(d)});this.clearDropdownAlignmentPreference();e("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");
this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(a){this.open();this.search.val(a);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return o(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var a=this.results,b,c,d,g;c=this.highlight();0>c||(0==c?a.scrollTop(0):(b=this.findHighlightableChoices().find(".select2-result-label"),d=e(b[c]),g=d.offset().top+d.outerHeight(!0),c===b.length-1&&(b=a.find("li.select2-more-results"),
0<b.length&&(g=b.offset().top+b.outerHeight(!0))),b=a.offset().top+a.outerHeight(!0),g>b&&a.scrollTop(a.scrollTop()+(g-b)),g=d.offset().top-a.offset().top,0>g&&"none"!=d.css("display")&&a.scrollTop(a.scrollTop()+g)))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(a){for(var b=this.findHighlightableChoices(),c=this.highlight();-1<c&&c<b.length;){var c=c+a,d=e(b[c]);if(d.hasClass("select2-result-selectable")&&
!d.hasClass("select2-disabled")&&!d.hasClass("select2-selected")){this.highlight(c);break}}},highlight:function(a){var b=this.findHighlightableChoices();if(0===arguments.length)return k(b.filter(".select2-highlighted")[0],b.get());a>=b.length&&(a=b.length-1);0>a&&(a=0);this.removeHighlight();b=e(b[a]);b.addClass("select2-highlighted");this.ensureHighlightVisible();(b=b.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(b),choice:b})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},
countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(a){a=e(a.target).closest(".select2-result-selectable");if(0<a.length&&!a.is(".select2-highlighted")){var b=this.findHighlightableChoices();this.highlight(b.index(a))}else 0==a.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a=this.results,b=a.find("li.select2-more-results"),c,d=this.resultsPage+1,e=this,h=this.search.val(),f=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-
a.height(),c<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:h,page:d,context:f,matcher:this.opts.matcher,callback:this.bind(function(c){e.opened()&&(e.opts.populateResults.call(this,a,c.results,{term:h,page:d,context:f}),e.postprocessResults(c,!1,!1),!0===c.more?(b.detach().appendTo(a).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove(),e.positionDropdown(),e.resultsPage=d,e.context=c.context,
this.opts.element.trigger({type:"select2-loaded",items:c}))})})))},tokenize:function(){},updateResults:function(a){function b(){d.removeClass("select2-active");i.positionDropdown()}function c(a){g.html(a);b()}var d=this.search,g=this.results,h=this.opts,f,i=this;f=d.val();var n=e.data(this.container,"select2-last-term"),j;if(!(!0!==a&&n&&m(f,n))&&(e.data(this.container,"select2-last-term",f),!(!0!==a&&(!1===this.showSearchInput||!this.opened())))){j=++this.queryCount;n=this.getMaximumSelectionSize();
if(1<=n&&(f=this.data(),e.isArray(f)&&f.length>=n&&r(h.formatSelectionTooBig,"formatSelectionTooBig"))){c("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(n)+"</li>");return}d.val().length<h.minimumInputLength?(r(h.formatInputTooShort,"formatInputTooShort")?c("<li class='select2-no-results'>"+h.formatInputTooShort(d.val(),h.minimumInputLength)+"</li>"):c(""),a&&this.showSearch&&this.showSearch(!0)):h.maximumInputLength&&d.val().length>h.maximumInputLength?r(h.formatInputTooLong,"formatInputTooLong")?
c("<li class='select2-no-results'>"+h.formatInputTooLong(d.val(),h.maximumInputLength)+"</li>"):c(""):(h.formatSearching&&0===this.findHighlightableChoices().length&&c("<li class='select2-searching'>"+h.formatSearching()+"</li>"),d.addClass("select2-active"),this.removeHighlight(),f=this.tokenize(),void 0!=f&&null!=f&&d.val(f),this.resultsPage=1,h.query({element:h.element,term:d.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(f){var l;j==this.queryCount&&(this.opened()?
(this.context=void 0===f.context?null:f.context,this.opts.createSearchChoice&&""!==d.val()&&(l=this.opts.createSearchChoice.call(i,d.val(),f.results),void 0!==l&&null!==l&&void 0!==i.id(l)&&null!==i.id(l)&&0===e(f.results).filter(function(){return m(i.id(this),i.id(l))}).length&&f.results.unshift(l)),0===f.results.length&&r(h.formatNoMatches,"formatNoMatches"))?c("<li class='select2-no-results'>"+h.formatNoMatches(d.val())+"</li>"):(g.empty(),i.opts.populateResults.call(this,g,f.results,{term:d.val(),
page:this.resultsPage,context:null}),!0===f.more&&r(h.formatLoadMore,"formatLoadMore")&&(g.append("<li class='select2-more-results'>"+i.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){i.loadMoreIfNeeded()},10)),this.postprocessResults(f,a),b(),this.opts.element.trigger({type:"select2-loaded",items:f})):this.search.removeClass("select2-active"))})}))}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});
this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var a=this.search;a[0]!==document.activeElement&&window.setTimeout(function(){var b=a[0],c=a.val().length;a.focus();a.is(":visible")&&b===document.activeElement&&(b.setSelectionRange?b.setSelectionRange(c,c):b.createTextRange&&(b=b.createTextRange(),
b.collapse(!1),b.select()))},0)},selectHighlighted:function(a){var b=this.highlight(),c=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");c?(this.highlight(b),this.onSelect(c,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||(void 0!==(a=this.getPlaceholderOption())?a.text():void 0)},getPlaceholderOption:function(){if(this.select){var a=
this.select.children("option").first();if(void 0!==this.opts.placeholderOption)return"first"===this.opts.placeholderOption&&a||"function"===typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){var a=function(){var a,c,d,g;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||
"resolve"===this.opts.width){a=this.opts.element.attr("style");if(void 0!==a){a=a.split(";");d=0;for(g=a.length;d<g;d+=1)if(c=a[d].replace(/\s/g,""),c=c.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==c&&1<=c.length)return c[1]}return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);
null!==a&&this.container.css("width",a)}});D=C(s,{createContainer:function(){return e(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>   <span class='select2-arrow'><b></b></span></a><input class='select2-focusser select2-offscreen' type='text'/><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},
enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var a,b;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0);this.parent.opening.apply(this,arguments);!1!==this.showSearchInput&&this.search.val(this.focusser.val());this.search.focus();a=this.search.get(0);a.createTextRange?(a=a.createTextRange(),a.collapse(!1),a.select()):a.setSelectionRange&&(b=this.search.val().length,a.setSelectionRange(b,
b));""===this.search.val()&&void 0!=this.nextSearchTerm&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(e.Event("select2-open"))},close:function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{focus:!0},this.focusser.removeAttr("disabled"),a.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},
cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a,b=this.container,c=this.dropdown;0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0);this.selection=a=b.find(".select2-choice");this.focusser=b.find(".select2-focusser");this.focusser.attr("id",
"s2id_autogen"+A());e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled())if(a.which===f.PAGE_UP||a.which===f.PAGE_DOWN)j(a);else switch(a.which){case f.UP:case f.DOWN:this.moveHighlight(a.which===f.UP?-1:1);j(a);break;case f.ENTER:this.selectHighlighted();j(a);break;case f.TAB:this.selectHighlighted({noFocus:!0});break;case f.ESC:this.cancel(a),
j(a)}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&!(a.which===f.TAB||f.isControl(a)||f.isFunctionKey(a)||a.which===f.ESC))if(!1===this.opts.openOnEnter&&a.which===f.ENTER)j(a);else if(a.which==f.DOWN||a.which==f.UP||a.which==f.ENTER&&this.opts.openOnEnter)!a.altKey&&(!a.ctrlKey&&!a.shiftKey&&!a.metaKey)&&(this.open(),
j(a));else if(a.which==f.DELETE||a.which==f.BACKSPACE)this.opts.allowClear&&this.clear(),j(a)}));G(this.focusser);this.focusser.on("keyup-change input",this.bind(function(a){0<=this.opts.minimumResultsForSearch&&(a.stopPropagation(),this.opened()||this.open())}));a.on("mousedown","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.selection.focus())}));a.on("mousedown",this.bind(function(a){this.container.hasClass("select2-container-active")||
this.opts.element.trigger(e.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();j(a)}));c.on("mousedown",this.bind(function(){this.search.focus()}));a.on("focus",this.bind(function(a){j(a)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),
this.opts.element.trigger(e.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(a){var b=this.selection.data("select2-data");if(b){var c=e.Event("select2-clearing");this.opts.element.trigger(c);c.isDefaultPrevented()||
(c=this.getPlaceholderOption(),this.opts.element.val(c?c.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==a&&(this.opts.element.trigger({type:"select2-removed",val:this.id(b),choice:b}),this.triggerChange({removed:b})))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){void 0!==
b&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var a;return!this.getPlaceholder()?!1:void 0!==(a=this.getPlaceholderOption())&&a.prop("selected")||""===this.opts.element.val()||void 0===this.opts.element.val()||null===this.opts.element.val()},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,d){var e=a.find("option").filter(function(){return this.selected});
d(b.optionToData(e))}:"data"in a&&(a.initSelection=a.initSelection||function(b,d){var g=b.val(),f=null;a.query({matcher:function(b,c,d){(b=m(g,a.id(d)))&&(f=d);return b},callback:!e.isFunction(d)?e.noop:function(){d(f)}})});return a},getPlaceholder:function(){return this.select&&void 0===this.getPlaceholderOption()?void 0:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();this.isPlaceholderOptionSelected()&&void 0!==a&&!(this.select&&void 0===this.getPlaceholderOption())&&
(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear"))},postprocessResults:function(a,b,c){var d=0,e=this;this.findHighlightableChoices().each2(function(a,b){if(m(e.id(b.data("select2-data")),e.opts.element.val()))return d=a,!1});!1!==c&&(!0===b&&0<=d?this.highlight(d):this.highlight(0));!0===b&&(b=this.opts.minimumResultsForSearch,0<=b&&this.showSearch(N(a.results)>=b))},showSearch:function(a){this.showSearchInput!==
a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a));this.updateSelection(a);this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a});this.nextSearchTerm=
this.opts.nextSearchTerm(a,this.search.val());this.close();(!b||!b.noFocus)&&this.focusser.focus();m(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var b=this.selection.find(".select2-chosen"),c;this.selection.data("select2-data",a);b.empty();null!==a&&(c=this.opts.formatSelection(a,b,this.opts.escapeMarkup));void 0!==c&&b.append(c);a=this.opts.formatSelectionCssClass(a,b);void 0!==a&&b.addClass(a);this.selection.removeClass("select2-default");this.opts.allowClear&&
void 0!==this.getPlaceholder()&&this.container.addClass("select2-allowclear")},val:function(){var a,b=!1,c=null,d=this,e=this.data();if(0===arguments.length)return this.opts.element.val();a=arguments[0];1<arguments.length&&(b=arguments[1]);if(this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){c=d.optionToData(b);return!1}),this.updateSelection(c),this.setPlaceholder(),b&&this.triggerChange({added:c,removed:e});else if(!a&&0!==a)this.clear(b);
else{if(void 0===this.opts.initSelection)throw Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(!a?"":d.id(a));d.updateSelection(a);d.setPlaceholder();b&&d.triggerChange({added:a,removed:e})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var b,c=!1;if(0===arguments.length)return b=this.selection.data("select2-data"),void 0==b&&(b=null),b;1<arguments.length&&
(c=arguments[1]);a?(b=this.data(),this.opts.element.val(!a?"":this.id(a)),this.updateSelection(a),c&&this.triggerChange({added:a,removed:b})):this.clear(c)}});E=C(s,{createContainer:function(){return e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   </ul></div>")},
prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,d){var e=[];a.find("option").filter(function(){return this.selected}).each2(function(a,c){e.push(b.optionToData(c))});d(e)}:"data"in a&&(a.initSelection=a.initSelection||function(b,d){var g=B(b.val(),a.separator),f=[];a.query({matcher:function(b,c,d){(b=e.grep(g,function(b){return m(b,a.id(d))}).length)&&f.push(d);return b},callback:!e.isFunction(d)?
e.noop:function(){for(var b=[],c=0;c<g.length;c++)for(var e=g[c],j=0;j<f.length;j++){var k=f[j];if(m(e,a.id(k))){b.push(k);f.splice(j,1);break}}d(b)}})});return a},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");if(!b.length||!(a&&a[0]==b[0]))b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a))},destroy:function(){e("label[for='"+
this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");var b=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){b.search[0].focus();b.selectChoice(e(this))});this.search.attr("id","s2id_autogen"+A());e("label[for='"+this.opts.element.attr("id")+"']").attr("for",
this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(b){var d,g;if(this.isInterfaceEnabled()){++this.keydowns;var h=a.find(".select2-search-choice-focus"),l=h.prev(".select2-search-choice:not(.select2-locked)"),i=h.next(".select2-search-choice:not(.select2-locked)");d=this.search;d=e(d)[0];var k=0;g=0;"selectionStart"in
d?(k=d.selectionStart,g=d.selectionEnd-k):"selection"in document&&(d.focus(),k=document.selection.createRange(),g=document.selection.createRange().text.length,k.moveStart("character",-d.value.length),k=k.text.length-g);d=k;if(h.length&&(b.which==f.LEFT||b.which==f.RIGHT||b.which==f.BACKSPACE||b.which==f.DELETE||b.which==f.ENTER))g=h,b.which==f.LEFT&&l.length?g=l:b.which==f.RIGHT?g=i.length?i:null:b.which===f.BACKSPACE?(this.unselect(h.first()),this.search.width(10),g=l.length?l:i):b.which==f.DELETE?
(this.unselect(h.first()),this.search.width(10),g=i.length?i:null):b.which==f.ENTER&&(g=null),this.selectChoice(g),j(b),(!g||!g.length)&&this.open();else if((b.which===f.BACKSPACE&&1==this.keydowns||b.which==f.LEFT)&&0==d&&!g)this.selectChoice(a.find(".select2-search-choice:not(.select2-locked)").last()),j(b);else{this.selectChoice(null);if(this.opened())switch(b.which){case f.UP:case f.DOWN:this.moveHighlight(b.which===f.UP?-1:1);j(b);return;case f.ENTER:this.selectHighlighted();j(b);return;case f.TAB:this.selectHighlighted({noFocus:!0});
this.close();return;case f.ESC:this.cancel(b);j(b);return}b.which===f.TAB||f.isControl(b)||f.isFunctionKey(b)||b.which===f.BACKSPACE||b.which===f.ESC||b.which===f.ENTER&&(!1===this.opts.openOnEnter||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)||(this.open(),(b.which===f.PAGE_UP||b.which===f.PAGE_DOWN)&&j(b),b.which===f.ENTER&&j(b))}}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(a){this.container.removeClass("select2-container-active");
this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();a.stopImmediatePropagation();this.opts.element.trigger(e.Event("select2-blur"))}));this.container.on("click",".select2-choices",this.bind(function(a){this.isInterfaceEnabled()&&!(0<e(a.target).closest(".select2-search-choice").length)&&(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),
this.focusSearch(),a.preventDefault())}));this.container.on("focus",".select2-choices",this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,
arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){if(b!==void 0&&b!==null){a.updateSelection(b);a.close();a.clearSearch()}})}},clearSearch:function(){var a=this.getPlaceholder(),b=this.getMaxSearchWidth();void 0!==a&&
0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(0<b?b:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(!0);this.search.focus();this.opts.element.trigger(e.Event("select2-open"))},
close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(a){var b=[],c=[],d=this;e(a).each(function(){0>k(d.id(this),b)&&(b.push(d.id(this)),c.push(this))});a=c;this.selection.find(".select2-search-choice").remove();e(a).each(function(){d.addSelectedChoice(this)});d.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer.call(this,
a,this.data(),this.bind(this.onSelect),this.opts);null!=a&&void 0!=a&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&
this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),(!b||!b.noFocus)&&this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(a){var b=!a.locked,c=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),d=e("<li class='select2-search-choice select2-locked'><div></div></li>"),
c=b?c:d,d=this.id(a),f=this.getVal(),h;h=this.opts.formatSelection(a,c.find("div"),this.opts.escapeMarkup);void 0!=h&&c.find("div").replaceWith("<div>"+h+"</div>");h=this.opts.formatSelectionCssClass(a,c.find("div"));void 0!=h&&c.addClass(h);if(b)c.find(".select2-search-choice-close").on("mousedown",j).on("click dblclick",this.bind(function(a){this.isInterfaceEnabled()&&(e(a.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(a.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");
this.close();this.focusSearch()})).dequeue(),j(a))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));c.data("select2-data",a);c.insertBefore(this.searchContainer);f.push(d);this.setVal(f)},unselect:function(a){var b=this.getVal(),c,d,a=a.closest(".select2-search-choice");if(0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";if(c=a.data("select2-data")){for(;0<=
(d=k(this.id(c),b));)b.splice(d,1),this.setVal(b),this.select&&this.postprocessResults();b=e.Event("select2-removing");b.val=this.id(c);b.choice=c;this.opts.element.trigger(b);b.isDefaultPrevented()||(a.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},postprocessResults:function(a,b,c){var d=this.getVal(),b=this.results.find(".select2-result"),e=this.results.find(".select2-result-with-children"),f=this;b.each2(function(a,b){var c=
f.id(b.data("select2-data"));0<=k(c,d)&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))});e.each2(function(a,b){!b.is(".select2-result-selectable")&&0===b.find(".select2-result-selectable:not(.select2-selected)").length&&b.addClass("select2-selected")});-1==this.highlight()&&!1!==c&&f.highlight(0);!this.opts.createSearchChoice&&0<!b.filter(".select2-result:not(.select2-selected)").length&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&
r(f.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+f.opts.formatNoMatches(f.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-(this.search.outerWidth(!1)-this.search.width())},resizeSearch:function(){var a,b,c,d,f=this.search.outerWidth(!1)-this.search.width();a=this.search;v||(c=a[0].currentStyle||window.getComputedStyle(a[0],null),v=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",
display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),v.attr("class","select2-sizer"),e("body").append(v));v.text(a.val());a=v.width()+10;b=this.search.offset().left;c=this.selection.width();d=this.selection.offset().left;b=c-(b-d)-f;b<a&&(b=c-f);40>b&&(b=c-f);0>=b&&(b=a);this.search.width(Math.floor(b))},getVal:function(){var a;if(this.select)return a=this.select.val(),
null===a?[]:a;a=this.opts.element.val();return B(a,this.opts.separator)},setVal:function(a){var b;this.select?this.select.val(a):(b=[],e(a).each(function(){0>k(this,b)&&b.push(this)}),this.opts.element.val(0===b.length?"":b.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)m(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),0<c&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(a,b){var c,
d=this;if(0===arguments.length)return this.getVal();c=this.data();c.length||(c=[]);if(!a&&0!==a)this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),b&&this.triggerChange({added:this.data(),removed:c});else{this.setVal(a);if(this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),b&&this.triggerChange(this.buildChangeDetails(c,this.data()));else{if(void 0===this.opts.initSelection)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,
function(a){var f=e.map(a,d.id);d.setVal(f);d.updateSelection(a);d.clearSearch();b&&d.triggerChange(d.buildChangeDetails(c,d.data()))})}this.clearSearch()}},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],b=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();
this.selection.find(".select2-search-choice").each(function(){a.push(b.opts.id(e(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(a,b){var c=this,d,f;if(0===arguments.length)return this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();f=this.data();a||(a=[]);d=e.map(a,function(a){return c.opts.id(a)});this.setVal(d);this.updateSelection(a);this.clearSearch();b&&this.triggerChange(this.buildChangeDetails(f,this.data()))}});
e.fn.select2=function(){var a=Array.prototype.slice.call(arguments,0),b,c,d,f,h,j="val destroy opened open close focus isFocused container dropdown onSortStart onSortEnd enable disable readonly positionDropdown data search".split(" "),i=["opened","isFocused","container","dropdown"],m=["val","data"],o={search:"externalSearch"};this.each(function(){if(0===a.length||"object"===typeof a[0])b=0===a.length?{}:e.extend({},a[0]),b.element=e(this),"select"===b.element.get(0).tagName.toLowerCase()?h=b.element.prop("multiple"):
(h=b.multiple||!1,"tags"in b&&(b.multiple=h=!0)),c=h?new E:new D,c.init(b);else if("string"===typeof a[0]){if(0>k(a[0],j))throw"Unknown method: "+a[0];f=void 0;c=e(this).data("select2");if(void 0!==c&&(d=a[0],"container"===d?f=c.container:"dropdown"===d?f=c.dropdown:(o[d]&&(d=o[d]),f=c[d].apply(c,a.slice(1))),0<=k(a[0],i)||k(a[0],m)&&1==a.length))return!1}else throw"Invalid arguments to select2 plugin: "+a;});return void 0===f?this:f};e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,
openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){b=[];I(a.text,c.term,b,d);return b.join("")},formatSelection:function(a,b,c){return a?c(a.text):void 0},sortResults:function(a){return a},formatResultCssClass:function(){},formatSelectionCssClass:function(){},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,
b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return 0<=w(""+b).toUpperCase().indexOf(w(""+a).toUpperCase())},separator:",",tokenSeparators:[],
tokenizer:P,escapeMarkup:J,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){}};e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:K,local:L,tags:M},util:{debounce:H,markMatch:I,escapeMarkup:J,stripDiacritics:w},"class":{"abstract":s,single:D,multi:E}}}return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-select2', location = 'node_modules/@atlassian/aui/src/js/aui/select2.js' */
("undefined"===typeof window?global:window).__a17ec9aceba98159c7c7b98dd5c13fcd=function(){"use strict";var b=__205998b249afc65053be53fe079b2622,d=b&&b.__esModule?b:{"default":b};__874787fbb4407ec800648684906992cd;var e=d.default.fn.select2;d.default.fn.auiSelect2=function(b){var c;if(d.default.isPlainObject(b)){var a=d.default.extend({},b);c=a.hasAvatar?" aui-has-avatar":"";a.containerCssClass="aui-select2-container"+c+(a.containerCssClass?" "+a.containerCssClass:"");a.dropdownCssClass="aui-select2-drop aui-dropdown2 aui-style-default"+
c+(a.dropdownCssClass?" "+a.dropdownCssClass:"");c=Array.prototype.slice.call(arguments,1);c.unshift(a)}else c=arguments.length?arguments:[{containerCssClass:"aui-select2-container",dropdownCssClass:"aui-select2-drop aui-dropdown2 aui-style-default"}];return e.apply(this,c)};return{}}.call(this);;
;
/* module-key = 'com.dolby.atlassian.jira.jirasu:launch-su-js', location = '/js/launchsu.js' */
console.log("SU launch.js loaded");function suHello(){alert("saying hello from the script")}function launchSuDialog(){var a=AJS.params.baseURL;AJS.$.get(a+"/rest/jirasu/latest/api/remoteDialog/showCondition",function(b){if(b=="ok"){popupSuDialog()}else{console.log("SU: no, due to: "+b)}})}function popupSuDialog(){var d=AJS.params.baseURL;var e=AJS.$("meta[name=atlassian-token]").attr("content");if(""+e=="undefined"){e=AJS.$("meta[name=atl_token]").attr("content")}AJS.$("#su-popup-dialog").remove();var b=new AJS.Dialog({width:400,height:200,id:"su-popup-dialog",closeOnOutsideClick:false});b.addHeader("SU - Be the user you seek!");var c="<form class='aui'>";c=c+"<input type='hidden' id='su-userpicker' style='width:250px' class='input-xlarge' />";c=c+"</form>";b.addPanel("User Picker",c,"panel-body");b.addButton("Submit",function(f){},"su-popup-button");b.addButton("Close",function(f){f.hide();AJS.$("#su-popup-dialog").remove()},"su-popup-cancel-button");b.show();var a=d+"/rest/api/2/user/picker";AJS.$("#su-userpicker").auiSelect2({placeholder:"Select a user",minimumInputLength:2,ajax:{url:a,placeholder:"Search for a user",dataType:"json",minimumInputLength:1,data:function(f,g){return{query:f,page_limit:10,}},results:function(g,f){return{results:g.users,text:function(h){return h.name},id:function(h){return h.key}}}},formatResult:function(g,f){return g.name},formatSelection:function(f){return f.name},id:function(f){return f.key}});AJS.tabs.setup();AJS.$(".su-popup-button").click(function(g){var f=AJS.$("#su-userpicker").val();window.location.href=d+"/user/JiraSU.jspa?name="+f+"&atl_token="+e;return false})};;
;
/* module-key = 'com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources', location = 'com/atlassian/administration/quicksearch/jira/js/adminQuickNav.js' */
/**
 * Shifter group for admin search
 */
require([
    'jquery',
    'underscore',
    'jira/ajs/ajax/smart-ajax',
    'jira/shifter',
    'wrm/context-path'
], function (jQuery,
             _,
             SmartAjax,
             Shifter,
             contextPath) {
    Shifter.register(function () {
        var suggestionsDeferred = jQuery.Deferred();

        function formatItem(item) {
            return {
                label: item.label,
                value: item.linkUrl,
                keywords: item.aliases
            };
        }

        function getItemsInSection(section) {
            return _.map(section.items, formatItem).concat(_.map(section.sections, getItemsInSection));
        }

        function formatResponse(data) {
            return _.flatten(getItemsInSection(data));
        }

        SmartAjax.makeRequest({
            dataType: 'json',
            url: contextPath() + '/rest/adminquicksearch/latest/links/default'
        })
            .pipe(formatResponse)
            .done(function (suggestions) {
                suggestionsDeferred.resolve(suggestions);
            })
            .fail(function () {
                suggestionsDeferred.reject();
            });

        return {
            id: 'admin',
            name: "Administration",
            weight: 500,
            getSuggestions: function () {
                return suggestionsDeferred;
            },
            onSelection: function (value) {
                window.location = value;
                return jQuery.Deferred();
            }
        };
    });
});
;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'probe.js' */
!function(){var n,t,e,r,i,o,u,a,c,s,f,l,h,y,d,p,v;n=function(){return window}(),t=function(n){return!(!n.performance||!n.performance.now)}(n),e=[],r=function(n){return function(t){n.unshift({addReporter:t})}}(e),i=function(n){return function(t){for(;n.length;)t(n.splice(0,1)[0]);n.unshift=t,n.push=t}}(e),o=function(n,t){return function(e){n.push({end:{key:e.key,timestamp:t.performance.now()}})}}(e,n),u=function(n){return n.document}(n),a=function(n){return n.Promise}(n),c=function(){function n(){this._={}}var t=function(e){var r=e[0],i=e[1];i instanceof n?e.length>=3?Object.keys(i._).forEach(function(n){t([r,i._[n],n].concat(e.slice(2)))}):Object.keys(i._).forEach(function(n){t([r,i._[n],n])}):Array.isArray(i)&&r.apply(null,[i].concat(e.slice(2)))};n.prototype.forEach=function(n){t([n,this])},n.prototype.add=function(){for(var t=this,e=null,r=null,i=0;i<arguments.length;i++){if(r=arguments[i],i===arguments.length-1&&Array.isArray(t)){t.push(r);break}i<arguments.length-2&&!t._.hasOwnProperty(r)?t._[r]=new n:i!==arguments.length-2||t._.hasOwnProperty(r)||(t._[r]=[]),t=t._[r],e=r}};var e=function(n,t){if(0!==n.length){var r=n.pop(),i=r[0],o=r[1];i===t?e(n,i):o._.hasOwnProperty(t)&&delete o._[t],0===Object.keys(o).length&&e(n,i)}};return n.prototype.remove=function(){for(var n,t=!1,r=null,i=this,o=[[r,i]],u=null,a=0;a<arguments.length;a++)if(u=arguments[a],Array.isArray(i))n=i.indexOf(u),n>-1&&(i.splice(n,1),0===i.length&&o.length>1&&e(o,r),t=!0);else{if(!i._.hasOwnProperty(u))break;a===arguments.length-1&&(delete i._[u],0===Object.keys(i).length&&o.length>1&&e(o,r),t=!0),r=u,i=i._[u],o.push([r,i])}return t},n.prototype.get=function(n){return this._.hasOwnProperty(n)?this._[n]:[]},n}(),s=function(n,t,e,r){function i(n){return!n||null==n||"null"===n||"undefined"===n}function o(t,e,r){l||(c.observe(n,{attributes:!0,childList:!0,subtree:!0}),l=!0),s.add(t,e,r)}function u(t,e){var r=n.querySelectorAll(t);return r.length&&(i(e)||Array.prototype.every.call(r,function(n){return!n.querySelector(e)}))}function a(n,e){var r;n.forEach||(n=[n]),!i(e)&&Array.isArray(e)&&(e=e.join(", "));var a=new t(function(i,a){var c=[],f=[];n.forEach(function(n){var r,i;u(n,e)||(r=new t(function(t){o(n,e,t),i=function(){s.remove(n,e,t)},f.push(i)}),c.push(r))});var l=function(){f.forEach(function(n){n()})};t.all(c).then(l).then(i,a),r=function(){l(),a()}});return a.dismiss=r,a}var c,s,f=r.MutationObserver,l=!1;return f&&t?(s=new e,c=new f(function(){s.forEach(function(n,t,e){u(e,t)&&(n.forEach(function(n){n()}),s.remove(e,t))})}),a):void 0}(u,a,c,n),f=function(n){return!!n}(s),l=function(n){function t(){c(),n.body.classList.add(u)}function e(){function e(){n.body.classList.remove(u),n.removeEventListener(i,s),n.removeEventListener(o,c),r=null}if(r)return r;var c,s,f=!1;return r=new Promise(function(e,r){"visible"!==n.visibilityState?r():(s=function(){f=!0},c=function(n){n.animationName===a&&(f?r():e())},n.addEventListener(i,s),n.addEventListener(o,c),t())}),r.then(e,e),r}var r,i="visibilitychange",o="animationend",u="browser-metrics-visibility-test",a="browser-metrics-visibility-animation",c=function(){var t=n.createElement("style"),e=["."+u+" {","-webkit-animation-duration: 0.001s;","animation-duration: 0.001s;","-webkit-animation-name: "+a+";","animation-name: "+a+";","-webkit-animation-iteration-count: 1;","animation-iteration-count: 1;","}","@keyframes "+a+" {}","@-webkit-keyframes "+a+" {","from {}","to {}","}"].join("\n");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(n.createTextNode(e)),n.head.appendChild(t),c=function(){}};return e}(u),h=function(n,t,e,r,i){function o(n){return Array.isArray(n)||(n=[n]),n.map(function(n){return"string"==typeof n?{selector:n,hasNone:null}:n})}function u(n){return Array.isArray(n)||"string"==typeof n}function a(n){return u(n)&&(n={rules:n}),n.rules=o(n.rules),n.requirePaint="undefined"==typeof n.requirePaint?!1:n.requirePaint,n}return function(i,o){if(n){i=a(i);var u=function(){},c=new e(function(n,r){var o=[],a=i.rules.map(function(n){var e=new t(n.selector,n.hasNone);return o.push(function(){e.dismiss()}),e});u=function(){o.forEach(function(n){n()}),r()},e.all(a).then(function(n){}).then(n,r)});return c.cancel=u,i.requirePaint&&(c=c.then(r)),"function"==typeof o&&c.then(o),c}}}(f,s,a,l,n),y=function(n,t){function e(){return r}var r=!1;return n.addEventListener("DOMContentLoaded",function(){t.setTimeout(function(){r=!0})}),e}(u,n),d=function(n,t,e,r,i,o,u){function a(){c=null}var c;return function(o){var s="isInitial"in o?o.isInitial:i()===!1,f="threshold"in o?o.threshold:1e3,l="reporters"in o?o.reporters:[];r.push({start:{key:o.key,isInitial:s,threshold:f,timestamp:s?0:u.performance.now(),reporters:Array.isArray(l)?l:[l]}}),c&&(c.cancel(),a()),o.ready&&e&&(c=n(o.ready),c.then(function(){t({key:o.key})}).then(a,a))}}(h,o,f,e,y,a,n),p=function(n){return function(t){n.push({subscribe:t})}}(e),v=function(n,t,e,r,i,o){var u=function(){};return{start:n?i:u,end:n?r:u,addReporter:n?t:u,delegateTo:n?e:u,subscribe:n?o:u}}(t,r,i,o,d,p),window["browser-metrics"]=v,window.define&&window.define("internal/browser-metrics",function(){return v})}();;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'internal/browser-metrics-aa-beacon.js' */
!function(){var n={};n=function(n){function e(n,e){Object.keys(e).forEach(function(r){n[r]=e[r]})}var r=[],t=[];return n.addUrlCleaner=function(n){t.push(n)},n.cleanUrl=function(n){return t.reduce(function(e,r){var t=r(n);return t.length>e.length?t:e},"")},n.addReportMarshaller=function(n){r.push(n)},n.beacon=function(n){var t={};r.forEach(function(r){var o=r(n);"object"==typeof o&&e(t,o)});var o={name:"browser.metrics.navigation",properties:t};AJS.EventQueue.push(o)},n}(n),window["browser-metrics-aa-beacon"]=n,window.define&&window.define("internal/browser-metrics-aa-beacon",function(){return n})}();;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'loader.js' */
!function(){var n={},r={},i={};n=function(n){var r=window;return r}(n),r=function(n,r){var i=r.WRM;return i}(r,n),i=function(n,r,i){function t(){u===c&&o&&(o(),o=null)}var u=0,c=0,o=null,e={install:function(n){u+=1,n(function(){c+=1,t()})}};return r["browser-metrics-plugin"]=e,i.require(["wrc!browser-metrics-plugin.contrib"],function(){r.require(["internal/browser-metrics-plugin/collector"],function(n){o=function(){n.install()},t()})}),n}(i,n,r)}();;
;
/* module-key = 'com.atlassian.jira.plugins.jira-browser-metrics:sensors', location = 'sensors.js' */
require(["internal/browser-metrics","jira/util/events"],function(e,i){var a={},o={},d={},t={};a=function(e,i,a){function o(){function e(e){return o.hasOwnProperty(e)?o[e]:null}var o={"bonfire_top_menu_dropdown-content":"jira.header.menu.capture","browse_link-content":"jira.header.menu.projects","find_link-content":"jira.header.menu.issues","greenhopper_menu-content":"jira.header.menu.agile","home_link-content":"jira.header.menu.dashboards","plugins-jira-webitem-main-content":"jira.header.menu.portfolio","servicedesk-section-content":"jira.header.menu.service-desk","system-admin-menu-content":"jira.header.menu.admin","system-help-menu-content":"jira.header.menu.help","user-options-content":"jira.header.menu.profile"};i.bind("aui-dropdown2-show-before",function(i){var o=i.target,d=e(o&&o.id);d&&a.start({key:d,isInitial:!1,threshold:250})}),i.bind("aui-dropdown2-show-after",function(i){var o=i.target,d=e(o&&o.id);d&&a.end({key:d})})}return e.init=o,e}(a,i,e),o=function(e){function i(e){var i;if(a.hasOwnProperty(e))return e;for(i=0;i<o.length;i++)if(e.match(o[i].pattern))return o[i].dialogId;return null}var a=["about-dialog","add-basicuser-dialog","add-developer-dialog","add-field-configuration-dialog","add-field-configuration-scheme-dialog","add-field-dialog","add-field-screen-dialog","add-field-screen-scheme-dialog","add-incoming-mail-handler-dialog","add-issue-type-dialog","add-issue-type-field-configuration-association-dialog","add-issue-type-screen-scheme-configuration-association-dialog","add-issue-type-screen-scheme-dialog","add-new-issue-type-to-scheme-dialog","add-screen-scheme-item-dialog","add-subtask-type-dialog","add-workflow-dialog","add_workflowscheme-dialog","assign-dialog","assign-issue-types-dialog","assign-to-me-link-handler","attach-file-dialog","attach-screenshot-dialog","auditing-settings-dialog","clone-issue-dialog","comment-add-dialog","configure_wallboard_dialog","confluence-page-search-dialog","copy_classic default workflow-dialog","copy-filter-dialog","copy_jira-dialog","create-issue-dialog","create-issue-dialog.issueType","create-issue-dialog.projectId","create-request-dialog","create-service-desk-dialog","create-status-dialog","create-story-dialog","create-story-dialog.issueType","create-story-dialog.projectId","create-subtask-dialog","create-subtask-dialog.issueType","create-team-dialog","create_user-dialog","credits-dialog","delete-attachment-dialog","delete-comment-dialog","delete-dshboard","delete-filter-dialog","delete-issue-dialog","delete-issue-link-dialog","delete-log-work-dialog","delete-metric","delete-queue","delete-status-dialog","deleteuser_link-dialog","devstatus-branch-detail-dialog","devstatus-build-detail-dialog","devstatus-commit-detail-dialog","devstatus-cta-dialog","devstatus-deployment-detail-dialog","devstatus-pullrequest-detail-dialog","devstatus-review-detail-dialog","discard-draft-dialog","discard_draft_workflow-dialog","edit-attachments-dialog","edit-comment","editgroups_admin-dialog","editgroups_link-dialog","editgroups_sysadmin-dialog","edit-issue-dialog","edit-labels-dialog","edit-log-work-dialog","edit-status-dialog","edituser_link_admin-dialog","edit-workflow-dialog","gh-rapidboard-dialog","inline-issue-create-dialog","invite_user-dialog","issue-actions-dialog","issue-tab-error-dialog","jim-create-project-dialog","keyboard-shortcuts-dialog","link-issue-dialog","log-work-dialog","manage-attachment-dialog","metric-pre-save-dialog","modal-field-view","permission-helper-dialog","project-avatar-cropper","project-avatar-picker","project-config-details-project-category-dialog","project-config-project-edit-dialog","project-config-project-edit-lead-and-default-assignee-dialog","project-email-dialog","publish_draft_workflow-dialog","queue-dirty-edits","QuickCreateIssue.error","QuickCreateIssue.success","QuickCreateSubtask.error","QuickCreateSubtask.success","QuickEdit.error","QuickEdit.success","remote-jira-search-dialog","rename-filter-dialog","report-dirty-edits","save-filter-dialog","sd-add-default-value","sd-add-remove-agent-dialog","sd-remove-field-dialog","server-error-dialog","report-delete-confirm","tempo-add-hours-issue-dialog","tempo-add-internal-activity-form","tempo-core-medium-form","tempo-delete-form-dialog","tempo-grace-form","tempo-large-form","tempo-medium-form","tempo-move-form-dialog","tempo-pdf-form","tempo-small-form","tempo-split-form-dialog","tempo-user-settings-dialog","user-avatar-picker","user-defaults-edit-dialog","versionsMergeDialog","view-workflow-dialog","view-workflow-dialog-project-admin","view-workflow-dialog-workflow-schemes","wait-migrate-dialog","whereismycf-dialog","workflow-text-view"].reduce(function(e,i){return e[i]=!0,e},{}),o=[{dialogId:"component-delete-dialog",pattern:/^component-\d+-delete-dialog$/i},{dialogId:"version-delete-dialog",pattern:/^version-\d+-delete-dialog$/i},{dialogId:"workflow-transition-dialog",pattern:/^workflow-transition-\d+-dialog$/i}];return i}(o),d=function(e,i,a,o){function d(){i.bind("beforeShow",function(e,i){if("string"==typeof i){var d=o(i);d&&a.start({key:"jira.dialog.open."+d,isInitial:!1,threshold:1e3})}}),i.bind("dialogContentReady",function(e,i){if("string"==typeof i.options.id){var d=o(i.options.id);d&&a.end({key:"jira.dialog.open."+d})}})}return e.init=d,e}(d,i,e,o),t=function(e,i,a){return i.init(),a.init(),e}(t,a,d)});;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-header-async', location = 'node_modules/@atlassian/aui/src/js/aui/header-async.js' */
("undefined"===typeof window?global:window).__b4f6c5b57d84ad6fd9cb2eeb81297c61=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__dfda1e507193c053acde2f438967aad3,c=a&&a.__esModule?a:{"default":a},a=(a=__ace7dcceb4a59d9f981848fc5f0a3bcf)&&a.__esModule?a:{"default":a},a=(0,a.default)("aui-header",{type:a.default.type.CLASSNAME,created:function(a){(0,c.default)(a)}});b.default=a;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.soy' */
// This file was automatically generated from appswitcher.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher == 'undefined') { navlinks.templates.appswitcher = {}; }


navlinks.templates.appswitcher.linkSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    output += '<div class="aui-nav-heading sidebar-section-header">' + soy.$$escapeHtml(opt_data.title) + '</div><ul class="aui-nav nav-links">';
    var linkList8 = opt_data.list;
    var linkListLen8 = linkList8.length;
    for (var linkIndex8 = 0; linkIndex8 < linkListLen8; linkIndex8++) {
      var linkData8 = linkList8[linkIndex8];
      output += navlinks.templates.appswitcher.applicationsItem(linkData8);
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.linkSection.soyTemplateName = 'navlinks.templates.appswitcher.linkSection';
}


navlinks.templates.appswitcher.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher.applicationsItem';
}


navlinks.templates.appswitcher.shortcutsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.shortcutsItem.soyTemplateName = 'navlinks.templates.appswitcher.shortcutsItem';
}


navlinks.templates.appswitcher.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape("Something went wrong, please \x3cspan class\x3d\x22app-switcher-retry\x22\x3etry again\x3c/span\x3e.") + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.error.soyTemplateName = 'navlinks.templates.appswitcher.error';
}


navlinks.templates.appswitcher.sidebarContents = function(opt_data, opt_ignored) {
  return '<div class="aui-page-panel-nav"><nav class="aui-navgroup aui-navgroup-vertical"><div class="app-switcher-section app-switcher-applications"><div class="aui-nav-heading">' + soy.$$escapeHtml("Application Links") + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape("Loading\x26hellip;") + '</div></div><div class="app-switcher-section app-switcher-shortcuts"><div class="aui-nav-heading">' + soy.$$escapeHtml("Shortcuts") + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape("Loading\x26hellip;") + '</div></div></nav></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebarContents.soyTemplateName = 'navlinks.templates.appswitcher.sidebarContents';
}


navlinks.templates.appswitcher.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml("Linked Applications") + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.trigger.soyTemplateName = 'navlinks.templates.appswitcher.trigger';
}


navlinks.templates.appswitcher.projectHeaderSection = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-title">' + aui.avatar.avatar({size: 'large', avatarImageUrl: opt_data.avatarUrl, isProject: true, title: opt_data.name}) + '<div class="sidebar-project-name">' + soy.$$escapeHtml(opt_data.name) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.projectHeaderSection.soyTemplateName = 'navlinks.templates.appswitcher.projectHeaderSection';
}


navlinks.templates.appswitcher.cogDropdown = function(opt_data, opt_ignored) {
  var output = '';
  var dropdownList__soy74 = '' + navlinks.templates.appswitcher.dropdownList({list: opt_data.links});
  output += aui.dropdown2.dropdown2({menu: {id: opt_data.id, content: dropdownList__soy74, extraClasses: 'aui-style-default sidebar-customize-section'}, trigger: {showIcon: false, content: '<span class="aui-icon aui-icon-small aui-iconfont-configure"></span>', container: '#app-switcher'}});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.cogDropdown.soyTemplateName = 'navlinks.templates.appswitcher.cogDropdown';
}


navlinks.templates.appswitcher.dropdownList = function(opt_data, opt_ignored) {
  var output = '<ul class="sidebar-admin-links">';
  var linkList82 = opt_data.list;
  var linkListLen82 = linkList82.length;
  for (var linkIndex82 = 0; linkIndex82 < linkListLen82; linkIndex82++) {
    var linkData82 = linkList82[linkIndex82];
    output += '<li class="nav-link"><a href="' + soy.$$escapeHtml(linkData82.href) + '" title="' + soy.$$escapeHtml(linkData82.title) + '"><span class="nav-link-label">' + soy.$$escapeHtml(linkData82.label) + '</span></a></li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.dropdownList.soyTemplateName = 'navlinks.templates.appswitcher.dropdownList';
}


navlinks.templates.appswitcher.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    if (AJS.DarkFeatures.isEnabled('rotp.sidebar')) {
      var sidebarContents__soy97 = '' + navlinks.templates.appswitcher.sidebarContents(null);
      var triggerContent__soy99 = '' + navlinks.templates.appswitcher.trigger(null);
      output += navlinks.templates.appswitcher.sidebar({sidebar: {id: 'app-switcher', content: sidebarContents__soy97}, trigger: {showIcon: false, content: triggerContent__soy99}});
    } else {
      output += navlinks.templates.appswitcher_old.switcher(null);
    }
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.switcher.soyTemplateName = 'navlinks.templates.appswitcher.switcher';
}


navlinks.templates.appswitcher.sidebar = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.sidebar.id) + '" class="sidebar-trigger app-switcher-trigger" aria-owns="' + soy.$$escapeHtml(opt_data.sidebar.id) + '" aria-haspopup="true" data-is-user-admin="' + soy.$$escapeHtml(false) + '" data-is-sidebar="true" >' + soy.$$filterNoAutoescape(opt_data.trigger.content) + '</a><div id=' + soy.$$escapeHtml(opt_data.sidebar.id) + ' class="app-switcher-sidebar aui-style-default sidebar-offscreen">' + soy.$$filterNoAutoescape(opt_data.sidebar.content) + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebar.soyTemplateName = 'navlinks.templates.appswitcher.sidebar';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.js' */
(function(e,a){var d="is-user-admin";var c="#app-switcher";a.SideBar=function(f){var g=this;this.$sidebar=null;f=e.extend({sidebarContents:null},f);this.getLinks=function(){return e.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateAppLinks).fail(this.showAppSwitcherError)};this.populateProjectHeader=function(i,h){g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").after(navlinks.templates.appswitcher.projectHeaderSection({avatarUrl:h,name:i}))};this.getProjectData=function(){var h=e(".project-shortcut-dialog-trigger"),i=h.data("key"),j=h.data("entity-type");if(h.size()==0||!i||!j){e(".app-switcher-shortcuts").remove();return}var l,k;k=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/local/"+i,cache:false,data:{entityType:j},dataType:"json"});l=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/remote/"+i,cache:false,data:{entityType:j},dataType:"json"});e.when(k,l).then(function(n,m){g.updateProjectShortcuts(n,m,{key:i,entityType:j,name:h.data("name"),avatarUrl:h.find("img").prop("src")})},g.showProjectShortcutsError)};this.getSidebar=function(){if(!this.$sidebar){this.$sidebar=e(f.sidebarContents)}return this.$sidebar};this.addApplicationsCog=function(){e(".app-switcher-applications .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-applications-admin-dropdown",links:[{href:AJS.contextPath()+"/plugins/servlet/customize-application-navigator",label:"Customize navigator",title:"Add new entries, hide existing or restrict who sees what"},{href:AJS.contextPath()+"/plugins/servlet/applinks/listApplicationLinks",label:"Manage application links",title:"Link to more Atlassian applications"}]}))};this.addProjectShortcutsCog=function(h,j){var i=[{href:AJS.contextPath()+"/plugins/servlet/custom-content-links-admin?entityKey="+h,label:"Customize shortcuts",title:""}];if(g.entityMappings[j]){i.push({href:g.generateEntityLinksUrl(h,g.entityMappings[j]),label:"Manage product links",title:""})}g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-project-shortcuts-admin-dropdown",links:i}))};this.updateAppLinks=function(h){e(function(){g.getSidebar().find(".app-switcher-applications").html(navlinks.templates.appswitcher.linkSection({title:"Application Links",list:h}));if(g.getSidebar().data(d)){g.addApplicationsCog()}g.bindAnalyticsHandlers(g.getSidebar(),h)})};this.updateProjectShortcuts=function(k,i,j){var l=k[0].shortcuts,h=i[0].shortcuts;g.getSidebar().find(".app-switcher-shortcuts").html(navlinks.templates.appswitcher.linkSection({title:"Shortcuts",list:l.concat(h)}));if(g.getSidebar().data(d)){g.addProjectShortcutsCog(j.key,j.entityType)}g.populateProjectHeader(j.name,j.avatarUrl);g.bindAnalyticsHandlers(g.getSidebar(),data)};this.entityMappings={"confluence.space":"com.atlassian.applinks.api.application.confluence.ConfluenceSpaceEntityType","jira.project":"com.atlassian.applinks.api.application.jira.JiraProjectEntityType","bamboo.project":"com.atlassian.applinks.api.application.bamboo.BambooProjectEntityType","stash.project":"com.atlassian.applinks.api.application.stash.StashProjectEntityType"};this.generateEntityLinksUrl=function(h,i){if(i===g.entityMappings["confluence.space"]){return AJS.contextPath()+"/spaces/listentitylinks.action?typeId="+i+"&key="+h}else{return AJS.contextPath()+"/plugins/servlet/applinks/listEntityLinks/"+i+"/"+h}};this.showAppSwitcherError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-applications .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.showProjectShortcutsError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-shortcuts .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.retryLoading=function(h){this.getSidebar().html(navlinks.templates.appswitcher.sidebarContents());this.getLinks();this.getProjectData();h&&h.stopPropagation()};this.bindAnalyticsHandlers=function(h,i){};this.getLinks();e(this.getProjectData);this.toggleSidebar=function(j){var k=g.getSidebar(),i=e("body"),h=e(window.document);if(!i.hasClass("app-switcher-open")){var m=e("#header");k.css("left",-k.width());k.parent("body").length||k.appendTo("body");b({data:k});k.animate({left:0},300);function l(n){var p=n.target&&e(n.target),o=n.keyCode;if(n.originalEvent===j.originalEvent){return}if(p&&!o&&!(p.closest(k).length||p.closest(m).length)&&j.which==1&&!(n.shiftKey||n.ctrlKey||n.metaKey)){g.toggleSidebar()}else{if(o===27){g.toggleSidebar()}}}h.on("click.appSwitcher",l);h.on("keydown.appSwitcher",l);h.on("scroll.appSwitcher",k,b)}else{h.off(".appSwitcher")}i.toggleClass("app-switcher-open")};e("#header").on("click",".app-switcher-trigger",this.toggleSidebar)};function b(h){var f=e(document).scrollTop(),i=e("#header"),g=(i.height()+i.offset().top)-f;if(g>=0){h.data.css({top:g,position:"fixed"})}else{h.data.css({top:0,left:0,position:"fixed"})}}e(function(){if(e(c).data("is-sidebar")===true){new a.SideBar({sidebarContents:c})}})}(jQuery,window.NL=(window.NL||{})));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.js' */
var APPSWITCHER_TRIGGER_CLICK="appswitcher.trigger.click";var APPSWITCHER_DROPDOWN_SHOW="appswitcher.dropdown.show";var APPSWITCHER_DROPDOWN_DISPLAY_ERROR="appswitcher.dropdown.display.error";var APPSWITCHER_APP_LINK_CLICK="appswitcher.app.link.click";var APPSWITCHER_CONFIGURE_LINK_CLICK="appswitcher.configure.link.click";(function(c,f){var b="isAppSuggestionAvailable";var d="isSiteAdminUser";var e="isUserAdmin";var a="#app-switcher";f.AppSwitcher=function(j){var l=AJS.contextPath()+"/plugins/servlet/customize-application-navigator";var k="unified.usermanagement";var m=this;this.$dropdown=null;j=c.extend({dropdownContents:null},j);this.getLinks=function(){return c.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateDropdown).fail(this.showError)};this.getDropdown=function(){if(!this.$dropdown){this.$dropdown=c(j.dropdownContents);this.envData=this.$dropdown.data("environment")}return this.$dropdown};this.updateDropdown=function(n){c(function(){m.getDropdown().html(navlinks.templates.appswitcher_old.applications({apps:n,showAdminLink:m.envData[e],adminLink:l}));m.bindAnalyticsHandlers();if(m.envData[b]===true){m.handleSuggestionApps(n)}})};this.bindAnalyticsHandlers=function(){c(".app-switcher-trigger").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_TRIGGER_CLICK})});c("#app-switcher").on("aui-dropdown2-show",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_SHOW})});c("#app-switcher .nav-link").on("click",function(){var p="custom";var q=c(this).find("a");var o=q.attr("href");var n=window.location.hostname;if(o&&o.indexOf("bitbucket.org")>-1){p="bitbucket-cloud"}else{if(o.indexOf(n+"/wiki")>-1){p="confluence"}else{if(o.indexOf(n+"/build")>-1){p="bamboo"}else{if(o.indexOf(n)>-1){p="jira"}}}}AJS.trigger("analyticsEvent",{name:APPSWITCHER_APP_LINK_CLICK,data:{product:p}})});c(".nav-link-edit-wrapper").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_CONFIGURE_LINK_CLICK})})};this.isBillingSystemEnabled=function(){return(this.envData[d]===true)&&AJS.DarkFeatures.isEnabled(k)};this.handleSuggestionApps=function(q){var r=_.map(q,function(s){return s.applicationType.toLowerCase()});var o=c("<div id='app-switcher-suggestion-apps' class='aui-dropdown2-section'/>");o.html(navlinks.templates.appswitcher_old.suggestionApps);var p=o.find(".suggestion-apps");var n=false;_.each(g,function(s){if(!_.contains(r,s.appName)){n=true;p.append(navlinks.templates.appswitcher_old.suggestionApp({suggestionApp:s,isBillingSystemEnabled:m.isBillingSystemEnabled()}))}});if(!n){return}c("#app-switcher").append(o);c(".app-discovery-suggestion-app").click(function(){var t=c(this).find("a");var s;if(m.envData[d]===true){s="appswitcher.discovery.siteadmin.select.inproduct."}else{s="appswitcher.discovery.user.select."}s=s+t.attr("id").toLowerCase();AJS.trigger("analytics",{name:s})});c(".app-discovery-suggestion-app").hover(function(){c(this).find("a").removeClass("active").removeClass("aui-dropdown2-active")});c(".app-discovery-cancel-button").click(function(){AJS.trigger("analytics",{name:"appswitcher.discovery.nothanks.button.click"});i(h,"true");o.remove()})};this.showError=function(){c(function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_DISPLAY_ERROR});m.getDropdown().html(navlinks.templates.appswitcher_old.error()).off(".appswitcher").on("click.appswitcher",".app-switcher-retry",c.proxy(m.retryLoading,m))})};this.retryLoading=function(n){this.getDropdown().html(navlinks.templates.appswitcher_old.loading());this.getLinks();n&&n.stopPropagation()};this.getLinks()};var h="key-no-thanks";var g=[{appName:"jira",appDesc:"Issue & Project Tracking Software",discoveryUrl:"https://www.atlassian.com/software/jira",billingSystemDiscoveryUrl:"/admin/billing/addapplication"},{appName:"confluence",appDesc:"Collaboration and content sharing",discoveryUrl:"https://www.atlassian.com/software/confluence",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=confluence.ondemand"},{appName:"bamboo",appDesc:"Continuous integration",discoveryUrl:"https://www.atlassian.com/software/bamboo",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=bamboo.ondemand"}];var i=function(j,k){c.ajax({url:AJS.contextPath()+"/rest/menu/latest/userdata/",type:"PUT",contentType:"application/json",data:JSON.stringify({key:j,value:k})})};c(function(){if(c(a).data("is-switcher")===true){new f.AppSwitcher({dropdownContents:a})}})}(jQuery,window.NL=(window.NL||{})));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.soy' */
// This file was automatically generated from appswitcher_old.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher_old.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher_old == 'undefined') { navlinks.templates.appswitcher_old = {}; }


navlinks.templates.appswitcher_old.applications = function(opt_data, opt_ignored) {
  return '' + navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.apps, listClass: 'nav-links', showDescription: opt_data.showDescription}) + ((opt_data.custom) ? navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.custom, showDescription: opt_data.showDescription}) : '') + ((opt_data.showAdminLink) ? navlinks.templates.appswitcher_old.adminSection(opt_data) : '');
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applications.soyTemplateName = 'navlinks.templates.appswitcher_old.applications';
}


navlinks.templates.appswitcher_old.applicationsSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    var param19 = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
    var linkList27 = opt_data.list;
    var linkListLen27 = linkList27.length;
    for (var linkIndex27 = 0; linkIndex27 < linkListLen27; linkIndex27++) {
      var linkData27 = linkList27[linkIndex27];
      param19 += navlinks.templates.appswitcher_old.applicationsItem(soy.$$augmentMap(linkData27, {showDescription: opt_data.showDescription}));
    }
    param19 += '</ul>';
    output += aui.dropdown2.section({content: param19});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsSection.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsSection';
}


navlinks.templates.appswitcher_old.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link' + ((opt_data.self) ? ' nav-link-local' : '') + '"><a href="' + soy.$$escapeHtml(opt_data.link) + '" class="aui-dropdown2-radio ' + ((opt_data.self) ? 'aui-dropdown2-checked' : '') + '" title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsItem';
}


navlinks.templates.appswitcher_old.adminSection = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.section({content: '<ul class="nav-links"><li><a class="nav-link-edit-wrapper" href="' + soy.$$escapeHtml(opt_data.adminLink) + '"><span class="nav-link-edit">' + soy.$$filterNoAutoescape("Configure\x26hellip;") + '</span></a></li></ul>'});
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.adminSection.soyTemplateName = 'navlinks.templates.appswitcher_old.adminSection';
}


navlinks.templates.appswitcher_old.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape("Something went wrong, please \x3cspan class\x3d\x22app-switcher-retry\x22\x3etry again\x3c/span\x3e.") + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.error.soyTemplateName = 'navlinks.templates.appswitcher_old.error';
}


navlinks.templates.appswitcher_old.loading = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-loading">' + soy.$$filterNoAutoescape("Loading\x26hellip;") + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.loading.soyTemplateName = 'navlinks.templates.appswitcher_old.loading';
}


navlinks.templates.appswitcher_old.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml("Linked Applications") + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.trigger.soyTemplateName = 'navlinks.templates.appswitcher_old.trigger';
}


navlinks.templates.appswitcher_old.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    var loadingContent__soy81 = '' + navlinks.templates.appswitcher_old.loading(null);
    var triggerContent__soy83 = '' + navlinks.templates.appswitcher_old.trigger(null);
    output += aui.dropdown2.dropdown2({menu: {id: 'app-switcher', content: loadingContent__soy81, extraClasses: 'aui-style-default', extraAttributes: {'data-environment': {}, 'data-is-switcher': 'true'}}, trigger: {showIcon: false, content: triggerContent__soy83, extraClasses: 'app-switcher-trigger', extraAttributes: {href: '#app-switcher'}}});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.switcher.soyTemplateName = 'navlinks.templates.appswitcher_old.switcher';
}


navlinks.templates.appswitcher_old.suggestionApp = function(opt_data, opt_ignored) {
  var output = '';
  var href__soy89 = opt_data.isBillingSystemEnabled == true ? opt_data.suggestionApp.billingSystemDiscoveryUrl : opt_data.suggestionApp.discoveryUrl;
  output += '<li class="app-discovery-suggestion-app"><a id="' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '" href="' + soy.$$escapeHtml(href__soy89) + '" class="app-discovery-link aui-icon-container app-discovery-' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '-product-icon" title="' + soy.$$escapeHtml(href__soy89) + '" target="_blank"/><div class="app-discovery-small">' + soy.$$escapeHtml(opt_data.suggestionApp.appDesc) + '</div></li>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApp.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApp';
}


navlinks.templates.appswitcher_old.suggestionApps = function(opt_data, opt_ignored) {
  return '<ul class=\'nav-links suggestion-apps\'><li><span class=\'app-discovery-suggest-title nav-link-label\'><h6>' + soy.$$escapeHtml("Try other Atlassian apps") + '</h6></span></li></ul><div class=\'buttons-container app-discovery-suggest-apps-buttons\'><div class=\'buttons\'><button class=\'aui-button aui-button-link app-discovery-cancel-button\' name=\'cancel\' accesskey=\'c\' href=\'#\'>' + soy.$$escapeHtml("Don\x27t show this again") + '</button></div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApps.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApps';
}
;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:header-templates', location = 'soy/headerDropdown.soy' */
// This file was automatically generated from headerDropdown.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Menu.Dropdowns.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Menu == 'undefined') { JIRA.Templates.Menu = {}; }
if (typeof JIRA.Templates.Menu.Dropdowns == 'undefined') { JIRA.Templates.Menu.Dropdowns = {}; }


JIRA.Templates.Menu.Dropdowns.dropdown2Fragment = function(opt_data, opt_ignored) {
  var output = '';
  var sectionList3 = opt_data.sections;
  var sectionListLen3 = sectionList3.length;
  for (var sectionIndex3 = 0; sectionIndex3 < sectionListLen3; sectionIndex3++) {
    var sectionData3 = sectionList3[sectionIndex3];
    output += JIRA.Templates.Menu.Dropdowns.dropdown2Section(sectionData3);
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Fragment.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Fragment';
}


JIRA.Templates.Menu.Dropdowns.dropdown2Section = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  var hasItems__soy7 = opt_data.items && opt_data.items.length > 0;
  if (hasItems__soy7) {
    output += '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown2-section' + ((opt_data.style) ? soy.$$escapeHtml(opt_data.style) : '') + '" >' + ((opt_data.label) ? '<strong>' + soy.$$escapeHtml(opt_data.label) + '</strong>' : '') + '<ul class="aui-list-truncate">';
    var itemList27 = opt_data.items;
    var itemListLen27 = itemList27.length;
    for (var itemIndex27 = 0; itemIndex27 < itemListLen27; itemIndex27++) {
      var itemData27 = itemList27[itemIndex27];
      output += '<li' + ((itemData27.id) ? ' id="' + soy.$$escapeHtml(itemData27.id) + '"' : '') + ((itemData27.style) ? ' class="' + soy.$$escapeHtml(itemData27.style) + '"' : '') + '>' + JIRA.Templates.Menu.Dropdowns.dropdown2Item(itemData27) + '</li>';
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Section.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Section';
}


JIRA.Templates.Menu.Dropdowns.dropdown2Item = function(opt_data, opt_ignored) {
  var output = '<a href="' + soy.$$escapeHtml(opt_data.url) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '_lnk"' : '') + ' class="' + ((opt_data.iconUrl) ? 'aui-icon-container' : '') + ((opt_data.parameters && opt_data.parameters['class']) ? ' ' + soy.$$escapeHtml(opt_data.parameters['class']) : '') + '"';
  if (opt_data.parameters) {
    var keyList64 = soy.$$getMapKeys(opt_data.parameters);
    var keyListLen64 = keyList64.length;
    for (var keyIndex64 = 0; keyIndex64 < keyListLen64; keyIndex64++) {
      var keyData64 = keyList64[keyIndex64];
      output += (keyData64 != 'class' && keyData64 != 'iconurl') ? ' ' + soy.$$escapeHtml(keyData64) + '="' + soy.$$escapeHtml(opt_data.parameters[keyData64]) + '"' : '';
    }
  }
  output += '>' + ((opt_data.iconUrl) ? '<img class="icon" src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" alt="" />' : '') + soy.$$escapeHtml(opt_data.label) + '</a>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Item.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Item';
}
;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header', location = 'js/init-dropdown2.js' */
require(["jira/ajs/ajax/smart-ajax","jira/skate","jira/util/data/meta","wrm/context-path","jquery"],function(SmartAjax,skate,Meta,wrmContextPath,$){skate("aui-dropdown2-ajax",{type:skate.type.CLASSNAME,attached:function ajaxDropdownAttached(el){var $dropdown=$(document.getElementById(el.getAttribute("aria-controls")));var $trigger=$(el);var ajaxKey=$dropdown.data("aui-dropdown2-ajax-key");var FIRST=0;var SECOND=FIRST+4;function focusDropdownItemIfNecessary(){var triggerIsActive=(document.activeElement===$trigger.get(0));if(triggerIsActive){$dropdown.get(0).focusItem(0)}}function resetLazyKbdState(){$trigger.data("kbd-interacted",false)}$trigger.on("keydown.aui-dropdown2-ajax",function(){$trigger.data("kbd-interacted",true);setTimeout(resetLazyKbdState,SECOND)});$dropdown.on("aui-dropdown2-show-after.aui-dropdown2-ajax",resetLazyKbdState);resetLazyKbdState();$dropdown.on("aui-dropdown2-show.aui-dropdown2-ajax",function(){$dropdown.trigger("aui-dropdown2-show-before");if(ajaxKey){var checkedKeyboard=$.Deferred();var fetchedDropdownItems=$.Deferred();setTimeout(function(){checkedKeyboard.resolve($trigger.data("kbd-interacted"))},FIRST);$dropdown.empty();$dropdown.addClass("aui-dropdown2-loading");$trigger.attr("aria-busy","true");SmartAjax.makeRequest({url:wrmContextPath()+"/rest/api/1.0/menus/"+ajaxKey,data:{inAdminMode:Meta.getBoolean("in-admin-mode")},dataType:"json",cache:false,success:function(data){fetchedDropdownItems.resolve(data)},error:fetchedDropdownItems.reject});$.when(checkedKeyboard,fetchedDropdownItems).done(function(openedByKeyboard,data){$dropdown.html(JIRA.Templates.Menu.Dropdowns.dropdown2Fragment(data));if(openedByKeyboard){setTimeout(focusDropdownItemIfNecessary,0)}}).always(function(){$trigger.attr("aria-busy","false");$dropdown.removeClass("aui-dropdown2-loading");$dropdown.trigger("aui-dropdown2-show-after")})}else{$dropdown.trigger("aui-dropdown2-show-after")}})},detached:function ajaxDropdownRemoved(el){var $dropdown=$(document.getElementById(el.getAttribute("aria-controls")));var $trigger=$(el);$dropdown.off(".aui-dropdown2-ajax");$trigger.off(".aui-dropdown2-ajax")}})});(function($){$(document).on("aui-responsive-menu-item-created",".aui-header.aui-dropdown2-trigger-group",function(e){var detail=e.originalEvent.detail;if($(detail.originalItem).find("> .aui-dropdown2-ajax").length>0){$(detail.newItem).find("> .aui-dropdown2-trigger").addClass("aui-dropdown2-ajax")}})})(require("jquery"));;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header', location = 'js/app-switcher-analytics.js' */
require(["jquery"],function($){$(document).on("aui-dropdown2-show-before","#app-switcher",function(){AJS.trigger("analyticsEvent",{name:"navigation.header.appswitcher.open"})});$(document).on("click","#app-switcher a, #app-switcher button",function(event){var $el=$(event.target);var index=$el.closest("li").index();var linkType;if($el.is(".nav-link-edit")){linkType="configure"}else{if($el.is(".app-discovery-link")){linkType=this.id?this.id:"unknown.app.discovery"}else{if($el.is(".app-discovery-cancel-button")){linkType="dont.show";index=0}else{linkType="application"}}}AJS.trigger("analyticsEvent",{name:"navigation.header.appswitcher.click",data:{position:index,linkType:linkType}})});$(document).on("aui-dropdown2-hide","#app-switcher",function(){AJS.trigger("analyticsEvent",{name:"navigation.header.appswitcher.close"})})});;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:analytics-header', location = 'js/header-analytics.js' */
require(["jira/util/logger","jquery"],function(logger,$){var standardAnalyticsPrefix="jira.navigation.header.";var traceString="jira.header.analytics.event";var isStandardTopLevelMenuItem=function(headerMenuDropdownIds,dropDownId){return headerMenuDropdownIds.some(function(menuControl){return menuControl.id===dropDownId})};function getAnalyticsKeyFromId(headerMenuDropdownIds,dropDownId){var analyticsEventString=undefined;headerMenuDropdownIds.forEach(function(headerMenuObject){if(headerMenuObject.id===dropDownId){analyticsEventString=headerMenuObject.analyticEventKey}});return analyticsEventString}var fireStandardMenuEvent=function(dropDownId,headerMenuDropdownIds,eventSuffix){var analyticsEventString=getAnalyticsKeyFromId(headerMenuDropdownIds,dropDownId);var eventName=standardAnalyticsPrefix+analyticsEventString+eventSuffix;AJS.EventQueue.push({name:eventName});logger.trace(traceString)};var $document=$(document);$document.on("click","#logo",function(){AJS.EventQueue.push({name:standardAnalyticsPrefix+"home"});logger.trace(traceString)});var standardHeaderMenuItemDropdownIds=[{id:"home_link-content",analyticEventKey:"dashboards"},{id:"browse_link-content",analyticEventKey:"projects"},{id:"find_link-content",analyticEventKey:"issues"},{id:"tempo_menu-content",analyticEventKey:"tempo"},{id:"bonfire_top_menu_dropdown-content",analyticEventKey:"capture"},{id:"greenhopper_menu-content",analyticEventKey:"boards"},{id:"plugins-jira-webitem-main-content",analyticEventKey:"portfolio"},{id:"system-help-menu-content",analyticEventKey:"help"},{id:"system-admin-menu-content",analyticEventKey:"admin"}];var triggerAjaxDropdownEventsSelector="#system-help-menu-content, #user-options-content, #system-admin-menu-content";var headerStringToBindDropdownListener=standardHeaderMenuItemDropdownIds.map(function(headerMenuItemObject){return"#"+headerMenuItemObject.id}).join(", ");$document.on("aui-dropdown2-show",headerStringToBindDropdownListener,function(){var dropDownId=$(this).attr("id");if(isStandardTopLevelMenuItem(standardHeaderMenuItemDropdownIds,dropDownId)){fireStandardMenuEvent(dropDownId,standardHeaderMenuItemDropdownIds,".open")}});$document.on("aui-dropdown2-hide",headerStringToBindDropdownListener,function(){var dropDownId=$(this).attr("id");if(isStandardTopLevelMenuItem(standardHeaderMenuItemDropdownIds,dropDownId)){fireStandardMenuEvent(dropDownId,standardHeaderMenuItemDropdownIds,".close")}});$document.on("aui-dropdown2-show",triggerAjaxDropdownEventsSelector,function(){var dropdown=$(this);dropdown.trigger("aui-dropdown2-show-before");dropdown.trigger("aui-dropdown2-show-after")});var headerStringToBindClickListener=standardHeaderMenuItemDropdownIds.reduce(function(finalString,headerMenuItemObject){return finalString+"a.aui-dropdown2-trigger[aria-owns="+headerMenuItemObject.id+"], "},"");$document.on("click",headerStringToBindClickListener,function(){var dropDownId=this.getAttribute("aria-controls");if(isStandardTopLevelMenuItem(standardHeaderMenuItemDropdownIds,dropDownId)){fireStandardMenuEvent(dropDownId,standardHeaderMenuItemDropdownIds,".click")}});$document.on("click",".aui-dropdown2 .aui-dropdown2-section a",function(event){var auiDropdown=$(event.target).closest(headerStringToBindDropdownListener).first();if(auiDropdown===null){return }var clickIndex=auiDropdown.find("a").index(event.target);var auiDropdownId=auiDropdown.attr("id");var topLevelMenuItemText=getAnalyticsKeyFromId(standardHeaderMenuItemDropdownIds,auiDropdownId);AJS.EventQueue.push({name:standardAnalyticsPrefix+topLevelMenuItemText+".item.click",itemIndex:clickIndex});logger.trace(traceString)})});;
;
/* module-key = 'com.onresolve.jira.groovy.groovyrunner:userMessageUtil', location = 'js/userMessageRenderer.js' */
(function ($) {

    /**
     * Note... this should be called only enough, not more. Which is once per issue.
     *
     * The code below is the best thing I can come up with at the moment, bearing in mind the pageLoad event
     * is currently triggered twice:
     *
     * https://jira.atlassian.com/browse/JRA-42752
     *
     */
    AJS.toInit(function () {

        var displayMessages = function (event, $context, reason) {
            try {

                // check for any new messages added by scripts
                if (!!$context && typeof $context.is === "function" && !$context.is("div#addcomment")) {
                    return
                }

                $.get(AJS.params.baseURL + "/rest/scriptrunner/1.0/message",
                    {},
                    function (data, textStatus, jqXHR) {
                    if (jqXHR.status === 200) {
                            data = data || {};
                            $.each(data, function (i, j) {
                                require(['aui/flag'], function (flag) {
                                    flag(j);
                                });
                            });
                    } else if (jqXHR.status !== 204) {
                            console.log(jqXHR.status + " code returned. Error getting messages!");
                        }
                    }
                );
            }
            catch (e) {
                console.log("Error retrieving user messages via ScriptRunner");
                console.error(e);
            }
        };

        JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED, displayMessages);
        JIRA.bind(JIRA.Events.ISSUE_REFRESHED, displayMessages);
        displayMessages(null, null, null);
    });
})(AJS.$);
;
;
/* module-key = 'com.onresolve.jira.groovy.groovyrunner:userMessageUtil', location = 'js/quick-create-bound-issue.js' */
(function ($) {

    function addTriggers() {
        $("a.sr-create-bound-issue").off("click").on("click", function (e) {

            function getURLParameter(url, name) {
                return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(url) || [, ""])[1].replace(/\+/g, '%20')) || null;
            }

            var $link = $(this);
            e.preventDefault();

            var form = JIRA.Forms.createCreateIssueForm({
                issueType: getURLParameter($link.attr("href"), "issuetype"),
                pid: getURLParameter($link.attr("href"), "pid")
            });

            // todo: title and windowTitle, although you can't do much useful with them
            var dialog = form.asDialog({
                id: "create-constrained-issue-dialog"
            });

            var onFormEvent = function ($link) {
                return function (formEvent) {

                    // add hidden data here... or get url
                    var $formElement = formEvent.target.$element;

                    $formElement.find("form").prepend("<div style='display: none' id='sr_behaviour_info' " +
                        "data-sr_behaviour_id='" + $link.attr("id") + "' " +
                        "data-sr_context_issue_id='" + JIRA.Issue.getIssueId() + "' " +
                        ">");

                    // after the form has a validation error, reset these things... and call behaviours again...?
                    // AJS.$(document).bind("QuickCreateIssue.validationError", function (e) {
                    //
                    // });

                }
            };

            form.bind("contentRefreshed", onFormEvent($link));

	        form.bind("sessionComplete", function () {
	            location.reload();
	        });

            // handler unregister when the dialog closes
            dialog.bind('Dialog.hide', function () {
                AJS.$(document).unbind("QuickCreateIssue.validationError");
            });

            dialog.show();
        });
    }

    JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED, function (event, $context, reason) {
        // hack for JA, which emits no events - https://jira.atlassian.com/browse/JSW-13527
        // When only supporting IE11+ switch to MutationObserver, or expire and re-add the livequery
        if (window.location.href.indexOf("RapidBoard.jspa?") > -1) {
            $("#ghx-detail-issue").livequery(function () {
                addTriggers();
            });
        }

        if (reason === JIRA.CONTENT_ADDED_REASON.pageLoad || reason === JIRA.CONTENT_ADDED_REASON.panelRefreshed ) {
            addTriggers();
        }
    });
})(AJS.$);
;
;
/* module-key = 'com.onresolve.jira.groovy.groovyrunner:bh-issuePluginResources', location = 'js/jquery.tools.min.js' */
/*
 * jQuery Tools 1.2.5 - The missing UI library for the Web
 * 
 * [overlay, toolbox.expose]
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 * File generated: Mon Nov 29 13:12:11 GMT 2010
 */
(function(a){function t(d,b){var c=this,j=d.add(c),o=a(window),k,f,m,g=a.tools.expose&&(b.mask||b.expose),n=Math.random().toString().slice(10);if(g){if(typeof g=="string")g={color:g};g.closeOnClick=g.closeOnEsc=false}var p=b.target||d.attr("rel");f=p?a(p):d;if(!f.length)throw"Could not find Overlay: "+p;d&&d.index(f)==-1&&d.click(function(e){c.load(e);return e.preventDefault()});a.extend(c,{load:function(e){if(c.isOpened())return c;var h=q[b.effect];if(!h)throw'Overlay: cannot find effect : "'+b.effect+
'"';b.oneInstance&&a.each(s,function(){this.close(e)});e=e||a.Event();e.type="onBeforeLoad";j.trigger(e);if(e.isDefaultPrevented())return c;m=true;g&&a(f).expose(g);var i=b.top,r=b.left,u=f.outerWidth({margin:true}),v=f.outerHeight({margin:true});if(typeof i=="string")i=i=="center"?Math.max((o.height()-v)/2,0):parseInt(i,10)/100*o.height();if(r=="center")r=Math.max((o.width()-u)/2,0);h[0].call(c,{top:i,left:r},function(){if(m){e.type="onLoad";j.trigger(e)}});g&&b.closeOnClick&&a.mask.getMask().one("click",
c.close);b.closeOnClick&&a(document).bind("click."+n,function(l){a(l.target).parents(f).length||c.close(l)});b.closeOnEsc&&a(document).bind("keydown."+n,function(l){l.keyCode==27&&c.close(l)});return c},close:function(e){if(!c.isOpened())return c;e=e||a.Event();e.type="onBeforeClose";j.trigger(e);if(!e.isDefaultPrevented()){m=false;q[b.effect][1].call(c,function(){e.type="onClose";j.trigger(e)});a(document).unbind("click."+n).unbind("keydown."+n);g&&a.mask.close();return c}},getOverlay:function(){return f},
getTrigger:function(){return d},getClosers:function(){return k},isOpened:function(){return m},getConf:function(){return b}});a.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(e,h){a.isFunction(b[h])&&a(c).bind(h,b[h]);c[h]=function(i){i&&a(c).bind(h,i);return c}});k=f.find(b.close||".close");if(!k.length&&!b.close){k=a('<a class="close"></a>');f.prepend(k)}k.click(function(e){c.close(e)});b.load&&c.load()}a.tools=a.tools||{version:"1.2.5"};a.tools.overlay={addEffect:function(d,
b,c){q[d]=[b,c]},conf:{close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!a.browser.msie||a.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var s=[],q={};a.tools.overlay.addEffect("default",function(d,b){var c=this.getConf(),j=a(window);if(!c.fixed){d.top+=j.scrollTop();d.left+=j.scrollLeft()}d.position=c.fixed?"fixed":"absolute";this.getOverlay().css(d).fadeIn(c.speed,b)},function(d){this.getOverlay().fadeOut(this.getConf().closeSpeed,
d)});a.fn.overlay=function(d){var b=this.data("overlay");if(b)return b;if(a.isFunction(d))d={onBeforeLoad:d};d=a.extend(true,{},a.tools.overlay.conf,d);this.each(function(){b=new t(a(this),d);s.push(b);a(this).data("overlay",b)});return d.api?b:this}})(jQuery);
(function(b){function k(){if(b.browser.msie){var a=b(document).height(),d=b(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a-d<20?d:a]}return[b(document).width(),b(document).height()]}function h(a){if(a)return a.call(b.mask)}b.tools=b.tools||{version:"1.2.5"};var l;l=b.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:true,closeOnEsc:true,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,
onClose:null}};var c,i,e,g,j;b.mask={load:function(a,d){if(e)return this;if(typeof a=="string")a={color:a};a=a||g;g=a=b.extend(b.extend({},l.conf),a);c=b("#"+a.maskId);if(!c.length){c=b("<div/>").attr("id",a.maskId);b("body").append(c)}var m=k();c.css({position:"absolute",top:0,left:0,width:m[0],height:m[1],display:"none",opacity:a.startOpacity,zIndex:a.zIndex});a.color&&c.css("backgroundColor",a.color);if(h(a.onBeforeLoad)===false)return this;a.closeOnEsc&&b(document).bind("keydown.mask",function(f){f.keyCode==
27&&b.mask.close(f)});a.closeOnClick&&c.bind("click.mask",function(f){b.mask.close(f)});b(window).bind("resize.mask",function(){b.mask.fit()});if(d&&d.length){j=d.eq(0).css("zIndex");b.each(d,function(){var f=b(this);/relative|absolute|fixed/i.test(f.css("position"))||f.css("position","relative")});i=d.css({zIndex:Math.max(a.zIndex+1,j=="auto"?0:j)})}c.css({display:"block"}).fadeTo(a.loadSpeed,a.opacity,function(){b.mask.fit();h(a.onLoad);e="full"});e=true;return this},close:function(){if(e){if(h(g.onBeforeClose)===
false)return this;c.fadeOut(g.closeSpeed,function(){h(g.onClose);i&&i.css({zIndex:j});e=false});b(document).unbind("keydown.mask");c.unbind("click.mask");b(window).unbind("resize.mask")}return this},fit:function(){if(e){var a=k();c.css({width:a[0],height:a[1]})}},getMask:function(){return c},isLoaded:function(a){return a?e=="full":e},getConf:function(){return g},getExposed:function(){return i}};b.fn.mask=function(a){b.mask.load(a);return this};b.fn.expose=function(a){b.mask.load(a,this);return this}})(jQuery);
;
;
/* module-key = 'com.onresolve.jira.groovy.groovyrunner:bh-issuePluginResources', location = 'js/bh-issuePluginResources.js.switchable' */
!function(e){function t(e){delete installedChunks[e]}function r(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.src=p.p+""+e+"."+b+".hot-update.js",t.appendChild(r)}function n(e){return e=e||1e4,new Promise(function(t,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,o=p.p+""+b+".hot-update.json";n.open("GET",o,!0),n.timeout=e,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+o+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void r(e)}t(e)}}})}function o(e){var t=C[e];if(!t)return p;var r=function(r){return t.hot.active?(C[r]?C[r].parents.indexOf(e)<0&&C[r].parents.push(e):(S=[e],_=r),t.children.indexOf(r)<0&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),S=[]),p(r)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return p[e]},set:function(t){p[e]=t}}};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&"e"!==o&&Object.defineProperty(r,o,n(o));return r.e=function(e){function t(){R--,"prepare"===A&&(T[e]||l(e),0===R&&0===$&&d())}return"ready"===A&&s("prepare"),R++,p.e(e).then(t,function(e){throw t(),e})},r}function i(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:_!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:u,apply:f,status:function(e){if(!e)return A;w.push(e)},addStatusHandler:function(e){w.push(e)},removeStatusHandler:function(e){var t=w.indexOf(e);t>=0&&w.splice(t,1)},data:E[e]};return _=void 0,t}function s(e){A=e;for(var t=0;t<w.length;t++)w[t].call(null,e)}function a(e){return+e+""===e?+e:e}function u(e){if("idle"!==A)throw new Error("check() is only allowed in idle status");return v=e,s("check"),n(g).then(function(e){if(!e)return s("idle"),null;O={},T={},k=e.c,y=e.h,s("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});return j={},l(8),"prepare"===A&&0===R&&0===$&&d(),t})}function c(e,t){if(k[e]&&O[e]){O[e]=!1;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(j[r]=t[r]);0==--$&&0===R&&d()}}function l(e){k[e]?(O[e]=!0,$++,r(e)):T[e]=!0}function d(){s("ready");var e=h;if(h=null,e)if(v)Promise.resolve().then(function(){return f(v)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in j)Object.prototype.hasOwnProperty.call(j,r)&&t.push(a(r));e.resolve(t)}}function f(r){function n(e){for(var t=[e],r={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var i=n.pop(),s=i.id,a=i.chain;if((l=C[s])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:s};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:s};for(var u=0;u<l.parents.length;u++){var c=l.parents[u],d=C[c];if(d){if(d.hot._declinedDependencies[s])return{type:"declined",chain:a.concat([c]),moduleId:s,parentId:c};t.indexOf(c)>=0||(d.hot._acceptedDependencies[s]?(r[c]||(r[c]=[]),o(r[c],[s])):(delete r[c],t.push(c),n.push({chain:a.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.indexOf(n)<0&&e.push(n)}}if("ready"!==A)throw new Error("apply() is only allowed in ready status");r=r||{};var i,u,c,l,d,f={},m=[],_={},h=function(){console.warn("[HMR] unexpected require("+g.moduleId+") to disposed module")};for(var v in j)if(Object.prototype.hasOwnProperty.call(j,v)){d=a(v);var g;g=j[v]?n(d):{type:"disposed",moduleId:v};var x=!1,w=!1,$=!1,R="";switch(g.chain&&(R="\nUpdate propagation: "+g.chain.join(" -> ")),g.type){case"self-declined":r.onDeclined&&r.onDeclined(g),r.ignoreDeclined||(x=new Error("Aborted because of self decline: "+g.moduleId+R));break;case"declined":r.onDeclined&&r.onDeclined(g),r.ignoreDeclined||(x=new Error("Aborted because of declined dependency: "+g.moduleId+" in "+g.parentId+R));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(g),r.ignoreUnaccepted||(x=new Error("Aborted because "+d+" is not accepted"+R));break;case"accepted":r.onAccepted&&r.onAccepted(g),w=!0;break;case"disposed":r.onDisposed&&r.onDisposed(g),$=!0;break;default:throw new Error("Unexception type "+g.type)}if(x)return s("abort"),Promise.reject(x);if(w){_[d]=j[d],o(m,g.outdatedModules);for(d in g.outdatedDependencies)Object.prototype.hasOwnProperty.call(g.outdatedDependencies,d)&&(f[d]||(f[d]=[]),o(f[d],g.outdatedDependencies[d]))}$&&(o(m,[g.moduleId]),_[d]=h)}var T=[];for(u=0;u<m.length;u++)d=m[u],C[d]&&C[d].hot._selfAccepted&&T.push({module:d,errorHandler:C[d].hot._selfAccepted});s("dispose"),Object.keys(k).forEach(function(e){!1===k[e]&&t(e)});for(var O,L=m.slice();L.length>0;)if(d=L.pop(),l=C[d]){var F={},I=l.hot._disposeHandlers;for(c=0;c<I.length;c++)(i=I[c])(F);for(E[d]=F,l.hot.active=!1,delete C[d],delete f[d],c=0;c<l.children.length;c++){var P=C[l.children[c]];P&&((O=P.parents.indexOf(d))>=0&&P.parents.splice(O,1))}}var D,N;for(d in f)if(Object.prototype.hasOwnProperty.call(f,d)&&(l=C[d]))for(N=f[d],c=0;c<N.length;c++)D=N[c],(O=l.children.indexOf(D))>=0&&l.children.splice(O,1);s("apply"),b=y;for(d in _)Object.prototype.hasOwnProperty.call(_,d)&&(e[d]=_[d]);var M=null;for(d in f)if(Object.prototype.hasOwnProperty.call(f,d)&&(l=C[d])){N=f[d];var H=[];for(u=0;u<N.length;u++)if(D=N[u],i=l.hot._acceptedDependencies[D]){if(H.indexOf(i)>=0)continue;H.push(i)}for(u=0;u<H.length;u++){i=H[u];try{i(N)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:d,dependencyId:N[u],error:e}),r.ignoreErrored||M||(M=e)}}}for(u=0;u<T.length;u++){var U=T[u];d=U.module,S=[d];try{p(d)}catch(e){if("function"==typeof U.errorHandler)try{U.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,orginalError:e,originalError:e}),r.ignoreErrored||M||(M=t),M||(M=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:d,error:e}),r.ignoreErrored||M||(M=e)}}return M?(s("fail"),Promise.reject(M)):(s("idle"),new Promise(function(e){e(m)}))}function p(t){if(C[t])return C[t].exports;var r=C[t]={i:t,l:!1,exports:{},hot:i(t),parents:(x=S,S=[],x),children:[]};return e[t].call(r.exports,r,r.exports,o(t)),r.l=!0,r.exports}var m=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){c(e,t),m&&m(e,t)};var _,h,j,y,v=!0,b="993306ed3d3875f056f9",g=1e4,E={},S=[],x=[],w=[],A="idle",$=0,R=0,T={},O={},k={},C={};p.m=e,p.c=C,p.d=function(e,t,r){p.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="http://localhost:8099/js/",p.h=function(){return b},o(10)(p.s=10)}({"./node_modules/babel-runtime/core-js/promise.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/promise.js"),__esModule:!0}},"./node_modules/babel-runtime/helpers/asyncToGenerator.js":function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r("./node_modules/babel-runtime/core-js/promise.js"),i=n(o);t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,r){function n(o,s){try{var a=t[o](s),u=a.value}catch(e){return void r(e)}if(!a.done)return i.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}},"./node_modules/babel-runtime/node_modules/regenerator-runtime/runtime-module.js":function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r("./node_modules/babel-runtime/node_modules/regenerator-runtime/runtime.js"),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},"./node_modules/babel-runtime/node_modules/regenerator-runtime/runtime.js":function(e,t){!function(t){"use strict";function r(e,t,r,n){var i=t&&t.prototype instanceof o?t:o,s=Object.create(i.prototype),a=new p(n||[]);return s._invoke=c(e,r,a),s}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function s(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(r,o,i,s){var a=n(e[r],e,o);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},s)}s(a.arg)}function r(e,r){function n(){return new Promise(function(n,o){t(e,r,n,o)})}return o=o?o.then(n,n):n()}var o;this._invoke=r}function c(e,t,r){var o=w;return function(i,s){if(o===$)throw new Error("Generator is already running");if(o===R){if("throw"===i)throw s;return _()}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var u=l(a,r);if(u){if(u===T)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===w)throw o=R,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=$;var c=n(e,t,r);if("normal"===c.type){if(o=r.done?R:A,c.arg===T)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=R,r.method="throw",r.arg=c.arg)}}}function l(e,t){var r=e.iterator[t.method];if(r===h){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=h,l(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var o=n(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,T;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=h),t.delegate=null,T):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function m(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=h,t.done=!0,t};return n.next=n}}return{next:_}}function _(){return{value:h,done:!0}}var h,j=Object.prototype,y=j.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},b=v.iterator||"@@iterator",g=v.asyncIterator||"@@asyncIterator",E=v.toStringTag||"@@toStringTag",S="object"==typeof e,x=t.regeneratorRuntime;if(x)return void(S&&(e.exports=x));x=t.regeneratorRuntime=S?e.exports:{},x.wrap=r;var w="suspendedStart",A="suspendedYield",$="executing",R="completed",T={},O={};O[b]=function(){return this};var k=Object.getPrototypeOf,C=k&&k(k(m([])));C&&C!==j&&y.call(C,b)&&(O=C);var L=s.prototype=o.prototype=Object.create(O);i.prototype=L.constructor=s,s.constructor=i,s[E]=i.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(L),e},x.awrap=function(e){return{__await:e}},a(u.prototype),u.prototype[g]=function(){return this},x.AsyncIterator=u,x.async=function(e,t,n,o){var i=new u(r(e,t,n,o));return x.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},a(L),L[E]="Generator",L[b]=function(){return this},L.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},x.values=m,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=h)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=h),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=y.call(o,"catchLoc"),a=y.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,T):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),f(r),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;f(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:m(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=h),T}}}(function(){return this}()||Function("return this")())},"./node_modules/babel-runtime/regenerator/index.js":function(e,t,r){e.exports=r("./node_modules/babel-runtime/node_modules/regenerator-runtime/runtime-module.js")},"./node_modules/core-js/es6/promise.js":function(e,t,r){r("./node_modules/core-js/modules/es6.object.to-string.js"),r("./node_modules/core-js/modules/es6.string.iterator.js"),r("./node_modules/core-js/modules/web.dom.iterable.js"),r("./node_modules/core-js/modules/es6.promise.js"),e.exports=r("./node_modules/core-js/modules/_core.js").Promise},"./node_modules/core-js/fn/array/find.js":function(e,t,r){r("./node_modules/core-js/modules/es6.array.find.js"),e.exports=r("./node_modules/core-js/modules/_core.js").Array.find},"./node_modules/core-js/fn/array/from.js":function(e,t,r){r("./node_modules/core-js/modules/es6.string.iterator.js"),r("./node_modules/core-js/modules/es6.array.from.js"),e.exports=r("./node_modules/core-js/modules/_core.js").Array.from},"./node_modules/core-js/fn/array/includes.js":function(e,t,r){r("./node_modules/core-js/modules/es7.array.includes.js"),e.exports=r("./node_modules/core-js/modules/_core.js").Array.includes},"./node_modules/core-js/fn/object/assign.js":function(e,t,r){r("./node_modules/core-js/modules/es6.object.assign.js"),e.exports=r("./node_modules/core-js/modules/_core.js").Object.assign},"./node_modules/core-js/fn/object/entries.js":function(e,t,r){r("./node_modules/core-js/modules/es7.object.entries.js"),e.exports=r("./node_modules/core-js/modules/_core.js").Object.entries},"./node_modules/core-js/fn/object/values.js":function(e,t,r){r("./node_modules/core-js/modules/es7.object.values.js"),e.exports=r("./node_modules/core-js/modules/_core.js").Object.values},"./node_modules/core-js/fn/promise.js":function(e,t,r){r("./node_modules/core-js/modules/es6.object.to-string.js"),r("./node_modules/core-js/modules/es6.string.iterator.js"),r("./node_modules/core-js/modules/web.dom.iterable.js"),r("./node_modules/core-js/modules/es6.promise.js"),r("./node_modules/core-js/modules/es7.promise.finally.js"),r("./node_modules/core-js/modules/es7.promise.try.js"),e.exports=r("./node_modules/core-js/modules/_core.js").Promise},"./node_modules/core-js/fn/string/ends-with.js":function(e,t,r){r("./node_modules/core-js/modules/es6.string.ends-with.js"),e.exports=r("./node_modules/core-js/modules/_core.js").String.endsWith},"./node_modules/core-js/fn/string/includes.js":function(e,t,r){r("./node_modules/core-js/modules/es6.string.includes.js"),e.exports=r("./node_modules/core-js/modules/_core.js").String.includes},"./node_modules/core-js/fn/string/starts-with.js":function(e,t,r){r("./node_modules/core-js/modules/es6.string.starts-with.js"),e.exports=r("./node_modules/core-js/modules/_core.js").String.startsWith},"./node_modules/core-js/library/fn/promise.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.to-string.js"),r("./node_modules/core-js/library/modules/es6.string.iterator.js"),r("./node_modules/core-js/library/modules/web.dom.iterable.js"),r("./node_modules/core-js/library/modules/es6.promise.js"),r("./node_modules/core-js/library/modules/es7.promise.finally.js"),r("./node_modules/core-js/library/modules/es7.promise.try.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Promise},"./node_modules/core-js/library/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/library/modules/_add-to-unscopables.js":function(e,t){e.exports=function(){}},"./node_modules/core-js/library/modules/_an-instance.js":function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},"./node_modules/core-js/library/modules/_an-object.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/library/modules/_array-includes.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-iobject.js"),o=r("./node_modules/core-js/library/modules/_to-length.js"),i=r("./node_modules/core-js/library/modules/_to-absolute-index.js");e.exports=function(e){return function(t,r,s){var a,u=n(t),c=o(u.length),l=i(s,c);if(e&&r!=r){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},"./node_modules/core-js/library/modules/_classof.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_cof.js"),o=r("./node_modules/core-js/library/modules/_wks.js")("toStringTag"),i="Arguments"==n(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},"./node_modules/core-js/library/modules/_cof.js":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"./node_modules/core-js/library/modules/_core.js":function(e,t){var r=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=r)},"./node_modules/core-js/library/modules/_ctx.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_a-function.js");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/library/modules/_defined.js":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/library/modules/_descriptors.js":function(e,t,r){e.exports=!r("./node_modules/core-js/library/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/library/modules/_dom-create.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js"),o=r("./node_modules/core-js/library/modules/_global.js").document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"./node_modules/core-js/library/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/library/modules/_export.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_core.js"),i=r("./node_modules/core-js/library/modules/_ctx.js"),s=r("./node_modules/core-js/library/modules/_hide.js"),a="prototype",u=function(e,t,r){var c,l,d,f=e&u.F,p=e&u.G,m=e&u.S,_=e&u.P,h=e&u.B,j=e&u.W,y=p?o:o[t]||(o[t]={}),v=y[a],b=p?n:m?n[t]:(n[t]||{})[a];p&&(r=t);for(c in r)(l=!f&&b&&void 0!==b[c])&&c in y||(d=l?b[c]:r[c],y[c]=p&&"function"!=typeof b[c]?r[c]:h&&l?i(d,n):j&&b[c]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[a]=e[a],t}(d):_&&"function"==typeof d?i(Function.call,d):d,_&&((y.virtual||(y.virtual={}))[c]=d,e&u.R&&v&&!v[c]&&s(v,c,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"./node_modules/core-js/library/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/library/modules/_for-of.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_ctx.js"),o=r("./node_modules/core-js/library/modules/_iter-call.js"),i=r("./node_modules/core-js/library/modules/_is-array-iter.js"),s=r("./node_modules/core-js/library/modules/_an-object.js"),a=r("./node_modules/core-js/library/modules/_to-length.js"),u=r("./node_modules/core-js/library/modules/core.get-iterator-method.js"),c={},l={},t=e.exports=function(e,t,r,d,f){var p,m,_,h,j=f?function(){return e}:u(e),y=n(r,d,t?2:1),v=0;if("function"!=typeof j)throw TypeError(e+" is not iterable!");if(i(j)){for(p=a(e.length);p>v;v++)if((h=t?y(s(m=e[v])[0],m[1]):y(e[v]))===c||h===l)return h}else for(_=j.call(e);!(m=_.next()).done;)if((h=o(_,y,m.value,t))===c||h===l)return h};t.BREAK=c,t.RETURN=l},"./node_modules/core-js/library/modules/_global.js":function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"./node_modules/core-js/library/modules/_has.js":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"./node_modules/core-js/library/modules/_hide.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-dp.js"),o=r("./node_modules/core-js/library/modules/_property-desc.js");e.exports=r("./node_modules/core-js/library/modules/_descriptors.js")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},"./node_modules/core-js/library/modules/_html.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_global.js").document;e.exports=n&&n.documentElement},"./node_modules/core-js/library/modules/_ie8-dom-define.js":function(e,t,r){e.exports=!r("./node_modules/core-js/library/modules/_descriptors.js")&&!r("./node_modules/core-js/library/modules/_fails.js")(function(){return 7!=Object.defineProperty(r("./node_modules/core-js/library/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/library/modules/_invoke.js":function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},"./node_modules/core-js/library/modules/_iobject.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"./node_modules/core-js/library/modules/_is-array-iter.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_iterators.js"),o=r("./node_modules/core-js/library/modules/_wks.js")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},"./node_modules/core-js/library/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/library/modules/_iter-call.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js");e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},"./node_modules/core-js/library/modules/_iter-create.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_object-create.js"),o=r("./node_modules/core-js/library/modules/_property-desc.js"),i=r("./node_modules/core-js/library/modules/_set-to-string-tag.js"),s={};r("./node_modules/core-js/library/modules/_hide.js")(s,r("./node_modules/core-js/library/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(s,{next:o(1,r)}),i(e,t+" Iterator")}},"./node_modules/core-js/library/modules/_iter-define.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_library.js"),o=r("./node_modules/core-js/library/modules/_export.js"),i=r("./node_modules/core-js/library/modules/_redefine.js"),s=r("./node_modules/core-js/library/modules/_hide.js"),a=r("./node_modules/core-js/library/modules/_has.js"),u=r("./node_modules/core-js/library/modules/_iterators.js"),c=r("./node_modules/core-js/library/modules/_iter-create.js"),l=r("./node_modules/core-js/library/modules/_set-to-string-tag.js"),d=r("./node_modules/core-js/library/modules/_object-gpo.js"),f=r("./node_modules/core-js/library/modules/_wks.js")("iterator"),p=!([].keys&&"next"in[].keys()),m="keys",_="values",h=function(){return this};e.exports=function(e,t,r,j,y,v,b){c(r,t,j);var g,E,S,x=function(e){if(!p&&e in R)return R[e];switch(e){case m:case _:return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",A=y==_,$=!1,R=e.prototype,T=R[f]||R["@@iterator"]||y&&R[y],O=T||x(y),k=y?A?x("entries"):O:void 0,C="Array"==t?R.entries||T:T;if(C&&(S=d(C.call(new e)))!==Object.prototype&&S.next&&(l(S,w,!0),n||a(S,f)||s(S,f,h)),A&&T&&T.name!==_&&($=!0,O=function(){return T.call(this)}),n&&!b||!p&&!$&&R[f]||s(R,f,O),u[t]=O,u[w]=h,y)if(g={values:A?O:x(_),keys:v?O:x(m),entries:k},b)for(E in g)E in R||i(R,E,g[E]);else o(o.P+o.F*(p||$),t,g);return g}},"./node_modules/core-js/library/modules/_iter-detect.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_wks.js")("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},e(i)}catch(e){}return r}},"./node_modules/core-js/library/modules/_iter-step.js":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/library/modules/_iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/library/modules/_library.js":function(e,t){e.exports=!0},"./node_modules/core-js/library/modules/_microtask.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_task.js").set,i=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==r("./node_modules/core-js/library/modules/_cof.js")(s);e.exports=function(){var e,t,r,c=function(){var n,o;for(u&&(n=s.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(c)};else if(i){var l=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),r=function(){d.data=l=!l}}else if(a&&a.resolve){var f=a.resolve();r=function(){f.then(c)}}else r=function(){o.call(n,c)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},"./node_modules/core-js/library/modules/_new-promise-capability.js":function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=o(t),this.reject=o(r)}var o=r("./node_modules/core-js/library/modules/_a-function.js");e.exports.f=function(e){return new n(e)}},"./node_modules/core-js/library/modules/_object-create.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js"),o=r("./node_modules/core-js/library/modules/_object-dps.js"),i=r("./node_modules/core-js/library/modules/_enum-bug-keys.js"),s=r("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),a=function(){},u="prototype",c=function(){var e,t=r("./node_modules/core-js/library/modules/_dom-create.js")("iframe"),n=i.length,o="<",s=">";for(t.style.display="none",r("./node_modules/core-js/library/modules/_html.js").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+s+"document.F=Object"+o+"/script"+s),e.close(),c=e.F;n--;)delete c[u][i[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(a[u]=n(e),r=new a,a[u]=null,r[s]=e):r=c(),void 0===t?r:o(r,t)}},"./node_modules/core-js/library/modules/_object-dp.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js"),o=r("./node_modules/core-js/library/modules/_ie8-dom-define.js"),i=r("./node_modules/core-js/library/modules/_to-primitive.js"),s=Object.defineProperty;t.f=r("./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},"./node_modules/core-js/library/modules/_object-dps.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-dp.js"),o=r("./node_modules/core-js/library/modules/_an-object.js"),i=r("./node_modules/core-js/library/modules/_object-keys.js");e.exports=r("./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperties:function(e,t){o(e);for(var r,s=i(t),a=s.length,u=0;a>u;)n.f(e,r=s[u++],t[r]);return e}},"./node_modules/core-js/library/modules/_object-gpo.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_has.js"),o=r("./node_modules/core-js/library/modules/_to-object.js"),i=r("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"./node_modules/core-js/library/modules/_object-keys-internal.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_has.js"),o=r("./node_modules/core-js/library/modules/_to-iobject.js"),i=r("./node_modules/core-js/library/modules/_array-includes.js")(!1),s=r("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var r,a=o(e),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~i(c,r)||c.push(r));return c}},"./node_modules/core-js/library/modules/_object-keys.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-keys-internal.js"),o=r("./node_modules/core-js/library/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return n(e,o)}},"./node_modules/core-js/library/modules/_perform.js":function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},"./node_modules/core-js/library/modules/_promise-resolve.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js"),o=r("./node_modules/core-js/library/modules/_is-object.js"),i=r("./node_modules/core-js/library/modules/_new-promise-capability.js");e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},"./node_modules/core-js/library/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/library/modules/_redefine-all.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_hide.js");e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},"./node_modules/core-js/library/modules/_redefine.js":function(e,t,r){e.exports=r("./node_modules/core-js/library/modules/_hide.js")},"./node_modules/core-js/library/modules/_set-species.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_core.js"),i=r("./node_modules/core-js/library/modules/_object-dp.js"),s=r("./node_modules/core-js/library/modules/_descriptors.js"),a=r("./node_modules/core-js/library/modules/_wks.js")("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/library/modules/_set-to-string-tag.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-dp.js").f,o=r("./node_modules/core-js/library/modules/_has.js"),i=r("./node_modules/core-js/library/modules/_wks.js")("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},"./node_modules/core-js/library/modules/_shared-key.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_shared.js")("keys"),o=r("./node_modules/core-js/library/modules/_uid.js");e.exports=function(e){return n[e]||(n[e]=o(e))}},"./node_modules/core-js/library/modules/_shared.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_global.js"),o="__core-js_shared__",i=n[o]||(n[o]={});e.exports=function(e){return i[e]||(i[e]={})}},"./node_modules/core-js/library/modules/_species-constructor.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js"),o=r("./node_modules/core-js/library/modules/_a-function.js"),i=r("./node_modules/core-js/library/modules/_wks.js")("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[i])?t:o(r)}},"./node_modules/core-js/library/modules/_string-at.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-integer.js"),o=r("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return function(t,r){var i,s,a=String(o(t)),u=n(r),c=a.length;return u<0||u>=c?e?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):i:e?a.slice(u,u+2):s-56320+(i-55296<<10)+65536)}}},"./node_modules/core-js/library/modules/_task.js":function(e,t,r){var n,o,i,s=r("./node_modules/core-js/library/modules/_ctx.js"),a=r("./node_modules/core-js/library/modules/_invoke.js"),u=r("./node_modules/core-js/library/modules/_html.js"),c=r("./node_modules/core-js/library/modules/_dom-create.js"),l=r("./node_modules/core-js/library/modules/_global.js"),d=l.process,f=l.setImmediate,p=l.clearImmediate,m=l.MessageChannel,_=l.Dispatch,h=0,j={},y="onreadystatechange",v=function(){var e=+this;if(j.hasOwnProperty(e)){var t=j[e];delete j[e],t()}},b=function(e){v.call(e.data)};f&&p||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return j[++h]=function(){a("function"==typeof e?e:Function(e),t)},n(h),h},p=function(e){delete j[e]},"process"==r("./node_modules/core-js/library/modules/_cof.js")(d)?n=function(e){d.nextTick(s(v,e,1))}:_&&_.now?n=function(e){_.now(s(v,e,1))}:m?(o=new m,i=o.port2,o.port1.onmessage=b,n=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):n=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(s(v,e,1),0)}),e.exports={set:f,clear:p}},"./node_modules/core-js/library/modules/_to-absolute-index.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-integer.js"),o=Math.max,i=Math.min;e.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},"./node_modules/core-js/library/modules/_to-integer.js":function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},"./node_modules/core-js/library/modules/_to-iobject.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_iobject.js"),o=r("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return n(o(e))}},"./node_modules/core-js/library/modules/_to-length.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},"./node_modules/core-js/library/modules/_to-object.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return Object(n(e))}},"./node_modules/core-js/library/modules/_to-primitive.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/library/modules/_uid.js":function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},"./node_modules/core-js/library/modules/_wks.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_shared.js")("wks"),o=r("./node_modules/core-js/library/modules/_uid.js"),i=r("./node_modules/core-js/library/modules/_global.js").Symbol,s="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=n},"./node_modules/core-js/library/modules/core.get-iterator-method.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_classof.js"),o=r("./node_modules/core-js/library/modules/_wks.js")("iterator"),i=r("./node_modules/core-js/library/modules/_iterators.js");e.exports=r("./node_modules/core-js/library/modules/_core.js").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},"./node_modules/core-js/library/modules/es6.array.iterator.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_add-to-unscopables.js"),o=r("./node_modules/core-js/library/modules/_iter-step.js"),i=r("./node_modules/core-js/library/modules/_iterators.js"),s=r("./node_modules/core-js/library/modules/_to-iobject.js");e.exports=r("./node_modules/core-js/library/modules/_iter-define.js")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},"./node_modules/core-js/library/modules/es6.object.to-string.js":function(e,t){},"./node_modules/core-js/library/modules/es6.promise.js":function(e,t,r){"use strict";var n,o,i,s,a=r("./node_modules/core-js/library/modules/_library.js"),u=r("./node_modules/core-js/library/modules/_global.js"),c=r("./node_modules/core-js/library/modules/_ctx.js"),l=r("./node_modules/core-js/library/modules/_classof.js"),d=r("./node_modules/core-js/library/modules/_export.js"),f=r("./node_modules/core-js/library/modules/_is-object.js"),p=r("./node_modules/core-js/library/modules/_a-function.js"),m=r("./node_modules/core-js/library/modules/_an-instance.js"),_=r("./node_modules/core-js/library/modules/_for-of.js"),h=r("./node_modules/core-js/library/modules/_species-constructor.js"),j=r("./node_modules/core-js/library/modules/_task.js").set,y=r("./node_modules/core-js/library/modules/_microtask.js")(),v=r("./node_modules/core-js/library/modules/_new-promise-capability.js"),b=r("./node_modules/core-js/library/modules/_perform.js"),g=r("./node_modules/core-js/library/modules/_promise-resolve.js"),E="Promise",S=u.TypeError,x=u.process,w=u[E],A="process"==l(x),$=function(){},R=o=v.f,T=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[r("./node_modules/core-js/library/modules/_wks.js")("species")]=function(e){e($,$)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then($)instanceof t}catch(e){}}(),O=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},k=function(e,t){if(!e._n){e._n=!0;var r=e._c;y(function(){for(var n=e._v,o=1==e._s,i=0,s=function(t){var r,i,s=o?t.ok:t.fail,a=t.resolve,u=t.reject,c=t.domain;try{s?(o||(2==e._h&&F(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&c.exit()),r===t.promise?u(S("Promise-chain cycle")):(i=O(r))?i.call(r,a,u):a(r)):u(n)}catch(e){u(e)}};r.length>i;)s(r[i++]);e._c=[],e._n=!1,t&&!e._h&&C(e)})}},C=function(e){j.call(u,function(){var t,r,n,o=e._v,i=L(e);if(i&&(t=b(function(){A?x.emit("unhandledRejection",o,e):(r=u.onunhandledrejection)?r({promise:e,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=A||L(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},L=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!L(t.promise))return!1;return!0},F=function(e){j.call(u,function(){var t;A?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),k(t,!0))},P=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw S("Promise can't be resolved itself");(t=O(e))?y(function(){var n={_w:r,_d:!1};try{t.call(e,c(P,n,1),c(I,n,1))}catch(e){I.call(n,e)}}):(r._v=e,r._s=1,k(r,!1))}catch(e){I.call({_w:r,_d:!1},e)}}};T||(w=function(e){m(this,w,E,"_h"),p(e),n.call(this);try{e(c(P,this,1),c(I,this,1))}catch(e){I.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r("./node_modules/core-js/library/modules/_redefine-all.js")(w.prototype,{then:function(e,t){var r=R(h(this,w));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&k(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(P,e,1),this.reject=c(I,e,1)},v.f=R=function(e){return e===w||e===s?new i(e):o(e)}),d(d.G+d.W+d.F*!T,{Promise:w}),r("./node_modules/core-js/library/modules/_set-to-string-tag.js")(w,E),r("./node_modules/core-js/library/modules/_set-species.js")(E),s=r("./node_modules/core-js/library/modules/_core.js")[E],d(d.S+d.F*!T,E,{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!T),E,{resolve:function(e){return g(a&&this===s?w:this,e)}}),d(d.S+d.F*!(T&&r("./node_modules/core-js/library/modules/_iter-detect.js")(function(e){w.all(e).catch($)})),E,{all:function(e){var t=this,r=R(t),n=r.resolve,o=r.reject,i=b(function(){var r=[],i=0,s=1;_(e,!1,function(e){var a=i++,u=!1;r.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,r[a]=e,--s||n(r))},o)}),--s||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=R(t),n=r.reject,o=b(function(){_(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},"./node_modules/core-js/library/modules/es6.string.iterator.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_string-at.js")(!0);r("./node_modules/core-js/library/modules/_iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},"./node_modules/core-js/library/modules/es7.promise.finally.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_export.js"),o=r("./node_modules/core-js/library/modules/_core.js"),i=r("./node_modules/core-js/library/modules/_global.js"),s=r("./node_modules/core-js/library/modules/_species-constructor.js"),a=r("./node_modules/core-js/library/modules/_promise-resolve.js");n(n.P+n.R,"Promise",{finally:function(e){var t=s(this,o.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return a(t,e()).then(function(){return r})}:e,r?function(r){return a(t,e()).then(function(){throw r})}:e)}})},"./node_modules/core-js/library/modules/es7.promise.try.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_export.js"),o=r("./node_modules/core-js/library/modules/_new-promise-capability.js"),i=r("./node_modules/core-js/library/modules/_perform.js");n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},"./node_modules/core-js/library/modules/web.dom.iterable.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.array.iterator.js");for(var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_hide.js"),i=r("./node_modules/core-js/library/modules/_iterators.js"),s=r("./node_modules/core-js/library/modules/_wks.js")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=n[c],d=l&&l.prototype;d&&!d[s]&&o(d,s,c),i[c]=i.Array}},"./node_modules/core-js/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/modules/_add-to-unscopables.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_wks.js")("unscopables"),o=Array.prototype;void 0==o[n]&&r("./node_modules/core-js/modules/_hide.js")(o,n,{}),e.exports=function(e){o[n][e]=!0}},"./node_modules/core-js/modules/_an-instance.js":function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},"./node_modules/core-js/modules/_an-object.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/modules/_array-includes.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-iobject.js"),o=r("./node_modules/core-js/modules/_to-length.js"),i=r("./node_modules/core-js/modules/_to-absolute-index.js");e.exports=function(e){return function(t,r,s){var a,u=n(t),c=o(u.length),l=i(s,c);if(e&&r!=r){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},"./node_modules/core-js/modules/_array-methods.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_ctx.js"),o=r("./node_modules/core-js/modules/_iobject.js"),i=r("./node_modules/core-js/modules/_to-object.js"),s=r("./node_modules/core-js/modules/_to-length.js"),a=r("./node_modules/core-js/modules/_array-species-create.js");e.exports=function(e,t){var r=1==e,u=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d,p=t||a;return function(t,a,m){for(var _,h,j=i(t),y=o(j),v=n(a,m,3),b=s(y.length),g=0,E=r?p(t,b):u?p(t,0):void 0;b>g;g++)if((f||g in y)&&(_=y[g],h=v(_,g,j),e))if(r)E[g]=h;else if(h)switch(e){case 3:return!0;case 5:return _;case 6:return g;case 2:E.push(_)}else if(l)return!1;return d?-1:c||l?l:E}}},"./node_modules/core-js/modules/_array-species-constructor.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js"),o=r("./node_modules/core-js/modules/_is-array.js"),i=r("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},"./node_modules/core-js/modules/_array-species-create.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_array-species-constructor.js");e.exports=function(e,t){return new(n(e))(t)}},"./node_modules/core-js/modules/_classof.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_cof.js"),o=r("./node_modules/core-js/modules/_wks.js")("toStringTag"),i="Arguments"==n(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},"./node_modules/core-js/modules/_cof.js":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"./node_modules/core-js/modules/_core.js":function(e,t){var r=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=r)},"./node_modules/core-js/modules/_create-property.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_object-dp.js"),o=r("./node_modules/core-js/modules/_property-desc.js");e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},"./node_modules/core-js/modules/_ctx.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_a-function.js");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/modules/_defined.js":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/modules/_descriptors.js":function(e,t,r){e.exports=!r("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_dom-create.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js"),o=r("./node_modules/core-js/modules/_global.js").document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"./node_modules/core-js/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/modules/_export.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js"),o=r("./node_modules/core-js/modules/_core.js"),i=r("./node_modules/core-js/modules/_hide.js"),s=r("./node_modules/core-js/modules/_redefine.js"),a=r("./node_modules/core-js/modules/_ctx.js"),u="prototype",c=function(e,t,r){var l,d,f,p,m=e&c.F,_=e&c.G,h=e&c.S,j=e&c.P,y=e&c.B,v=_?n:h?n[t]||(n[t]={}):(n[t]||{})[u],b=_?o:o[t]||(o[t]={}),g=b[u]||(b[u]={});_&&(r=t);for(l in r)d=!m&&v&&void 0!==v[l],f=(d?v:r)[l],p=y&&d?a(f,n):j&&"function"==typeof f?a(Function.call,f):f,v&&s(v,l,f,e&c.U),b[l]!=f&&i(b,l,p),j&&g[l]!=f&&(g[l]=f)};n.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"./node_modules/core-js/modules/_fails-is-regexp.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},"./node_modules/core-js/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/modules/_for-of.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_ctx.js"),o=r("./node_modules/core-js/modules/_iter-call.js"),i=r("./node_modules/core-js/modules/_is-array-iter.js"),s=r("./node_modules/core-js/modules/_an-object.js"),a=r("./node_modules/core-js/modules/_to-length.js"),u=r("./node_modules/core-js/modules/core.get-iterator-method.js"),c={},l={},t=e.exports=function(e,t,r,d,f){var p,m,_,h,j=f?function(){return e}:u(e),y=n(r,d,t?2:1),v=0;if("function"!=typeof j)throw TypeError(e+" is not iterable!");if(i(j)){for(p=a(e.length);p>v;v++)if((h=t?y(s(m=e[v])[0],m[1]):y(e[v]))===c||h===l)return h}else for(_=j.call(e);!(m=_.next()).done;)if((h=o(_,y,m.value,t))===c||h===l)return h};t.BREAK=c,t.RETURN=l},"./node_modules/core-js/modules/_global.js":function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"./node_modules/core-js/modules/_has.js":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"./node_modules/core-js/modules/_hide.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-dp.js"),o=r("./node_modules/core-js/modules/_property-desc.js");e.exports=r("./node_modules/core-js/modules/_descriptors.js")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},"./node_modules/core-js/modules/_html.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js").document;e.exports=n&&n.documentElement},"./node_modules/core-js/modules/_ie8-dom-define.js":function(e,t,r){e.exports=!r("./node_modules/core-js/modules/_descriptors.js")&&!r("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty(r("./node_modules/core-js/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_invoke.js":function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},"./node_modules/core-js/modules/_iobject.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"./node_modules/core-js/modules/_is-array-iter.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_iterators.js"),o=r("./node_modules/core-js/modules/_wks.js")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},"./node_modules/core-js/modules/_is-array.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_cof.js");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"./node_modules/core-js/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/modules/_is-regexp.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js"),o=r("./node_modules/core-js/modules/_cof.js"),i=r("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},"./node_modules/core-js/modules/_iter-call.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_an-object.js");e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},"./node_modules/core-js/modules/_iter-create.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_object-create.js"),o=r("./node_modules/core-js/modules/_property-desc.js"),i=r("./node_modules/core-js/modules/_set-to-string-tag.js"),s={};r("./node_modules/core-js/modules/_hide.js")(s,r("./node_modules/core-js/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(s,{next:o(1,r)}),i(e,t+" Iterator")}},"./node_modules/core-js/modules/_iter-define.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_library.js"),o=r("./node_modules/core-js/modules/_export.js"),i=r("./node_modules/core-js/modules/_redefine.js"),s=r("./node_modules/core-js/modules/_hide.js"),a=r("./node_modules/core-js/modules/_has.js"),u=r("./node_modules/core-js/modules/_iterators.js"),c=r("./node_modules/core-js/modules/_iter-create.js"),l=r("./node_modules/core-js/modules/_set-to-string-tag.js"),d=r("./node_modules/core-js/modules/_object-gpo.js"),f=r("./node_modules/core-js/modules/_wks.js")("iterator"),p=!([].keys&&"next"in[].keys()),m="keys",_="values",h=function(){return this};e.exports=function(e,t,r,j,y,v,b){c(r,t,j);var g,E,S,x=function(e){if(!p&&e in R)return R[e];switch(e){case m:case _:return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",A=y==_,$=!1,R=e.prototype,T=R[f]||R["@@iterator"]||y&&R[y],O=T||x(y),k=y?A?x("entries"):O:void 0,C="Array"==t?R.entries||T:T;if(C&&(S=d(C.call(new e)))!==Object.prototype&&S.next&&(l(S,w,!0),n||a(S,f)||s(S,f,h)),A&&T&&T.name!==_&&($=!0,O=function(){return T.call(this)}),n&&!b||!p&&!$&&R[f]||s(R,f,O),u[t]=O,u[w]=h,y)if(g={values:A?O:x(_),keys:v?O:x(m),entries:k},b)for(E in g)E in R||i(R,E,g[E]);else o(o.P+o.F*(p||$),t,g);return g}},"./node_modules/core-js/modules/_iter-detect.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_wks.js")("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},e(i)}catch(e){}return r}},"./node_modules/core-js/modules/_iter-step.js":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/modules/_iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/modules/_library.js":function(e,t){e.exports=!1},"./node_modules/core-js/modules/_microtask.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js"),o=r("./node_modules/core-js/modules/_task.js").set,i=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==r("./node_modules/core-js/modules/_cof.js")(s);e.exports=function(){var e,t,r,c=function(){var n,o;for(u&&(n=s.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(c)};else if(i){var l=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),r=function(){d.data=l=!l}}else if(a&&a.resolve){var f=a.resolve();r=function(){f.then(c)}}else r=function(){o.call(n,c)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},"./node_modules/core-js/modules/_new-promise-capability.js":function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=o(t),this.reject=o(r)}var o=r("./node_modules/core-js/modules/_a-function.js");e.exports.f=function(e){return new n(e)}},"./node_modules/core-js/modules/_object-assign.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_object-keys.js"),o=r("./node_modules/core-js/modules/_object-gops.js"),i=r("./node_modules/core-js/modules/_object-pie.js"),s=r("./node_modules/core-js/modules/_to-object.js"),a=r("./node_modules/core-js/modules/_iobject.js"),u=Object.assign;e.exports=!u||r("./node_modules/core-js/modules/_fails.js")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=s(e),u=arguments.length,c=1,l=o.f,d=i.f;u>c;)for(var f,p=a(arguments[c++]),m=l?n(p).concat(l(p)):n(p),_=m.length,h=0;_>h;)d.call(p,f=m[h++])&&(r[f]=p[f]);return r}:u},"./node_modules/core-js/modules/_object-create.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_an-object.js"),o=r("./node_modules/core-js/modules/_object-dps.js"),i=r("./node_modules/core-js/modules/_enum-bug-keys.js"),s=r("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),a=function(){},u="prototype",c=function(){var e,t=r("./node_modules/core-js/modules/_dom-create.js")("iframe"),n=i.length,o="<",s=">";for(t.style.display="none",r("./node_modules/core-js/modules/_html.js").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+s+"document.F=Object"+o+"/script"+s),e.close(),c=e.F;n--;)delete c[u][i[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(a[u]=n(e),r=new a,a[u]=null,r[s]=e):r=c(),void 0===t?r:o(r,t)}},"./node_modules/core-js/modules/_object-dp.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_an-object.js"),o=r("./node_modules/core-js/modules/_ie8-dom-define.js"),i=r("./node_modules/core-js/modules/_to-primitive.js"),s=Object.defineProperty;t.f=r("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},"./node_modules/core-js/modules/_object-dps.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-dp.js"),o=r("./node_modules/core-js/modules/_an-object.js"),i=r("./node_modules/core-js/modules/_object-keys.js");e.exports=r("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperties:function(e,t){o(e);for(var r,s=i(t),a=s.length,u=0;a>u;)n.f(e,r=s[u++],t[r]);return e}},"./node_modules/core-js/modules/_object-gops.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/modules/_object-gpo.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_has.js"),o=r("./node_modules/core-js/modules/_to-object.js"),i=r("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"./node_modules/core-js/modules/_object-keys-internal.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_has.js"),o=r("./node_modules/core-js/modules/_to-iobject.js"),i=r("./node_modules/core-js/modules/_array-includes.js")(!1),s=r("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var r,a=o(e),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~i(c,r)||c.push(r));return c}},"./node_modules/core-js/modules/_object-keys.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-keys-internal.js"),o=r("./node_modules/core-js/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return n(e,o)}},"./node_modules/core-js/modules/_object-pie.js":function(e,t){t.f={}.propertyIsEnumerable},"./node_modules/core-js/modules/_object-to-array.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-keys.js"),o=r("./node_modules/core-js/modules/_to-iobject.js"),i=r("./node_modules/core-js/modules/_object-pie.js").f;e.exports=function(e){return function(t){for(var r,s=o(t),a=n(s),u=a.length,c=0,l=[];u>c;)i.call(s,r=a[c++])&&l.push(e?[r,s[r]]:s[r]);return l}}},"./node_modules/core-js/modules/_perform.js":function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},"./node_modules/core-js/modules/_promise-resolve.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_an-object.js"),o=r("./node_modules/core-js/modules/_is-object.js"),i=r("./node_modules/core-js/modules/_new-promise-capability.js");e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},"./node_modules/core-js/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/modules/_redefine-all.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_redefine.js");e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},"./node_modules/core-js/modules/_redefine.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js"),o=r("./node_modules/core-js/modules/_hide.js"),i=r("./node_modules/core-js/modules/_has.js"),s=r("./node_modules/core-js/modules/_uid.js")("src"),a="toString",u=Function[a],c=(""+u).split(a);r("./node_modules/core-js/modules/_core.js").inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,r,a){var u="function"==typeof r;u&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(u&&(i(r,s)||o(r,s,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:a?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||u.call(this)})},"./node_modules/core-js/modules/_set-species.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_global.js"),o=r("./node_modules/core-js/modules/_object-dp.js"),i=r("./node_modules/core-js/modules/_descriptors.js"),s=r("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var t=n[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/modules/_set-to-string-tag.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-dp.js").f,o=r("./node_modules/core-js/modules/_has.js"),i=r("./node_modules/core-js/modules/_wks.js")("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},"./node_modules/core-js/modules/_shared-key.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_shared.js")("keys"),o=r("./node_modules/core-js/modules/_uid.js");e.exports=function(e){return n[e]||(n[e]=o(e))}},"./node_modules/core-js/modules/_shared.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js"),o="__core-js_shared__",i=n[o]||(n[o]={});e.exports=function(e){return i[e]||(i[e]={})}},"./node_modules/core-js/modules/_species-constructor.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_an-object.js"),o=r("./node_modules/core-js/modules/_a-function.js"),i=r("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[i])?t:o(r)}},"./node_modules/core-js/modules/_string-at.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-integer.js"),o=r("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return function(t,r){var i,s,a=String(o(t)),u=n(r),c=a.length;return u<0||u>=c?e?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):i:e?a.slice(u,u+2):s-56320+(i-55296<<10)+65536)}}},"./node_modules/core-js/modules/_string-context.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-regexp.js"),o=r("./node_modules/core-js/modules/_defined.js");e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(e))}},"./node_modules/core-js/modules/_task.js":function(e,t,r){var n,o,i,s=r("./node_modules/core-js/modules/_ctx.js"),a=r("./node_modules/core-js/modules/_invoke.js"),u=r("./node_modules/core-js/modules/_html.js"),c=r("./node_modules/core-js/modules/_dom-create.js"),l=r("./node_modules/core-js/modules/_global.js"),d=l.process,f=l.setImmediate,p=l.clearImmediate,m=l.MessageChannel,_=l.Dispatch,h=0,j={},y="onreadystatechange",v=function(){var e=+this;if(j.hasOwnProperty(e)){var t=j[e];delete j[e],t()}},b=function(e){v.call(e.data)};f&&p||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return j[++h]=function(){a("function"==typeof e?e:Function(e),t)},n(h),h},p=function(e){delete j[e]},"process"==r("./node_modules/core-js/modules/_cof.js")(d)?n=function(e){d.nextTick(s(v,e,1))}:_&&_.now?n=function(e){_.now(s(v,e,1))}:m?(o=new m,i=o.port2,o.port1.onmessage=b,n=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):n=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(s(v,e,1),0)}),e.exports={set:f,clear:p}},"./node_modules/core-js/modules/_to-absolute-index.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-integer.js"),o=Math.max,i=Math.min;e.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},"./node_modules/core-js/modules/_to-integer.js":function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},"./node_modules/core-js/modules/_to-iobject.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_iobject.js"),o=r("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return n(o(e))}},"./node_modules/core-js/modules/_to-length.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},"./node_modules/core-js/modules/_to-object.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return Object(n(e))}},"./node_modules/core-js/modules/_to-primitive.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js");e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/modules/_uid.js":function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},"./node_modules/core-js/modules/_wks.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_shared.js")("wks"),o=r("./node_modules/core-js/modules/_uid.js"),i=r("./node_modules/core-js/modules/_global.js").Symbol,s="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=n},"./node_modules/core-js/modules/core.get-iterator-method.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_classof.js"),o=r("./node_modules/core-js/modules/_wks.js")("iterator"),i=r("./node_modules/core-js/modules/_iterators.js");e.exports=r("./node_modules/core-js/modules/_core.js").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},"./node_modules/core-js/modules/es6.array.find.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_export.js"),o=r("./node_modules/core-js/modules/_array-methods.js")(5),i="find",s=!0;i in[]&&Array(1)[i](function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("./node_modules/core-js/modules/_add-to-unscopables.js")(i)},"./node_modules/core-js/modules/es6.array.from.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_ctx.js"),o=r("./node_modules/core-js/modules/_export.js"),i=r("./node_modules/core-js/modules/_to-object.js"),s=r("./node_modules/core-js/modules/_iter-call.js"),a=r("./node_modules/core-js/modules/_is-array-iter.js"),u=r("./node_modules/core-js/modules/_to-length.js"),c=r("./node_modules/core-js/modules/_create-property.js"),l=r("./node_modules/core-js/modules/core.get-iterator-method.js");o(o.S+o.F*!r("./node_modules/core-js/modules/_iter-detect.js")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,d,f=i(e),p="function"==typeof this?this:Array,m=arguments.length,_=m>1?arguments[1]:void 0,h=void 0!==_,j=0,y=l(f);if(h&&(_=n(_,m>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(t=u(f.length),r=new p(t);t>j;j++)c(r,j,h?_(f[j],j):f[j]);else for(d=y.call(f),r=new p;!(o=d.next()).done;j++)c(r,j,h?s(d,_,[o.value,j],!0):o.value);return r.length=j,r}})},"./node_modules/core-js/modules/es6.array.iterator.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_add-to-unscopables.js"),o=r("./node_modules/core-js/modules/_iter-step.js"),i=r("./node_modules/core-js/modules/_iterators.js"),s=r("./node_modules/core-js/modules/_to-iobject.js");e.exports=r("./node_modules/core-js/modules/_iter-define.js")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},"./node_modules/core-js/modules/es6.object.assign.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_export.js");n(n.S+n.F,"Object",{assign:r("./node_modules/core-js/modules/_object-assign.js")})},"./node_modules/core-js/modules/es6.object.to-string.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_classof.js"),o={};o[r("./node_modules/core-js/modules/_wks.js")("toStringTag")]="z",o+""!="[object z]"&&r("./node_modules/core-js/modules/_redefine.js")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},"./node_modules/core-js/modules/es6.promise.js":function(e,t,r){"use strict";var n,o,i,s,a=r("./node_modules/core-js/modules/_library.js"),u=r("./node_modules/core-js/modules/_global.js"),c=r("./node_modules/core-js/modules/_ctx.js"),l=r("./node_modules/core-js/modules/_classof.js"),d=r("./node_modules/core-js/modules/_export.js"),f=r("./node_modules/core-js/modules/_is-object.js"),p=r("./node_modules/core-js/modules/_a-function.js"),m=r("./node_modules/core-js/modules/_an-instance.js"),_=r("./node_modules/core-js/modules/_for-of.js"),h=r("./node_modules/core-js/modules/_species-constructor.js"),j=r("./node_modules/core-js/modules/_task.js").set,y=r("./node_modules/core-js/modules/_microtask.js")(),v=r("./node_modules/core-js/modules/_new-promise-capability.js"),b=r("./node_modules/core-js/modules/_perform.js"),g=r("./node_modules/core-js/modules/_promise-resolve.js"),E="Promise",S=u.TypeError,x=u.process,w=u[E],A="process"==l(x),$=function(){},R=o=v.f,T=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[r("./node_modules/core-js/modules/_wks.js")("species")]=function(e){e($,$)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then($)instanceof t}catch(e){}}(),O=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},k=function(e,t){if(!e._n){e._n=!0;var r=e._c;y(function(){for(var n=e._v,o=1==e._s,i=0,s=function(t){var r,i,s=o?t.ok:t.fail,a=t.resolve,u=t.reject,c=t.domain;try{s?(o||(2==e._h&&F(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&c.exit()),r===t.promise?u(S("Promise-chain cycle")):(i=O(r))?i.call(r,a,u):a(r)):u(n)}catch(e){u(e)}};r.length>i;)s(r[i++]);e._c=[],e._n=!1,t&&!e._h&&C(e)})}},C=function(e){j.call(u,function(){var t,r,n,o=e._v,i=L(e);if(i&&(t=b(function(){A?x.emit("unhandledRejection",o,e):(r=u.onunhandledrejection)?r({promise:e,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=A||L(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},L=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!L(t.promise))return!1;return!0},F=function(e){j.call(u,function(){var t;A?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),k(t,!0))},P=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw S("Promise can't be resolved itself");(t=O(e))?y(function(){var n={_w:r,_d:!1};try{t.call(e,c(P,n,1),c(I,n,1))}catch(e){I.call(n,e)}}):(r._v=e,r._s=1,k(r,!1))}catch(e){I.call({_w:r,_d:!1},e)}}};T||(w=function(e){m(this,w,E,"_h"),p(e),n.call(this);try{e(c(P,this,1),c(I,this,1))}catch(e){I.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r("./node_modules/core-js/modules/_redefine-all.js")(w.prototype,{then:function(e,t){var r=R(h(this,w));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&k(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(P,e,1),this.reject=c(I,e,1)},v.f=R=function(e){return e===w||e===s?new i(e):o(e)}),d(d.G+d.W+d.F*!T,{Promise:w}),r("./node_modules/core-js/modules/_set-to-string-tag.js")(w,E),r("./node_modules/core-js/modules/_set-species.js")(E),s=r("./node_modules/core-js/modules/_core.js")[E],d(d.S+d.F*!T,E,{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(a||!T),E,{resolve:function(e){return g(a&&this===s?w:this,e)}}),d(d.S+d.F*!(T&&r("./node_modules/core-js/modules/_iter-detect.js")(function(e){w.all(e).catch($)})),E,{all:function(e){var t=this,r=R(t),n=r.resolve,o=r.reject,i=b(function(){var r=[],i=0,s=1;_(e,!1,function(e){var a=i++,u=!1;r.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,r[a]=e,--s||n(r))},o)}),--s||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=R(t),n=r.reject,o=b(function(){_(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},"./node_modules/core-js/modules/es6.string.ends-with.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_export.js"),o=r("./node_modules/core-js/modules/_to-length.js"),i=r("./node_modules/core-js/modules/_string-context.js"),s="endsWith",a=""[s];n(n.P+n.F*r("./node_modules/core-js/modules/_fails-is-regexp.js")(s),"String",{endsWith:function(e){var t=i(this,e,s),r=arguments.length>1?arguments[1]:void 0,n=o(t.length),u=void 0===r?n:Math.min(o(r),n),c=String(e);return a?a.call(t,c,u):t.slice(u-c.length,u)===c}})},"./node_modules/core-js/modules/es6.string.includes.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_export.js"),o=r("./node_modules/core-js/modules/_string-context.js"),i="includes";n(n.P+n.F*r("./node_modules/core-js/modules/_fails-is-regexp.js")(i),"String",{includes:function(e){return!!~o(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es6.string.iterator.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_string-at.js")(!0);r("./node_modules/core-js/modules/_iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},"./node_modules/core-js/modules/es6.string.starts-with.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_export.js"),o=r("./node_modules/core-js/modules/_to-length.js"),i=r("./node_modules/core-js/modules/_string-context.js"),s="startsWith",a=""[s];n(n.P+n.F*r("./node_modules/core-js/modules/_fails-is-regexp.js")(s),"String",{startsWith:function(e){var t=i(this,e,s),r=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return a?a.call(t,n,r):t.slice(r,r+n.length)===n}})},"./node_modules/core-js/modules/es7.array.includes.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_export.js"),o=r("./node_modules/core-js/modules/_array-includes.js")(!0);n(n.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("./node_modules/core-js/modules/_add-to-unscopables.js")("includes")},"./node_modules/core-js/modules/es7.object.entries.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_export.js"),o=r("./node_modules/core-js/modules/_object-to-array.js")(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},"./node_modules/core-js/modules/es7.object.values.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_export.js"),o=r("./node_modules/core-js/modules/_object-to-array.js")(!1);n(n.S,"Object",{values:function(e){return o(e)}})},"./node_modules/core-js/modules/es7.promise.finally.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_export.js"),o=r("./node_modules/core-js/modules/_core.js"),i=r("./node_modules/core-js/modules/_global.js"),s=r("./node_modules/core-js/modules/_species-constructor.js"),a=r("./node_modules/core-js/modules/_promise-resolve.js");n(n.P+n.R,"Promise",{finally:function(e){var t=s(this,o.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return a(t,e()).then(function(){return r})}:e,r?function(r){return a(t,e()).then(function(){throw r})}:e)}})},"./node_modules/core-js/modules/es7.promise.try.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_export.js"),o=r("./node_modules/core-js/modules/_new-promise-capability.js"),i=r("./node_modules/core-js/modules/_perform.js");n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},"./node_modules/core-js/modules/web.dom.iterable.js":function(e,t,r){for(var n=r("./node_modules/core-js/modules/es6.array.iterator.js"),o=r("./node_modules/core-js/modules/_object-keys.js"),i=r("./node_modules/core-js/modules/_redefine.js"),s=r("./node_modules/core-js/modules/_global.js"),a=r("./node_modules/core-js/modules/_hide.js"),u=r("./node_modules/core-js/modules/_iterators.js"),c=r("./node_modules/core-js/modules/_wks.js"),l=c("iterator"),d=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=o(p),_=0;_<m.length;_++){var h,j=m[_],y=p[j],v=s[j],b=v&&v.prototype;if(b&&(b[l]||a(b,l,f),b[d]||a(b,d,j),u[j]=f,y))for(h in n)b[h]||i(b,h,n[h],!0)}},"./node_modules/css.escape/css.escape.js":function(e,t,r){(function(t){!function(t,r){e.exports=r(t)}(void 0!==t?t:this,function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,r=String(e),n=r.length,o=-1,i="",s=r.charCodeAt(0);++o<n;)t=r.charCodeAt(o),i+=0!=t?t>=1&&t<=31||127==t||0==o&&t>=48&&t<=57||1==o&&t>=48&&t<=57&&45==s?"\\"+t.toString(16)+" ":(0!=o||1!=n||45!=t)&&(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?r.charAt(o):"\\"+r.charAt(o):"";return i};return e.CSS||(e.CSS={}),e.CSS.escape=t,t})}).call(t,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js":function(e,t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=n||{};n.DEBUG=!1,n.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){var o=Array.prototype.slice.call(arguments,2);return t.prototype[r].apply(e,o)}},n.userAgent||(n.userAgent=function(){var e="";"undefined"!=typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(e=navigator.userAgent);var t=0==e.indexOf("Opera");return{jscript:{HAS_JSCRIPT:"ScriptEngine"in this},OPERA:t,IE:!t&&-1!=e.indexOf("MSIE"),WEBKIT:!t&&-1!=e.indexOf("WebKit")}}()),n.asserts||(n.asserts={assert:function(e){if(!e)throw Error("Assertion error")},fail:function(e){}}),n.dom||(n.dom={},n.dom.DomHelper=function(e){this.document_=e||document},n.dom.DomHelper.prototype.getDocument=function(){return this.document_},n.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},n.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}),n.format||(n.format={insertWordBreaks:function(e,t){e=String(e);for(var r=[],o=0,i=!1,s=!1,a=0,u=0,c=0,l=e.length;c<l;++c){var d=e.charCodeAt(c);if(a>=t&&32!=d&&(r[o++]=e.substring(u,c),u=c,r[o++]=n.format.WORD_BREAK,a=0),i)62==d&&(i=!1);else if(s)switch(d){case 59:s=!1,++a;break;case 60:s=!1,i=!0;break;case 32:s=!1,a=0}else switch(d){case 60:i=!0;break;case 38:s=!0;break;case 32:a=0;break;default:++a}}return r[o++]=e.substring(u),r.join("")},WORD_BREAK:n.userAgent.WEBKIT?"<wbr></wbr>":n.userAgent.OPERA?"&shy;":n.userAgent.IE?"&#8203;":"<wbr>"}),n.i18n||(n.i18n={bidi:{}}),n.i18n.bidi.IS_RTL=!1,n.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0,UNKNOWN:0},n.i18n.bidi.toDir=function(e,t){return"number"==typeof e?e>0?n.i18n.bidi.Dir.LTR:e<0?n.i18n.bidi.Dir.RTL:t?null:n.i18n.bidi.Dir.NEUTRAL:null==e?null:e?n.i18n.bidi.Dir.RTL:n.i18n.bidi.Dir.LTR},n.i18n.bidi.estimateDirection=function(e,t){for(var r=0,o=0,i=!1,a=s.$$bidiStripHtmlIfNecessary_(e,t).split(s.$$bidiWordSeparatorRe_),u=0;u<a.length;u++){var c=a[u];s.$$bidiRtlDirCheckRe_.test(c)?(r++,o++):s.$$bidiIsRequiredLtrRe_.test(c)?i=!0:s.$$bidiLtrCharRe_.test(c)?o++:s.$$bidiHasNumeralsRe_.test(c)&&(i=!0)}return 0==o?i?n.i18n.bidi.Dir.LTR:n.i18n.bidi.Dir.NEUTRAL:r/o>s.$$bidiRtlDetectionThreshold_?n.i18n.bidi.Dir.RTL:n.i18n.bidi.Dir.LTR},n.i18n.BidiFormatter=function(e){this.dir_=n.i18n.bidi.toDir(e,!0)},n.i18n.BidiFormatter.prototype.getContextDir=function(){return this.dir_},n.i18n.BidiFormatter.prototype.knownDirAttr=function(e){return e&&e!=this.dir_?e<0?'dir="rtl"':'dir="ltr"':""},n.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"},n.i18n.BidiFormatter.prototype.mark=function(){return this.dir_>0?"":this.dir_<0?"":""},n.i18n.BidiFormatter.prototype.markAfterKnownDir=function(e,t,r){return null==e&&(e=n.i18n.bidi.estimateDirection(t,r)),this.dir_>0&&(e<0||s.$$bidiIsRtlExitText_(t,r))?"":this.dir_<0&&(e>0||s.$$bidiIsLtrExitText_(t,r))?"":""},n.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(e,t,r){null==e&&(e=n.i18n.bidi.estimateDirection(t,!0));var o=this.markAfterKnownDir(e,t,!0);return e>0&&this.dir_<=0?t='<span dir="ltr">'+t+"</span>":e<0&&this.dir_>=0&&(t='<span dir="rtl">'+t+"</span>"),t+o},n.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"},n.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(e,t,r){null==e&&(e=n.i18n.bidi.estimateDirection(t,r));var o=this.markAfterKnownDir(e,t,r);return e>0&&this.dir_<=0?t=""+t+"":e<0&&this.dir_>=0&&(t=""+t+""),t+o},n.string||(n.string={newLineToBr:function(e,t){return e=String(e),n.string.NEWLINE_TO_BR_RE_.test(e)?e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>"):e},htmlEscape:function(e,t){return t?e=e.replace(n.string.AMP_RE_,"&amp;").replace(n.string.LT_RE_,"&lt;").replace(n.string.GT_RE_,"&gt;").replace(n.string.QUOT_RE_,"&quot;").replace(n.string.SINGLE_QUOTE_RE_,"&#39;").replace(n.string.NULL_RE_,"&#0;"):n.string.ALL_RE_.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(n.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(n.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(n.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(n.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(n.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(n.string.NULL_RE_,"&#0;")),e):e},urlEncode:encodeURIComponent,AMP_RE_:/&/g,LT_RE_:/</g,GT_RE_:/>/g,QUOT_RE_:/"/g,SINGLE_QUOTE_RE_:/'/g,NULL_RE_:/\x00/g,ALL_RE_:/[&<>"']/,NEWLINE_TO_BR_RE_:/[\r\n]/}),n.string.StringBuffer=function(e,t){this.buffer_=n.userAgent.jscript.HAS_JSCRIPT?[]:"",null!=e&&this.append.apply(this,arguments)},n.string.StringBuffer.prototype.bufferLength_=0,n.string.StringBuffer.prototype.append=function(e,t,r){if(n.userAgent.jscript.HAS_JSCRIPT)if(null==t)this.buffer_[this.bufferLength_++]=e;else{var o=this.buffer_;o.push.apply(o,arguments),this.bufferLength_=this.buffer_.length}else if(this.buffer_+=e,null!=t)for(var i=1;i<arguments.length;i++)this.buffer_+=arguments[i];return this},n.string.StringBuffer.prototype.clear=function(){n.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},n.string.StringBuffer.prototype.toString=function(){if(n.userAgent.jscript.HAS_JSCRIPT){var e=this.buffer_.join("");return this.clear(),e&&this.append(e),e}return this.buffer_},n.soy||(n.soy={renderAsElement:function(e,t,r,n){return s.$$renderWithWrapper_(e,t,n,!0,r)},renderAsFragment:function(e,t,r,n){return s.$$renderWithWrapper_(e,t,n,!1,r)},renderElement:function(e,t,r,n){e.innerHTML=t(r,null,n)},data:{}}),n.soy.data.SanitizedContentKind={HTML:n.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:n.DEBUG?{sanitizedContentJsChars:!0}:{},URI:n.DEBUG?{sanitizedContentUri:!0}:{},ATTRIBUTES:n.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:n.DEBUG?{sanitizedContentCss:!0}:{},TEXT:n.DEBUG?{sanitizedContentKindText:!0}:{}},n.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},n.soy.data.SanitizedContent.prototype.contentKind,n.soy.data.SanitizedContent.prototype.contentDir=null,n.soy.data.SanitizedContent.prototype.content,n.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var o={esc:{}},i={};i.VERY_UNSAFE={};var s={$$DEFAULT_TEMPLATE_DATA_:{}};s.$$renderWithWrapper_=function(e,t,r,n,o){var i=r||document,a=i.createElement("div");if(a.innerHTML=e(t||s.$$DEFAULT_TEMPLATE_DATA_,void 0,o),1==a.childNodes.length){var u=a.firstChild;if(!n||1==u.nodeType)return u}if(n)return a;for(var c=i.createDocumentFragment();a.firstChild;)c.appendChild(a.firstChild);return c},s.$$bidiStripHtmlIfNecessary_=function(e,t){return t?e.replace(s.$$BIDI_HTML_SKIP_RE_,""):e},s.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g,s.$$bidiLtrChars_="A-Za-z--------",s.$$bidiRtlChars_="---",s.$$bidiRtlDirCheckRe_=new RegExp("^[^"+s.$$bidiLtrChars_+"]*["+s.$$bidiRtlChars_+"]"),s.$$bidiLtrCharRe_=new RegExp("["+s.$$bidiLtrChars_+"]"),s.$$bidiIsRequiredLtrRe_=/^http:\/\/.*/,s.$$bidiHasNumeralsRe_=/\d/,s.$$bidiWordSeparatorRe_=/\s+/,s.$$bidiRtlDetectionThreshold_=.4,s.$$bidiLtrExitDirCheckRe_=new RegExp("["+s.$$bidiLtrChars_+"][^"+s.$$bidiRtlChars_+"]*$"),s.$$bidiRtlExitDirCheckRe_=new RegExp("["+s.$$bidiRtlChars_+"][^"+s.$$bidiLtrChars_+"]*$"),s.$$bidiIsLtrExitText_=function(e,t){return e=s.$$bidiStripHtmlIfNecessary_(e,t),s.$$bidiLtrExitDirCheckRe_.test(e)},s.$$bidiIsRtlExitText_=function(e,t){return e=s.$$bidiStripHtmlIfNecessary_(e,t),s.$$bidiRtlExitDirCheckRe_.test(e)},o.StringBuilder=n.string.StringBuffer,i.SanitizedContentKind=n.soy.data.SanitizedContentKind,i.isContentKind=function(e,t){return null!=e&&e.contentKind===t},i.getContentDir=function(e){if(null!=e)switch(e.contentDir){case n.i18n.bidi.Dir.LTR:return n.i18n.bidi.Dir.LTR;case n.i18n.bidi.Dir.RTL:return n.i18n.bidi.Dir.RTL;case n.i18n.bidi.Dir.NEUTRAL:return n.i18n.bidi.Dir.NEUTRAL}return null},i.SanitizedHtml=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(i.SanitizedHtml,n.soy.data.SanitizedContent),i.SanitizedHtml.prototype.contentKind=i.SanitizedContentKind.HTML,i.SanitizedHtml.from=function(e){return null!=e&&e.contentKind===i.SanitizedContentKind.HTML?(n.asserts.assert(e.constructor===i.SanitizedHtml),e):i.VERY_UNSAFE.ordainSanitizedHtml(o.esc.$$escapeHtmlHelper(String(e)),i.getContentDir(e))},i.SanitizedJs=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(i.SanitizedJs,n.soy.data.SanitizedContent),i.SanitizedJs.prototype.contentKind=i.SanitizedContentKind.JS,i.SanitizedJs.prototype.contentDir=n.i18n.bidi.Dir.LTR,i.SanitizedUri=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(i.SanitizedUri,n.soy.data.SanitizedContent),i.SanitizedUri.prototype.contentKind=i.SanitizedContentKind.URI,i.SanitizedUri.prototype.contentDir=n.i18n.bidi.Dir.LTR,i.SanitizedHtmlAttribute=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(i.SanitizedHtmlAttribute,n.soy.data.SanitizedContent),i.SanitizedHtmlAttribute.prototype.contentKind=i.SanitizedContentKind.ATTRIBUTES,i.SanitizedHtmlAttribute.prototype.contentDir=n.i18n.bidi.Dir.LTR,i.SanitizedCss=function(){n.soy.data.SanitizedContent.call(this)},n.inherits(i.SanitizedCss,n.soy.data.SanitizedContent),i.SanitizedCss.prototype.contentKind=i.SanitizedContentKind.CSS,i.SanitizedCss.prototype.contentDir=n.i18n.bidi.Dir.LTR,i.UnsanitizedText=function(e,t){this.content=String(e),this.contentDir=null!=t?t:null},n.inherits(i.UnsanitizedText,n.soy.data.SanitizedContent),i.UnsanitizedText.prototype.contentKind=i.SanitizedContentKind.TEXT,i.$$EMPTY_STRING_={VALUE:""},i.$$makeSanitizedContentFactory_=function(e){function t(){}function r(e,r){var n=new t;return n.content=String(e),void 0!==r&&(n.contentDir=r),n}return t.prototype=e.prototype,r},i.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(e){function t(){}function r(e){var r=new t;return r.content=String(e),r}return t.prototype=e.prototype,r},i.markUnsanitizedText=function(e,t){return new i.UnsanitizedText(e,t)},i.VERY_UNSAFE.ordainSanitizedHtml=i.$$makeSanitizedContentFactory_(i.SanitizedHtml),i.VERY_UNSAFE.ordainSanitizedJs=i.$$makeSanitizedContentFactoryWithDefaultDirOnly_(i.SanitizedJs),i.VERY_UNSAFE.ordainSanitizedUri=i.$$makeSanitizedContentFactoryWithDefaultDirOnly_(i.SanitizedUri),i.VERY_UNSAFE.ordainSanitizedHtmlAttribute=i.$$makeSanitizedContentFactoryWithDefaultDirOnly_(i.SanitizedHtmlAttribute),i.VERY_UNSAFE.ordainSanitizedCss=i.$$makeSanitizedContentFactoryWithDefaultDirOnly_(i.SanitizedCss),o.renderElement=n.soy.renderElement,o.renderAsFragment=function(e,t,r,o){return n.soy.renderAsFragment(e,t,o,new n.dom.DomHelper(r))},o.renderAsElement=function(e,t,r,o){return n.soy.renderAsElement(e,t,o,new n.dom.DomHelper(r))},o.$$IS_LOCALE_RTL=n.i18n.bidi.IS_RTL,o.$$augmentMap=function(e,t){function r(){}r.prototype=e;var n=new r;for(var o in t)n[o]=t[o];return n},o.$$checkMapKey=function(e){if("string"!=typeof e)throw Error("Map literal's key expression must evaluate to string (encountered type \""+(void 0===e?"undefined":r(e))+'").');return e},o.$$getMapKeys=function(e){var t=[];for(var r in e)t.push(r);return t},o.$$getDelTemplateId=function(e){return e},o.$$DELEGATE_REGISTRY_PRIORITIES_={},o.$$DELEGATE_REGISTRY_FUNCTIONS_={},o.$$registerDelegateFn=function(e,t,r,n){var i="key_"+e+":"+t,s=o.$$DELEGATE_REGISTRY_PRIORITIES_[i];if(void 0===s||r>s)o.$$DELEGATE_REGISTRY_PRIORITIES_[i]=r,o.$$DELEGATE_REGISTRY_FUNCTIONS_[i]=n;else if(r==s)throw Error('Encountered two active delegates with the same priority ("'+e+":"+t+'").')},o.$$getDelegateFn=function(e,t,r){var n=o.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"+t];if(n||""==t||(n=o.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"]),n)return n;if(r)return o.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+e+":"+t+'" (and not allowemptydefault="true").')},o.$$EMPTY_TEMPLATE_FN_=function(e,t,r){return""},i.$$makeSanitizedContentFactoryForInternalBlocks_=function(e){function t(){}function r(e,r){if(!String(e))return i.$$EMPTY_STRING_.VALUE;var n=new t;return n.content=String(e),void 0!==r&&(n.contentDir=r),n}return t.prototype=e.prototype,r},i.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_=function(e){function t(){}function r(e){if(!String(e))return i.$$EMPTY_STRING_.VALUE;var r=new t;return r.content=String(e),r}return t.prototype=e.prototype,r},i.$$markUnsanitizedTextForInternalBlocks=function(e,t){var r=String(e);return r?new i.UnsanitizedText(r,t):i.$$EMPTY_STRING_.VALUE},i.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks=i.$$makeSanitizedContentFactoryForInternalBlocks_(i.SanitizedHtml),i.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks=i.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(i.SanitizedJs),i.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks=i.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(i.SanitizedUri),i.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks=i.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(i.SanitizedHtmlAttribute),i.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks=i.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(i.SanitizedCss),o.$$escapeHtml=function(e){return i.SanitizedHtml.from(e)},o.$$cleanHtml=function(e){return i.isContentKind(e,i.SanitizedContentKind.HTML)?(n.asserts.assert(e.constructor===i.SanitizedHtml),e):i.VERY_UNSAFE.ordainSanitizedHtml(o.$$stripHtmlTags(e,o.esc.$$SAFE_TAG_WHITELIST_),i.getContentDir(e))},o.$$escapeHtmlRcdata=function(e){return i.isContentKind(e,i.SanitizedContentKind.HTML)?(n.asserts.assert(e.constructor===i.SanitizedHtml),o.esc.$$normalizeHtmlHelper(e.content)):o.esc.$$escapeHtmlHelper(e)},o.$$HTML5_VOID_ELEMENTS_=new RegExp("^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b"),o.$$stripHtmlTags=function(e,t){if(!t)return String(e).replace(o.esc.$$HTML_TAG_REGEX_,"").replace(o.esc.$$LT_REGEX_,"&lt;");var r=String(e).replace(/\[/g,"&#91;"),n=[];r=r.replace(o.esc.$$HTML_TAG_REGEX_,function(e,r){if(r&&(r=r.toLowerCase(),t.hasOwnProperty(r)&&t[r])){var o="/"===e.charAt(1)?"</":"<",i=n.length;return n[i]=o+r+">","["+i+"]"}return""}),r=o.esc.$$normalizeHtmlHelper(r);var i=o.$$balanceTags_(n);return(r=r.replace(/\[(\d+)\]/g,function(e,t){return n[t]}))+i},o.$$balanceTags_=function(e){for(var t=[],r=0,n=e.length;r<n;++r){var i=e[r];if("/"===i.charAt(1)){for(var s=t.length-1;s>=0&&t[s]!=i;)s--;s<0?e[r]="":(e[r]=t.slice(s).reverse().join(""),t.length=s)}else o.$$HTML5_VOID_ELEMENTS_.test(i)||t.push("</"+i.substring(1))}return t.reverse().join("")},o.$$escapeHtmlAttribute=function(e){return i.isContentKind(e,i.SanitizedContentKind.HTML)?(n.asserts.assert(e.constructor===i.SanitizedHtml),o.esc.$$normalizeHtmlHelper(o.$$stripHtmlTags(e.content))):o.esc.$$escapeHtmlHelper(e)},o.$$escapeHtmlAttributeNospace=function(e){return i.isContentKind(e,i.SanitizedContentKind.HTML)?(n.asserts.assert(e.constructor===i.SanitizedHtml),o.esc.$$normalizeHtmlNospaceHelper(o.$$stripHtmlTags(e.content))):o.esc.$$escapeHtmlNospaceHelper(e)},o.$$filterHtmlAttributes=function(e){return i.isContentKind(e,i.SanitizedContentKind.ATTRIBUTES)?(n.asserts.assert(e.constructor===i.SanitizedHtmlAttribute),e.content.replace(/([^"'\s])$/,"$1 ")):o.esc.$$filterHtmlAttributesHelper(e)},o.$$filterHtmlElementName=function(e){return o.esc.$$filterHtmlElementNameHelper(e)},o.$$escapeJs=function(e){return o.$$escapeJsString(e)},o.$$escapeJsString=function(e){return o.esc.$$escapeJsStringHelper(e)},o.$$escapeJsValue=function(e){if(null==e)return" null ";if(i.isContentKind(e,i.SanitizedContentKind.JS))return n.asserts.assert(e.constructor===i.SanitizedJs),e.content;switch(void 0===e?"undefined":r(e)){case"boolean":case"number":return" "+e+" ";default:return"'"+o.esc.$$escapeJsStringHelper(String(e))+"'"}},o.$$escapeJsRegex=function(e){return o.esc.$$escapeJsRegexHelper(e)},o.$$problematicUriMarks_=/['()]/g,o.$$pctEncode_=function(e){return"%"+e.charCodeAt(0).toString(16)},o.$$escapeUri=function(e){if(i.isContentKind(e,i.SanitizedContentKind.URI))return n.asserts.assert(e.constructor===i.SanitizedUri),o.$$normalizeUri(e);var t=o.esc.$$escapeUriHelper(e);return o.$$problematicUriMarks_.lastIndex=0,o.$$problematicUriMarks_.test(t)?t.replace(o.$$problematicUriMarks_,o.$$pctEncode_):t},o.$$normalizeUri=function(e){return o.esc.$$normalizeUriHelper(e)},o.$$filterNormalizeUri=function(e){return i.isContentKind(e,i.SanitizedContentKind.URI)?(n.asserts.assert(e.constructor===i.SanitizedUri),o.$$normalizeUri(e)):o.esc.$$filterNormalizeUriHelper(e)},o.$$filterImageDataUri=function(e){return i.VERY_UNSAFE.ordainSanitizedUri(o.esc.$$filterImageDataUriHelper(e))},o.$$escapeCssString=function(e){return o.esc.$$escapeCssStringHelper(e)},o.$$filterCssValue=function(e){return i.isContentKind(e,i.SanitizedContentKind.CSS)?(n.asserts.assert(e.constructor===i.SanitizedCss),e.content):null==e?"":o.esc.$$filterCssValueHelper(e)},o.$$filterNoAutoescape=function(e){return i.isContentKind(e,i.SanitizedContentKind.TEXT)?(n.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[e.content]),"zSoyz"):e},o.$$changeNewlineToBr=function(e){var t=n.string.newLineToBr(String(e),!1);return i.isContentKind(e,i.SanitizedContentKind.HTML)?i.VERY_UNSAFE.ordainSanitizedHtml(t,i.getContentDir(e)):t},o.$$insertWordBreaks=function(e,t){var r=n.format.insertWordBreaks(String(e),t);return i.isContentKind(e,i.SanitizedContentKind.HTML)?i.VERY_UNSAFE.ordainSanitizedHtml(r,i.getContentDir(e)):r},o.$$truncate=function(e,t,r){return e=String(e),e.length<=t?e:(r&&(t>3?t-=3:r=!1),o.$$isHighSurrogate_(e.charAt(t-1))&&o.$$isLowSurrogate_(e.charAt(t))&&(t-=1),e=e.substring(0,t),r&&(e+="..."),e)},o.$$isHighSurrogate_=function(e){return 55296<=e&&e<=56319},o.$$isLowSurrogate_=function(e){return 56320<=e&&e<=57343},o.$$bidiFormatterCache_={},o.$$getBidiFormatterInstance_=function(e){return o.$$bidiFormatterCache_[e]||(o.$$bidiFormatterCache_[e]=new n.i18n.BidiFormatter(e))},o.$$bidiTextDir=function(e,t){var r=i.getContentDir(e);if(null!=r)return r;var o=t||i.isContentKind(e,i.SanitizedContentKind.HTML);return n.i18n.bidi.estimateDirection(e+"",o)},o.$$bidiDirAttr=function(e,t,r){var s=o.$$getBidiFormatterInstance_(e),a=i.getContentDir(t);if(null==a){var u=r||i.isContentKind(t,i.SanitizedContentKind.HTML);a=n.i18n.bidi.estimateDirection(t+"",u)}return i.VERY_UNSAFE.ordainSanitizedHtmlAttribute(s.knownDirAttr(a))},o.$$bidiMarkAfter=function(e,t,r){var n=o.$$getBidiFormatterInstance_(e),s=r||i.isContentKind(t,i.SanitizedContentKind.HTML);return n.markAfterKnownDir(i.getContentDir(t),t+"",s)},o.$$bidiSpanWrap=function(e,t){return o.$$getBidiFormatterInstance_(e).spanWrapWithKnownDir(i.getContentDir(t),t+"",!0)},o.$$bidiUnicodeWrap=function(e,t){var r=o.$$getBidiFormatterInstance_(e),n=i.isContentKind(t,i.SanitizedContentKind.HTML),s=r.unicodeWrapWithKnownDir(i.getContentDir(t),t+"",n),a=r.getContextDir();return i.isContentKind(t,i.SanitizedContentKind.TEXT)?new i.UnsanitizedText(s,a):n?i.VERY_UNSAFE.ordainSanitizedHtml(s,a):s},o.esc.$$escapeUriHelper=function(e){return encodeURIComponent(String(e))},o.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},o.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(e){return o.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[e]},o.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\0":"\\x00","\b":"\\x08","\t":"\\t","\n":"\\n","\v":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22",$:"\\x24","&":"\\x26","'":"\\x27","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e","/":"\\/",":":"\\x3a","<":"\\x3c","=":"\\x3d",">":"\\x3e","?":"\\x3f","[":"\\x5b","\\":"\\\\","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029"},o.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(e){return o.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[e]},o.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\0":"\\0 ","\b":"\\8 ","\t":"\\9 ","\n":"\\a ","\v":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 ","":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "},o.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(e){return o.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[e]},o.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"},o.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(e){return o.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[e]},o.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,o.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,o.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,o.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,o.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,o.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,o.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,o.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,o.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,o.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,o.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i,o.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,o.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,o.esc.$$escapeHtmlHelper=function(e){return String(e).replace(o.esc.$$MATCHER_FOR_ESCAPE_HTML_,o.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},o.esc.$$normalizeHtmlHelper=function(e){return String(e).replace(o.esc.$$MATCHER_FOR_NORMALIZE_HTML_,o.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},o.esc.$$escapeHtmlNospaceHelper=function(e){return String(e).replace(o.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,o.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},o.esc.$$normalizeHtmlNospaceHelper=function(e){return String(e).replace(o.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,o.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},o.esc.$$escapeJsStringHelper=function(e){return String(e).replace(o.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,o.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},o.esc.$$escapeJsRegexHelper=function(e){return String(e).replace(o.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,o.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},o.esc.$$escapeCssStringHelper=function(e){return String(e).replace(o.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,o.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},o.esc.$$filterCssValueHelper=function(e){var t=String(e);return o.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(t)?t:"zSoyz"},o.esc.$$normalizeUriHelper=function(e){return String(e).replace(o.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,o.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},o.esc.$$filterNormalizeUriHelper=function(e){var t=String(e);return o.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(t)?t.replace(o.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,o.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):"#zSoyz"},o.esc.$$filterImageDataUriHelper=function(e){var t=String(e);return o.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(t)?t:"data:image/gif;base64,zSoyz"},o.esc.$$filterHtmlAttributesHelper=function(e){var t=String(e);return o.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(t)?t:"zSoyz"},o.esc.$$filterHtmlElementNameHelper=function(e){var t=String(e);return o.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(t)?t:"zSoyz"},o.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,o.esc.$$LT_REGEX_=/</g,o.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1},t.goog=n,t.soy=o,t.soydata=i,t.soyshim=s},"./node_modules/lodash.delay/index.js":function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t,r){if("function"!=typeof e)throw new TypeError(c);return setTimeout(function(){e.apply(void 0,r)},t)}function o(e,t){return t=v(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=v(n.length-t,0),s=Array(i);++o<i;)s[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=s,r(e,this,a)}}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return!!e&&"object"==typeof e}function a(e){return"symbol"==typeof e||s(e)&&y.call(e)==d}function u(e){if("number"==typeof e)return e;if(a(e))return l;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var r=m.test(e);return r||_.test(e)?h(e.slice(2),r?2:8):p.test(e)?l:+e}var c="Expected a function",l=NaN,d="[object Symbol]",f=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,_=/^0o[0-7]+$/i,h=parseInt,j=Object.prototype,y=j.toString,v=Math.max,b=o(function(e,t,r){return n(e,u(t)||0,r)});e.exports=b},"./node_modules/lodash.difference/index.js":function(e,t,r){(function(t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){return!!(e?e.length:0)&&u(e,t,0)>-1}function o(e,t,r){for(var n=-1,o=e?e.length:0;++n<o;)if(r(t,e[n]))return!0;return!1}function i(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function s(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function a(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function u(e,t,r){if(t!==t)return a(e,c,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function c(e){return e!==e}function l(e){return function(t){return e(t)}}function d(e,t){return e.has(t)}function f(e,t){return null==e?void 0:e[t]}function p(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function m(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _(){this.__data__=Ae?Ae(null):{}}function h(e){return this.has(e)&&delete this.__data__[e]}function j(e){var t=this.__data__;if(Ae){var r=t[e];return r===te?void 0:r}return je.call(t,e)?t[e]:void 0}function y(e){var t=this.__data__;return Ae?void 0!==t[e]:je.call(t,e)}function v(e,t){return this.__data__[e]=Ae&&void 0===t?te:t,this}function b(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function g(){this.__data__=[]}function E(e){var t=this.__data__,r=I(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ee.call(t,r,1),!0)}function S(e){var t=this.__data__,r=I(t,e);return r<0?void 0:t[r][1]}function x(e){return I(this.__data__,e)>-1}function w(e,t){var r=this.__data__,n=I(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}function A(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $(){this.__data__={hash:new m,map:new(we||b),string:new m}}function R(e){return H(this,e).delete(e)}function T(e){return H(this,e).get(e)}function O(e){return H(this,e).has(e)}function k(e,t){return H(this,e).set(e,t),this}function C(e){var t=-1,r=e?e.length:0;for(this.__data__=new A;++t<r;)this.add(e[t])}function L(e){return this.__data__.set(e,te),this}function F(e){return this.__data__.has(e)}function I(e,t){for(var r=e.length;r--;)if(q(e[r][0],t))return r;return-1}function P(e,t,r,s){var a=-1,u=n,c=!0,f=e.length,p=[],m=t.length;if(!f)return p;r&&(t=i(t,l(r))),s?(u=o,c=!1):t.length>=ee&&(u=d,c=!1,t=new C(t));e:for(;++a<f;){var _=e[a],h=r?r(_):_;if(_=s||0!==_?_:0,c&&h===h){for(var j=m;j--;)if(t[j]===h)continue e;p.push(_)}else u(t,h,s)||p.push(_)}return p}function D(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=B),o||(o=[]);++i<a;){var u=e[i];t>0&&r(u)?t>1?D(u,t-1,r,n,o):s(o,u):n||(o[o.length]=u)}return o}function N(e){return!(!X(e)||G(e))&&(Z(e)||p(e)?ve:ae).test(V(e))}function M(e,t){return t=xe(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=xe(n.length-t,0),s=Array(i);++o<i;)s[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=s,r(e,this,a)}}function H(e,t){var r=e.__data__;return z(t)?r["string"==typeof t?"string":"hash"]:r.map}function U(e,t){var r=f(e,t);return N(r)?r:void 0}function B(e){return Re(e)||J(e)||!!(Se&&e&&e[Se])}function z(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function G(e){return!!_e&&_e in e}function V(e){if(null!=e){try{return he.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function q(e,t){return e===t||e!==e&&t!==t}function J(e){return W(e)&&je.call(e,"callee")&&(!ge.call(e,"callee")||ye.call(e)==ne)}function K(e){return null!=e&&Y(e.length)&&!Z(e)}function W(e){return Q(e)&&K(e)}function Z(e){var t=X(e)?ye.call(e):"";return t==oe||t==ie}function Y(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=re}function X(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Q(e){return!!e&&"object"==typeof e}var ee=200,te="__lodash_hash_undefined__",re=9007199254740991,ne="[object Arguments]",oe="[object Function]",ie="[object GeneratorFunction]",se=/[\\^$.*+?()[\]{}|]/g,ae=/^\[object .+?Constructor\]$/,ue="object"==typeof t&&t&&t.Object===Object&&t,ce="object"==typeof self&&self&&self.Object===Object&&self,le=ue||ce||Function("return this")(),de=Array.prototype,fe=Function.prototype,pe=Object.prototype,me=le["__core-js_shared__"],_e=function(){var e=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),he=fe.toString,je=pe.hasOwnProperty,ye=pe.toString,ve=RegExp("^"+he.call(je).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=le.Symbol,ge=pe.propertyIsEnumerable,Ee=de.splice,Se=be?be.isConcatSpreadable:void 0,xe=Math.max,we=U(le,"Map"),Ae=U(Object,"create");m.prototype.clear=_,m.prototype.delete=h,m.prototype.get=j,m.prototype.has=y,m.prototype.set=v,b.prototype.clear=g,b.prototype.delete=E,b.prototype.get=S,b.prototype.has=x,b.prototype.set=w,A.prototype.clear=$,A.prototype.delete=R,A.prototype.get=T,A.prototype.has=O,A.prototype.set=k,C.prototype.add=C.prototype.push=L,C.prototype.has=F;var $e=M(function(e,t){return W(e)?P(e,D(t,1,W,!0)):[]}),Re=Array.isArray;e.exports=$e}).call(t,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash.find/index.js":function(e,t,r){(function(e,r){function n(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function o(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function i(e){return function(t){return null==t?void 0:t[e]}}function s(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function a(e){return function(t){return e(t)}}function u(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function d(e,t){return function(r){return e(t(r))}}function f(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function p(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function m(){this.__data__=rr?rr(null):{}}function _(e){return this.has(e)&&delete this.__data__[e]}function h(e){var t=this.__data__;if(rr){var r=t[e];return r===Be?void 0:r}return Bt.call(t,e)?t[e]:void 0}function j(e){var t=this.__data__;return rr?void 0!==t[e]:Bt.call(t,e)}function y(e,t){return this.__data__[e]=rr&&void 0===t?Be:t,this}function v(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function b(){this.__data__=[]}function g(e){var t=this.__data__,r=U(t,e);return!(r<0)&&(r==t.length-1?t.pop():Kt.call(t,r,1),!0)}function E(e){var t=this.__data__,r=U(t,e);return r<0?void 0:t[r][1]}function S(e){return U(this.__data__,e)>-1}function x(e,t){var r=this.__data__,n=U(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}function w(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(){this.__data__={hash:new p,map:new(Xt||v),string:new p}}function $(e){return ae(this,e).delete(e)}function R(e){return ae(this,e).get(e)}function T(e){return ae(this,e).has(e)}function O(e,t){return ae(this,e).set(e,t),this}function k(e){var t=-1,r=e?e.length:0;for(this.__data__=new w;++t<r;)this.add(e[t])}function C(e){return this.__data__.set(e,Be),this}function L(e){return this.__data__.has(e)}function F(e){this.__data__=new v(e)}function I(){this.__data__=new v}function P(e){return this.__data__.delete(e)}function D(e){return this.__data__.get(e)}function N(e){return this.__data__.has(e)}function M(e,t){var r=this.__data__;if(r instanceof v){var n=r.__data__;if(!Xt||n.length<He-1)return n.push([e,t]),this;r=this.__data__=new w(n)}return r.set(e,t),this}function H(e,t){var r=mr(e)||Se(e)?s(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!Bt.call(e,i)||o&&("length"==i||de(i,n))||r.push(i);return r}function U(e,t){for(var r=e.length;r--;)if(Ee(e[r][0],t))return r;return-1}function B(e,t){t=fe(t,e)?[t]:re(t);for(var r=0,n=t.length;null!=e&&r<n;)e=e[ye(t[r++])];return r&&r==n?e:void 0}function z(e){return zt.call(e)}function G(e,t){return null!=e&&t in Object(e)}function V(e,t,r,n,o){return e===t||(null==e||null==t||!Re(e)&&!Te(t)?e!==e&&t!==t:q(e,t,V,r,n,o))}function q(e,t,r,n,o,i){var s=mr(e),a=mr(t),u=Ze,l=Ze;s||(u=dr(e),u=u==We?ot:u),a||(l=dr(t),l=l==We?ot:l);var d=u==ot&&!c(e),f=l==ot&&!c(t),p=u==l;if(p&&!d)return i||(i=new F),s||_r(e)?oe(e,t,r,n,o,i):ie(e,t,u,r,n,o,i);if(!(o&Ge)){var m=d&&Bt.call(e,"__wrapped__"),_=f&&Bt.call(t,"__wrapped__");if(m||_){var h=m?e.value():e,j=_?t.value():t;return i||(i=new F),r(h,j,n,o,i)}}return!!p&&(i||(i=new F),se(e,t,r,n,o,i))}function J(e,t,r,n){var o=r.length,i=o,s=!n;if(null==e)return!i;for(e=Object(e);o--;){var a=r[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=r[o];var u=a[0],c=e[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in e))return!1}else{var d=new F;if(n)var f=n(c,l,u,e,t,d);if(!(void 0===f?V(l,c,n,ze|Ge,d):f))return!1}}return!0}function K(e){return!(!Re(e)||me(e))&&(Ae(e)||c(e)?Gt:Et).test(ve(e))}function W(e){return Te(e)&&$e(e.length)&&!!wt[zt.call(e)]}function Z(e){return"function"==typeof e?e:null==e?Ne:"object"==typeof e?mr(e)?Q(e[0],e[1]):X(e):Me(e)}function Y(e){if(!_e(e))return Wt(e);var t=[];for(var r in Object(e))Bt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function X(e){var t=ue(e);return 1==t.length&&t[0][2]?je(t[0][0],t[0][1]):function(r){return r===e||J(r,e,t)}}function Q(e,t){return fe(e)&&he(t)?je(ye(e),t):function(r){var n=Ie(r,e);return void 0===n&&n===t?Pe(r,e):V(t,n,void 0,ze|Ge)}}function ee(e){return function(t){return B(t,e)}}function te(e){if("string"==typeof e)return e;if(Oe(e))return lr?lr.call(e):"";var t=e+"";return"0"==t&&1/e==-Ve?"-0":t}function re(e){return mr(e)?e:fr(e)}function ne(e){return function(t,r,n){var o=Object(t);if(!xe(t)){var i=Z(r,3);t=De(t),r=function(e){return i(o[e],e,o)}}var s=e(t,r,n);return s>-1?o[i?t[s]:s]:void 0}}function oe(e,t,r,o,i,s){var a=i&Ge,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var d=-1,f=!0,p=i&ze?new k:void 0;for(s.set(e,t),s.set(t,e);++d<u;){var m=e[d],_=t[d];if(o)var h=a?o(_,m,d,t,e,s):o(m,_,d,e,t,s);if(void 0!==h){if(h)continue;f=!1;break}if(p){if(!n(t,function(e,t){if(!p.has(t)&&(m===e||r(m,e,o,i,s)))return p.add(t)})){f=!1;break}}else if(m!==_&&!r(m,_,o,i,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function ie(e,t,r,n,o,i,s){switch(r){case ft:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dt:return!(e.byteLength!=t.byteLength||!n(new qt(e),new qt(t)));case Ye:case Xe:case nt:return Ee(+e,+t);case Qe:return e.name==t.name&&e.message==t.message;case st:case ut:return e==t+"";case rt:var a=l;case at:var u=i&Ge;if(a||(a=f),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;i|=ze,s.set(e,t);var d=oe(a(e),a(t),n,o,i,s);return s.delete(e),d;case ct:if(cr)return cr.call(e)==cr.call(t)}return!1}function se(e,t,r,n,o,i){var s=o&Ge,a=De(e),u=a.length;if(u!=De(t).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in t:Bt.call(t,l)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var f=!0;i.set(e,t),i.set(t,e);for(var p=s;++c<u;){l=a[c];var m=e[l],_=t[l];if(n)var h=s?n(_,m,l,t,e,i):n(m,_,l,e,t,i);if(!(void 0===h?m===_||r(m,_,n,o,i):h)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var j=e.constructor,y=t.constructor;j!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof j&&j instanceof j&&"function"==typeof y&&y instanceof y)&&(f=!1)}return i.delete(e),i.delete(t),f}function ae(e,t){var r=e.__data__;return pe(t)?r["string"==typeof t?"string":"hash"]:r.map}function ue(e){for(var t=De(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,he(o)]}return t}function ce(e,t){var r=u(e,t);return K(r)?r:void 0}function le(e,t,r){t=fe(t,e)?[t]:re(t);for(var n,o=-1,i=t.length;++o<i;){var s=ye(t[o]);if(!(n=null!=e&&r(e,s)))break;e=e[s]}if(n)return n;var i=e?e.length:0;return!!i&&$e(i)&&de(s,i)&&(mr(e)||Se(e))}function de(e,t){return!!(t=null==t?qe:t)&&("number"==typeof e||xt.test(e))&&e>-1&&e%1==0&&e<t}function fe(e,t){if(mr(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Oe(e))||(mt.test(e)||!pt.test(e)||null!=t&&e in Object(t))}function pe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function me(e){return!!Ht&&Ht in e}function _e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Nt)}function he(e){return e===e&&!Re(e)}function je(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function ye(e){if("string"==typeof e||Oe(e))return e;var t=e+"";return"0"==t&&1/e==-Ve?"-0":t}function ve(e){if(null!=e){try{return Ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function be(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=null==r?0:Ce(r);return i<0&&(i=Zt(n+i,0)),o(e,Z(t,3),i)}function ge(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Ue);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=e.apply(this,n);return r.cache=i.set(o,s),s};return r.cache=new(ge.Cache||w),r}function Ee(e,t){return e===t||e!==e&&t!==t}function Se(e){return we(e)&&Bt.call(e,"callee")&&(!Jt.call(e,"callee")||zt.call(e)==We)}function xe(e){return null!=e&&$e(e.length)&&!Ae(e)}function we(e){return Te(e)&&xe(e)}function Ae(e){var t=Re(e)?zt.call(e):"";return t==et||t==tt}function $e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=qe}function Re(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Te(e){return!!e&&"object"==typeof e}function Oe(e){return"symbol"==typeof e||Te(e)&&zt.call(e)==ct}function ke(e){if(!e)return 0===e?e:0;if((e=Le(e))===Ve||e===-Ve){return(e<0?-1:1)*Je}return e===e?e:0}function Ce(e){var t=ke(e),r=t%1;return t===t?r?t-r:t:0}function Le(e){if("number"==typeof e)return e;if(Oe(e))return Ke;if(Re(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Re(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(yt,"");var r=gt.test(e);return r||St.test(e)?At(e.slice(2),r?2:8):bt.test(e)?Ke:+e}function Fe(e){return null==e?"":te(e)}function Ie(e,t,r){var n=null==e?void 0:B(e,t);return void 0===n?r:n}function Pe(e,t){return null!=e&&le(e,t,G)}function De(e){return xe(e)?H(e):Y(e)}function Ne(e){return e}function Me(e){return fe(e)?i(ye(e)):ee(e)}var He=200,Ue="Expected a function",Be="__lodash_hash_undefined__",ze=1,Ge=2,Ve=1/0,qe=9007199254740991,Je=1.7976931348623157e308,Ke=NaN,We="[object Arguments]",Ze="[object Array]",Ye="[object Boolean]",Xe="[object Date]",Qe="[object Error]",et="[object Function]",tt="[object GeneratorFunction]",rt="[object Map]",nt="[object Number]",ot="[object Object]",it="[object Promise]",st="[object RegExp]",at="[object Set]",ut="[object String]",ct="[object Symbol]",lt="[object WeakMap]",dt="[object ArrayBuffer]",ft="[object DataView]",pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mt=/^\w*$/,_t=/^\./,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,yt=/^\s+|\s+$/g,vt=/\\(\\)?/g,bt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,Et=/^\[object .+?Constructor\]$/,St=/^0o[0-7]+$/i,xt=/^(?:0|[1-9]\d*)$/,wt={};wt["[object Float32Array]"]=wt["[object Float64Array]"]=wt["[object Int8Array]"]=wt["[object Int16Array]"]=wt["[object Int32Array]"]=wt["[object Uint8Array]"]=wt["[object Uint8ClampedArray]"]=wt["[object Uint16Array]"]=wt["[object Uint32Array]"]=!0,wt[We]=wt[Ze]=wt[dt]=wt[Ye]=wt[ft]=wt[Xe]=wt[Qe]=wt[et]=wt[rt]=wt[nt]=wt[ot]=wt[st]=wt[at]=wt[ut]=wt[lt]=!1;var At=parseInt,$t="object"==typeof e&&e&&e.Object===Object&&e,Rt="object"==typeof self&&self&&self.Object===Object&&self,Tt=$t||Rt||Function("return this")(),Ot="object"==typeof t&&t&&!t.nodeType&&t,kt=Ot&&"object"==typeof r&&r&&!r.nodeType&&r,Ct=kt&&kt.exports===Ot,Lt=Ct&&$t.process,Ft=function(){try{return Lt&&Lt.binding("util")}catch(e){}}(),It=Ft&&Ft.isTypedArray,Pt=Array.prototype,Dt=Function.prototype,Nt=Object.prototype,Mt=Tt["__core-js_shared__"],Ht=function(){var e=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ut=Dt.toString,Bt=Nt.hasOwnProperty,zt=Nt.toString,Gt=RegExp("^"+Ut.call(Bt).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=Tt.Symbol,qt=Tt.Uint8Array,Jt=Nt.propertyIsEnumerable,Kt=Pt.splice,Wt=d(Object.keys,Object),Zt=Math.max,Yt=ce(Tt,"DataView"),Xt=ce(Tt,"Map"),Qt=ce(Tt,"Promise"),er=ce(Tt,"Set"),tr=ce(Tt,"WeakMap"),rr=ce(Object,"create"),nr=ve(Yt),or=ve(Xt),ir=ve(Qt),sr=ve(er),ar=ve(tr),ur=Vt?Vt.prototype:void 0,cr=ur?ur.valueOf:void 0,lr=ur?ur.toString:void 0;p.prototype.clear=m,p.prototype.delete=_,p.prototype.get=h,p.prototype.has=j,p.prototype.set=y,v.prototype.clear=b,v.prototype.delete=g,v.prototype.get=E,v.prototype.has=S,v.prototype.set=x,w.prototype.clear=A,w.prototype.delete=$,w.prototype.get=R,w.prototype.has=T,w.prototype.set=O,k.prototype.add=k.prototype.push=C,k.prototype.has=L,F.prototype.clear=I,F.prototype.delete=P,F.prototype.get=D,F.prototype.has=N,F.prototype.set=M;var dr=z;(Yt&&dr(new Yt(new ArrayBuffer(1)))!=ft||Xt&&dr(new Xt)!=rt||Qt&&dr(Qt.resolve())!=it||er&&dr(new er)!=at||tr&&dr(new tr)!=lt)&&(dr=function(e){var t=zt.call(e),r=t==ot?e.constructor:void 0,n=r?ve(r):void 0;if(n)switch(n){case nr:return ft;case or:return rt;case ir:return it;case sr:return at;case ar:return lt}return t});var fr=ge(function(e){e=Fe(e);var t=[];return _t.test(e)&&t.push(""),e.replace(ht,function(e,r,n,o){t.push(n?o.replace(vt,"$1"):r||e)}),t}),pr=ne(be);ge.Cache=w;var mr=Array.isArray,_r=It?a(It):W;r.exports=pr}).call(t,r("./node_modules/webpack/buildin/global.js"),r("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/lodash.map/index.js":function(e,t,r){(function(e,r){function n(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function o(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function i(e){return function(t){return null==t?void 0:t[e]}}function s(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function a(e){return function(t){return e(t)}}function u(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function d(e,t){return function(r){return e(t(r))}}function f(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function p(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function m(){this.__data__=Kt?Kt(null):{}}function _(e){return this.has(e)&&delete this.__data__[e]}function h(e){var t=this.__data__;if(Kt){var r=t[e];return r===Be?void 0:r}return It.call(t,e)?t[e]:void 0}function j(e){var t=this.__data__;return Kt?void 0!==t[e]:It.call(t,e)}function y(e,t){return this.__data__[e]=Kt&&void 0===t?Be:t,this}function v(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function b(){this.__data__=[]}function g(e){var t=this.__data__,r=U(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ut.call(t,r,1),!0)}function E(e){var t=this.__data__,r=U(t,e);return r<0?void 0:t[r][1]}function S(e){return U(this.__data__,e)>-1}function x(e,t){var r=this.__data__,n=U(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}function w(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(){this.__data__={hash:new p,map:new(Gt||v),string:new p}}function $(e){return le(this,e).delete(e)}function R(e){return le(this,e).get(e)}function T(e){return le(this,e).has(e)}function O(e,t){return le(this,e).set(e,t),this}function k(e){var t=-1,r=e?e.length:0;for(this.__data__=new w;++t<r;)this.add(e[t])}function C(e){return this.__data__.set(e,Be),this}function L(e){return this.__data__.has(e)}function F(e){this.__data__=new v(e)}function I(){this.__data__=new v}function P(e){return this.__data__.delete(e)}function D(e){return this.__data__.get(e)}function N(e){return this.__data__.has(e)}function M(e,t){var r=this.__data__;if(r instanceof v){var n=r.__data__;if(!Gt||n.length<He-1)return n.push([e,t]),this;r=this.__data__=new w(n)}return r.set(e,t),this}function H(e,t){var r=ar(e)||Ae(e)?s(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!It.call(e,i)||o&&("length"==i||me(i,n))||r.push(i);return r}function U(e,t){for(var r=e.length;r--;)if(we(e[r][0],t))return r;return-1}function B(e,t){return e&&or(e,t,De)}function z(e,t){t=_e(t,e)?[t]:oe(t);for(var r=0,n=t.length;null!=e&&r<n;)e=e[ge(t[r++])];return r&&r==n?e:void 0}function G(e){return Pt.call(e)}function V(e,t){return null!=e&&t in Object(e)}function q(e,t,r,n,o){return e===t||(null==e||null==t||!ke(e)&&!Ce(t)?e!==e&&t!==t:J(e,t,q,r,n,o))}function J(e,t,r,n,o,i){var s=ar(e),a=ar(t),u=Ke,l=Ke;s||(u=ir(e),u=u==Je?rt:u),a||(l=ir(t),l=l==Je?rt:l);var d=u==rt&&!c(e),f=l==rt&&!c(t),p=u==l;if(p&&!d)return i||(i=new F),s||ur(e)?ae(e,t,r,n,o,i):ue(e,t,u,r,n,o,i);if(!(o&Ge)){var m=d&&It.call(e,"__wrapped__"),_=f&&It.call(t,"__wrapped__");if(m||_){var h=m?e.value():e,j=_?t.value():t;return i||(i=new F),r(h,j,n,o,i)}}return!!p&&(i||(i=new F),ce(e,t,r,n,o,i))}function K(e,t,r,n){var o=r.length,i=o,s=!n;if(null==e)return!i;for(e=Object(e);o--;){var a=r[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=r[o];var u=a[0],c=e[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in e))return!1}else{var d=new F;if(n)var f=n(c,l,u,e,t,d);if(!(void 0===f?q(l,c,n,ze|Ge,d):f))return!1}}return!0}function W(e){return!(!ke(e)||je(e))&&(Te(e)||c(e)?Dt:jt).test(Ee(e))}function Z(e){return Ce(e)&&Oe(e.length)&&!!vt[Pt.call(e)]}function Y(e){return"function"==typeof e?e:null==e?Ne:"object"==typeof e?ar(e)?te(e[0],e[1]):ee(e):Me(e)}function X(e){if(!ye(e))return Bt(e);var t=[];for(var r in Object(e))It.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Q(e,t){var r=-1,n=$e(e)?Array(e.length):[];return nr(e,function(e,o,i){n[++r]=t(e,o,i)}),n}function ee(e){var t=de(e);return 1==t.length&&t[0][2]?be(t[0][0],t[0][1]):function(r){return r===e||K(r,e,t)}}function te(e,t){return _e(e)&&ve(t)?be(ge(e),t):function(r){var n=Ie(r,e);return void 0===n&&n===t?Pe(r,e):q(t,n,void 0,ze|Ge)}}function re(e){return function(t){return z(t,e)}}function ne(e){if("string"==typeof e)return e;if(Le(e))return rr?rr.call(e):"";var t=e+"";return"0"==t&&1/e==-Ve?"-0":t}function oe(e){return ar(e)?e:sr(e)}function ie(e,t){return function(r,n){if(null==r)return r;if(!$e(r))return e(r,n);for(var o=r.length,i=t?o:-1,s=Object(r);(t?i--:++i<o)&&!1!==n(s[i],i,s););return r}}function se(e){return function(t,r,n){for(var o=-1,i=Object(t),s=n(t),a=s.length;a--;){var u=s[e?a:++o];if(!1===r(i[u],u,i))break}return t}}function ae(e,t,r,n,i,s){var a=i&Ge,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var d=-1,f=!0,p=i&ze?new k:void 0;for(s.set(e,t),s.set(t,e);++d<u;){var m=e[d],_=t[d];if(n)var h=a?n(_,m,d,t,e,s):n(m,_,d,e,t,s);if(void 0!==h){if(h)continue;f=!1;break}if(p){if(!o(t,function(e,t){if(!p.has(t)&&(m===e||r(m,e,n,i,s)))return p.add(t)})){f=!1;break}}else if(m!==_&&!r(m,_,n,i,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function ue(e,t,r,n,o,i,s){switch(r){case lt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ct:return!(e.byteLength!=t.byteLength||!n(new Mt(e),new Mt(t)));case We:case Ze:case tt:return we(+e,+t);case Ye:return e.name==t.name&&e.message==t.message;case ot:case st:return e==t+"";case et:var a=l;case it:var u=i&Ge;if(a||(a=f),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;i|=ze,s.set(e,t);var d=ae(a(e),a(t),n,o,i,s);return s.delete(e),d;case at:if(tr)return tr.call(e)==tr.call(t)}return!1}function ce(e,t,r,n,o,i){var s=o&Ge,a=De(e),u=a.length;if(u!=De(t).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in t:It.call(t,l)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var f=!0;i.set(e,t),i.set(t,e);for(var p=s;++c<u;){l=a[c];var m=e[l],_=t[l];if(n)var h=s?n(_,m,l,t,e,i):n(m,_,l,e,t,i);if(!(void 0===h?m===_||r(m,_,n,o,i):h)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var j=e.constructor,y=t.constructor;j!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof j&&j instanceof j&&"function"==typeof y&&y instanceof y)&&(f=!1)}return i.delete(e),i.delete(t),f}function le(e,t){var r=e.__data__;return he(t)?r["string"==typeof t?"string":"hash"]:r.map}function de(e){for(var t=De(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,ve(o)]}return t}function fe(e,t){var r=u(e,t);return W(r)?r:void 0}function pe(e,t,r){t=_e(t,e)?[t]:oe(t);for(var n,o=-1,i=t.length;++o<i;){var s=ge(t[o]);if(!(n=null!=e&&r(e,s)))break;e=e[s]}if(n)return n;var i=e?e.length:0;return!!i&&Oe(i)&&me(s,i)&&(ar(e)||Ae(e))}function me(e,t){return!!(t=null==t?qe:t)&&("number"==typeof e||yt.test(e))&&e>-1&&e%1==0&&e<t}function _e(e,t){if(ar(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Le(e))||(ft.test(e)||!dt.test(e)||null!=t&&e in Object(t))}function he(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function je(e){return!!Lt&&Lt in e}function ye(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||kt)}function ve(e){return e===e&&!ke(e)}function be(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function ge(e){if("string"==typeof e||Le(e))return e;var t=e+"";return"0"==t&&1/e==-Ve?"-0":t}function Ee(e){if(null!=e){try{return Ft.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Se(e,t){return(ar(e)?n:Q)(e,Y(t,3))}function xe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Ue);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=e.apply(this,n);return r.cache=i.set(o,s),s};return r.cache=new(xe.Cache||w),r}function we(e,t){return e===t||e!==e&&t!==t}function Ae(e){return Re(e)&&It.call(e,"callee")&&(!Ht.call(e,"callee")||Pt.call(e)==Je)}function $e(e){return null!=e&&Oe(e.length)&&!Te(e)}function Re(e){return Ce(e)&&$e(e)}function Te(e){var t=ke(e)?Pt.call(e):"";return t==Xe||t==Qe}function Oe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=qe}function ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ce(e){return!!e&&"object"==typeof e}function Le(e){return"symbol"==typeof e||Ce(e)&&Pt.call(e)==at}function Fe(e){return null==e?"":ne(e)}function Ie(e,t,r){var n=null==e?void 0:z(e,t);return void 0===n?r:n}function Pe(e,t){return null!=e&&pe(e,t,V)}function De(e){return $e(e)?H(e):X(e)}function Ne(e){return e}function Me(e){return _e(e)?i(ge(e)):re(e)}var He=200,Ue="Expected a function",Be="__lodash_hash_undefined__",ze=1,Ge=2,Ve=1/0,qe=9007199254740991,Je="[object Arguments]",Ke="[object Array]",We="[object Boolean]",Ze="[object Date]",Ye="[object Error]",Xe="[object Function]",Qe="[object GeneratorFunction]",et="[object Map]",tt="[object Number]",rt="[object Object]",nt="[object Promise]",ot="[object RegExp]",it="[object Set]",st="[object String]",at="[object Symbol]",ut="[object WeakMap]",ct="[object ArrayBuffer]",lt="[object DataView]",dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,pt=/^\./,mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_t=/[\\^$.*+?()[\]{}|]/g,ht=/\\(\\)?/g,jt=/^\[object .+?Constructor\]$/,yt=/^(?:0|[1-9]\d*)$/,vt={};vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt[Je]=vt[Ke]=vt[ct]=vt[We]=vt[lt]=vt[Ze]=vt[Ye]=vt[Xe]=vt[et]=vt[tt]=vt[rt]=vt[ot]=vt[it]=vt[st]=vt[ut]=!1;var bt="object"==typeof e&&e&&e.Object===Object&&e,gt="object"==typeof self&&self&&self.Object===Object&&self,Et=bt||gt||Function("return this")(),St="object"==typeof t&&t&&!t.nodeType&&t,xt=St&&"object"==typeof r&&r&&!r.nodeType&&r,wt=xt&&xt.exports===St,At=wt&&bt.process,$t=function(){try{return At&&At.binding("util")}catch(e){}}(),Rt=$t&&$t.isTypedArray,Tt=Array.prototype,Ot=Function.prototype,kt=Object.prototype,Ct=Et["__core-js_shared__"],Lt=function(){var e=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ft=Ot.toString,It=kt.hasOwnProperty,Pt=kt.toString,Dt=RegExp("^"+Ft.call(It).replace(_t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Et.Symbol,Mt=Et.Uint8Array,Ht=kt.propertyIsEnumerable,Ut=Tt.splice,Bt=d(Object.keys,Object),zt=fe(Et,"DataView"),Gt=fe(Et,"Map"),Vt=fe(Et,"Promise"),qt=fe(Et,"Set"),Jt=fe(Et,"WeakMap"),Kt=fe(Object,"create"),Wt=Ee(zt),Zt=Ee(Gt),Yt=Ee(Vt),Xt=Ee(qt),Qt=Ee(Jt),er=Nt?Nt.prototype:void 0,tr=er?er.valueOf:void 0,rr=er?er.toString:void 0;p.prototype.clear=m,p.prototype.delete=_,p.prototype.get=h,p.prototype.has=j,p.prototype.set=y,v.prototype.clear=b,v.prototype.delete=g,v.prototype.get=E,v.prototype.has=S,v.prototype.set=x,w.prototype.clear=A,w.prototype.delete=$,w.prototype.get=R,w.prototype.has=T,w.prototype.set=O,k.prototype.add=k.prototype.push=C,k.prototype.has=L,F.prototype.clear=I,F.prototype.delete=P,F.prototype.get=D,F.prototype.has=N,F.prototype.set=M;var nr=ie(B),or=se(),ir=G;(zt&&ir(new zt(new ArrayBuffer(1)))!=lt||Gt&&ir(new Gt)!=et||Vt&&ir(Vt.resolve())!=nt||qt&&ir(new qt)!=it||Jt&&ir(new Jt)!=ut)&&(ir=function(e){var t=Pt.call(e),r=t==rt?e.constructor:void 0,n=r?Ee(r):void 0;if(n)switch(n){case Wt:return lt;case Zt:return et;case Yt:return nt;case Xt:return it;case Qt:return ut}return t});var sr=xe(function(e){e=Fe(e);var t=[];return pt.test(e)&&t.push(""),e.replace(mt,function(e,r,n,o){t.push(n?o.replace(ht,"$1"):r||e)}),t});xe.Cache=w;var ar=Array.isArray,ur=Rt?a(Rt):Z;r.exports=Se}).call(t,r("./node_modules/webpack/buildin/global.js"),r("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/regenerator-runtime/runtime.js":function(e,t,r){(function(t){!function(t){"use strict";function r(e,t,r,n){var i=t&&t.prototype instanceof o?t:o,s=Object.create(i.prototype),a=new p(n||[]);return s._invoke=c(e,r,a),s}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function s(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function r(t,o,i,s){var a=n(e[t],e,o);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){r("next",e,i,s)},function(e){r("throw",e,i,s)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},s)}s(a.arg)}function o(e,t){function n(){return new Promise(function(n,o){r(e,t,n,o)})}return i=i?i.then(n,n):n()}"object"==typeof t.process&&t.process.domain&&(r=t.process.domain.bind(r));var i;this._invoke=o}function c(e,t,r){var o=w;return function(i,s){if(o===$)throw new Error("Generator is already running");if(o===R){if("throw"===i)throw s;return _()}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var u=l(a,r);if(u){if(u===T)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===w)throw o=R,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=$;var c=n(e,t,r);if("normal"===c.type){if(o=r.done?R:A,c.arg===T)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=R,r.method="throw",r.arg=c.arg)}}}function l(e,t){var r=e.iterator[t.method];if(r===h){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=h,l(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var o=n(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,T;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=h),t.delegate=null,T):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function m(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=h,t.done=!0,t};return n.next=n}}return{next:_}}function _(){return{value:h,done:!0}}var h,j=Object.prototype,y=j.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},b=v.iterator||"@@iterator",g=v.asyncIterator||"@@asyncIterator",E=v.toStringTag||"@@toStringTag",S="object"==typeof e,x=t.regeneratorRuntime;if(x)return void(S&&(e.exports=x));x=t.regeneratorRuntime=S?e.exports:{},x.wrap=r;var w="suspendedStart",A="suspendedYield",$="executing",R="completed",T={},O={};O[b]=function(){return this};var k=Object.getPrototypeOf,C=k&&k(k(m([])));C&&C!==j&&y.call(C,b)&&(O=C);var L=s.prototype=o.prototype=Object.create(O);i.prototype=L.constructor=s,s.constructor=i,s[E]=i.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(L),e},x.awrap=function(e){return{__await:e}},a(u.prototype),u.prototype[g]=function(){return this},x.AsyncIterator=u,x.async=function(e,t,n,o){var i=new u(r(e,t,n,o));return x.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},a(L),L[E]="Generator",L[b]=function(){return this},L.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},x.values=m,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=h)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=h),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=y.call(o,"catchLoc"),a=y.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,T):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),f(r),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;f(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:m(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=h),T}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./node_modules/whatwg-fetch/fetch.js":function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return j.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function a(e){var t=new FileReader,r=s(t);return t.readAsArrayBuffer(e),r}function u(e){var t=new FileReader,r=s(t);return t.readAsText(e),r}function c(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(j.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(j.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(j.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(j.arrayBuffer&&j.blob&&v(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!j.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!b(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):j.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},j.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},j.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var r=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function _(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function h(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var j={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(j.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(e){return e&&DataView.prototype.isPrototypeOf(e)},b=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,n){e=t(e),n=r(n);var o=this.map[e];this.map[e]=o?o+","+n:n},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,n){this.map[t(e)]=r(n)},o.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},j.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];h.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=h,e.fetch=function(e,t){return new Promise(function(r,n){var o=new p(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:_(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new h(t,e))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&j.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},"./src/main/resources/css/client-val.css":function(e,t){},"./src/main/resources/js/behaviours/debug/devtools.ts":function(e,t,r){"use strict";function n(e,t,n,o){return f(this,void 0,void 0,function(){var e,n,o,i,s,l,f,m,j,y,v,b;return p(this,function(p){switch(p.label){case 0:return e="form#issue-create,form#issue-workflow-transition,form#assign-issue,form#log-work,div.issue-setup-fields,form[name='jiraform'],form#subtask-create-details,form#issue-edit,form.vp-form",(n=t.find(e),n.length)?(o=t.find("form.aui"),o.addClass("ajs-dirty-warning-exempt"),i=h?new u.a:new a.Behaviours,s=AJS.params.baseURL+"/rest/scriptrunner/behaviours/latest/admin/fieldsForScreen?"+Object(c.a)(i.getCoordinates(o)),[4,fetch(s,{credentials:"same-origin"}).then(function(e){return e.json()})]):[2];case 1:for(l=p.sent(),f=Object.keys(l).filter(function(e){return a.Behaviours.findFieldForId(o,e).length>0}).reduce(function(e,t){return e[t]=l[t],e[t].field=a.Behaviours.findFieldForId(o,t),e},{}),i.addFieldListeners(o,f,!0),m=r("./src/main/resources/soy/client/jira/behaviours-debug.soy"),j=function(e){var t=d({},f[e]);t.fieldId=e;var r=_(t.field).closest("div.field-group");0===r.length&&(r=_("input[name="+t.fieldId+"]:first").closest("fieldset.group")),r.append('<a data-aui-trigger aria-controls="more-details-'+t.fieldId+'" href="#more-details-'+t.fieldId+'">\n                        <span style="color: grey" class="aui-icon aui-icon-small aui-iconfont-configure sr-field-config">Configure</span>\n                     </a>');var n=_(m.configureField(t));_("body").append(n);var s=document.getElementById("more-details-"+t.fieldId);s.addEventListener("aui-show",function(r){console.log("SHOWN");var n=function(){var t=i.constructForm(o)[e];_(r.target).closest("aui-inline-dialog").find(".srCurrentValue").text(JSON.stringify(t))};i.bindChangeEvents(t.fieldId,t.field,o,!1,t,".jbhv-devtool",function(e){n()})}),s.open=!1,s.persistent=!0,s.querySelector(".aui-button").addEventListener("click",function(r){console.log(_(r.target).closest("aui-inline-dialog")[0].open),_(r.target).closest("aui-inline-dialog")[0].open=!1,console.log(_(r.target).closest("aui-inline-dialog")[0].open),i.unbindListeners(e,t.field)}),s.querySelector(".cbReadonly").addEventListener("click",function(e){"checked"===_(e.target).attr("checked")?i.makeReadOnly(t.field):i.makeWritable(t.field)}),s.querySelector(".cbRequired").addEventListener("click",function(e){var r="checked"===_(e.target).attr("checked");i.getBehaviours()[t.fieldId].required=r,r?i.requireField(t.field):i.unRequireField(t.field)}),s.querySelector(".cbHidden").addEventListener("click",function(e){i.setHidden(t.field,"checked"===_(e.target).attr("checked"))}),s.querySelector(".srSetFieldname").addEventListener("keyup",function(e){i.setFieldLabel(t.field,e.currentTarget.value)}),s.querySelector(".srSetValue").addEventListener("keyup",function(e){var r=_(e.target),n=r.val();try{var o=JSON.parse(n);r.css("background-color","rgb(223, 240, 216)"),i.setFieldValue(t.field,o,t.fieldId)}catch(e){r.css("background-color","rgb(250, 220, 220)")}}),s.querySelector(".srFieldOptions").addEventListener("keyup",function(e){var r=_(e.target),n=r.val();try{var i=JSON.parse(n);r.css("background-color","rgb(223, 240, 216)"),a.Behaviours.setFieldOptions(o,t.field,t.fieldId,i)}catch(e){console.log(e),r.css("background-color","rgb(250, 220, 220)")}})},y=0,v=Object.getOwnPropertyNames(f);y<v.length;y++)b=v[y],j(b);return[2]}})})}function o(){return"true"===localStorage[m]}function i(){return f(this,void 0,void 0,function(){return p(this,function(e){return o()?(console.log("Dev tools already enabled"),[2]):(localStorage[m]=!0,[2,n(null,_(document),null,null)])})})}function s(){localStorage.removeItem(m),console.log("Disabled, now refresh browser")}Object.defineProperty(t,"__esModule",{value:!0}),t.applyDevTools=n,t.enableDevTools=i,t.disableDevTools=s;var a=r("./src/main/resources/js/behaviours/index.ts"),u=r("./src/main/resources/js/behaviours/jsd-overrides.ts"),c=r("./src/main/resources/js/behaviours/serialiseQueryString.ts"),l=r("./node_modules/lodash.delay/index.js"),d=(r.n(l),this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}),f=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(i,r[1])).done)return s;switch(i=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,i=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){u.label=r[1];break}if(6===r[0]&&u.label<s[1]){u.label=s[1],s=r;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(r);break}s[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],i=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},m="ScriptRunner.Behaviours.enableDevTools",_=jQuery,h=/portal\/\d+\/create\/\d+/.test(document.location.href);o()&&_(function(){JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,n),l(function(){n(null,_(document),null,null).catch(function(e){console.log("Failed to add devtools",e)})},250)}),void 0===window.ScriptRunner&&(window.ScriptRunner={}),void 0===window.ScriptRunner.Behaviours&&(window.ScriptRunner.Behaviours={}),window.ScriptRunner.Behaviours=d({},window.ScriptRunner.Behaviours,{enableDevTools:i,disableDevTools:s})},"./src/main/resources/js/behaviours/fields/fieldutils/OptionTemplates.soy":function(e,t,r){ScriptRunner=window.ScriptRunner,n=window.plugin,com=window.com;var n,o=r("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").goog,i=r("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").soy,s=r("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").soydata;r("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").soyshim;if(void 0===n)var n={};void 0===n.com&&(n.com={}),void 0===n.com.onresolve&&(n.com.onresolve={}),void 0===n.com.onresolve.behaviours&&(n.com.onresolve.behaviours={}),n.com.onresolve.behaviours.checkboxOption=function(e,t,r){return s.VERY_UNSAFE.ordainSanitizedHtml('<div class="'+i.$$escapeHtmlAttribute(e.type)+'" ><input class="'+i.$$escapeHtmlAttribute(e.type)+'" id="'+i.$$escapeHtmlAttribute(e.fieldId)+"-"+i.$$escapeHtmlAttribute(e.kount)+'" name="'+i.$$escapeHtmlAttribute(e.fieldId)+'" type="'+i.$$escapeHtmlAttribute(e.type)+'" value="'+i.$$escapeHtmlAttribute(e.optionId)+'" title=""><label for="'+i.$$escapeHtmlAttribute(e.fieldId)+"-"+i.$$escapeHtmlAttribute(e.kount)+'">'+i.$$escapeHtml(e.optionValue)+"</label></div>")},o.DEBUG&&(n.com.onresolve.behaviours.checkboxOption.soyTemplateName="plugin.com.onresolve.behaviours.checkboxOption"),e.exports=n.com.onresolve.behaviours,"undefined"!=typeof com&&(window.com=com),void 0!==n&&(window.plugin=n),"undefined"!=typeof ScriptRunner&&(window.ScriptRunner=ScriptRunner)},"./src/main/resources/js/behaviours/fields/fieldutils/select-utils.ts":function(e,t,r){"use strict";function n(e,t){var r=jQuery.grep(e.find("option"),function(e){var r=b(e).data("descriptor");return!!r&&r.value()===t.toString()});r.length||e.hasClass("aui-field-issuepicker")&&(r=[new AJS.ItemDescriptor({highlighted:!0,value:t,label:t,html:t})]),r.length?e.trigger("selectOption",r):v.sr.warn(AJS.format("Could not add invalid option {0} to {1}",t,e.selector))}function o(e,t){if(e.is(".multi-select-select,.aui-ss-select"))e.find("option").each(function(r,n){var o=b(n).data("descriptor");o.value()===t&&(v.sr.log("removing item",o.label()),i(e,o.label()))});else{e.parent().find("div.representation").find("option").filter(function(e,r){return b(r).val()===t}).remove()}}function i(e,t){e.parent().find("div.representation").find("span.value-text:contains('"+t+"')").closest("li").find("em.item-delete").click()}function s(e,t){var n=e.find("input").first().is(":radio"),o=e.find("input").filter(":checked").map(function(e,t){return b(t).val()}).get(),i=v.Behaviours.getFieldNameForField(e),s=r("./src/main/resources/js/behaviours/fields/fieldutils/OptionTemplates.soy"),a=e.closest("fieldset");a.find("div.checkbox, div.radio").remove();for(var u=a.find("legend").get(0)?a.find("legend"):a.find("div.field-container"),c=1,l=0,d=t.slice().reverse();l<d.length;l++){var f=d[l],p=s.checkboxOption({fieldId:i,kount:c,type:n?"radio":"checkbox",optionId:f.key.toString(),optionValue:f.value});c++,u.after(p.content)}v.Behaviours.setRadioOrCheckboxFieldValue(o,i)}function a(e,t){if(e.first().find("input").is(":checkbox, :radio"))return s(e,t);var r=e.val(),n=b.map(t,function(e,t){return e.key.toString()}),i=!1,a=u(e),c=y()(a,n);b.each(c,function(t,r){i=!!e.val()&&e.val().indexOf(r)>-1,o(e,r),e.find("option[value='"+r+"']").remove()});var l=y()(n,a);b.each(l,function(r,n){var o=m()(t,function(e){return e.key.toString()===n}),i={text:o.value,value:n,class:null};e.attr("class")&&e.attr("class").match("cascadingselect-parent")&&(i.class="option-group-"+n),e.append(b("<option/>",i))});var d=e.find("option"),f=h()(n,function(e){return m()(d,function(t){return t.value===e})});if(e.empty(),b.each(f,function(t,r){e.append(r)}),i&&e.hasClass("aui-ss-select")||e.hasClass("select")&&!r&&!e.attr("multiple")){var p=e.find("option:first");p&&(e.val(p.val()),v.sr.log("Triggering reset"),e.trigger("change.jbhv"))}else e.val(r);e.trigger("reset")}function u(e){return e.find("option").get().map(function(e){return b(e).val()})}function c(e){return e.find("option").get().map(function(e){return b(e).text().trim()})}function l(e){return e.find("option:selected").get().map(function(e){return b(e).text().trim()})}function d(e,t){var r=jQuery.grep(e.find("option"),function(e,r){return b(e).data("descriptor").label()===t});r.length?e.trigger("selectOption",r):v.sr.warn("Could not add invalid option "+t+" to "+e.selector)}function f(e,t){t=t.map(function(e){return String(e)}),b.each(t,function(t,r){n(e,r)}),y()(e.val(),t).forEach(function(t){o(e,t)})}t.d=i,t.f=a,t.b=c,t.c=l,t.a=d,t.e=f;var p=r("./node_modules/lodash.find/index.js"),m=r.n(p),_=r("./node_modules/lodash.map/index.js"),h=r.n(_),j=r("./node_modules/lodash.difference/index.js"),y=r.n(j),v=r("./src/main/resources/js/behaviours/index.ts"),b=jQuery},"./src/main/resources/js/behaviours/index.ts":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"isServiceDeskCreate",function(){return m}),r.d(t,"isServiceDesk",function(){return _}),r.d(t,"NAMESPACE",function(){return j}),r.d(t,"sr",function(){return x}),r.d(t,"Behaviours",function(){return w}),r.d(t,"GeneralPickerUtil",function(){return $}),r.d(t,"IssuePickerUtil",function(){return R}),r.d(t,"JBHV",function(){return T});var n=r("./src/main/resources/js/behaviours/sagas/sprint-field-utils.js"),o=(r.n(n),r("./src/main/resources/js/behaviours/fields/fieldutils/select-utils.ts")),i=r("./src/main/resources/js/behaviours/type-conversions.js"),s=(r.n(i),r("./node_modules/regenerator-runtime/runtime.js")),a=(r.n(s),r("./src/main/resources/js/behaviours/serialiseQueryString.ts")),u=r("./src/main/resources/js/behaviours/tab-manip.ts"),c=r("./node_modules/css.escape/css.escape.js"),l=(r.n(c),this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}),d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(i,r[1])).done)return s;switch(i=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,i=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){u.label=r[1];break}if(6===r[0]&&u.label<s[1]){u.label=s[1],s=r;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(r);break}s[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],i=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},p=jQuery,m=function(){return/portal\/\d+\/create\/\d+/.test(document.location.href)},_=function(){return/servicedesk\/customer/.test(document.location.href)},h={},j=".jbhv",y=!1,v={},b={project:["#project","#issue-create-project-name"],issuetype:["#issuetype","#issue-create-issue-type"],timeoriginalestimate:["#timetracking_originalestimate"],timeestimate:["#timetracking_remainingestimate"],attachment:["input[name=dnd-dropzone]"]},g={serverDone:0,submitSelected:!1};p.fn.exists=function(){return 0!==this.length};var E=[],S=["MoveIssueUpdateFields.jspa"],x={log:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,["[SR Behaviours]"].concat(e))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,["[SR Behaviours]"].concat(e))},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,["[SR Behaviours]"].concat(e))}},w=function(){function e(){this.awaitEditorRegistation=function(e,t){return void 0===t&&(t=100),new Promise(function(r,n){var o=0,i=setInterval(function(){o++,(h[e]||o*t>500)&&(h[e]||console.warn("RTE failed to register in time allowed."),clearInterval(i),r())},t)})},v={},this.queueName="promisesQueue",this.fieldsWithValidators=[]}return Object.defineProperty(e.prototype,"getTabOperations",{get:function(){return this.tabOperations},enumerable:!0,configurable:!0}),e.prototype.waitUntilPromiseIsDone=function(e){var t=this;e&&e.done(function(){p(document).dequeue(t.queueName)})},e.prototype.processPromisesAndTriggerValidators=function(){this.fieldsWithValidators.length>0&&p(document).queue(this.queueName,this.triggerValidators.bind(this)),p(document).dequeue(this.queueName)},e.prototype.triggerValidators=function(){for(;this.fieldsWithValidators.length;){var e=this.fieldsWithValidators.shift();e.field.trigger(e.event)}p(document).queue(this.queueName).length>0&&p(document).clearQueue(this.queueName)},e.isFieldRequiringTimer=function(e){var t=["com.atlassian.jira.plugin.system.customfieldtypes:userpicker","com.atlassian.jira.issue.fields.DueDateSystemField","com.atlassian.jira.plugin.system.customfieldtypes:datepicker","Multi User Picker","com.atlassian.jira.plugin.system.customfieldtypes:grouppicker","com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker","com.atlassian.jira.plugin.system.customfieldtypes:multiversion"];return p.inArray(e,t)>-1},e.prototype.getSingleValue=function(e){return e instanceof Array&&1===e.length?e[0]:e},e.prototype.checkFields=function(){for(var t in v)if(t.length>0){var r=e.findFieldForId(p("body"),t);if(r.length>0&&e.isFieldRequiringTimer(v[t].fieldType)){null==E[t]&&(E[t]="");var n=!1;if(null!=r.val()&&null!=E[t]&&"object"==typeof r.val())try{n=r.val().join("")===E[t].join("")}catch(e){x.log("error "+t+", todo")}else n=r.val()===E[t]||null==r.val()&&!E[t];n||(x.log("Field changed, revalidating: "+r.attr("name")+": "+r.val()),E[t]=r.val(),r.trigger("change"+j))}}},e.prototype.getText=function(e){return this.i18n&&this.i18n[e]?this.i18n[e]:e},e.prototype.getBehaviours=function(){return v},e.prototype.applyReadOnlyAttributes=function(e){var t=this.getRichEditor(e);if(e.prop("disabled",!0).addClass("clientreadonly"),t){t.rteInstance.then(function(e){e.editor.setMode("readonly")});var r=e.siblings("textarea");r.prop("disabled",!0),r.addClass("clientreadonly")}},e.prototype.setFieldValue=function(t,r,i){return d(this,void 0,void 0,function(){var s;return f(this,function(a){switch(a.label){case 0:return!t.is(".wiki-textfield.richeditor-cover")||h[i]?[3,2]:(x.log("field not ready for value - waiting"),[4,this.awaitEditorRegistation(i)]);case 1:a.sent(),a.label=2;case 2:return p("#"+i+"-ms").length>0&&(t=p("#"+i+"-ms")),i in v||(v[i]={},v[i].fieldType=""),e.isCheckboxOrRadio(i)?e.setRadioOrCheckboxFieldValue(r,i):"commentLevel"===t.attr("name")?(t.find("option").removeAttr("selected"),t.find("option[value='"+r+"']").attr("selected","selected"),s=""===r?AJS.params.securityLevelViewableByAll:AJS.params.securityLevelViewableRestrictedTo,t.parent().find(".current-level").html(AJS.format(s,t.find("option:selected").html()))):t.hasClass("single-user-picker")?this.doGetUserPicker(t,r):"comment"===t.attr("name")?t.is(":visible")&&t.val(r):t.hasClass("multi-select-select")?("string"==typeof r?r=""===r?[]:r.split(",").map(function(e){return e.trim()}):"number"==typeof r&&(r=[r]),r=r.map(function(e){return String(e)}),x.log("set value to : ",r),"[object Array]"!==Object.prototype.toString.call(r)&&(r=[r]),o.e(t,r)):["com.pyxis.greenhopper.jira:gh-sprint"].includes(v[i].fieldType)?Object(n.fetchSprint)(r).then(function(e){return Object(n.setSprintField)(i,e)}).catch(function(e){x.error("Failed to set sprint field",e)}):t.hasClass("aui-ss-select")?t.hasClass("js-epic-picker")?Object(n.fetchEpic)(r,i).catch(function(e){x.error("Failed to set epic field",e)}):t.trigger("set-selection-value",r):t.hasClass("cascadingselect-parent")?(t.parent().find("select:first").val(r[0]),r.length>1&&(t.parent().find("select:first").trigger("change"),t.parent().find("select:nth(1)").val(r[1]))):t.val(r),[2]}})})},e.setRadioOrCheckboxFieldValue=function(e,t){e=Array.isArray(e)?e:[e],Array.from(document.querySelectorAll("[name="+t+"]")).forEach(function(t){t.checked=e.map(function(e){return e.toString()}).includes(t.value)})},e.prototype.getRichEditor=function(e){var t=p(e).data("editor-id")||p(e).next().data("editor-id");if(t)try{return r("jira/editor/registry").getEntry(t)}catch(t){return console.log("RTE not registered for field "+e),null}},e.prototype.bindRTETextFieldEvents=function(e,t,r,n){var o=this;void 0===r&&(r=j),void 0===n&&(n=this.postValidator);var i=this.getRichEditor(e);i&&(i.onSwitchToText(function(e){p(e.textArea).off("change"+r,n).on("change"+r,{docRoot:t},n)}),i.rteInstance.then(function(e){var t=e.editor;t&&t.on("blur",n===o.postValidator?o.postValidatorForRTE:n)}))},e.prototype.unBindRTETextFieldEvents=function(e){var t=this,r=this.getRichEditor(e);r&&(p(r.textArea).unbind("change"+j,this.postValidator),r.rteInstance.then(function(e){var r=e.editor;r&&r.off("blur",t.postValidatorForRTE)}))},e.prototype.stubMissingField=function(e){e in v||(v[e]={},v[e].fieldType="")},e.prototype.makeReadOnly=function(t){var r,n=this;if(t.find(":radio").length>0)return void t.find(":radio").each(function(e,t){n.applyReadOnlyAttributes(p(t))});if(t.find(":checkbox").length>0)return void t.find(":checkbox").each(function(e,t){n.applyReadOnlyAttributes(p(t))});if(r=e.getFieldNameForField(t),this.stubMissingField(r),t.hasClass("cascadingselect-parent"))t.parent().find("select").each(function(e,t){n.applyReadOnlyAttributes(p(t))});else if("com.atlassian.jira.plugin.system.customfieldtypes:userpicker"===v[r].fieldType||"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker"===v[r].fieldType)p("#"+r).parent().find("a").each(function(){p(this).hide()});else if(t.hasClass("aui-ss-select"))t=t.parent().find("input.aui-ss-field"),this.applyReadOnlyAttributes(t),t.parent().find("span.drop-menu").hide();else if(t.hasClass("multi-select-select")){x.log("special treatment for multi select fields");for(var o=t.parent(),i=0,s=["textarea","select"];i<s.length;i++){var a=s[i];o.find(a).addClass("clientreadonly"),o.find(a).prop("disabled",!0)}o.find("span.drop-menu").hide(),o.find("a.issue-picker-popup").hide(),o.find("em").hide();var u=t.parent().find("div.representation").find("li.item-row button");u.on("click.jbhv",function(e){e.stopPropagation()})}else if(t.parent().is("div.aui-field-datepicker")||t.is("input.date-picker"))t.parent().find("a").hide(),t.parent().find(".show-date-picker").hide();else if("commentLevel"===r){var c=t.closest("div.field-group");c.find("#commentLevel-multi-select > a.drop").find("span:first").removeClass("aui-iconfont-unlocked").addClass("aui-iconfont-locked"),c.find("#commentLevel-multi-select a span").removeClass("drop-menu"),c.find("#commentLevel-multi-select a.drop").unbind("click")}"assignee"===r&&p("#"+r).parent().find("a").hide(),t.each(function(e,t){n.applyReadOnlyAttributes(p(t))})},e.prototype.removeReadOnlyAttributes=function(e){e.attr("title",""),e.prop("disabled",!1),e.removeClass("clientreadonly");var t=this.getRichEditor(this);if(t){t.rteInstance.then(function(e){e.editor.setMode("code")});var r=e.siblings("textarea");r.attr("title",""),r.prop("disabled",!1),r.addClass("clientreadonly")}},e.prototype.makeWritable=function(t){var r,n=this;if(t.find(":radio").length>0)return void t.find(":radio").each(function(e,t){n.removeReadOnlyAttributes(p(t))});if(t.find(":checkbox").length>0)return void t.find(":checkbox").each(function(e,t){n.removeReadOnlyAttributes(p(t))});if(r=e.getFieldNameForField(t),this.stubMissingField(r),t.hasClass("cascadingselect-parent"))t.parent().find("select").each(function(e,t){n.removeReadOnlyAttributes(p(t))});else if("com.atlassian.jira.plugin.system.customfieldtypes:userpicker"===v[r].fieldType||"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker"===v[r].fieldType)p("#"+r).parent().find("a").each(function(){p(this).show()});else if(t.hasClass("aui-ss-select"))t=t.parent().find("input.aui-ss-field"),this.removeReadOnlyAttributes(t),t.parent().find("span.drop-menu").show();else if(t.hasClass("multi-select-select")){for(var o=t.parent(),i=0,s=["textarea","select"];i<s.length;i++){var a=s[i];o.find(a).removeClass("clientreadonly"),o.find(a).prop("disabled",!1)}var u=t.parent().find("div.representation").find("li.item-row button");u.off("click.jbhv"),o.find("span.drop-menu").show(),o.find("a.issue-picker-popup").show(),o.find("em").show()}else(t.parent().is("div.aui-field-datepicker")||t.is("input.date-picker"))&&(t.parent().find("a").show(),t.parent().find(".show-date-picker").show());"com.atlassian.jira.issue.fields.AssigneeSystemField"===v[r].fieldType&&p("#"+r).parent().find("a").show(),console.log("Pre remove read only attr"),t.each(function(e,t){n.removeReadOnlyAttributes(p(t))})},e.prototype.isInputElement=function(){var e=p(document.activeElement);return e.is("input, select, textarea")&&"submit"!==p(e).attr("type")},e.prototype.preventSubmit=function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1},e.prototype.triggerValidator=function(e){e.blur()},e.prototype.submitForm=function(e){p(document.activeElement);return g.serverDone>0?(g.submitSelected=!0,this.preventSubmit(e)):!!this.submitFormAllowed(e.data.docRoot)||this.preventSubmit(e)},e.prototype.submitFormAllowed=function(t){var r,n="";p("div.jbhverror").remove();for(var o=0,i=Object.getOwnPropertyNames(this.getBehaviours());o<i.length;o++){var s=i[o];if(s.length>0){x.log("submit field: "+s);var a=void 0;if(a=e.isCheckboxOrRadio(s)?p("input[name='"+s+"']:first"):"issuelinks"===s?p(t).find("#issuelinks-issues"):p(t).find("#"+s),a.length>0&&(!0===v[s].required&&this.validateRequiredField({currentTarget:a}),v[s].title||v[s].errorMsg)){var u=e.findFieldForId(t,s);v[s].errorMsg?(n+=v[s].displayName+": "+v[s].errorMsg+"\n\n",this.setErrorText(u,v[s].errorMsg)):(n+=v[s].displayName+": "+v[s].title+"\n\n",this.setErrorText(u,v[s].title)),r||(r=u);var c=a.closest(".tabs-pane").not(".active-pane").attr("id");if(void 0!==c){var l=p("a[href='#"+c+"'] strong");l.addClass("tabinvalid"),l.click(function(){p(this).removeClass("tabinvalid")})}}}}if(n.length>0){var d=r.offset().top-jQuery(window).height()/2;x.log("Scroll to: "+d);var f=r.closest("div.tabs-pane");if(!f.length||f.is(".active-pane")||"comment"===r.attr("id"))if("DIV"===t.prop("tagName")){var m=t.find(".form-body");m.animate({scrollTop:d+m.scrollTop()},500)}else p("body").animate({scrollTop:d},500);return x.warn("Preventing the form from being submitted.\n"+n),!1}for(var s in v)if(s.length>0&&v[s].readonly){x.log("submit form make writable: "+s);var _=e.isCheckboxOrRadio(s)?t.find("input[name='"+s+"']").parent():e.findFieldForId(t,s);_.length>0&&this.makeWritable(_)}return!0},e.getFieldNameForField=function(e){return e.find(":radio").length>0?e.find(":radio:first").attr("name"):e.is(":radio")?e.attr("name"):e.find(":checkbox").length>0?e.find(":checkbox")[0].name:e.is("#issuelinks-issues-multi-select")||["issuelinks-issues","issuelinks-linktype"].includes(e.attr("name"))?"issuelinks":e.attr("name")},e.prototype.validateRequiredField=function(t){var r=p(t.currentTarget),n=e.getFieldNameForField(r);if(x.log("Validate field: "+n),!v[n])return void x.warn("Failed to find type of field: "+n);"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons"===v[n].fieldType?"-1"!==r.parent().find("input:radio:checked").val()?v[n].title="":(v[n].title=this.getText("field.title.missing.value"),this.requireField(r)):r.hasClass("select")&&r.val()&&"-1"!==r.val().toString()&&""!==r.val()?v[n].title="":"select-multiple"===r.attr("type")&&null!=r.val()&&"-1"!==r.val()?v[n].title="":"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"===v[n].fieldType?(x.log("Validate checkboxes"),r.closest("fieldset.group").find("input:checkbox:checked").length>0?(x.log("Remove checkboxes class"),v[n].title=""):(x.log("Add checkboxes class"),v[n].title=this.getText("field.title.missing.value"),this.requireField(r))):!r.hasClass("select")&&r.val()?v[n].title="":v[n].title=this.getText("field.title.missing.value")},e.prototype.requireField=function(t){var r=e.getFieldNameForField(t);x.log("Require Field: "+r);var n=this.getFieldLabel(t);n.children().length&&n.children().remove(),n.append('<span class="aui-icon icon-required"></span><span class="content">Required</span>');var o=p(".qf-picker-content").find('[data-field-id="'+r+'"]');o&&(o.children().remove(),o.append('<span class="aui-icon icon-required" data-field-id="'+r+'"></span>'))},e.prototype.unRequireField=function(t){var r=e.getFieldNameForField(t);x.log("Un-require Field: "+r);var n=this.getFieldLabel(t);n.length||(n=p(":input[name='"+r+"']").parent().parent().find("legend > span")),n.children().length&&n.children().remove();var o=p(".qf-picker-content").find("[data-field-id="+r+"]");o&&o.children().remove()},e.prototype.randomString=function(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",t=8,r="",n=0;n<t;n++){var o=Math.floor(Math.random()*e.length);r+=e.substring(o,o+1)}return r},e.prototype.constructForm=function(e){var t,r=this,n={};return t=p(e).find(":input")?p(e):e.find("form.aui"),t.find(":input").each(function(e,t){var o,i=p(t);if(i.hasClass("multi-select-select"))o=[],i.find(":selected:not(.free-input)").each(function(){o.push(p(this).val())}),n[i.attr("name")]=o.join("-*-*-");else if(i.hasClass("aui-ss-select"))n[i.attr("name")]=r.getSingleValue(i.parent().find("select").val());else if("radio"===i.attr("type"))n[i.attr("name")]=i.parent().parent().find(":checked").val();else if("checkbox"===i.attr("type"))o=[],i.closest("fieldset").find(":checked").each(function(){o.push(p(this).val())}),n[i.attr("name")]=o.join("-*-*-");else if(i.hasClass("cascadingselect-parent")){var s=i.parent().find("option:selected").map(function(){return p(this).val()});n[i.attr("name")]=p.makeArray(s).join("-*-*-")}else n[i.attr("name")]=i.val()}),Object.assign(n,this.getCoordinates(t)),n},e.prototype.postValidator=function(t){var r=p(t.currentTarget),n=null==t.data||void 0===t.data?t.data.closest("form"):t.data.docRoot,o=e.getFieldNameForField(r),i=this.constructForm(n);return console.log("posting runvalid + ",i,o),this.doPostRunValidator(o,i,n)},e.prototype.postValidatorForRTE=function(e){var t=e.target.targetElm.$textarea.attr("id"),r=e.target.formElement,n=this.constructForm(r);return console.log("posting runvalid RTE + ",n,t),this.doPostRunValidator(t,n,r)},e.findFieldForId=function(t,r){return p(t).find(e.getSelectorForBackendId(t,r))},e.getSelectorForBackendId=function(t,r){if(r.length>0){if(!((r=CSS.escape(r))in b)){if(e.isCheckboxOrRadio(r)){var n=p(t).find("input[name='"+r+"']");return n.length<=0&&(r=p(t).find("#"+r).attr("name"),n=p(t).find("input[name='"+r+"']")),n.parent().attr("data-jbhv-checkbox-radio-fieldname",r),"[data-jbhv-checkbox-radio-fieldname="+r+"]"}return"issuelinks"===r?"#issuelinks-issues,#issuelinks-linktype":p("#"+r).length?"#"+r:p('select[name="'+r+'"]').length?p('select[name="'+r+'"]'):(x.log("Unrecognised backend ID, or possibly field with no available options:",r),null)}for(var o=b[r],i=0,s=o;i<s.length;i++){var a=s[i];if(p(t).find(a).length>0)return a}}},e.closestFieldGroup=function(e){return e.closest("div.field-group, fieldset.group")},e.prototype.setHidden=function(t,r){var n=e.closestFieldGroup(t);r?n.hide():n.show()},e.prototype.getFieldLabel=function(e){var t="string"==typeof e?p(e):e;return t.is(".radio, .checkbox, input[name=dnd-dropzone]")?t.closest("fieldset.group").find("legend span"):t.closest(".field-group").find("label").not(".select2-offscreen")},e.prototype.setFieldLabel=function(e,t){this.getFieldLabel(e).contents().filter(function(e,t){return 3===t.nodeType}).first().replaceWith(t+"&nbsp;")},e.prototype.setErrorText=function(e,t){var r=e.closest(".qf-field"),n=e.closest("div.field-group, fieldset.group").find("label[for='"+e.attr("id")+"']").text().trim(),o=e.parent().find("div.error:last"),i=e.attr("id"),s=p("[field-id='"+i+"']");if(s.length&&(e=p(s)),e.parent().find("div.jbhverror").remove(),p('[data-jbhv="'+n+'"]').remove(),t){var a='<div class="error jbhverror">'+t+"</div>",u=t?'<div class="error jbhverror" data-jbhv="'+n+'" style="text-align: center">'+n+":"+t+"</div>":a;r.is(":visible")?p(".form-body").append(u):e.parent()?e.parent().append(a):o.length>0&&o.prepend(a)}},e.prototype.setDescription=function(t,r){var n=e.closestFieldGroup(t),o=n.find("div.description");o.length?o.empty().append(r):n.append(p("<div/>",{class:"description",html:r}))},e.setFieldOptions=function(e,t,r,n){x.log("Setting field options for "+r),x.log(n),t=e.find("#"+r+"-ms").length?e.find("#"+r+"-ms"):t,o.f(t,n)},e.prototype.bindChangeEvents=function(t,r,n,o,i,s,a){if(void 0===s&&(s=j),void 0===a&&(a=this.postValidator.bind(this)),e.isCheckboxOrRadio(t))r.find("input").off("change"+s).on("change"+s,{docRoot:n},a),o&&this.fieldsWithValidators.push({field:r.find("input:checked"),event:"change"+s});else if("issuelinks"===t){n.find("#issuelinks-linktype").off("change"+s).on("change"+s,{docRoot:n},a);var u=n.find("#issuelinks-issues");u.off("unselect"+s).on("unselect"+s,{docRoot:n},a).off("selected"+s).on("selected"+s,{docRoot:n},a),o&&this.fieldsWithValidators.push({field:u,event:"selected"+s})}else this.isCascadingSelect(i.fieldType)?(x.log("add select fns"),r.parent().find("select").off("change"+s).on("change"+s,{docRoot:n},a),o&&this.fieldsWithValidators.push({field:r,event:"change"+s})):r.hasClass("multi-select-select")?(r.off("unselect"+s).on("unselect"+s,{docRoot:n},a),r.off("selected"+s).on("selected"+s,{docRoot:n},a),o&&this.fieldsWithValidators.push({field:r,event:"selected"+s})):(this.bindRTETextFieldEvents(r,n,j,a),r.off("change"+s).on("change"+s,{docRoot:n},a),o&&(/^(?:com.valiantys.jira.plugins.sql.customfield)$/.test(v[t].fieldType)||this.fieldsWithValidators.push({field:r,event:"change"+s})))},e.prototype.addFieldListeners=function(t,r,n){if(x.log("Adding listeners ...: data",r,"firstRun",n),null===r||p.isEmptyObject(r))return void console.log("There are no behaviours attached.");var o=!1;this.i18n=r.__I18N__,delete r.__I18N__,r.__TABS__&&(u.h(r.__TABS__),this.tabOperations=r.__TABS__,delete r.__TABS__);var s=p.extend(!0,{},v);v=function(e){return e.timeestimate&&(e.timetracking_remainingestimate=e.timeestimate,delete e.timeestimate),r.timetracking&&(e.timetracking_originalestimate=e.timetracking,delete e.timetracking),e}(r);for(var a in v)if(a.length>0){var c=v[a],l=e.findFieldForId(t,a);if(l.length>0){if(x.log("field: "+a),void 0!==c){if(e.isFieldRequiringTimer(v[a].fieldType)&&(o=!0),!0===v[a].required?(x.log("Make required: "+a),this.requireField(l),l.trigger("click")):!1===v[a].required&&(v[a].title="",this.unRequireField(l)),v[a].fieldOptions){var d=v[a].fieldOptions;e.setFieldOptions(t,l,a,d)}if(void 0!==v[a].helpText&&this.setErrorText(l,v[a].helpText),void 0!==v[a].description&&this.setDescription(l,v[a].description),"server"===v[a].validator&&this.bindChangeEvents(a,l,t,n,c),void 0!==v[a].label&&this.setFieldLabel(l,v[a].label),!0===v[a].readonly?(x.log("Make readonly: "+a),this.makeReadOnly(l)):!1===v[a].readonly&&this.makeWritable(l),void 0!==v[a].overlay){var f=v[a].overlay;x.log(f);var m=this.randomString();x.log("overlay id: "+m),p("body").append('<div class="simple_overlay" id="'+m+'" ">'+f+"</div>");var _=p("#"+m).overlay({expose:{color:"#333",loadSpeed:200,opacity:.9},api:!0});_.load()}if(!0===v[a].hidden?this.setHidden(l,!0):!1===v[a].hidden&&this.setHidden(l,!1),void 0!==v[a].convertTo){var h=v[a].convertTo;v[a].selectOptions;i.convertToType(t,l,a,h,this)}var j=v[a].setValue;void 0!==j&&this.setFieldValue(l,j,a);var y=void 0;y="assignee"===a||"priority"===a?t.find("#"+a+"-field"):"wiki-edit-content"===l.parent().attr("class")?l.parent():l,"invalid"===v[a].validity&&("wiki-edit-content"===l.parent().attr("class")?y.parent().removeClass("clientok").addClass("invalid"):y.removeClass("clientok").addClass("invalid")),"valid"===v[a].validity&&("wiki-edit-content"===l.parent().attr("class")?y.parent().removeClass("invalid").addClass("clientok"):y.removeClass("invalid").addClass("clientok")),""===v[a].validity&&("wiki-edit-content"===l.parent().attr("class")?y.parent().removeClass("invalid").removeClass("clientok"):y.removeClass("invalid").removeClass("clientok")),void 0!==v[a].errorMsg&&(v[a].title=v[a].errorMsg)}}else x.log("Field not found: "+a)}this.processPromisesAndTriggerValidators(),p.each(v,function(e,t){e in s?p.each(v[e],function(t,r){s[e][t]=r}):s[e]=t}),v=s,n&&o&&setInterval(this.checkFields.bind(this),700)},e.isCheckboxOrRadio=function(e){if(v[e]&&v[e].fieldType){var t=v[e].fieldType;return"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons"===t||"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"===t}var r="#"+e+" , input[name='"+e+"']",n=p(r).attr("type");return"checkbox"===n||"radio"===n},e.prototype.isCascadingSelect=function(e){return"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect"===e},e.prototype.bindFirst=function(e,t,r,n){e.unbind(t,r),e.bind(t,n,r);var o=e.data("events")[t];o.unshift(o.pop()),e.data("events")[t]=o},e.prototype.unbindListeners=function(t,r,n){void 0===n&&(n=j),e.isCheckboxOrRadio(t)?r.find("input").off("click"+n):this.isCascadingSelect(v[t].fieldType)?r.parent().find("select").unbind("change"+n):r.unbind("change"+n),this.unBindRTETextFieldEvents(r)},e.prototype.clearAllBehaviours=function(){x.log("New content added, clearing outstanding errors...");for(var t in v)if(!(t.length<=0)){var r=e.findFieldForId(p("body"),t);r.length<=0||(x.log("clearing conditions on: "+t),r.parent().find("div.jbhverror").remove(),v[t].helpText="",v[t].title="",v[t].required&&this.unRequireField(r),this.unbindListeners(t,r))}this.checkFields()},e.prototype.getPid=function(e){return this.getSingleValue(e.find("#project,input[name=pid]").val())},e.prototype.setBehaviours=function(e){v=e},e.prototype.initialiseBehaviours=function(e,t,r,n){y=n;var o=!1;r||(o=!0),t&&t.is(".qf-field")&&t.is(".qf-field-active")?(t=p(document).find("div.jira-dialog-content"),r="configuredField"):t&&"HEADER"===t.prop("tagName")&&"stalker"===t.attr("id")&&(t=p(document),o=!0),o||r&&[JIRA.CONTENT_ADDED_REASON.dialogReady,JIRA.CONTENT_ADDED_REASON.pageLoad,"configuredField"].includes(r)&&(o=!0),o&&this.setUpBehavioursInForm(t)},e.prototype.getCoordinates=function(e){return{actionId:this.getSingleValue(e.find("input[name='action']").val()),pid:this.getPid(e),issueTypeId:this.getSingleValue(e.find("#issuetype,input[name=issuetype]").val()),issueId:this.getSingleValue(e.find("input[name=id]").val())}},e.prototype.setUpBehavioursInForm=function(e){var t="form#issue-create,form#issue-workflow-transition,form#assign-issue,form#log-work,div.issue-setup-fields,form[name='jiraform'],form#subtask-create-details,form#issue-edit,form.vp-form",n=e.find(t);if(n.length){(function(){n.is(".vp-form")||new Promise(function(e){e()}).then(function(){var e=[r("jira/editor/registry")];(function(e){e.off("register."+j).on("register."+j,function(e){var t=e.textArea.getAttribute("id");h[t]=e}),e.off("unregister."+j).on("unregister."+j,function(e){var t=e.textArea.getAttribute("id");delete h[t]})}).apply(null,e)}).catch(r.oe)})();var o=p(e.find(t)[0]).attr("action");if(-1!==p.inArray(o,S))return void x.log("Behaviours not applicable to the current action");this.clearAllBehaviours(),v=[];var i=this.getCoordinates(e),s=i.actionId,a=i.pid,u=i.issueTypeId,c=i.issueId,l=this.getCoordinates(e),d=e.find("#sr_behaviour_info").data("sr_behaviour_id"),f=e.find("#sr_behaviour_info").data("sr_context_issue_id");m()?this.doGetValidatorsByPid(l,e,d,null):void 0!==c&&null!==c?this.doGetValidators(c,s,e,d,f):void 0!==a&&void 0!==u&&a&&u?this.doGetValidatorsByPid(l,e,d,f):x.warn("This context does NOT contain an IssueId or Pid/IssueTypeId. Field Listeners NOT added",e.find(t)),this.bindFirst(e.find(t).closest("form"),"submit",this.submitForm.bind(this),{docRoot:e})}else x.log("Behaviours not applicable to the current form / screen")},e.prototype.doPostRunValidator=function(t,r,n){var o=this;t="issuelinks-issues"===t?"issuelinks":t,t=t.replace(/:\d$/,""),g.serverDone++;var i=e.findFieldForId(n,t);i.length&&i.addClass("behaviours-wait"),fetch(AJS.params.baseURL+"/rest/scriptrunner/behaviours/latest/"+this.getRestPrefix()+"runvalidator.json",{method:"POST",credentials:"same-origin",body:JSON.stringify({fieldName:t,form:r}),headers:{"X-Atlassian-token":"no-check","Content-Type":"application/json"}}).then(function(e){return i.length&&i.removeClass("behaviours-wait"),e}).then(function(e){if(200===e.status)return e;throw e}).then(function(e){return e.json()}).then(function(e){o.addFieldListeners(n,e,!1)}).catch(function(e){console.log("Behaviours post failed.",e)}).then(function(){g.serverDone--,g.submitSelected&&0===g.serverDone&&(g.submitSelected=!1,o.submitFormAllowed(n)&&p("form",n).submit())})},e.prototype.doGetValidators=function(e,t,r,n,o){p.ajax({context:this,type:"GET",url:AJS.params.baseURL+"/rest/scriptrunner/behaviours/latest/"+this.getRestPrefix()+"validators.json",data:{issueId:e,actionId:t,failedSubmit:y},success:function(e){this.addFieldListeners(r,e,!0)},error:function(e,t,r){x.error("Error retrieving validators",{xhr:e,status:t,error:r})}})},e.prototype.getRestPrefix=function(){return""},e.prototype.doGetValidatorsByPid=function(e,t,r,n){var o=this,i=l({},e,{behaviourContextId:r,contextIssueId:n,failedSubmit:y});fetch(AJS.params.baseURL+"/rest/scriptrunner/behaviours/latest/"+this.getRestPrefix()+"validatorsByPid.json?"+Object(a.a)(i),{method:"GET",credentials:"same-origin"}).then(function(e){if(e.status>=400)throw e;return e}).then(function(e){return e.json()}).then(function(e){o.addFieldListeners(t,e,!0)}).catch(function(e){x.error("Error retrieving validators",e)})},e.prototype.doGetUserPicker=function(e,t){return d(this,void 0,void 0,function(){var r,n;return f(this,function(o){switch(o.label){case 0:return["","-1","-2"].includes(t)?(e.is("#assignee")?(e.find("option").removeAttr("selected"),e.trigger("set-selection-value",t)):(e.find("option").removeAttr("selected"),e.parent().find("div.aui-ss").remove(),e.removeData("aui-ss"),p(document).trigger(JIRA.Events.NEW_CONTENT_ADDED,[e.parent(),"pageLoad"])),[2]):[4,fetch(AJS.params.baseURL+"/rest/api/2/user/picker?showAvatar=true&query="+t,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})];case 1:return r=o.sent(),0!==r.total&&p.grep(r.users,function(e){return e.name===t})?void 0===(n=p.grep(JIRA.UserPickerUtil.formatResponse(r)[0].properties.items,function(e){return e.properties.value===t}))||1!==n.length?(console.warn("Failed to find user: ",t),[2]):(e.trigger("clearSelection"),e.find("option").removeAttr("selected"),e.find("option[value='"+t+"']").remove(),e.find("optgroup:first").append(p("<option/>",{selected:"selected",class:"","data-field-text":n[0].label(),value:t,style:"background-image: url("+n[0].icon()+")"}).html(n[0].label())),e.trigger("reset"),[2]):(console.warn("Failed to find user: ",t),[2])}})})},e}();if(!_()){var A=new w;p(function(){A.initialiseBehaviours(null,p(document),null,!1),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,A.initialiseBehaviours.bind(A)),p(document).ajaxError(function(e,t){if(204!==t.status){try{var r=JSON.parse(t.responseText);"errors"in r&&u.a(A.getTabOperations,r,A.getBehaviours())}catch(e){x.warn("Failed to parse json and apply errors",e)}p.isEmptyObject(v)||400!==t.status||A.initialiseBehaviours(null,p(e.target),null,!0)}})})}var $={formatResponse:function(e){var t=[];return p(e).each(function(e,r){var n=new AJS.GroupDescriptor({weight:e,label:r.footer});p(r.items).each(function(){n.addItem(new AJS.ItemDescriptor({value:this.value,label:this.label,html:this.html,icon:this.icon,allowDuplicate:!1,highlighted:!0}))}),t.push(n)}),t}},R={formatResponse:function(e){var t=[],r=AJS.params.baseURL;return e&&e.sections&&e.sections.forEach(function(e,n){if(console.log("section",e),"cs"===e.id){var o=new AJS.GroupDescriptor({weight:n,label:e.label,description:e.sub});e.issues&&e.issues.length>0&&e.issues.forEach(function(e){o.addItem(new AJS.ItemDescriptor({highlighted:!0,value:e.key,label:e.key+" - "+e.summaryText,icon:e.img?r+e.img:null,html:e.keyHtml+" - "+e.summary}))}),t.push(o)}}),t}},T={IssuePickerUtil:R,GeneralPickerUtil:$};window.JBHV=new w},"./src/main/resources/js/behaviours/jsd-overrides.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r("./src/main/resources/js/behaviours/index.ts"),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,a)}u((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(s=s.call(i,r[1])).done)return s;switch(i=0,s&&(r=[0,s.value]),r[0]){case 0:case 1:s=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,i=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){u.label=r[1];break}if(6===r[0]&&u.label<s[1]){u.label=s[1],s=r;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(r);break}s[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],i=0}finally{o=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},a=jQuery,u=function(e){function t(){var t=e.call(this)||this,r=document.location,n=r.pathname,o=n.match(/customer\/portal\/(\d+)\/create\/(\d+)/);return o&&(t.coords={portalId:parseInt(o[1],10),requestTypeId:parseInt(o[2],10)}),n=n.replace(/\/servicedesk\/.*/,""),AJS.params.baseURL=r.protocol+"//"+r.hostname+":"+r.port+n,t}return o(t,e),t.prototype.getCoordinates=function(e){return this.coords},t.prototype.getRestPrefix=function(){return"jsd/jsd/"},t.prototype.setDescription=function(e,t){var r=e.closest("div.field-group");r.find("div.description").remove(),r.find(".field-container").after(a("<div class='description'>"+t+"</div>"))},t.prototype.unRequireField=function(e){var t=this.getFieldLabel(e);t.children().remove(),t.append('<span class="vp-optional"> (optional)</span>')},t.prototype.requireField=function(e){this.getFieldLabel(e).children().remove()},t.prototype.setFieldValue=function(t,r,n){return i(this,void 0,void 0,function(){var o;return s(this,function(i){if("select-one"===t[0].type)o=t.find("option").filter(function(){return a(this).text().trim()===r}),o.attr("selected","selected"),o.length&&a("#s2id_"+n).find("span.select2-chosen").text(r);else if("select-multiple"===t[0].type)t.val(r).trigger("change");else{if(!t.closest("sd-user-picker").length)return[2,e.prototype.setFieldValue.call(this,t,r,n)];this.setMultiUserFieldData(t,r)}return[2]})})},t.prototype.setMultiUserFieldData=function(e,t){var r=e.closest("sd-user-picker").data("multiple");if("string"==typeof t&&(t=t.split(",").map(function(e){return e.trim()}).filter(function(e){return!!e})),0===t.length)return void e.trigger("change").select2("data",r?[]:"");Promise.all(t.map(function(e){return fetch(AJS.params.baseURL+"/rest/api/2/user?username="+e,{credentials:"same-origin"})})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var o=t.filter(function(e){return!("errors"in e)||(n.sr.warn("Error retrieving user: "+e.errorMessages.join(",")),!1)}).map(function(e){return{id:e.key,emailAddress:e.emailAddress,displayName:e.displayName,avatar:e.avatarUrls["16x16"]}}),i=r?o:o[0];e.trigger("change").select2("data",i)})},t}(n.Behaviours)},"./src/main/resources/js/behaviours/sagas/sprint-field-utils.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchEpic=t.setSprintField=t.fetchSprint=void 0;var o=r("./node_modules/babel-runtime/regenerator/index.js"),i=n(o),s=r("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),a=n(s);t.fetchSprint=function(){var e=(0,a.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(AJS.params.baseURL+"/rest/agile/1.0/sprint/"+t,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"}});case 2:if(r=e.sent,200===r.status){e.next=6;break}throw console.log("Erroring, can't set sprint, status",r.status),new Error("Sprint not found");case 6:return e.next=8,r.json();case 8:if("id"in(n=e.sent)){e.next=11;break}throw new Error("Malformed response from picker");case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.setSprintField=function(e,t){var r=t.id,n=t.name,o=r.toString(),i=$("<option/>",{text:n,value:o,title:n});i.data("descriptor",new AJS.ItemDescriptor({value:o,label:n}));var s=$("#"+e);s.append(i),s.trigger("set-selection-value",o)},t.fetchEpic=function(){var e=(0,a.default)(i.default.mark(function e(t,r){var n,o,s,a,u,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(AJS.params.baseURL+"/rest/api/2/field",{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()});case 2:if(n=e.sent,o=_.find(n,function(e){return e.schema&&e.schema.custom&&"com.pyxis.greenhopper.jira:gh-epic-label"===e.schema.custom})){e.next=6;break}throw"Failed to find ID of Epic Link field";case 6:return e.next=8,fetch(AJS.params.baseURL+"/rest/api/2/issue/"+t+"?fields="+o.id,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()});case 8:if(s=e.sent,a="key:"+s.key,!s.fields||!s.fields[o.id]){e.next=18;break}u=$("<option/>",{text:s.fields[o.id],value:a}),u.data("descriptor",new AJS.ItemDescriptor({value:a,label:s.fields[o.id]})),c=$("#"+r),c.append(u),c.trigger("set-selection-value",a),e.next=19;break;case 18:throw new Error("Failed to read epic name field from issue: "+t+" - perhaps it wasn't an epic");case 19:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()},"./src/main/resources/js/behaviours/serialiseQueryString.ts":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e){return Object.keys(e).filter(function(t){return!!e[t]}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},"./src/main/resources/js/behaviours/tab-manip.ts":function(e,t,r){"use strict";r.d(t,"g",function(){return o}),r.d(t,"i",function(){return i}),r.d(t,"d",function(){return a}),r.d(t,"e",function(){return c}),r.d(t,"c",function(){return l}),r.d(t,"f",function(){return d}),r.d(t,"b",function(){return p}),r.d(t,"a",function(){return _}),r.d(t,"h",function(){return h});var n=function(e){window.require(["aui/flag"],function(t){t({type:"error",title:"Error",persistent:!1,body:e})})},o=function(e){var t=c();if(f()){var r=t.eq(e);r.parent().hide();var n=s(r);if($("#"+n).hide(),e<l()){var o=t.eq(e+1);o.css("border-top-left-radius","3px").css("border-left","1px solid #ccc"),o.parent().css("margin-left","20px")}a()===e&&t.eq(l()).click()}},i=function(e){var t=c(),r=t.eq(e);if(r.parent().is(":visible"))return void console.log("already shown");r.parent().show();var n=s(r);if($("#"+n).css("display",""),e===l()){var o=t.not(t.filter($(":first")));o.css("border-top-left-radius","").css("border-left",""),o.parent().css("margin-left","")}},s=function(e){return e.attr("href").replace("#","")},a=function(){return c().index($("[aria-selected=true]"))},u=function(e){c().eq(e).click()},c=function(){return $("a[role=tab][href^=#tab]")},l=function(){return c().index(d())},d=function(){return c().filter($(":visible").not(".disabled-tab"))},f=function(){return 1!==d().length||(console.warn("You can't hide or disable all tabs"),!1)},p=function(e){var t=c();if(f()){t.eq(e).on("click.jbhv",function(e){e.stopPropagation()}).addClass("disabled-tab");var r=s(t.eq(e));$("#"+r).hide(),a()===e&&t.eq(l()).click()}},m=function(e){var t=c();t.eq(e).off("click.jbhv").removeClass("disabled-tab");var r=s(t.eq(e));$("#"+r).css("display","")},_=function(e,t,r){var o=e&&c().length?Object.entries(e).filter(function(e){var t=(e[0],e[1]);return t.hide||t.disable}).map(function(e){e[0];return e[1].fields}):[],i=Object.entries(r).filter(function(e){var t=(e[0],e[1]);return t.hidden||t.readonly}).map(function(e){return e[0]}),s=[i].concat(o),a=s.reduce(function(e,t){return t.forEach(function(t){return e.add(t)}),e},new Set),u=Object.keys(t.errors).filter(function(e){return a.has(e)});if(u.length){var l=u.map(function(e){return"<b>"+e+"</b>: "+t.errors[e]}).join("<br>");n("There are fields that are required or in an error state, but the administrator has hidden them using a behaviour.<p id='jbhv-submit-error'>"+l+"</p><p>Please contact your administrator.</p>")}},h=function(e){if(c().length)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=r[t],s=n[0],a=n[1],l=parseInt(s,10),d=0,f=Object.entries(a);d<f.length;d++){var _=f[d],h=_[0],j=_[1];"hide"===h&&(j?o(l):i(l)),"switch"===h&&u(l),"disable"===h&&(j?p(l):m(l))}}},"./src/main/resources/js/behaviours/type-conversions.js":function(e,t,r){function n(e,t,r,s,a){o.sr.log("Conversion.... to "+s);var u=void 0,c=t.val();s!==i.SINGLE_SELECT&&s!==i.MULTI_SELECT||(t.hasClass("aui-ss-select")||"true"==t.data("is-ms-field")||t.is(":hidden"))&&(o.sr.log("Field already is a select/multiselect list"),n(e,t,r,i.SHORT_TEXT,a));var l=r+"-ms";if(s===i.SHORT_TEXT)return t.show(),t.removeData("is-ms-field"),$("#"+r+"-ms-multi-select").remove(),$("#"+r+"-ms-single-select").remove(),void $("#"+r+"-ms").remove();if(s===i.SINGLE_SELECT){if(t.is(".select"))return void new AJS.SingleSelect({element:t,itemAttrDisplayed:"label",errorMessage:"Invalid value selected"});t.after("<select id='"+l+"' name='"+l+"' class='select cf-select'></select>").hide(),u=e.find("#"+l),u.data("redirect-to",t.attr("id")),u.bind("change, change.jbhv, unselect.jbhv, selected.jbhv",function(e){var r=AJS.$(this),n=r.parent().find("#"+r.data("redirect-to")),i=$.makeArray(r.val());n.val(i.join("; ")),t.trigger("change"+o.NAMESPACE)})}else{if(s!==i.MULTI_SELECT)return void o.sr.warn("Conversion to "+s+" not supported");if(t.is(".select"))return void new AJS.MultiSelect({element:t,itemAttrDisplayed:"label",errorMessage:"Invalid value selected"});t.after("<select id='"+l+"' name='"+l+"' class='select cf-select' multiple='multiple'></select>").hide(),u=$("#"+l),t.data("is-ms-field","true"),u.bind("change, change.jbhv, unselect.jbhv, selected.jbhv",function(e){var r=AJS.$(this),n=r.parent().find("#"+r.data("redirect-to")),i=$.makeArray(r.val());n.val(i.join("; ")),t.trigger("change"+o.NAMESPACE)})}t=o.Behaviours.findFieldForId(e,r);var d={element:u,itemAttrDisplayed:"label",errorMessage:"Invalid value selected"},f=a.getBehaviours()[r],p=f.fieldOptions,m=f.selectOptions||{};if($.isEmptyObject(f.selectOptions)||$.isEmptyObject(f.selectOptions.ajaxOptions)||(s===i.SINGLE_SELECT&&(p=[{key:c,value:c}]),"issue"===m.ajaxOptions.formatResponse?m.ajaxOptions.formatResponse=o.JBHV.IssuePickerUtil.formatResponse:"general"===m.ajaxOptions.formatResponse&&(m.ajaxOptions.formatResponse=o.JBHV.GeneralPickerUtil.formatResponse)),p&&o.Behaviours.setFieldOptions(e,u,r,p),s===i.SINGLE_SELECT){var h=AJS.SingleSelect.extend({handleFreeInput:function(e){if(""===(e=e||jQuery.trim(this.$field.val())))return void this.hideErrorMessage();this.options.revertOnInvalid&&!this.model.getDescriptor(e)?this.setSelection(this.lastSelection||""):this.$container.hasClass("aui-ss-editing")&&(this._setDescriptorWithValue(e)?this.hideErrorMessage():this.options.submitInputVal||this.showErrorMessage(e))}}),j=new h($.extend(d,m));a.setFieldValue(u,c,l),"css"in m&&j.$container.add(j.$container.find("input")).attr("style",m.css)}else if(s===i.MULTI_SELECT){if(!(t.val()instanceof Array||_.isEmpty(t.val()))){var y=t.val().split("; "),v=[];_.each(y,function(e){v.push({key:e,value:e})}),m&&m.ajaxOptions&&o.Behaviours.setFieldOptions(e,u,r,v),a.setFieldValue(u,y,l)}new AJS.MultiSelect($.extend(d,m)),u.data("redirect-to",t.attr("id"))}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConversionTypes=void 0,t.convertToType=n;var o=r("./src/main/resources/js/behaviours/index.ts"),i=t.ConversionTypes={SHORT_TEXT:"short-text",SINGLE_SELECT:"single-select",MULTI_SELECT:"multi-select"}},"./src/main/resources/js/polyfills.ts":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/core-js/fn/array/includes.js"),o=(r.n(n),r("./node_modules/core-js/fn/array/find.js")),i=(r.n(o),r("./node_modules/core-js/fn/array/from.js")),s=(r.n(i),r("./node_modules/core-js/fn/object/assign.js")),a=(r.n(s),r("./node_modules/core-js/fn/object/values.js")),u=(r.n(a),r("./node_modules/core-js/fn/object/entries.js")),c=(r.n(u),r("./node_modules/core-js/fn/string/includes.js")),l=(r.n(c),r("./node_modules/core-js/fn/string/starts-with.js")),d=(r.n(l),r("./node_modules/core-js/fn/string/ends-with.js")),f=(r.n(d),r("./node_modules/core-js/es6/promise.js")),p=(r.n(f),r("./node_modules/core-js/fn/promise.js"));r.n(p)},"./src/main/resources/soy/client/jira/behaviours-debug.soy":function(e,t,r){n=window.ScriptRunner,plugin=window.plugin,com=window.com;var n,o=r("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").goog,i=r("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").soy;r("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").soydata,r("./node_modules/exports-loader/index.js?goog,soy,soydata,soyshim!./node_modules/closure-templates/soyutils.js").soyshim;if(void 0===n)var n={};void 0===n.Templates&&(n.Templates={}),void 0===n.Templates.Behaviours&&(n.Templates.Behaviours={}),void 0===n.Templates.Behaviours.Debug&&(n.Templates.Behaviours.Debug={}),n.Templates.Behaviours.Debug.configureField=function(e,t,r){return'<aui-inline-dialog id="more-details-'+i.$$escapeHtml(e.fieldId)+'" alignment="bottom right"><h3>Field: '+i.$$escapeHtml(e.fieldId)+'</h3><form class="aui ajs-dirty-warning-exempt"><fieldset class="group"><legend><span>Attributes</span></legend><div class="checkbox"><input class="checkbox cbReadonly" type="checkbox" name="cbReadonly" id="cbReadonly-'+i.$$escapeHtml(e.fieldId)+'"><label for="cbReadonly-'+i.$$escapeHtml(e.fieldId)+'">Read only</label></div><div class="checkbox"><input class="checkbox cbRequired" type="checkbox" name="cbRequired" id="cbRequired-'+i.$$escapeHtml(e.fieldId)+'"><label for="cbRequired-'+i.$$escapeHtml(e.fieldId)+'">Required</label></div><div class="checkbox"><input class="checkbox cbHidden" type="checkbox" name="cbHidden" id="cbHidden-'+i.$$escapeHtml(e.fieldId)+'"><label for="cbHidden-'+i.$$escapeHtml(e.fieldId)+'">Hidden</label></div></fieldset><div class="field-group"><label for="set-value-'+i.$$escapeHtml(e.fieldId)+'">Set value</label><textarea class="textarea srSetValue" name="set-value" id="set-value-'+i.$$escapeHtml(e.fieldId)+'" placeholder="Enter text as json..."></textarea></div><div class="field-group"><label for="current-value-'+i.$$escapeHtml(e.fieldId)+'">Current value</label><div class="srCurrentValue" name="current-value" id="current-value-'+i.$$escapeHtml(e.fieldId)+'" ></div></div><div class="field-group"><label for="field-options-'+i.$$escapeHtml(e.fieldId)+'">Field Options</label><textarea class="textarea srFieldOptions" name="field-options" id="field-options-'+i.$$escapeHtml(e.fieldId)+'" placeholder="Enter text as json. Current format: {key: 123, value: \'foo\'}"></textarea></div><div class="field-group"><label for="set-fieldname-'+i.$$escapeHtml(e.fieldId)+'">Set value</label><input class="text srSetFieldname" name="set-fieldname" id=set-fieldname-'+i.$$escapeHtml(e.fieldId)+' placeholder="Enter fieldname..."></div><a class="aui-button aui-button-link">Close</a></form></aui-inline-dialog>'},o.DEBUG&&(n.Templates.Behaviours.Debug.configureField.soyTemplateName="ScriptRunner.Templates.Behaviours.Debug.configureField"),e.exports=n.Templates.Behaviours.Debug,"undefined"!=typeof com&&(window.com=com),"undefined"!=typeof plugin&&(window.plugin=plugin),void 0!==n&&(window.ScriptRunner=n)},10:function(e,t,r){r("./src/main/resources/js/polyfills.ts"),r("./node_modules/whatwg-fetch/fetch.js"),r("./src/main/resources/css/client-val.css"),r("./src/main/resources/js/behaviours/index.ts"),e.exports=r("./src/main/resources/js/behaviours/debug/devtools.ts")},"jira/editor/registry":function(e,t){e.exports=require("jira/editor/registry")}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/keymaster.js' */
(function(u){var v,B={},A={16:false,18:false,17:false,91:false},r="all",e={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},f={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},a=function(k){return f[k]||k.toUpperCase().charCodeAt(0)},x=[];for(v=1;v<20;v++){f["f"+v]=111+v}function h(F,E){var k=F.length;while(k--){if(F[k]===E){return k}}return -1}function y(E,k){if(E.length!=k.length){return false}for(var F=0;F<E.length;F++){if(E[F]!==k[F]){return false}}return true}var q={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function i(k){for(v in A){A[v]=k[q[v]]}}function C(J){var G,I,E,F,K,H;G=J.keyCode;if(h(x,G)==-1){x.push(G)}if(G==93||G==224){G=91}if(G in A){A[G]=true;for(E in e){if(e[E]==G){g[E]=true}}return}i(J);if(!g.filter.call(this,J)){return}if(!(G in B)){return}H=n();for(F=0;F<B[G].length;F++){I=B[G][F];if(I.scope==H||I.scope=="all"){K=I.mods.length>0;for(E in A){if((!A[E]&&h(I.mods,+E)>-1)||(A[E]&&h(I.mods,+E)==-1)){K=false}}if((I.mods.length==0&&!A[16]&&!A[18]&&!A[17]&&!A[91])||K){if(I.method(J,I)===false){if(J.preventDefault){J.preventDefault()}else{J.returnValue=false}if(J.stopPropagation){J.stopPropagation()}if(J.cancelBubble){J.cancelBubble=true}}}}}}function d(H){var G=H.keyCode,E,F=h(x,G);if(F>=0){x.splice(F,1)}if(G==93||G==224){G=91}if(G in A){A[G]=false;for(E in e){if(e[E]==G){g[E]=false}}}}function j(){for(v in A){A[v]=false}for(v in e){g[v]=false}}function g(E,F,I){var H,G;H=b(E);if(I===undefined){I=F;F="all"}for(var k=0;k<H.length;k++){G=[];E=H[k].split("+");if(E.length>1){G=w(E);E=[E[E.length-1]]}E=E[0];E=a(E);if(!(E in B)){B[E]=[]}B[E].push({shortcut:H[k],scope:F,method:I,key:H[k],mods:G})}}function z(G,H){var k,J,I=[],F,E,K;k=b(G);for(E=0;E<k.length;E++){J=k[E].split("+");if(J.length>1){I=w(J);G=J[J.length-1]}G=a(G);if(H===undefined){H=n()}if(!B[G]){return}for(F in B[G]){K=B[G][F];if(K.scope===H&&y(K.mods,I)){B[G][F]={}}}}}function c(k){if(typeof(k)=="string"){k=a(k)}return h(x,k)!=-1}function p(){return x.slice(0)}function l(E){var k=(E.target||E.srcElement).tagName;return !(k=="INPUT"||k=="SELECT"||k=="TEXTAREA")}for(v in e){g[v]=false}function m(k){r=k||"all"}function n(){return r||"all"}function s(G){var F,k,E;for(F in B){k=B[F];for(E=0;E<k.length;){if(k[E].scope===G){k.splice(E,1)}else{E++}}}}function b(k){var E;k=k.replace(/\s/g,"");E=k.split(",");if((E[E.length-1])==""){E[E.length-2]+=","}return E}function w(E){var F=E.slice(0,E.length-1);for(var k=0;k<F.length;k++){F[k]=e[F[k]]}return F}function t(k,E,F){if(k.addEventListener){k.addEventListener(E,F,false)}else{if(k.attachEvent){k.attachEvent("on"+E,function(){F(window.event)})}}}t(document,"keydown",function(k){C(k)});t(document,"keyup",d);t(window,"focus",j);var o=u.key;function D(){var E=u.key;u.key=o;return E}u.key=g;u.key.setScope=m;u.key.getScope=n;u.key.deleteScope=s;u.key.filter=l;u.key.isPressed=c;u.key.getPressedKeyCodes=p;u.key.noConflict=D;u.key.unbind=z;if(typeof module!=="undefined"){module.exports=key}})(this);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/amd-wrappers.js' */
define("wiki-edit/aui",function(){return AJS});define("wiki-edit/JIRA",function(){return JIRA});define("wiki-edit/keymaster",["wiki-edit/aui"],function(a){if(a.Meta.get("keyboard-shortcuts-enabled")===false){return function b(){}}return key.noConflict()});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/templates/wiki-editor.soy' */
// This file was automatically generated from wiki-editor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Plugins.WikiEditor.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Plugins == 'undefined') { JIRA.Templates.Plugins = {}; }
if (typeof JIRA.Templates.Plugins.WikiEditor == 'undefined') { JIRA.Templates.Plugins.WikiEditor = {}; }


JIRA.Templates.Plugins.WikiEditor.renderEditor = function(opt_data, opt_ignored) {
  var output = '<div id="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="paragraph" title="' + soy.$$escapeHtml("Paragraph") + '">' + soy.$$escapeHtml("Paragraph") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h1" data-operation="h1" title="' + soy.$$escapeHtml("Heading 1") + '">' + soy.$$escapeHtml("Heading 1") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h2" data-operation="h2" title="' + soy.$$escapeHtml("Heading 2") + '">' + soy.$$escapeHtml("Heading 2") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h3" data-operation="h3" title="' + soy.$$escapeHtml("Heading 3") + '">' + soy.$$escapeHtml("Heading 3") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h4" data-operation="h4" title="' + soy.$$escapeHtml("Heading 4") + '">' + soy.$$escapeHtml("Heading 4") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h5" data-operation="h5" title="' + soy.$$escapeHtml("Heading 5") + '">' + soy.$$escapeHtml("Heading 5") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h6" data-operation="h6" title="' + soy.$$escapeHtml("Heading 6") + '">' + soy.$$escapeHtml("Heading 6") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-monospace" data-operation="monospace" title="' + soy.$$escapeHtml("Preformatted") + '">' + soy.$$escapeHtml("Preformatted") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="paragraph-quote" title="' + soy.$$escapeHtml("Paragraph quote") + '">' + soy.$$escapeHtml("Paragraph quote") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="block-quote" title="' + soy.$$escapeHtml("Block quote") + '">' + soy.$$escapeHtml("Block quote") + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="delete" data-shortcut="ctrl+shift+s, command+shift+s" title="' + soy.$$escapeHtml("Strikethrough") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+S)">' + soy.$$escapeHtml("Strikethrough") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="superscript">' + soy.$$escapeHtml("Superscript") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="subscript">' + soy.$$escapeHtml("Subscript") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="cite">' + soy.$$escapeHtml("Citation") + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-link"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="link" data-shortcut="ctrl+k, command+k" title="' + soy.$$escapeHtml("External link") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)">' + soy.$$escapeHtml("External link") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-mail">' + soy.$$escapeHtml("Mail link") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-anchor">' + soy.$$escapeHtml("Anchor link") + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-attachment"><div class="aui-dropdown2-section wiki-edit-insert-attachment"><ul class="aui-list-truncate"><li><a href="#"></a></li></ul></div><div class="aui-dropdown2-section wiki-edit-browse-image"><ul class="aui-list-truncate"><li><a href="#" class="wiki-attachment-browse"><span class="aui-icon aui-icon-small aui-iconfont-add"></span>&nbsp;&nbsp;' + soy.$$escapeHtml("Browse") + '</a></li></ul></div></div><div id="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-color-picker">';
  var colors__soy78 = ['333333', '707070', 'cccccc', '205081', '59afe1', '14892c', '8eb021', 'd04437', 'f79232', 'f6c342', '654982', 'f691b2'];
  output += '<div class="aui-dropdown2-section"><ul>';
  var colorList80 = colors__soy78;
  var colorListLen80 = colorList80.length;
  for (var colorIndex80 = 0; colorIndex80 < colorListLen80; colorIndex80++) {
    var colorData80 = colorList80[colorIndex80];
    output += '<li><a href="#" style="background-color: #' + soy.$$escapeHtml(colorData80) + '" data-operation="color" data-color="#' + soy.$$escapeHtml(colorData80) + '">&nbsp;</a></li>';
  }
  output += '</ul></div></div><div id="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-icon-picker"><div class="aui-dropdown2-section"><ul><li><a href="#" class="wiki-edit-operation" title=":)" data-operation=":)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/smile.gif" alt="' + soy.$$escapeHtml("smile") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=":(" data-operation=":("><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/sad.gif" alt="' + soy.$$escapeHtml("sad") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=":P" data-operation=":P"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/tongue.gif" alt="' + soy.$$escapeHtml("tongue") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=":D" data-operation=":D"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/biggrin.gif" alt="' + soy.$$escapeHtml("biggrin") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=";)" data-operation=";)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/wink.gif" alt="' + soy.$$escapeHtml("wink") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(y)" data-operation="(y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_up.gif" alt="' + soy.$$escapeHtml("thumbs up") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(n)" data-operation="(n)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_down.gif" alt="' + soy.$$escapeHtml("thumbs down") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(i)" data-operation="(i)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/information.gif" alt="' + soy.$$escapeHtml("information") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(/)" data-operation="(/)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/check.gif" alt="' + soy.$$escapeHtml("check") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(x)" data-operation="(x)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/error.gif" alt="' + soy.$$escapeHtml("error") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(!)" data-operation="(!)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/warning.gif" alt="' + soy.$$escapeHtml("warning") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(+)" data-operation="(+)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/add.gif" alt="' + soy.$$escapeHtml("add") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(-)" data-operation="(-)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/forbidden.gif" alt="' + soy.$$escapeHtml("forbidden") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(?)" data-operation="(?)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/help_16.gif" alt="' + soy.$$escapeHtml("help") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(on)" data-operation="(on)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb_on.gif" alt="' + soy.$$escapeHtml("lightbulb on") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(off)" data-operation="(off)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb.gif" alt="' + soy.$$escapeHtml("lightbulb") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*)" data-operation="(*)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.gif" alt="' + soy.$$escapeHtml("star yellow") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*r)" data-operation="(*r)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_red.gif" alt="' + soy.$$escapeHtml("star red") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*g)" data-operation="(*g)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_green.gif" alt="' + soy.$$escapeHtml("star green") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*b)" data-operation="(*b)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_blue.gif" alt="' + soy.$$escapeHtml("star blue") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*y)" data-operation="(*y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.gif" alt="' + soy.$$escapeHtml("star yellow") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flag)" data-operation="(flag)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag.gif" alt="' + soy.$$escapeHtml("flag") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flagoff)" data-operation="(flagoff)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag_grey.gif" alt="' + soy.$$escapeHtml("flag off") + '" /></a></li></ul></div></div><div id="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><div class="aui-dropdown2-section"><li><a href="#" class="wiki-edit-operation" data-operation="mention">' + soy.$$escapeHtml("User mention") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="table">' + soy.$$escapeHtml("Table") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="code">' + soy.$$escapeHtml("Code") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="noformat">' + soy.$$escapeHtml("Preformatted") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="panel">' + soy.$$escapeHtml("Panel") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="hr">' + soy.$$escapeHtml("Horizontal ruler") + '</a></li><li class="wiki-edit-speech-item hidden"><a href="#" class="wiki-edit-operation" data-operation="speech">' + soy.$$escapeHtml("Speech recognition") + '</a></li></div>' + ((opt_data.helpData.showHelp) ? '<div class="aui-dropdown2-section"><li><a href="' + soy.$$escapeHtml("") + '/secure/WikiRendererHelpAction.jspa?section=texteffects" target="_blank" title="' + soy.$$escapeHtml("Show me wiki markup syntax") + '">' + soy.$$escapeHtml("Text help") + '</a></li><li><a href="' + soy.$$escapeHtml(opt_data.helpData.editorDocumentationUrl) + '" target="_blank" title="' + soy.$$escapeHtml(opt_data.helpData.editorDocumentationTitle) + '">' + soy.$$escapeHtml("Visual help") + '</a></li></div>' : '') + '</ul></div></div><div class="wiki-edit-toolbar" id="wiki-edit-' + soy.$$escapeHtml(opt_data.editorId) + '"><div class="aui-toolbar2"><div class="aui-toolbar2-inner"><div class="aui-toolbar2-primary"><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-style-picker-trigger" aria-owns="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '">' + soy.$$escapeHtml("Style") + '</a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bold" data-shortcut="ctrl+b, command+b" title="' + soy.$$escapeHtml("Bold") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-bold">' + soy.$$escapeHtml("Bold") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="italic" data-shortcut="ctrl+i, command+i" title="' + soy.$$escapeHtml("Italic") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+I)"><span class="aui-icon aui-icon-small aui-iconfont-editor-italic">' + soy.$$escapeHtml("Italic") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="underline" data-shortcut="ctrl+u, command+u" title="' + soy.$$escapeHtml("Underline") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+U)"><span class="aui-icon aui-icon-small aui-iconfont-editor-underline">' + soy.$$escapeHtml("Underline") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation wiki-edit-operation-color" data-operation="color" data-color="red" title="' + soy.$$escapeHtml("Text color") + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-color">' + soy.$$escapeHtml("Text color") + '</span><span class="wiki-edit-color-indicator"></span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-color-picker-trigger" data-operation="color-parameter" aria-owns="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" title="' + soy.$$escapeHtml("More colors") + '"><span>' + soy.$$escapeHtml("More colors") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-more-picker-trigger" aria-owns="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("More") + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-styles">' + soy.$$escapeHtml("More") + '</span></a></div><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-link-picker-trigger" aria-owns="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("Link") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)"><span class="aui-icon aui-icon-small aui-iconfont-link">' + soy.$$escapeHtml("Link") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-attachment-picker-trigger" aria-owns="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("Attachment") + '"><span class="aui-icon aui-icon-small aui-iconfont-file-generic">' + soy.$$escapeHtml("Attachment") + '</span></a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bullet-list" data-shortcut="ctrl+shift+b, command+shift+b" title="' + soy.$$escapeHtml("Bullet list") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-bullet">' + soy.$$escapeHtml("Bullet list") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="numbered-list" data-shortcut="ctrl+shift+n, command+shift+n" title="' + soy.$$escapeHtml("Numbered list") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+N)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-number">' + soy.$$escapeHtml("Numbered list") + '</span></a></div><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-icon-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("Icons") + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-emoticon">' + soy.$$escapeHtml("Icons") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-other-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("Other") + '"><span class="aui-icon aui-icon-small aui-iconfont-add">' + soy.$$escapeHtml("Other") + '</span></a></div><div class="aui-buttons wiki-edit-toolbar-last"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-visible-toggle wiki-edit-tooltip" title="' + soy.$$escapeHtml("Toggle visibility") + '"><span class="aui-icon icon-toolbartoggle">Lock / Unlock</span></a></div></div></div><!-- .aui-toolbar-inner --></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderEditor.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderEditor';
}


JIRA.Templates.Plugins.WikiEditor.renderListItem = function(opt_data, opt_ignored) {
  return '<li><a href="#" ' + soy.$$escapeHtml(opt_data.attachmentType ? 'data-attachment-type=' + opt_data.attachmentType : '') + '><span class="wiki-edit-attachment-type-icon aui-icon aui-icon-small ' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) : 'aui-iconfont-file-txt') + '" title="' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) : "File") + '"></span>&nbsp;&nbsp;<span class="wiki-edit-attachment-name">' + soy.$$escapeHtml(opt_data.text) + '</span></a></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderListItem.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderListItem';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/Analytics.js' */
define("wiki-edit/analytics",["wiki-edit/aui"],function(b){var c=(b.Analytics&&b.Analytics.triggerPrivacyPolicySafeEvent)?(function c(d,e){b.Analytics.triggerPrivacyPolicySafeEvent("jira.wikieditor."+d,e||{})}):(function c(d,e){b.trigger("analytics",{name:"jira.wikieditor."+d,data:e||{}})});function a(e){var d;var g=0;if(!e){return""}for(var f=0;f<e.length;f+=1){d=e.charCodeAt(f);g=((g*32)-g)+d;g|=0}return g}return{trigger:c,hashCode:a}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/KeyTester.js' */
define("wiki-edit/KeyTester",function(){return{getActionType:function(a){if(this.isNavigation(a)){return"navigating"}else{if(this.isDeleting(a)){return"deleting"}else{if(this.isReturn(a)){return"newline"}else{if(this.isEscape(a)){return"escape"}else{if(this.isTyping(a)){return"typing"}}}}}},isNavigation:function(a){return(a>=33&&a<=40)||(a>=63232&&a<=63235)},isDeleting:function(a){return(a==8||a==46||a==127)},isReturn:function(a){return(a==13)},isEscape:function(a){return(a==27)},isTyping:function(a){return(a>47&&a<58)||(a>95&&a<112)||(a>64&&a<91)||(a>185&&a<193)||(a>218&&a<223)||a==32||a==13}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/UndoManager.js' */
define("wiki-edit/UndoManager",["backbone","underscore"],function(c,a){var b=function(){this._undoStack=[];this._redoStack=[];this._current=undefined;a.extend(this,c.Events)};b.EventTypes=b.prototype.EventTypes={UNDO:"UndoManager:undo",REDO:"UndoManager:redo",CLEAR:"UndoManager:clear",PUSH:"UndoManager:push",UPDATE_CURRENT:"UndoManager:updateCurrent"};b.prototype.MAX_STACK=1000;b.prototype.updateCurrent=function(e,d){if(e!=this._current){this._current=e;if(!d){this._redoStack.length=0}this.trigger(this.EventTypes.UPDATE_CURRENT)}};b.prototype.push=function(d){this._redoStack.length=0;if(!this._undoStack.length||!a.isEqual(d,this._undoStack[this._undoStack.length-1])){this._undoStack.push(d);this._current=d}if(this._undoStack.length>this.MAX_STACK){this._undoStack.splice(0,this._undoStack.length-this.MAX_STACK)}this.trigger(this.EventTypes.PUSH)};b.prototype.undo=function(){if(!this.canUndo()){return}var d;do{d=this._undoStack.pop()}while(a.isEqual(d,this._current)&&this.canUndo());this._redoStack.push(this._current);this._current=d;this.trigger(this.EventTypes.UNDO);return d};b.prototype.redo=function(){if(!this.canRedo()){return}var d=this._redoStack.pop();this._undoStack.push(this._current);this._current=d;this.trigger(this.EventTypes.REDO);return d};b.prototype.canUndo=function(){return !!this._undoStack.length};b.prototype.canRedo=function(){return !!this._redoStack.length};b.prototype.clear=function(){this._undoStack=[];this._redoStack=[];this.trigger(this.EventTypes.CLEAR)};return b});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/UndoableTextarea.js' */
define("wiki-edit/UndoableTextarea",["wiki-edit/UndoManager","wiki-edit/KeyTester","jquery"],function(h,a,e){var g="cut-paste";var f="";function c(i,j){if(j===g||f!=j){if(f!="newline"){i.recordHistoryItem()}f=j}}function d(i,k){if(i.undoManager["can"+k[0].toUpperCase()+k.substring(1)]()){var j=i.undoManager[k]();i.element.value=j.value;i.element.selectionStart=j.selectionStart;i.element.selectionEnd=j.selectionEnd}}var b=function b(k){this.element=k;this.$el=e(k);this.undoManager=new h();this.undoManager.updateCurrent(this.getValue());this.undoManager.push(this.getValue());var l=(function j(n){var m=n.keyCode;var o=String.fromCharCode(m);if(m){if(!n.ctrlKey&&!n.metaKey){this.undoManager.updateCurrent(this.getValue());c(this,a.getActionType(m))}else{if((n.ctrlKey||n.metaKey)&&!n.altKey){switch(o.toLowerCase()){case"y":this.undoManager.updateCurrent(this.getValue(),true);this.redo();n.preventDefault();break;case"z":this.undoManager.updateCurrent(this.getValue(),true);if(!n.shiftKey){this.undo()}else{this.redo()}n.preventDefault();break}}}}else{this.undoManager.updateCurrent(this.getValue());c(this,"other")}}).bind(this);this.$el.on("keydown",l);this.$el.on("paste cut",function i(){this.undoManager.updateCurrent(this.getValue());c(this,g)}.bind(this))};b.prototype.getValue=function(){return{value:this.element.value,selectionStart:this.element.selectionStart,selectionEnd:this.element.selectionEnd}};b.prototype.updateCurrent=function(){this.undoManager.updateCurrent(this.getValue())};b.prototype.recordHistoryItem=function(){this.undoManager.push(this.getValue())};b.prototype.undo=function(){c(this,"undo");d(this,"undo");this.element.scrollTop=this.element.scrollHeight};b.prototype.redo=function(){d(this,"redo");this.element.scrollTop=this.element.scrollHeight};return b});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/TextareaManipulator.js' */
define("wiki-edit/TextareaManipulator",function(){var a=function(b){this.el=b};a.prototype.NEW_LINE_TOKEN="\n";a.prototype.getSelection=function(){return{start:this.el.selectionStart,end:this.el.selectionEnd,length:this.el.selectionEnd-this.el.selectionStart,text:this.el.value.substring(this.el.selectionStart,this.el.selectionEnd)}};a.prototype.setSelection=function(c,b){if(arguments.length===1){b=c}this.el.selectionStart=c;this.el.selectionEnd=b};a.prototype.replaceSelectionWith=function(d,c){var e=this.el.selectionStart;var b=this.el.value;this.el.value=b.substring(0,this.el.selectionStart)+d+b.substring(this.el.selectionEnd,b.length);this.el.selectionEnd=e+d.length;this.el.selectionStart=(c)?e:this.el.selectionEnd};a.prototype.wrapSelectionWith=function(e,f,h){if(arguments.length<3){h=""}if(arguments.length===1){f=e}var d=this.getSelection();var g=this.el.value;if(g.substring(d.start-e.length,d.start)===e&&g.substring(d.end,d.end+f.length)===f){return}var c=g.substring(d.start,d.end);if(c.length==0){c=h}this.el.value=g.substring(0,d.start)+e+c+f+g.substring(d.end,g.length);var b=d.start+e.length;this.setSelection(b,b+c.length)};a.prototype._getSelectedLines=function(){var f=this.el.value;var c=this.getSelection();var e=f.substring(0,c.start).split(this.NEW_LINE_TOKEN).length-1;var d=e+f.substring(c.start,c.end).split(this.NEW_LINE_TOKEN).length-1;var b=f.split(this.NEW_LINE_TOKEN);return{lines:b,start:e,end:d}};a.prototype.getLineAtCursor=function(){var b=this._getSelectedLines();return b.lines[b.end]};a.prototype.getFirstLineMatch=function(d){var b=this._getSelectedLines();var c=b.lines[b.start].match(d);if(c){return c[0]}};a.prototype.areSelectedLinesPrefixed=function(c){var b=this._getSelectedLines();var d;for(d=b.start;d<=b.end;d++){if(b.lines[d].indexOf(c)==0){return true}}return false};a.prototype.prefixSelectedLines=function(f){var e=this.getSelection();var b=this._getSelectedLines();var h;var c=0;var g=true;for(h=b.start;h<=b.end;h++){if(b.lines[h].indexOf(f)==0){if(h==b.start){g=false}continue}c+=1;b.lines[h]=f+b.lines[h]}this.el.value=b.lines.join(this.NEW_LINE_TOKEN);var d=f.length*c;this.setSelection(e.start+((g)?f.length:0),e.end+d)};a.prototype.unprefixSelectedLines=function(f){var e=this.getSelection();var b=this._getSelectedLines();var h;var g=false;var c=0;for(h=b.start;h<=b.end;h++){if(b.lines[h].indexOf(f)==0){c+=1;b.lines[h]=b.lines[h].substring(f.length);if(h==b.start){g=true}}}this.el.value=b.lines.join(this.NEW_LINE_TOKEN);var d=f.length*c;this.setSelection(e.start-((g)?f.length:0),e.end-d)};return a});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/keymaster-setup.js' */
define("wiki-edit/keymaster-setup",["jquery","wiki-edit/keymaster"],function(b,a){return{init:function(){a.filter=function(e){var c=e.target||e.srcElement||false;var d;if(c&&(" "+c.className+" ").indexOf(" wiki-textfield ")>-1){d=b(c).data("wikiEditor");if(d){a.setScope(d.id);return true}}return false}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEnabledTextarea.js' */
define("wiki-edit/WikiEnabledTextarea",["wiki-edit/TextareaManipulator","wiki-edit/UndoableTextarea","wiki-edit/keymaster","wiki-edit/keymaster-setup","wiki-edit/SpeechRecognition","jquery"],function(b,a,f,m,j,c){m.init();var h=0;var e=/^[#\*]+ /;var l=function(o){this.el=o;this.$el=c(o);if(this.$el.data("wikiEditor")){return this.$el.data("wikiEditor")}this.id="wikiEdit"+h;h+=1;this.manipulationEngine=new b(this.el);this.undoRedoEl=new a(o);var p=this;f("enter",p.id,function n(s){var q=p.manipulationEngine.getSelection();var r=p.manipulationEngine.getFirstLineMatch(e);if(r){if(q.length==0&&p.manipulationEngine.getLineAtCursor()===r){p.manipulationEngine.unprefixSelectedLines(r)}else{p.manipulationEngine.replaceSelectionWith("\n"+r)}s.preventDefault()}});this.$el.data("wikiEditor",this);this.$el.addClass("wiki-editor-initialised")};var g={bold:["*","*","strong text"],italic:["_","_","emphasized text"],underline:["+","+","underlined text"],"delete":["-","-","deleted text"],superscript:["^","^","superscript text"],subscript:["~","~","subscript text"],monospace:["{{","}}","monospaced text"],cite:["??","??","citation"],"block-quote":["{quote}","{quote}","quoted text"],color:["{color:$1}","{color}","colored text","red"],link:["[","|http://example.com]","link title"],"link-anchor":["[#","]","anchor"],"link-mail":["[mailto:","]","mail@example.com"],image:["!","!","http://example.com/image.png"],mention:["@","","Mention someone by typing their name..."],code:["\n{code:java}\n","\n{code}\n","// Some comments here\npublic String getFoo()\n{\n    return foo;\n}"],noformat:["\n{noformat}\n","\n{noformat}\n","*no* further _formatting_ is done here"],panel:["\n{panel:title="+"My title"+"}\n","\n{panel}\n","Some text with a title"],table:["\n||"+"Heading"+" 1||"+"Heading"+" 2||\n|","|"+"Col"+" A2|\n","Col"+" A1"]};for(var i in g){l.prototype[i]=(function(n,o){var p=0;if(n.length>3){p=n.length-3}return function(){var t=n[0];var u=n[1];var v=n[2];var q;for(q=1;q<=p;q++){t=t.replace("$"+q,arguments[q-1]||n[2+q]);u=u.replace("$"+q,arguments[q-1]||n[2+q])}var s=this.el.value;var r=this.manipulationEngine.getSelection();this.undoRedoEl.recordHistoryItem();if(s.substring(r.start-t.length,r.start)===t&&s.substring(r.end,r.end+u.length)===u){this.el.value=s.substring(0,r.start-t.length)+s.substring(r.start,r.end)+s.substring(r.end+u.length,s.length);this.manipulationEngine.setSelection(r.start-t.length,r.end-t.length)}else{this.manipulationEngine.wrapSelectionWith.call(this.manipulationEngine,t,u,v)}this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}})(g[i],i)}var d={paragraph:"","bullet-list":"* ","numbered-list":"# ",h1:"h1. ",h2:"h2. ",h3:"h3. ",h4:"h4. ",h5:"h5. ",h6:"h6. ","paragraph-quote":"bq. "};for(var i in d){l.prototype[i]=(function(n){return function(){this.undoRedoEl.recordHistoryItem();for(var o in d){if(this.manipulationEngine.areSelectedLinesPrefixed(d[o])){this.manipulationEngine.unprefixSelectedLines(d[o])}}this.manipulationEngine.prefixSelectedLines.call(this.manipulationEngine,n);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}})(d[i])}var k={hr:"\n----\n",":)":":)",":(":":(",":P":":P",":D":":D",";)":";)","(y)":"(y)","(n)":"(n)","(i)":"(i)","(/)":"(/)","(x)":"(x)","(!)":"(!)","(+)":"(+)","(-)":"(-)","(?)":"(?)","(on)":"(on)","(off)":"(off)","(*)":"(*)","(*r)":"(*r)","(*g)":"(*g)","(*b)":"(*b)","(*y)":"(*y)","(flag)":"(flag)","(flagoff)":"(flagoff)","image-attachment":[" !$1|thumbnail! ","attachment-name.jpg"],"image-attachment-full":[" !$1! ","attachment-name.gif"],"link-attachment":[" [^$1] ","attachment-name.zip"]};for(var i in k){l.prototype[i]=(function(n){var p=0;var o;if(_.isArray(n)){p=n.length-1;o=n.slice(1);n=n[0]}return function(){var r;var q=n;for(r=1;r<=p;r++){q=n.replace("$"+r,arguments[r-1]||o[r-1])}this.undoRedoEl.recordHistoryItem();this.manipulationEngine.replaceSelectionWith.call(this.manipulationEngine,q,false);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}})(k[i])}l.prototype.speech=function(){j.start(this)};return l});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEditor.js' */
define("wiki-edit/WikiEditor",["wiki-edit/WikiEnabledTextarea","jquery","underscore","wiki-edit/JIRA","wiki-edit/keymaster","wiki-edit/analytics","wiki-edit/WikiEditorUtil","jira/util/events","wrm/data"],function(m,e,k,b,j,f,n,g,i){var c=i.claim("com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data");var l="Ctrl";if(navigator.platform.indexOf("Mac")!=-1){l=""}var d=function(o){return o.match(/\.(bmp|gif|jpg|jpeg|png|tiff|webp)$/i)?"image":"file"};var h=function(p,q,o){if(o=="image"){if(q.match(/\.gif$/i)){p["image-attachment-full"](q)}else{p["image-attachment"](q)}f.trigger("operation.attachment.image")}else{p["link-attachment"](q);f.trigger("operation.attachment.link")}};function a(p){var o=AJS.$(p).closest(".aui-dropdown2");if(o.length){o[0].hide()}}return{create:function(s){if(typeof s.selectionStart=="undefined"){return}var x=e(s);if(x.data("wikiEditor")){return}var o=new m(s);this.wikiEditor=o;var r=e(b.Templates.Plugins.WikiEditor.renderEditor({editorId:o.id,controlKey:l,helpData:c}));var G=r.filter(".wiki-edit-toolbar");if("webkitSpeechRecognition" in window){r.find(".wiki-edit-speech-item").removeClass("hidden")}x.parent().before(r);var w=x.closest(".jira-dialog").length>0||x.closest("form#issue-create").length>0;var v=x.closest("#create-issue-dialog").length>0;var E=e("#issue-content").length>0;var p=x.closest("#addcomment").length>0;var J=r.find(".wiki-edit-operation[title], .aui-dropdown2-trigger, .wiki-edit-tooltip");var I;if(w){I="Dialog.beforeHide"}else{I=b.Events.BEFORE_INLINE_EDIT_CANCEL}J.each(function(){var O=e(this);var N={aria:true,hideOnClick:true,hoverable:false};if(O.parent().is("li")){N.gravity="w"}O.tooltip(N)});var L=function(){J.each(function(){e(this).tooltip("hide")})};b.bind(I,L);var y=false;var M=r.filter(".aui-dropdown2");M.on({"aui-dropdown2-show":function(){y=true;x.focus()},"aui-dropdown2-hide":function(){y=false;L()}});x.on("keydown",function H(O){if(y&&O.keyCode===AJS.keyCode.ESCAPE){if(w){b.one("Dialog.beforeHide",function(P){P.preventDefault()})}else{if(E&&!p){b.one(b.Events.BEFORE_INLINE_EDIT_CANCEL,function N(P){P.preventDefault()})}}}});var t=r.filter(".wiki-edit-dropdown-image, .wiki-edit-dropdown-attachment");var u=t.find(".wiki-edit-insert-image, .wiki-edit-insert-attachment");var q=t.find(".wiki-edit-insert-image ul, .wiki-edit-insert-attachment ul");q.on("click","a",function(O){O.preventDefault();a(O.target);var N=e(this).attr("data-attachment-type");if(typeof N==="undefined"){N="file"}var P=e(this).find(".wiki-edit-attachment-name").text();h(o,P,N)});t.on("aui-dropdown2-show",function(){var N=[];var Q=[];if(w){e(".upload-progress-bar:not(.upload-progress-bar__upload-error) span.upload-progress-bar__file-name").each(function(S,R){N.push(R)})}if(!v&&E){e("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content").each(function(S,R){N.push(R)})}var O=function(T,R){if(!T){return null}var S=n.getFileExtension(T);return{name:T,type:R,icon:n.translateFileExtensionToAttachmentTypeIcon(S)}};var P=e("#ghx-tab-attachments .ghx-container");P.find("#file_attachments li.attachment-content > dl dt.attachment-title a, #file_attachments div.verbose dt.attachment-title a").each(function(S,T){var R=O(T.textContent,"file");if(R){Q.push(R)}});P.find("#attachment_thumbnails a.attachment-title").each(function(S,T){var R=O(T.textContent,"image");if(R){Q.push(R)}});q.empty();u.addClass("hidden");if((w||E)&&N.length){u.removeClass("hidden");e(N).each(function(){var Y=e(this).is("span.upload-progress-bar__file-name")?e(this).text():e(this).find("a.attachment-title, .attachment-title a").first().text();var R=e(this).attr("data-attachment-type");if(R===undefined){R=d(Y)}var T=n.defaultAttachmentTypeIcon;var U=e(this).attr("data-downloadurl");if(U===undefined){U=e(this).find("[data-downloadurl]").attr("data-downloadurl")}if(U!==undefined&&typeof U==="string"){var S=U.split(":");if(S.length>0){var X=S[0];T=n.translateMimeTypeToAttachmentTypeIcon(X)}}else{if(Y!==undefined&&typeof Y==="string"){var V=Y.match(/\.(\w{1,5})$/i);if(V&&V.length>1){var W=V[1];T=n.translateFileExtensionToAttachmentTypeIcon(W)}}}q.append(e(b.Templates.Plugins.WikiEditor.renderListItem({text:Y,attachmentType:R,attachmentTypeIcon:T})))})}else{if(!v&&Q.length>0){u.removeClass("hidden");Q.forEach(function(T){if(T==null||T.name==null){return}var U=T.name;var S=T.type?T.type:"file";var R=T.icon?T.icon:{cssClass:"aui-iconfont-devtools-file",title:""};q.append(e(b.Templates.Plugins.WikiEditor.renderListItem({text:U,attachmentType:S,attachmentTypeIcon:R})))})}}});if(n.compareVersion(AJS.version,"5.8.0")<0){t.on("aui-dropdown2-item-selected",function K(){var N=e(this).find(".aui-dropdown2-active");if(typeof N!=="object"){return}var R=N.closest("div");if(typeof R!=="object"){return}var P=R.offset().top;var S=P+R.height();var O=N.offset().top;var Q=O+N.height();if(O<P){R.scrollTop(R.scrollTop()-(P-O))}if(Q>S){R.scrollTop(R.scrollTop()+(Q-S))}})}r.filter(".wiki-edit-dropdown, .wiki-edit-picker").on("mousedown",function(N){N.preventDefault()});r.find(".wiki-edit-operation:not(.wiki-edit-operation-color)").each(function(){var O=e(this);var N=function(P){if(!P){return}P.preventDefault&&P.preventDefault();a(P.target);x.focus();o[O.data("operation")]();f.trigger("operation",{name:O.data("operation"),nameHash:f.hashCode(O.data("operation")),trigger:P.type});f.trigger("operation."+O.data("operation"),{trigger:P.type})};O.click(N);if(O.data("shortcut")){j(O.data("shortcut"),o.id,N)}});r.find(".wiki-edit-operation-color").each(function(){var O=e(this);var N=function(P){if(!P){return}P.preventDefault&&P.preventDefault();a(P.target);x.focus();o[O.data("operation")](O.data("color"));f.trigger("operation",{name:O.data("operation"),nameHash:f.hashCode(O.data("operation")),trigger:P.type});f.trigger("operation."+O.data("operation"),{trigger:P.type})};O.click(N);if(O.data("shortcut")){j(O.data("shortcut"),o.id,N)}});var F=(window.localStorage.getItem("jira.wikieditor.last.color"))?window.localStorage.getItem("jira.wikieditor.last.color"):"red";var B=r.find(".wiki-edit-operation-color");B.data("color",F);var A=G.find(".wiki-edit-color-indicator");A.css("background-color",F);r.filter(".wiki-edit-color-picker").on("click","a",function(O){O.preventDefault();a(O.target);x.focus();var N=e(this).data("color");o.color(N);f.trigger("operation",{name:"color"});f.trigger("operation.color.picked",{color:N});B.data("color",N);A.css("background-color",N);window.localStorage.setItem("jira.wikieditor.last.color",N)});var D=r.find(".wiki-edit-visible-toggle");var C=(localStorage.getItem("jira.wikieditor.visibility"+s.name+"."+s.id)==="true")?true:false;if(C){D.addClass("active");G.addClass("wiki-edit-toolbar-compact")}function z(N){N.preventDefault();N.stopPropagation();C=!C;D.toggleClass("active",C);G.toggleClass("wiki-edit-toolbar-compact",C);localStorage.setItem("jira.wikieditor.visibility"+s.name+"."+s.id,(C)?"true":"false");f.trigger((C)?"hide":"show")}D.on("click",z);G.parent().on("click",".wiki-edit-toolbar-compact",z);e(document).on("showWikiPreview",function(O,N){if(e(N).find(s).length){G.addClass("hidden")}});e(document).on("showWikiInput",function(O,N){if(e(N).find(s).length){G.removeClass("hidden")}})},initBrowseLink:function(s){var v=this.wikiEditor;var C=e(s);var z=C.parent().siblings().find(".wiki-attachment-browse");var x=e("#dnd-metadata-webpanel").data("can-attach");var r=C.closest(".jira-dialog").length>0||C.closest("form#issue-create").length>0;if(r){var w=["#create-issue-dialog:visible","#create-subtask-dialog:visible","#edit-issue-dialog:visible","#create-linked-issue-dialog:visible"];var A=e(w.join(","));var q=A.length>0;x=e(".jira-dialog fieldset span:contains('Attachment')").length>0;if(!q){A=C.closest(".dialog-can-receive-files:visible");q=A.length>0;x=A.data("can-attach")}var t=A.data("insert-markup-on-browse")}var u=C.parent().siblings().find(".wiki-edit-attachment-picker-trigger");if(x&&(r?q:true)){z.closest("div").removeClass("hidden");u.removeClass("hidden");if(!z.data("initialised")){z.on("click",function(E){E.preventDefault();a(E.target);var D=e('<input type="file" multiple />');D.change(function(I){var H=D[0].files;if(r){var G=e.Event("drop");G.dataTransfer={files:H};A.find(".issue-drop-zone__target").trigger(G)}else{g.trigger("attachmentForPageReceived",{files:H,isWikiTextfieldFocused:false,wikiTextfield:s})}g.trigger("wikiAttachmentForPageReceived",{files:H,wikiTextfield:s});if(r?t:true){for(var F=0;F<H.length;F++){var J=H[F].name;h(v,J,d(J))}}});D.click();f.trigger("attachment.dropdown.button.clicked.browse")});z.data("initialised",true)}}else{z.closest("div").addClass("hidden");var p=e("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content");var y=p.length>0;var B=r&&q&&(A.attr("id")==="create-issue-dialog"||A.attr("id")==="create-subtask-dialog");var o=y&&!B;if(!o){u.addClass("hidden")}}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEditorUtil.js' */
define("wiki-edit/WikiEditorUtil",["jquery","underscore"],function(e,c){var d={cssClass:"aui-iconfont-devtools-file",title:"File"};var b={pdf:"aui-iconfont-file-pdf",gif:"aui-iconfont-image",png:"aui-iconfont-image",jpeg:"aui-iconfont-image",jpg:"aui-iconfont-image",xml:"aui-iconfont-file-code",html:"aui-iconfont-file-code",htm:"aui-iconfont-file-code",txt:"aui-iconfont-file-txt",zip:"aui-iconfont-file-zip",gz:"aui-iconfont-file-zip",tar:"aui-iconfont-file-zip",rar:"aui-iconfont-file-zip","7z":"aui-iconfont-file-zip",doc:"aui-iconfont-file-doc",docx:"aui-iconfont-file-doc",xls:"aui-iconfont-file-xls",xlsx:"aui-iconfont-file-xls",xlsm:"aui-iconfont-file-xls",ppt:"aui-iconfont-file-ppt",pptx:"aui-iconfont-file-ppt",java:"aui-iconfont-file-code",c:"aui-iconfont-file-code",h:"aui-iconfont-file-code",cpp:"aui-iconfont-file-code",hpp:"aui-iconfont-file-code",scala:"aui-iconfont-file-code",php:"aui-iconfont-file-code",css:"aui-iconfont-file-code",less:"aui-iconfont-file-code",soy:"aui-iconfont-file-code",js:"aui-iconfont-file-code",jar:"aui-iconfont-file-zip",war:"aui-iconfont-file-zip",obr:"aui-iconfont-file-zip"};var a={pdf:"PDF File",gif:"GIF File",png:"PNG File",jpeg:"JPEG File",jpg:"JPEG File",xml:"XML File",html:"HTML File",htm:"HTML File",txt:"Text File",zip:"Zip Archive",gz:"GZip Archive",doc:"Microsoft Word",docx:"Microsoft Word",xls:"Microsoft Excel",xlsx:"Microsoft Excel",xlsm:"Microsoft Excel",ppt:"Microsoft PowerPoint",pptx:"Microsoft PowerPoint",java:"Java Source File",jar:"Java Archive File",war:"Java Archive File"};return{defaultAttachmentTypeIcon:d,translateMimeTypeToAttachmentTypeIcon:function(f){return{cssClass:JIRA.Templates.ViewIssue.matchFileClass({mimetype:f}),title:JIRA.Templates.ViewIssue.matchFileIconAlt({mimetype:f})}},translateFileExtensionToAttachmentTypeIcon:function(i){var f=c.clone(d);if(typeof i!=="string"){return f}i=i.toLowerCase();i=i.replace(/^\.+/,"");var g=b[i];if(typeof g==="string"){f.cssClass=g}var h=a[i];if(typeof h==="string"){f.title=h}return f},compareVersion:function(j,i){var h=j.split(".");var g=i.split(".");var f=NaN;e(h).each(function(m,n){if(m>=g.length){return false}var l=Number(n);var k=Number(g[m]);if(isNaN(l)||isNaN(k)){f=NaN;return false}if(l<k){f=-1;return false}else{if(l>k){f=1;return false}}f=0});if(f==0&&h.length!=g.length){return(h.length>g.length)?1:-1}return f},getFileExtension:function(g){if(typeof g!=="string"){return""}var f=g.match(/\.(\w{1,5})$/i);if(f&&f.length>1){return f[1]}return""}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/SpeechRecognition.js' */
define("wiki-edit/SpeechRecognition",["jquery","aui/flag"],function(d,c){function a(e){return e&&e[0]&&e[0].isFinal}function b(e){return e&&e[0]&&e[0][0]&&e[0][0].transcript||""}return{start:function(g){var e=this;var f=new webkitSpeechRecognition();f.continuous=false;f.interimResults=true;f.lang=AJS.Meta.get("user-locale").replace("_","-");f.stop();f.start();f.onstart=function(){e.showTimedMessage({title:"You can start speaking now :)"},"info",10);e.selectionStart=g.manipulationEngine.getSelection().start};f.onresult=function(i){e.dismissCurrentMessage();var k=a(i.results);var h=b(i.results);h=h.charAt(0).toUpperCase()+h.slice(1);if(k){g.undoRedoEl.recordHistoryItem()}g.manipulationEngine.replaceSelectionWith.call(g.manipulationEngine,h,false);var j=e.selectionStart+h.length;if(k){g.manipulationEngine.setSelection(j);g.undoRedoEl.recordHistoryItem();g.$el.trigger("input");f.stop()}else{g.manipulationEngine.setSelection(e.selectionStart,j)}};f.onerror=function(i){f.stop();var h={title:"Sorry, I can\'t hear you :(",body:""};switch(i.error){case"not-allowed":h.title="Speech recognition is currently disabled";h.body="Click the camera icon in the browser\'s address bar to enable it.";break;case"network":h.title="No internet connection";h.body="You need a working internet connection to use speech recognition.";break;case"no-speech":h.title="Sorry, I couldn\'t hear anything :(";h.body="Is your microphone working and unmuted?";break;case"aborted":return}e.showTimedMessage(h,"warning",5)};f.onend=function(){f.stop()}},showTimedMessage:function(e,g,f){this.dismissCurrentMessage();this.speakFlag=c({type:g,title:e.title,body:e.body,persistent:true});clearTimeout(this.flagTimer);this.flagTimer=setTimeout(this.dismissCurrentMessage.bind(this),f*1000)},dismissCurrentMessage:function(){if(this.speakFlag&&this.speakFlag.close){this.speakFlag.close();this.speakFlag=null}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:skate', location = '/js/lib/skate.js' */
define("wiki-edit/skate",["jira/skate"],function(a){return a});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources-init', location = '/js/wiki-editor-init.js' */
require(["wiki-edit/WikiEditor","wiki-edit/JIRA","wiki-edit/skate","jquery","underscore"],function(f,d,c,g,e){function b(i){var j=(this instanceof Element)?this:i;var h=function(k){f.create(k);f.initBrowseLink(k);k.wikiEnabled=true};if(j.wikiEnabled===false){if(g(j).is(":hidden")){e.defer(h,j)}else{h(j)}}}function a(){return{type:c.type.CLASSNAME,attached:b,prototype:{wikiEnabled:false}}}c("wiki-textfield",a());c("wiki-enabled-textfield",a());g(function(){if(g("#gh").length>0){d.Dialogs.comment.options.width=810;d.Dialogs.assignIssue.options.width=810;d.Dialogs.attachFile.options.width=810;d.Dialogs.logWork.options.width=810;d.Dialogs.logWork.options.width=810}})});;
;
/* module-key = 'com.atlassian.labs.jira.markdown:jira-markdown-plugin', location = 'pagedown/js/Markdown.Converter.js' */
var Markdown;

if (typeof exports === "object" && typeof require === "function") // we're in a CommonJS (e.g. Node.js) module
    Markdown = exports;
else
    Markdown = {};
    
// The following text is included for historical reasons, but should
// be taken with a pinch of salt; it's not all true anymore.

//
// Wherever possible, Showdown is a straight, line-by-line port
// of the Perl version of Markdown.
//
// This is not a normal parser design; it's basically just a
// series of string substitutions.  It's hard to read and
// maintain this way,  but keeping Showdown close to the original
// design makes it easier to port new features.
//
// More importantly, Showdown behaves like markdown.pl in most
// edge cases.  So web applications can do client-side preview
// in Javascript, and then build identical HTML on the server.
//
// This port needs the new RegExp functionality of ECMA 262,
// 3rd Edition (i.e. Javascript 1.5).  Most modern web browsers
// should do fine.  Even with the new regular expression features,
// We do a lot of work to emulate Perl's regex functionality.
// The tricky changes in this file mostly have the "attacklab:"
// label.  Major or self-explanatory changes don't.
//
// Smart diff tools like Araxis Merge will be able to match up
// this file with markdown.pl in a useful way.  A little tweaking
// helps: in a copy of markdown.pl, replace "#" with "//" and
// replace "$text" with "text".  Be sure to ignore whitespace
// and line endings.
//

//
// BB : I have since added extras to allow callback into java land and also some PHP extras
// support that I have ported.
//

//
// Usage:
//
//   var text = "Markdown *rocks*.";
//
//   var converter = new Markdown.Converter();
//   var html = converter.makeHtml(text);
//
//   alert(html);
//
// Note: move the sample code to the bottom of this
// file before uncommenting it.
//

(function () {

    function identity(x) { return x; }
    function returnFalse(x) { return false; }

    function HookCollection() { }

    HookCollection.prototype = {

        chain: function (hookname, func) {
            var original = this[hookname];
            if (!original)
                throw new Error("unknown hook " + hookname);

            if (original === identity)
                this[hookname] = func;
            else
                this[hookname] = function (x) { return func(original(x)); }
        },
        set: function (hookname, func) {
            if (!this[hookname])
                throw new Error("unknown hook " + hookname);
            this[hookname] = func;
        },
        addNoop: function (hookname) {
            this[hookname] = identity;
        },
        addFalse: function (hookname) {
            this[hookname] = returnFalse;
        }
    };

    Markdown.HookCollection = HookCollection;

    // g_urls and g_titles allow arbitrary user-entered strings as keys. This
    // caused an exception (and hence stopped the rendering) when the user entered
    // e.g. [push] or [__proto__]. Adding a prefix to the actual key prevents this
    // (since no builtin property starts with "s_"). See
    // http://meta.stackoverflow.com/questions/64655/strange-wmd-bug
    // (granted, switching from Array() to Object() alone would have left only __proto__
    // to be a problem)
    function SaveHash() { }
    SaveHash.prototype = {
        set: function (key, value) {
            this["s_" + key] = value;
        },
        get: function (key) {
            return this["s_" + key];
        }
    };

    Markdown.Converter = function () {
        var pluginHooks = this.hooks = new HookCollection();
        pluginHooks.addNoop("plainLinkText");  // given a URL that was encountered by itself (without markup), should return the link text that's to be given to this link
        pluginHooks.addNoop("preConversion");  // called with the orignal text as given to makeHtml. The result of this plugin hook is the actual markdown source that will be cooked
        pluginHooks.addNoop("postConversion"); // called with the final cooked HTML code. The result of this plugin hook is the actual output of makeHtml

        //
        // BB changes - added new hooks for html generation overrrides
        //
        pluginHooks.addFalse("generateImageHTML"); // called to generate images
        pluginHooks.addFalse("generateLinkHTML"); // called to generate links
        pluginHooks.addFalse("generatePlainLinkHTML"); // called to generate plain links
        pluginHooks.addFalse("generateCodeBlockHTML"); // called to generate pre code blocks
        pluginHooks.addFalse("generateCodeSpanHTML"); // called to generate code blocks
        //
        // Private state of the converter instance:
        //

        // Global hashes, used by various utility routines
        var g_urls;
        var g_titles;
        var g_html_blocks;

        // Used to track when we're inside an ordered or unordered list
        // (see _ProcessListItems() for details):
        var g_list_level;

        var md_tab_width = 4;
        var md_less_than_tab = md_tab_width - 1;

        var String_trim = function(target, charlist) {
            var chars = charlist || " \t\n\r";
            return target.replace(
                new RegExp("^[" + chars + "]*|[" + chars + "]*$", "g"), ""
            );
        };

        var String_rtrim = function (target, charlist) {
            var chars = charlist || " \t\n\r";
            return target.replace(
                new RegExp("[" + chars + "]*$", "g"), ""
            );
        };


        var Array_pad = function (target, size, value) {
            while (target.length < size) {
                target.push(value);
            }
        };

        this.makeHtml = function (text) {

            //
            // Main function. The order in which other subs are called here is
            // essential. Link and image substitutions need to happen before
            // _EscapeSpecialCharsWithinTagAttributes(), so that any *'s or _'s in the <a>
            // and <img> tags get encoded.
            //

            // This will only happen if makeHtml on the same converter instance is called from a plugin hook.
            // Don't do that.
            if (g_urls)
                throw new Error("Recursive call to converter.makeHtml");
        
            // Create the private state objects.
            g_urls = new SaveHash();
            g_titles = new SaveHash();
            g_html_blocks = [];
            g_list_level = 0;

            text = pluginHooks.preConversion(text);

            // attacklab: Replace @ with @T
            // This lets us use At as an escape char to avoid md5 hashes
            // The choice of character is arbitray; anything that isn't
            // magic in Markdown will work.
            text = text.replace(/@/g, "@T");

            // attacklab: Replace $ with @D
            // RegExp interprets $ as a special character
            // when it's in a replacement string
            text = text.replace(/\$/g, "@D");

            // Standardize line endings
            text = text.replace(/\r\n/g, "\n"); // DOS to Unix
            text = text.replace(/\r/g, "\n"); // Mac to Unix

            // Make sure text begins and ends with a couple of newlines:
            text = "\n\n" + text + "\n\n";

            // Convert all tabs to spaces.
            text = _Detab(text);

            // Strip any lines consisting only of spaces and tabs.
            // This makes subsequent regexen easier to write, because we can
            // match consecutive blank lines with /\n+/ instead of something
            // contorted like /[ \t]*\n+/ .
            text = text.replace(/^[ \t]+$/mg, "");

            // Turn block-level HTML blocks into hash entries
            text = _HashHTMLBlocks(text);

            // Strip link definitions, store in hashes.
            text = _StripLinkDefinitions(text);

            text = _RunBlockGamut(text);

            text = _UnescapeSpecialChars(text);

            // attacklab: Restore dollar signs
            text = text.replace(/@D/g, "$$");

            // attacklab: Restore tildes
            text = text.replace(/@T/g, "@");

            text = pluginHooks.postConversion(text);

            g_html_blocks = g_titles = g_urls = null;

            return text;
        };

        function _StripLinkDefinitions(text) {
            //
            // Strips link definitions from text, stores the URLs and titles in
            // hash references.
            //

            // Link defs are in the form: ^[id]: url "optional title"

            /*
            text = text.replace(/
                ^[ ]{0,3}\[(.+)\]:  // id = $1  attacklab: g_tab_width - 1
                [ \t]*
                \n?                 // maybe *one* newline
                [ \t]*
                <?(\S+?)>?          // url = $2
                (?=\s|$)            // lookahead for whitespace instead of the lookbehind removed below
                [ \t]*
                \n?                 // maybe one newline
                [ \t]*
                (                   // (potential) title = $3
                    (\n*)           // any lines skipped = $4 attacklab: lookbehind removed
                    [ \t]+
                    ["(]
                    (.+?)           // title = $5
                    [")]
                    [ \t]*
                )?                  // title is optional
                (?:\n+|$)
            /gm, function(){...});
            */

            text = text.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,
                function (wholeMatch, m1, m2, m3, m4, m5) {
                    m1 = m1.toLowerCase();
                    g_urls.set(m1, _EncodeAmpsAndAngles(m2));  // Link IDs are case-insensitive
                    if (m4) {
                        // Oops, found blank lines, so it's not a title.
                        // Put back the parenthetical statement we stole.
                        return m3;
                    } else if (m5) {
                        g_titles.set(m1, m5.replace(/"/g, "&quot;"));
                    }

                    // Completely remove the definition from the text
                    return "";
                }
            );

            return text;
        }

        function _HashHTMLBlocks(text) {

            // Hashify HTML blocks:
            // We only want to do this for block-level HTML tags, such as headers,
            // lists, and tables. That's because we still want to wrap <p>s around
            // "paragraphs" that are wrapped in non-block-level tags, such as anchors,
            // phrase emphasis, and spans. The list of tags we're looking for is
            // hard-coded:
            var block_tags_a = "p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del"
            var block_tags_b = "p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math"

            // First, look for nested blocks, e.g.:
            //   <div>
            //     <div>
            //     tags for inner block must be indented.
            //     </div>
            //   </div>
            //
            // The outermost tags must start at the left margin for this to match, and
            // the inner nested divs must be indented.
            // We need to do this before the next, more liberal match, because the next
            // match will start at the first `<div>` and stop at the first `</div>`.

            // attacklab: This regex can be expensive when it fails.

            /*
            text = text.replace(/
                (                       // save in $1
                    ^                   // start of line  (with /m)
                    <($block_tags_a)    // start tag = $2
                    \b                  // word break
                                        // attacklab: hack around khtml/pcre bug...
                    [^\r]*?\n           // any number of lines, minimally matching
                    </\2>               // the matching end tag
                    [ \t]*              // trailing spaces/tabs
                    (?=\n+)             // followed by a newline
                )                       // attacklab: there are sentinel newlines at end of document
            /gm,function(){...}};
            */
            text = text.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm, hashElement);

            //
            // Now match more liberally, simply from `\n<tag>` to `</tag>\n`
            //

            /*
            text = text.replace(/
                (                       // save in $1
                    ^                   // start of line  (with /m)
                    <($block_tags_b)    // start tag = $2
                    \b                  // word break
                                        // attacklab: hack around khtml/pcre bug...
                    [^\r]*?             // any number of lines, minimally matching
                    .*</\2>             // the matching end tag
                    [ \t]*              // trailing spaces/tabs
                    (?=\n+)             // followed by a newline
                )                       // attacklab: there are sentinel newlines at end of document
            /gm,function(){...}};
            */
            text = text.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm, hashElement);

            // Special case just for <hr />. It was easier to make a special case than
            // to make the other regex more complicated.  

            /*
            text = text.replace(/
                \n                  // Starting after a blank line
                [ ]{0,3}
                (                   // save in $1
                    (<(hr)          // start tag = $2
                        \b          // word break
                        ([^<>])*?
                    \/?>)           // the matching end tag
                    [ \t]*
                    (?=\n{2,})      // followed by a blank line
                )
            /g,hashElement);
            */
            text = text.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g, hashElement);

            // Special case for standalone HTML comments:

            /*
            text = text.replace(/
                \n\n                                            // Starting after a blank line
                [ ]{0,3}                                        // attacklab: g_tab_width - 1
                (                                               // save in $1
                    <!
                    (--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)   // see http://www.w3.org/TR/html-markup/syntax.html#comments and http://meta.stackoverflow.com/q/95256
                    >
                    [ \t]*
                    (?=\n{2,})                                  // followed by a blank line
                )
            /g,hashElement);
            */
            text = text.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g, hashElement);

            // PHP and ASP-style processor instructions (<?...?> and <%...%>)

            /*
            text = text.replace(/
                (?:
                    \n\n            // Starting after a blank line
                )
                (                   // save in $1
                    [ ]{0,3}        // attacklab: g_tab_width - 1
                    (?:
                        <([?%])     // $2
                        [^\r]*?
                        \2>
                    )
                    [ \t]*
                    (?=\n{2,})      // followed by a blank line
                )
            /g,hashElement);
            */
            text = text.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g, hashElement);

            return text;
        }

        function hashElement(wholeMatch, m1) {
            var blockText = m1;

            // Undo double lines
            blockText = blockText.replace(/^\n+/, "");

            // strip trailing blank lines
            blockText = blockText.replace(/\n+$/g, "");

            // Replace the element text with a marker ("@KxK" where x is its key)
            blockText = "\n\n@K" + (g_html_blocks.push(blockText) - 1) + "K\n\n";

            return blockText;
        }

        function _RunBlockGamut(text, doNotUnhash) {
            //
            // These are all the transformations that form block-level
            // tags like paragraphs, headers, and list items.
            //
            text = _DoHeaders(text);
            text = _DoTables(text);

            // Do Horizontal Rules:
            var replacement = "<hr />\n";
            text = text.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm, replacement);
            text = text.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm, replacement);
            text = text.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm, replacement);

            text = _DoLists(text);
            text = _DoDefLists(text);
            text = _DoFencedCodeBlocks(text);
            text = _DoCodeBlocks(text);
            text = _DoBlockQuotes(text);

            // We already ran _HashHTMLBlocks() before, in Markdown(), but that
            // was to escape raw HTML in the original Markdown source. This time,
            // we're escaping the markup we've just created, so that we don't wrap
            // <p> tags around block-level tags.
            text = _HashHTMLBlocks(text);
            text = _FormParagraphs(text, doNotUnhash);

            return text;
        }

        function _RunSpanGamut(text) {
            //
            // These are all the transformations that occur *within* block-level
            // tags like paragraphs, headers, and list items.
            //

            text = _DoCodeSpans(text);
            text = _EscapeSpecialCharsWithinTagAttributes(text);
            text = _EncodeBackslashEscapes(text);

            // Process anchor and image tags. Images must come first,
            // because ![foo][f] looks like an anchor.
            text = _DoImages(text);
            text = _DoAnchors(text);

            // Make links out of things like `<http://example.com/>`
            // Must come after _DoAnchors(), because you can use < and >
            // delimiters in inline links like [this](<url>).
            text = _DoAutoLinks(text);
            
            text = text.replace(/@P/g, "://"); // put in place to prevent autolinking; reset now
            
            text = _EncodeAmpsAndAngles(text);
            text = _DoItalicsAndBold(text);

            // Do hard breaks:
            text = text.replace(/  +\n/g, " <br>\n");

            return text;
        }

        function _EscapeSpecialCharsWithinTagAttributes(text) {
            //
            // Within tags -- meaning between < and > -- encode [\ ` * _] so they
            // don't conflict with their use in Markdown for code, italics and strong.
            //

            // Build a regex to find HTML tags and comments.  See Friedl's 
            // "Mastering Regular Expressions", 2nd Ed., pp. 200-201.

            // SE: changed the comment part of the regex

            var regex = /(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;

            text = text.replace(regex, function (wholeMatch) {
                var tag = wholeMatch.replace(/(.)<\/?code>(?=.)/g, "$1`");
                tag = escapeCharacters(tag, wholeMatch.charAt(1) == "!" ? "\\`*_/" : "\\`*_"); // also escape slashes in comments to prevent autolinking there -- http://meta.stackoverflow.com/questions/95987
                return tag;
            });

            return text;
        }

        function _DoAnchors(text) {
            //
            // Turn Markdown link shortcuts into XHTML <a> tags.
            //
            //
            // First, handle reference-style links: [link text] [id]
            //

            /*
            text = text.replace(/
                (                           // wrap whole match in $1
                    \[
                    (
                        (?:
                            \[[^\]]*\]      // allow brackets nested one level
                            |
                            [^\[]           // or anything else
                        )*
                    )
                    \]

                    [ ]?                    // one optional space
                    (?:\n[ ]*)?             // one optional newline followed by spaces

                    \[
                    (.*?)                   // id = $3
                    \]
                )
                ()()()()                    // pad remaining backreferences
            /g, writeAnchorTag);
            */
            text = text.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, writeAnchorTag);

            //
            // Next, inline-style links: [link text](url "optional title")
            //

            /*
            text = text.replace(/
                (                           // wrap whole match in $1
                    \[
                    (
                        (?:
                            \[[^\]]*\]      // allow brackets nested one level
                            |
                            [^\[\]]         // or anything else
                        )*
                    )
                    \]
                    \(                      // literal paren
                    [ \t]*
                    ()                      // no id, so leave $3 empty
                    <?(                     // href = $4
                        (?:
                            \([^)]*\)       // allow one level of (correctly nested) parens (think MSDN)
                            |
                            [^()]
                        )*?
                    )>?                
                    [ \t]*
                    (                       // $5
                        (['"])              // quote char = $6
                        (.*?)               // Title = $7
                        \6                  // matching quote
                        [ \t]*              // ignore any spaces/tabs between closing quote and )
                    )?                      // title is optional
                    \)
                )
            /g, writeAnchorTag);
            */

            text = text.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, writeAnchorTag);

            //
            // Last, handle reference-style shortcuts: [link text]
            // These must come last in case you've also got [link test][1]
            // or [link test](/foo)
            //

            /*
            text = text.replace(/
                (                   // wrap whole match in $1
                    \[
                    ([^\[\]]+)      // link text = $2; can't contain '[' or ']'
                    \]
                )
                ()()()()()          // pad rest of backreferences
            /g, writeAnchorTag);
            */
            text = text.replace(/(\[([^\[\]]+)\])()()()()()/g, writeAnchorTag);

            return text;
        }

        function writeAnchorTag(wholeMatch, m1, m2, m3, m4, m5, m6, m7) {
            if (m7 == undefined) m7 = "";
            var whole_match = m1;
            var link_text = m2.replace(/:\/\//g, "@P"); // to prevent auto-linking withing the link. will be converted back after the auto-linker runs
            var link_id = m3.toLowerCase();
            var url = m4;
            var title = m7;

            if (url == "") {
                if (link_id == "") {
                    // lower-case and turn embedded newlines into spaces
                    link_id = link_text.toLowerCase().replace(/ ?\n/g, " ");
                }
                url = "#" + link_id;

                if (g_urls.get(link_id) != undefined) {
                    url = g_urls.get(link_id);
                    if (g_titles.get(link_id) != undefined) {
                        title = g_titles.get(link_id);
                    }
                }
                else {
                    if (whole_match.search(/\(\s*\)$/m) > -1) {
                        // Special case for explicit empty url
                        url = "";
                    } else {
                        return whole_match;
                    }
                }
            }
            url = encodeProblemUrlChars(url);
            url = escapeCharacters(url, "*_");

            if (title != "") {
                title = attributeEncode(title);
                title = escapeCharacters(title, "*_");
            }

            //
            // BB inserted HTML generation hook
            //
            var result = pluginHooks.generateLinkHTML(
                {
                    url : url,
                    link_text : link_text,
                    link_id : link_id,
                    title : title
                });

            if (! result) {

                result = "<a href=\"" + url + "\"";

                if (title != "") {
                    result += " title=\"" + title + "\"";
                }

                result += ">" + link_text + "</a>";
            }

            return result;
        }

        function _DoImages(text) {
            //
            // Turn Markdown image shortcuts into <img> tags.
            //

            //
            // First, handle reference-style labeled images: ![alt text][id]
            //

            /*
            text = text.replace(/
                (                   // wrap whole match in $1
                    !\[
                    (.*?)           // alt text = $2
                    \]

                    [ ]?            // one optional space
                    (?:\n[ ]*)?     // one optional newline followed by spaces

                    \[
                    (.*?)           // id = $3
                    \]
                )
                ()()()()            // pad rest of backreferences
            /g, writeImageTag);
            */
            text = text.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, writeImageTag);

            //
            // Next, handle inline images:  ![alt text](url "optional title")
            // Don't forget: encode * and _

            /*
            text = text.replace(/
                (                   // wrap whole match in $1
                    !\[
                    (.*?)           // alt text = $2
                    \]
                    \s?             // One optional whitespace character
                    \(              // literal paren
                    [ \t]*
                    ()              // no id, so leave $3 empty
                    <?(\S+?)>?      // src url = $4
                    [ \t]*
                    (               // $5
                        (['"])      // quote char = $6
                        (.*?)       // title = $7
                        \6          // matching quote
                        [ \t]*
                    )?              // title is optional
                    \)
                )
            /g, writeImageTag);
            */
            text = text.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, writeImageTag);

            return text;
        }
        
        function attributeEncode(text) {
            // unconditionally replace angle brackets here -- what ends up in an attribute (e.g. alt or title)
            // never makes sense to have verbatim HTML in it (and the sanitizer would totally break it)
            return text.replace(/>/g, "&gt;").replace(/</g, "&lt;").replace(/"/g, "&quot;");
        }

        function writeImageTag(wholeMatch, m1, m2, m3, m4, m5, m6, m7) {
            var whole_match = m1;
            var alt_text = m2;
            var link_id = m3.toLowerCase();
            var url = m4;
            var title = m7;

            if (!title) title = "";

            if (url == "") {
                if (link_id == "") {
                    // lower-case and turn embedded newlines into spaces
                    link_id = alt_text.toLowerCase().replace(/ ?\n/g, " ");
                }
                url = "#" + link_id;

                if (g_urls.get(link_id) != undefined) {
                    url = g_urls.get(link_id);
                    if (g_titles.get(link_id) != undefined) {
                        title = g_titles.get(link_id);
                    }
                }
                else {
                    return whole_match;
                }
            }
            
            alt_text = escapeCharacters(attributeEncode(alt_text), "*_[]()");
            url = escapeCharacters(url, "*_");

            title = attributeEncode(title);
            title = escapeCharacters(title, "*_");

            //
            // BB added html generation hook
            //
            var result = pluginHooks.generateImageHTML(
                {
                    url : url,
                    alt_text : alt_text,
                    title : title
                });

            // if the generate html hook didnt do anything then default it
            if (! result) {
                result = "<img src=\"" + url + "\" alt=\"" + alt_text + "\"";

                // attacklab: Markdown.pl adds empty title attributes to images.
                // Replicate this bug.

                //if (title != "") {
                result += " title=\"" + title + "\"";
                //}

                result += " />";
            }
            return result;
        }

        function _DoHeaders(text) {

            // Setext-style headers:
            //  Header 1
            //  ========
            //  
            //  Header 2
            //  --------
            //
            text = text.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,
                function (wholeMatch, m1) { return "<h1>" + _RunSpanGamut(m1) + "</h1>\n\n"; }
            );

            text = text.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,
                function (matchFound, m1) { return "<h2>" + _RunSpanGamut(m1) + "</h2>\n\n"; }
            );

            // atx-style headers:
            //  # Header 1
            //  ## Header 2
            //  ## Header 2 with closing hashes ##
            //  ...
            //  ###### Header 6
            //

            /*
            text = text.replace(/
                ^(\#{1,6})      // $1 = string of #'s
                [ \t]*
                (.+?)           // $2 = Header text
                [ \t]*
                \#*             // optional closing #'s (not counted)
                \n+
            /gm, function() {...});
            */

            text = text.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,
                function (wholeMatch, m1, m2) {
                    var h_level = m1.length;
                    return "<h" + h_level + ">" + _RunSpanGamut(m2) + "</h" + h_level + ">\n\n";
                }
            );

            return text;
        }

        function _DoLists(text) {
            //
            // Form HTML ordered (numbered) and unordered (bulleted) lists.
            //

            // attacklab: add sentinel to hack around khtml/safari bug:
            // http://bugs.webkit.org/show_bug.cgi?id=11231
            text += "@0";

            // Re-usable pattern to match any entirel ul or ol list:

            /*
            var whole_list = /
                (                                   // $1 = whole list
                    (                               // $2
                        [ ]{0,3}                    // attacklab: g_tab_width - 1
                        ([*+-]|\d+[.])              // $3 = first list item marker
                        [ \t]+
                    )
                    [^\r]+?
                    (                               // $4
                        @0                          // sentinel for workaround; should be $
                        |
                        \n{2,}
                        (?=\S)
                        (?!                         // Negative lookahead for another list item marker
                            [ \t]*
                            (?:[*+-]|\d+[.])[ \t]+
                        )
                    )
                )
            /g
            */
            var whole_list = /^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(@0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;

            if (g_list_level) {
                text = text.replace(whole_list, function (wholeMatch, m1, m2) {
                    var list = m1;
                    var list_type = (m2.search(/[*+-]/g) > -1) ? "ul" : "ol";

                    var result = _ProcessListItems(list, list_type);

                    // Trim any trailing whitespace, to put the closing `</$list_type>`
                    // up on the preceding line, to get it past the current stupid
                    // HTML block parser. This is a hack to work around the terrible
                    // hack that is the HTML block parser.
                    result = result.replace(/\s+$/, "");
                    result = "<" + list_type + ">" + result + "</" + list_type + ">\n";
                    return result;
                });
            } else {
                whole_list = /(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(@0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;
                text = text.replace(whole_list, function (wholeMatch, m1, m2, m3) {
                    var runup = m1;
                    var list = m2;

                    var list_type = (m3.search(/[*+-]/g) > -1) ? "ul" : "ol";
                    var result = _ProcessListItems(list, list_type);
                    result = runup + "<" + list_type + ">\n" + result + "</" + list_type + ">\n";
                    return result;
                });
            }

            // attacklab: strip sentinel
            text = text.replace(/@0/, "");

            return text;
        }

        var _listItemMarkers = { ol: "\\d+[.]", ul: "[*+-]" };

        function _ProcessListItems(list_str, list_type) {
            //
            //  Process the contents of a single ordered or unordered list, splitting it
            //  into individual list items.
            //
            //  list_type is either "ul" or "ol".

            // The $g_list_level global keeps track of when we're inside a list.
            // Each time we enter a list, we increment it; when we leave a list,
            // we decrement. If it's zero, we're not in a list anymore.
            //
            // We do this because when we're not inside a list, we want to treat
            // something like this:
            //
            //    I recommend upgrading to version
            //    8. Oops, now this line is treated
            //    as a sub-list.
            //
            // As a single paragraph, despite the fact that the second line starts
            // with a digit-period-space sequence.
            //
            // Whereas when we're inside a list (or sub-list), that line will be
            // treated as the start of a sub-list. What a kludge, huh? This is
            // an aspect of Markdown's syntax that's hard to parse perfectly
            // without resorting to mind-reading. Perhaps the solution is to
            // change the syntax rules such that sub-lists must start with a
            // starting cardinal number; e.g. "1." or "a.".

            g_list_level++;

            // trim trailing blank lines:
            list_str = list_str.replace(/\n{2,}$/, "\n");

            // attacklab: add sentinel to emulate \z
            list_str += "@0";

            // In the original attacklab showdown, list_type was not given to this function, and anything
            // that matched /[*+-]|\d+[.]/ would just create the next <li>, causing this mismatch:
            //
            //  Markdown          rendered by WMD        rendered by MarkdownSharp
            //  ------------------------------------------------------------------
            //  1. first          1. first               1. first
            //  2. second         2. second              2. second
            //  - third           3. third                   * third
            //
            // We changed this to behave identical to MarkdownSharp. This is the constructed RegEx,
            // with {MARKER} being one of \d+[.] or [*+-], depending on list_type:
        
            /*
            list_str = list_str.replace(/
                (^[ \t]*)                       // leading whitespace = $1
                ({MARKER}) [ \t]+               // list marker = $2
                ([^\r]+?                        // list item text   = $3
                    (\n+)
                )
                (?=
                    (@0 | \2 ({MARKER}) [ \t]+)
                )
            /gm, function(){...});
            */

            var marker = _listItemMarkers[list_type];
            var re = new RegExp("(^[ \\t]*)(" + marker + ")[ \\t]+([^\\r]+?(\\n+))(?=(@0|\\1(" + marker + ")[ \\t]+))", "gm");
            var last_item_had_a_double_newline = false;
            list_str = list_str.replace(re,
                function (wholeMatch, m1, m2, m3) {
                    var item = m3;
                    var leading_space = m1;
                    var ends_with_double_newline = /\n\n$/.test(item);
                    var contains_double_newline = ends_with_double_newline || item.search(/\n{2,}/) > -1;

                    if (contains_double_newline || last_item_had_a_double_newline) {
                        item = _RunBlockGamut(_Outdent(item), /* doNotUnhash = */true);
                    }
                    else {
                        // Recursion for sub-lists:
                        item = _DoLists(_Outdent(item));
                        item = item.replace(/\n$/, ""); // chomp(item)
                        item = _RunSpanGamut(item);
                    }
                    last_item_had_a_double_newline = ends_with_double_newline;
                    return "<li>" + item + "</li>\n";
                }
            );

            // attacklab: strip sentinel
            list_str = list_str.replace(/@0/g, "");

            g_list_level--;
            return list_str;
        }

        var md_flag_DoTables = "9882b282ede0f5af55034471410cfc46";
        var md_reg_DoTables1 = new RegExp(
            '^'
                + '[ ]{0,' + md_less_than_tab + '}'
                + '[|]'
                + '(.+)\\n'
                + '[ ]{0,' + md_less_than_tab + '}'
                + '[|]([ ]*[-:]+[-| :]*)\\n'
                + '('
                + '(?:'
                + '[ ]*'
                + '[|].*\\n'
                + ')*'
                + ')'
                + '(?=\\n|' + md_flag_DoTables + ')'//Stop at final double newline.
            , "gm");
        var md_reg_DoTables2 = new RegExp(
            '^'
                + '[ ]{0,' + md_less_than_tab + '}'
                + '(\\S.*[|].*)\\n'
                + '[ ]{0,' + md_less_than_tab + '}'
                + '([-:]+[ ]*[|][-| :]*)\\n'
                + '('
                + '(?:'
                + '.*[|].*\\n'
                + ')*'
                + ')'
                + '(?=\\n|' + md_flag_DoTables + ')'
            , "gm");

        function _DoTables(text) {

            text += md_flag_DoTables;

            text = text.replace(md_reg_DoTables1, function ($0, $1, $2, $3) {
                $3 = $3.replace(/^[ ]*[|]/gm, '');
                return _DoTable_callback($0, $1, $2, $3);
            });

            text = text.replace(md_flag_DoTables, "");

            text += md_flag_DoTables;

            text = text.replace(md_reg_DoTables2, _DoTable_callback);

            text = text.replace(md_flag_DoTables, "");

            return text;
        }

        function _DoTable_callback($0, $1, $2, $3) {
            var head = $1;
            var underline = $2;
            var content = $3;

            head = head.replace(/[|][ ]*$/gm, '');
            underline = underline.replace(/[|][ ]*$/gm, '');
            content = content.replace(/[|][ ]*$/gm, '');

            var separators = underline.split(/[ ]*[|][ ]*/);

            var attr = new Array();

            for (i = 0, len = separators.length; i < len; i++) {
                var separator = separators[i];
                if (separator.match(/^[ ]*-+:[ ]*$/)) attr.push(' align="right"');
                else if (separator.match(/^[ ]*:-+:[ ]*$/)) attr.push(' align="center"');
                else if (separator.match(/^[ ]*:-+[ ]*$/)) attr.push(' align="left"');
                else attr.push('');
            }

            head = _DoCodeSpans(head);

            var headers = head.split(/[ ]*[|][ ]*/);
            var col_count = headers.length;

            var text = "<table>\n";
            text += "<thead>\n";
            text += "<tr>\n";

            for (i = 0, len = headers.length; i < len; i++)
                text += "  <th" + attr[i] + ">" + _RunSpanGamut(String_trim(headers[i])) + "</th>\n";

            text += "</tr>\n";
            text += "</thead>\n";

            var rows = String_trim(content, "\n").split(/\n/);

            text += "<tbody>\n";

            for (i = 0, len = rows.length; i < len; i++) {
                var row = rows[i];

                row = _DoCodeSpans(row);
                var row_cells = row.split(/[ ]*[|][ ]*/, col_count);
                Array_pad(row_cells, col_count, "");

                text += "<tr>\n";
                for (var x = 0, len2 = row_cells.length; x < len2; x++)
                    text += "  <td" + attr[x] + ">" + _RunSpanGamut(String_trim(row_cells[x])) + "</td>\n";

                text += "</tr>\n";
            }
            text += "</tbody>\n</table>";

            return text + "\n";
        }


        var md_reg_DoDefLists = new RegExp(
            '(?:(\\n\\n)|^\\n?)'
                + '('
                + '('
                + '[ ]{0,' + md_less_than_tab + '}'
                + '((\\S.*\\n)+)'
                + '\\n?'
                + '[ ]{0,' + md_less_than_tab + '}:[ ]+'
                + ')'
                + '(?:[\\s\\S]+?)'
                + '('
                + '$'
                + '|'
                + '\\n{2,}'
                + '(?=\\S)'
                + '(?!'
                + '[ ]{0,' + md_less_than_tab + '}'
                + '(?:\\S.*\\n)+?'
                + '\\n?'
                + '[ ]{0,' + md_less_than_tab + '}:[ ]+'
                + ')'
                + '(?!'
                + '[ ]{0,' + md_less_than_tab + '}:[ ]+'
                + ')'
                + ')'
                + ')'
            , "g");

        function _DoDefLists(text) {

            text = text.replace(md_reg_DoDefLists, function ($0, $1, $2, $3, $4, $5) {
                var result = String_trim(_ProcessDefListItems($2));
                result = "<dl>\n" + result + "\n</dl>";
                if (!$1) $1 = "";
                return $1 + result + "\n\n";
            });

            return text;
        }

        var md_reg_ProcessDefListItems1 = new RegExp(
            '(?:\\n\\n+|^\\n?)'
                + '('
                + '[ ]{0,' + md_less_than_tab + '}'
                + '(?![:][ ]|[ ])'
                + '(?:\\S.*\\n)+?'
                + ')'
                + '(?=\\n?[ ]{0,3}:[ ])'
            , "g");
        var md_reg_ProcessDefListItems2 = new RegExp(
            '\\n(\\n+)?'
                + '[ ]{0,' + md_less_than_tab + '}'
                + '[:][ ]+'
                + '([\\s\\S]+?)'
                + '(?=\\n+'
                + '(?:'
                + '[ ]{0,' + md_less_than_tab + '}[:][ ]|<dt>|$'
                + ')'
                + ')'
            , "g");

        function _ProcessDefListItems(list_str) {

            list_str = list_str.replace(/\n{2,}$/, "\n");

            list_str = list_str.replace(md_reg_ProcessDefListItems1, function ($0, $1) {
                var terms = String_trim($1).split(/\n/);
                var text = '';
                for (var i = 0, len = terms.length; i < len; i++) {
                    var term = terms[i];
                    term = _RunSpanGamut(String_trim(term));
                    text += "\n<dt>" + term + "</dt>";
                }
                return text + "\n";
            });

            list_str = list_str.replace(md_reg_ProcessDefListItems2, function ($0, $1, $2) {
                var def = $2;

                if ($1 || def.match(/\n{2,}/)) {
                    def = _RunBlockGamut(_Outdent(def + "\n\n"));
                    def = "\n" + def + "\n";
                }
                else {
                    def = String_rtrim(def);
                    def = _RunSpanGamut(_Outdent(def));
                }

                return "\n<dd>" + def + "</dd>\n";
            });

            return list_str;
        }


        // BB : port of PHP code but instead of wicked RegExp we use (wait for it) procedural code
        // uses ``` for GHF markdown and ~~~ for PHP extras markdown
        function _DoFencedCodeBlocks(text) {

            text += "@0";

            while (true) {
                var md_regPHPFencedBlocks = /(?:\n|^)((`{3,}|~{3,})[ ]*\n)/gm;

                var startMatch = md_regPHPFencedBlocks.exec(text);
                if (startMatch != null)
                {
                    var startIndex = md_regPHPFencedBlocks.lastIndex;

                    var endMatch = md_regPHPFencedBlocks.exec(text);
                    if (! endMatch) {
                        break;
                    }
                    // we have a pair
                    var endIndex = endMatch.index;
                    var code = text.substring(startIndex, endIndex);

                    var codeBlock = _generateCodeBlock(false, code,"");

                    var preCode = text.substring(0,startMatch.index);
                    var postCode = text.substring(md_regPHPFencedBlocks.lastIndex);

                    text = preCode + hashBlock(codeBlock) + postCode;

                } else {
                    break;
                }
            }
            text = text.replace(/@0/, "");

            return text;
        }


        var _generateCodeBlock = function(indented, codeblock, nextChar)
        {
            if (indented) {
                codeblock = _Outdent(codeblock);
            }
            codeblock = _EncodeCode(codeblock);
            codeblock = _Detab(codeblock);

            if (indented) {
                codeblock = codeblock.replace(/^\n+/g, ""); // trim leading newlines
                codeblock = codeblock.replace(/\n+$/g, ""); // trim trailing whitespace
            }

            var result = pluginHooks.generateCodeBlockHTML({
                codeblock : codeblock
            });
            if (! result) {
                result = '<pre><code>' + codeblock + '\n</code></pre>';
            }

            return "\n\n" + result + "\n\n" + nextChar;
        }

        function _DoCodeBlocks(text) {
            //
            //  Process Markdown `<pre><code>` blocks.  These are indented as tabs or 4 spaces
            //  

            /*
            text = text.replace(/
                (?:\n\n|^)
                (                               // $1 = the code block -- one or more lines, starting with a space/tab
                    (?:
                        (?:[ ]{4}|\t)           // Lines must start with a tab or a tab-width of spaces - attacklab: g_tab_width
                        .*\n+
                    )+
                )
                (\n*[ ]{0,3}[^ \t\n]|(?=@0))    // attacklab: g_tab_width
            /g ,function(){...});
            */

            // attacklab: sentinel workarounds for lack of \A and \Z, safari\khtml bug
            text += "@0";

            text = text.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=@0))/g,
                function (wholeMatch, m1, m2) {
                    var codeblock = m1;
                    var nextChar = m2;

                    return _generateCodeBlock(true, codeblock,nextChar);

                }
            );

            // attacklab: strip sentinel
            text = text.replace(/@0/, "");

            return text;
        }

        function hashBlock(text) {
            text = text.replace(/(^\n+|\n+$)/g, "");
            return "\n\n@K" + (g_html_blocks.push(text) - 1) + "K\n\n";
        }

        function _DoCodeSpans(text) {
            //
            // * Backtick quotes are used for <code></code> spans.
            // 
            // * You can use multiple backticks as the delimiters if you want to
            //   include literal backticks in the code span. So, this input:
            //     
            //      Just type ``foo `bar` baz`` at the prompt.
            //     
            //   Will translate to:
            //     
            //      <p>Just type <code>foo `bar` baz</code> at the prompt.</p>
            //     
            //   There's no arbitrary limit to the number of backticks you
            //   can use as delimters. If you need three consecutive backticks
            //   in your code, use four for delimiters, etc.
            //
            // * You can use spaces to get literal backticks at the edges:
            //     
            //      ... type `` `bar` `` ...
            //     
            //   Turns to:
            //     
            //      ... type <code>`bar`</code> ...
            //

            /*
            text = text.replace(/
                (^|[^\\])       // Character before opening ` can't be a backslash
                (`+)            // $2 = Opening run of `
                (               // $3 = The code block
                    [^\r]*?
                    [^`]        // attacklab: work around lack of lookbehind
                )
                \2              // Matching closer
                (?!`)
            /gm, function(){...});
            */

            text = text.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,
                function (wholeMatch, m1, m2, m3, m4) {
                    var c = m3;
                    c = c.replace(/^([ \t]*)/g, ""); // leading whitespace
                    c = c.replace(/[ \t]*$/g, ""); // trailing whitespace
                    c = _EncodeCode(c);
                    c = c.replace(/:\/\//g, "@P"); // to prevent auto-linking. Not necessary in code *blocks*, but in code spans. Will be converted back after the auto-linker runs.

                    var result = pluginHooks.generateCodeSpanHTML({
                        codespan : c
                    });
                    if (! result) {
                        result = '<code>' + c + '</code>';
                    }

                    return m1 + result;
                }
            );

            return text;
        }

        function _EncodeCode(text) {
            //
            // Encode/escape certain characters inside Markdown code runs.
            // The point is that in code, these characters are literals,
            // and lose their special Markdown meanings.
            //
            // Encode all ampersands; HTML entities are not
            // entities within a Markdown code span.
            text = text.replace(/&/g, "&amp;");

            // Do the angle bracket song and dance:
            text = text.replace(/</g, "&lt;");
            text = text.replace(/>/g, "&gt;");

            // Now, escape characters that are magic in Markdown:
            text = escapeCharacters(text, "\*_{}[]\\", false);

            // jj the line above breaks this:
            //---

            //* Item

            //   1. Subitem

            //            special char: *
            //---

            return text;
        }

        function _DoItalicsAndBold(text) {

            // <strong> must go first:
            text = text.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,
            "$1<strong>$3</strong>$4");

            text = text.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,
            "$1<em>$3</em>$4");

            return text;
        }

        function _DoBlockQuotes(text) {

            /*
            text = text.replace(/
                (                           // Wrap whole match in $1
                    (
                        ^[ \t]*>[ \t]?      // '>' at the start of a line
                        .+\n                // rest of the first line
                        (.+\n)*             // subsequent consecutive lines
                        \n*                 // blanks
                    )+
                )
            /gm, function(){...});
            */

            text = text.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,
                function (wholeMatch, m1) {
                    var bq = m1;

                    // attacklab: hack around Konqueror 3.5.4 bug:
                    // "----------bug".replace(/^-/g,"") == "bug"

                    bq = bq.replace(/^[ \t]*>[ \t]?/gm, "@0"); // trim one level of quoting

                    // attacklab: clean up hack
                    bq = bq.replace(/@0/g, "");

                    bq = bq.replace(/^[ \t]+$/gm, "");     // trim whitespace-only lines
                    bq = _RunBlockGamut(bq);             // recurse

                    bq = bq.replace(/(^|\n)/g, "$1  ");
                    // These leading spaces screw with <pre> content, so we need to fix that:
                    bq = bq.replace(
                            /(\s*<pre>[^\r]+?<\/pre>)/gm,
                        function (wholeMatch, m1) {
                            var pre = m1;
                            // attacklab: hack around Konqueror 3.5.4 bug:
                            pre = pre.replace(/^  /mg, "@0");
                            pre = pre.replace(/@0/g, "");
                            return pre;
                        });

                    return hashBlock("<blockquote>\n" + bq + "\n</blockquote>");
                }
            );
            return text;
        }

        function _FormParagraphs(text, doNotUnhash) {
            //
            //  Params:
            //    $text - string to process with html <p> tags
            //

            // Strip leading and trailing lines:
            text = text.replace(/^\n+/g, "");
            text = text.replace(/\n+$/g, "");

            var grafs = text.split(/\n{2,}/g);
            var grafsOut = [];
            
            var markerRe = /@K(\d+)K/;

            //
            // Wrap <p> tags.
            //
            var end = grafs.length;
            for (var i = 0; i < end; i++) {
                var str = grafs[i];

                // if this is an HTML marker, copy it
                if (markerRe.test(str)) {
                    grafsOut.push(str);
                }
                else if (/\S/.test(str)) {
                    str = _RunSpanGamut(str);
                    str = str.replace(/^([ \t]*)/g, "<p>");
                    str += "</p>"
                    grafsOut.push(str);
                }

            }
            //
            // Unhashify HTML blocks
            //
            if (!doNotUnhash) {
                end = grafsOut.length;
                for (var i = 0; i < end; i++) {
                    var foundAny = true;
                    while (foundAny) { // we may need several runs, since the data may be nested
                        foundAny = false;
                        grafsOut[i] = grafsOut[i].replace(/@K(\d+)K/g, function (wholeMatch, id) {
                            foundAny = true;
                            return g_html_blocks[id];
                        });
                    }
                }
            }
            return grafsOut.join("\n\n");
        }

        function _EncodeAmpsAndAngles(text) {
            // Smart processing for ampersands and angle brackets that need to be encoded.

            // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:
            //   http://bumppo.net/projects/amputator/
            text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, "&amp;");

            // Encode naked <'s
            text = text.replace(/<(?![a-z\/?\$!])/gi, "&lt;");

            return text;
        }

        function _EncodeBackslashEscapes(text) {
            //
            //   Parameter:  String.
            //   Returns:    The string, with after processing the following backslash
            //               escape sequences.
            //

            // attacklab: The polite way to do this is with the new
            // escapeCharacters() function:
            //
            //     text = escapeCharacters(text,"\\",true);
            //     text = escapeCharacters(text,"`*_{}[]()>#+-.!",true);
            //
            // ...but we're sidestepping its use of the (slow) RegExp constructor
            // as an optimization for Firefox.  This function gets called a LOT.

            text = text.replace(/\\(\\)/g, escapeCharacters_callback);
            text = text.replace(/\\([`*_{}\[\]()>#+-.!])/g, escapeCharacters_callback);
            return text;
        }

        function _DoAutoLinks(text) {

            // note that at this point, all other URL in the text are already hyperlinked as <a href=""></a>
            // *except* for the <http://www.foo.com> case

            // automatically add < and > around unadorned raw hyperlinks
            // must be preceded by space/BOF and followed by non-word/EOF character    
            text = text.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi, "$1<$2$3>$4");

            //  autolink anything like <http://example.com>
            
            var replacer = function (wholematch, m1) {
                var plainLinkText = pluginHooks.plainLinkText(m1);
                //
                // BB add HTML generation hook
                //
                var result = pluginHooks.generatePlainLinkHTML(
                    {
                        url : m1,
                        plainLinkText : plainLinkText
                    });
                if (! result) {
                    result =  "<a href=\"" + m1 + "\">" + plainLinkText + "</a>";
                }
                return result;
            };
            text = text.replace(/<((https?|ftp):[^'">\s]+)>/gi, replacer);

            // Email addresses: <address@domain.foo>
            /*
            text = text.replace(/
                <
                (?:mailto:)?
                (
                    [-.\w]+
                    \@
                    [-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+
                )
                >
            /gi, _DoAutoLinks_callback());
            */

            /* disabling email autolinking, since we don't do that on the server, either
            text = text.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,
                function(wholeMatch,m1) {
                    return _EncodeEmailAddress( _UnescapeSpecialChars(m1) );
                }
            );
            */
            return text;
        }

        function _UnescapeSpecialChars(text) {
            //
            // Swap back in all the special characters we've hidden.
            //
            text = text.replace(/@E(\d+)E/g,
                function (wholeMatch, m1) {
                    var charCodeToReplace = parseInt(m1);
                    return String.fromCharCode(charCodeToReplace);
                }
            );
            return text;
        }

        function _Outdent(text) {
            //
            // Remove one level of line-leading tabs or spaces
            //

            // attacklab: hack around Konqueror 3.5.4 bug:
            // "----------bug".replace(/^-/g,"") == "bug"

            text = text.replace(/^(\t|[ ]{1,4})/gm, "@0"); // attacklab: g_tab_width

            // attacklab: clean up hack
            text = text.replace(/@0/g, "")

            return text;
        }

        function _Detab(text) {
            if (!/\t/.test(text))
                return text;

            var spaces = ["    ", "   ", "  ", " "],
            skew = 0,
            v;

            return text.replace(/[\n\t]/g, function (match, offset) {
                if (match === "\n") {
                    skew = offset + 1;
                    return match;
                }
                v = (offset - skew) % 4;
                skew = offset + 1;
                return spaces[v];
            });
        }

        //
        //  attacklab: Utility functions
        //

        var _problemUrlChars = /(?:["'*()[\]:]|@D)/g;

        // hex-encodes some unusual "problem" chars in URLs to avoid URL detection problems 
        function encodeProblemUrlChars(url) {
            if (!url)
                return "";

            var len = url.length;

            return url.replace(_problemUrlChars, function (match, offset) {
                if (match == "@D") // escape for dollar
                    return "%24";
                if (match == ":") {
                    if (offset == len - 1 || /[0-9\/]/.test(url.charAt(offset + 1)))
                        return ":"
                }
                return "%" + match.charCodeAt(0).toString(16);
            });
        }


        function escapeCharacters(text, charsToEscape, afterBackslash) {
            // First we have to escape the escape characters so that
            // we can build a character class out of them
            var regexString = "([" + charsToEscape.replace(/([\[\]\\])/g, "\\$1") + "])";

            if (afterBackslash) {
                regexString = "\\\\" + regexString;
            }

            var regex = new RegExp(regexString, "g");
            text = text.replace(regex, escapeCharacters_callback);

            return text;
        }


        function escapeCharacters_callback(wholeMatch, m1) {
            var charCodeToEscape = m1.charCodeAt(0);
            return "@E" + charCodeToEscape + "E";
        }

    }; // end of the Markdown.Converter constructor

})();
;
;
/* module-key = 'com.atlassian.labs.jira.markdown:jira-markdown-plugin', location = 'pagedown/js/Markdown.Editor.js' */
// needs Markdown.Converter.js at the moment

(function () {

    var util = {},
        position = {},
        ui = {},
        doc = window.document,
        re = window.RegExp,
        nav = window.navigator,
        SETTINGS = { lineLength: 72 },

    // Used to work around some browser bugs where we can't use feature testing.
        uaSniffed = {
            isIE: /msie/.test(nav.userAgent.toLowerCase()),
            isIE_5or6: /msie 6/.test(nav.userAgent.toLowerCase()) || /msie 5/.test(nav.userAgent.toLowerCase()),
            isOpera: /opera/.test(nav.userAgent.toLowerCase())
        };


    // -------------------------------------------------------------------
    //  YOUR CHANGES GO HERE
    //
    // I've tried to localize the things you are likely to change to 
    // this area.
    // -------------------------------------------------------------------

    // The text that appears on the upper part of the dialog box when
    // entering links.
    var linkDialogText = "<p><b>Insert Hyperlink</b></p><p>http://example.com/ \"optional title\"</p>";
    var imageDialogText = "<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>";

    // The default text that appears in the dialog input box when entering
    // links.
    var imageDefaultText = "http://";
    var linkDefaultText = "http://";

    var defaultHelpHoverTitle = "Markdown Editing Help";

    // -------------------------------------------------------------------
    //  END OF YOUR CHANGES
    // -------------------------------------------------------------------

    // help, if given, should have a property "handler", the click handler for the help button,
    // and can have an optional property "title" for the button's tooltip (defaults to "Markdown Editing Help").
    // If help isn't given, not help button is created.
    //
    // The constructed editor object has the methods:
    // - getConverter() returns the markdown converter object that was passed to the constructor
    // - run() actually starts the editor; should be called after all necessary plugins are registered. Calling this more than once is a no-op.
    // - refreshPreview() forces the preview to be updated. This method is only available after run() was called.
    Markdown.Editor = function (markdownConverter, idPostfix, help) {

        idPostfix = idPostfix || "";

        var hooks = this.hooks = new Markdown.HookCollection();
        hooks.addNoop("onPreviewRefresh");       // called with no arguments after the preview has been refreshed
        hooks.addNoop("postBlockquoteCreation"); // called with the user's selection *after* the blockquote was created; should return the actual to-be-inserted text
        hooks.addFalse("insertImageDialog");     /* called with one parameter: a callback to be called with the URL of the image. If the application creates
                                                  * its own image insertion dialog, this hook should return true, and the callback should be called with the chosen
                                                  * image url (or null if the user cancelled). If this hook returns false, the default dialog will be used.
                                                  */

        this.getConverter = function () { return markdownConverter; }

        var that = this,
            panels;

        this.run = function () {
            if (panels)
                return; // already initialized

            panels = new PanelCollection(idPostfix);
            var commandManager = new CommandManager(hooks);
            var previewManager = new PreviewManager(markdownConverter, panels, function () { hooks.onPreviewRefresh(); });
            var undoManager, uiManager;

            if (!/\?noundo/.test(doc.location.href)) {
                undoManager = new UndoManager(function () {
                    previewManager.refresh();
                    if (uiManager) // not available on the first call
                        uiManager.setUndoRedoButtonStates();
                }, panels);
            }

            uiManager = new UIManager(idPostfix, panels, undoManager, previewManager, commandManager, help);
            uiManager.setUndoRedoButtonStates();

            var forceRefresh = that.refreshPreview = function () { previewManager.refresh(true); };

            forceRefresh();
        };

    }

    // before: contains all the text in the input box BEFORE the selection.
    // after: contains all the text in the input box AFTER the selection.
    function Chunks() { }

    // startRegex: a regular expression to find the start tag
    // endRegex: a regular expresssion to find the end tag
    Chunks.prototype.findTags = function (startRegex, endRegex) {

        var chunkObj = this;
        var regex;

        if (startRegex) {

            regex = util.extendRegExp(startRegex, "", "$");

            this.before = this.before.replace(regex,
                function (match) {
                    chunkObj.startTag = chunkObj.startTag + match;
                    return "";
                });

            regex = util.extendRegExp(startRegex, "^", "");

            this.selection = this.selection.replace(regex,
                function (match) {
                    chunkObj.startTag = chunkObj.startTag + match;
                    return "";
                });
        }

        if (endRegex) {

            regex = util.extendRegExp(endRegex, "", "$");

            this.selection = this.selection.replace(regex,
                function (match) {
                    chunkObj.endTag = match + chunkObj.endTag;
                    return "";
                });

            regex = util.extendRegExp(endRegex, "^", "");

            this.after = this.after.replace(regex,
                function (match) {
                    chunkObj.endTag = match + chunkObj.endTag;
                    return "";
                });
        }
    };

    // If remove is false, the whitespace is transferred
    // to the before/after regions.
    //
    // If remove is true, the whitespace disappears.
    Chunks.prototype.trimWhitespace = function (remove) {
        var beforeReplacer, afterReplacer, that = this;
        if (remove) {
            beforeReplacer = afterReplacer = "";
        } else {
            beforeReplacer = function (s) { that.before += s; return ""; }
            afterReplacer = function (s) { that.after = s + that.after; return ""; }
        }
        
        this.selection = this.selection.replace(/^(\s*)/, beforeReplacer).replace(/(\s*)$/, afterReplacer);
    };


    Chunks.prototype.skipLines = function (nLinesBefore, nLinesAfter, findExtraNewlines) {

        if (nLinesBefore === undefined) {
            nLinesBefore = 1;
        }

        if (nLinesAfter === undefined) {
            nLinesAfter = 1;
        }

        nLinesBefore++;
        nLinesAfter++;

        var regexText;
        var replacementText;

        // chrome bug ... documented at: http://meta.stackoverflow.com/questions/63307/blockquote-glitch-in-editor-in-chrome-6-and-7/65985#65985
        if (navigator.userAgent.match(/Chrome/)) {
            "X".match(/()./);
        }

        this.selection = this.selection.replace(/(^\n*)/, "");

        this.startTag = this.startTag + re.$1;

        this.selection = this.selection.replace(/(\n*$)/, "");
        this.endTag = this.endTag + re.$1;
        this.startTag = this.startTag.replace(/(^\n*)/, "");
        this.before = this.before + re.$1;
        this.endTag = this.endTag.replace(/(\n*$)/, "");
        this.after = this.after + re.$1;

        if (this.before) {

            regexText = replacementText = "";

            while (nLinesBefore--) {
                regexText += "\\n?";
                replacementText += "\n";
            }

            if (findExtraNewlines) {
                regexText = "\\n*";
            }
            this.before = this.before.replace(new re(regexText + "$", ""), replacementText);
        }

        if (this.after) {

            regexText = replacementText = "";

            while (nLinesAfter--) {
                regexText += "\\n?";
                replacementText += "\n";
            }
            if (findExtraNewlines) {
                regexText = "\\n*";
            }

            this.after = this.after.replace(new re(regexText, ""), replacementText);
        }
    };

    // end of Chunks 

    // A collection of the important regions on the page.
    // Cached so we don't have to keep traversing the DOM.
    // Also holds ieCachedRange and ieCachedScrollTop, where necessary; working around
    // this issue:
    // Internet explorer has problems with CSS sprite buttons that use HTML
    // lists.  When you click on the background image "button", IE will 
    // select the non-existent link text and discard the selection in the
    // textarea.  The solution to this is to cache the textarea selection
    // on the button's mousedown event and set a flag.  In the part of the
    // code where we need to grab the selection, we check for the flag
    // and, if it's set, use the cached area instead of querying the
    // textarea.
    //
    // This ONLY affects Internet Explorer (tested on versions 6, 7
    // and 8) and ONLY on button clicks.  Keyboard shortcuts work
    // normally since the focus never leaves the textarea.
    function PanelCollection(postfix) {
        this.buttonBar = doc.getElementById("wmd-button-bar" + postfix);
        this.preview = doc.getElementById("wmd-preview" + postfix);
        this.input = doc.getElementById("wmd-input" + postfix);
    };

    // Returns true if the DOM element is visible, false if it's hidden.
    // Checks if display is anything other than none.
    util.isVisible = function (elem) {

        if (window.getComputedStyle) {
            // Most browsers
            return window.getComputedStyle(elem, null).getPropertyValue("display") !== "none";
        }
        else if (elem.currentStyle) {
            // IE
            return elem.currentStyle["display"] !== "none";
        }
    };


    // Adds a listener callback to a DOM element which is fired on a specified
    // event.
    util.addEvent = function (elem, event, listener) {
        if (elem.attachEvent) {
            // IE only.  The "on" is mandatory.
            elem.attachEvent("on" + event, listener);
        }
        else {
            // Other browsers.
            elem.addEventListener(event, listener, false);
        }
    };


    // Removes a listener callback from a DOM element which is fired on a specified
    // event.
    util.removeEvent = function (elem, event, listener) {
        if (elem.detachEvent) {
            // IE only.  The "on" is mandatory.
            elem.detachEvent("on" + event, listener);
        }
        else {
            // Other browsers.
            elem.removeEventListener(event, listener, false);
        }
    };

    // Converts \r\n and \r to \n.
    util.fixEolChars = function (text) {
        text = text.replace(/\r\n/g, "\n");
        text = text.replace(/\r/g, "\n");
        return text;
    };

    // Extends a regular expression.  Returns a new RegExp
    // using pre + regex + post as the expression.
    // Used in a few functions where we have a base
    // expression and we want to pre- or append some
    // conditions to it (e.g. adding "$" to the end).
    // The flags are unchanged.
    //
    // regex is a RegExp, pre and post are strings.
    util.extendRegExp = function (regex, pre, post) {

        if (pre === null || pre === undefined) {
            pre = "";
        }
        if (post === null || post === undefined) {
            post = "";
        }

        var pattern = regex.toString();
        var flags;

        // Replace the flags with empty space and store them.
        pattern = pattern.replace(/\/([gim]*)$/, function (wholeMatch, flagsPart) {
            flags = flagsPart;
            return "";
        });

        // Remove the slash delimiters on the regular expression.
        pattern = pattern.replace(/(^\/|\/$)/g, "");
        pattern = pre + pattern + post;

        return new re(pattern, flags);
    }

    // UNFINISHED
    // The assignment in the while loop makes jslint cranky.
    // I'll change it to a better loop later.
    position.getTop = function (elem, isInner) {
        var result = elem.offsetTop;
        if (!isInner) {
            while (elem = elem.offsetParent) {
                result += elem.offsetTop;
            }
        }
        return result;
    };

    position.getHeight = function (elem) {
        return elem.offsetHeight || elem.scrollHeight;
    };

    position.getWidth = function (elem) {
        return elem.offsetWidth || elem.scrollWidth;
    };

    position.getPageSize = function () {

        var scrollWidth, scrollHeight;
        var innerWidth, innerHeight;

        // It's not very clear which blocks work with which browsers.
        if (self.innerHeight && self.scrollMaxY) {
            scrollWidth = doc.body.scrollWidth;
            scrollHeight = self.innerHeight + self.scrollMaxY;
        }
        else if (doc.body.scrollHeight > doc.body.offsetHeight) {
            scrollWidth = doc.body.scrollWidth;
            scrollHeight = doc.body.scrollHeight;
        }
        else {
            scrollWidth = doc.body.offsetWidth;
            scrollHeight = doc.body.offsetHeight;
        }

        if (self.innerHeight) {
            // Non-IE browser
            innerWidth = self.innerWidth;
            innerHeight = self.innerHeight;
        }
        else if (doc.documentElement && doc.documentElement.clientHeight) {
            // Some versions of IE (IE 6 w/ a DOCTYPE declaration)
            innerWidth = doc.documentElement.clientWidth;
            innerHeight = doc.documentElement.clientHeight;
        }
        else if (doc.body) {
            // Other versions of IE
            innerWidth = doc.body.clientWidth;
            innerHeight = doc.body.clientHeight;
        }

        var maxWidth = Math.max(scrollWidth, innerWidth);
        var maxHeight = Math.max(scrollHeight, innerHeight);
        return [maxWidth, maxHeight, innerWidth, innerHeight];
    };

    // Handles pushing and popping TextareaStates for undo/redo commands.
    // I should rename the stack variables to list.
    function UndoManager(callback, panels) {

        var undoObj = this;
        var undoStack = []; // A stack of undo states
        var stackPtr = 0; // The index of the current state
        var mode = "none";
        var lastState; // The last state
        var timer; // The setTimeout handle for cancelling the timer
        var inputStateObj;

        // Set the mode for later logic steps.
        var setMode = function (newMode, noSave) {
            if (mode != newMode) {
                mode = newMode;
                if (!noSave) {
                    saveState();
                }
            }

            if (!uaSniffed.isIE || mode != "moving") {
                timer = setTimeout(refreshState, 1);
            }
            else {
                inputStateObj = null;
            }
        };

        var refreshState = function (isInitialState) {
            inputStateObj = new TextareaState(panels, isInitialState);
            timer = undefined;
        };

        this.setCommandMode = function () {
            mode = "command";
            saveState();
            timer = setTimeout(refreshState, 0);
        };

        this.canUndo = function () {
            return stackPtr > 1;
        };

        this.canRedo = function () {
            if (undoStack[stackPtr + 1]) {
                return true;
            }
            return false;
        };

        // Removes the last state and restores it.
        this.undo = function () {

            if (undoObj.canUndo()) {
                if (lastState) {
                    // What about setting state -1 to null or checking for undefined?
                    lastState.restore();
                    lastState = null;
                }
                else {
                    undoStack[stackPtr] = new TextareaState(panels);
                    undoStack[--stackPtr].restore();

                    if (callback) {
                        callback();
                    }
                }
            }

            mode = "none";
            panels.input.focus();
            refreshState();
        };

        // Redo an action.
        this.redo = function () {

            if (undoObj.canRedo()) {

                undoStack[++stackPtr].restore();

                if (callback) {
                    callback();
                }
            }

            mode = "none";
            panels.input.focus();
            refreshState();
        };

        // Push the input area state to the stack.
        var saveState = function () {
            var currState = inputStateObj || new TextareaState(panels);

            if (!currState) {
                return false;
            }
            if (mode == "moving") {
                if (!lastState) {
                    lastState = currState;
                }
                return;
            }
            if (lastState) {
                if (undoStack[stackPtr - 1].text != lastState.text) {
                    undoStack[stackPtr++] = lastState;
                }
                lastState = null;
            }
            undoStack[stackPtr++] = currState;
            undoStack[stackPtr + 1] = null;
            if (callback) {
                callback();
            }
        };

        var handleCtrlYZ = function (event) {

            var handled = false;

            if (event.ctrlKey || event.metaKey) {

                // IE and Opera do not support charCode.
                var keyCode = event.charCode || event.keyCode;
                var keyCodeChar = String.fromCharCode(keyCode);

                switch (keyCodeChar) {

                    case "y":
                        undoObj.redo();
                        handled = true;
                        break;

                    case "z":
                        if (!event.shiftKey) {
                            undoObj.undo();
                        }
                        else {
                            undoObj.redo();
                        }
                        handled = true;
                        break;
                }
            }

            if (handled) {
                if (event.preventDefault) {
                    event.preventDefault();
                }
                if (window.event) {
                    window.event.returnValue = false;
                }
                return;
            }
        };

        // Set the mode depending on what is going on in the input area.
        var handleModeChange = function (event) {

            if (!event.ctrlKey && !event.metaKey) {

                var keyCode = event.keyCode;

                if ((keyCode >= 33 && keyCode <= 40) || (keyCode >= 63232 && keyCode <= 63235)) {
                    // 33 - 40: page up/dn and arrow keys
                    // 63232 - 63235: page up/dn and arrow keys on safari
                    setMode("moving");
                }
                else if (keyCode == 8 || keyCode == 46 || keyCode == 127) {
                    // 8: backspace
                    // 46: delete
                    // 127: delete
                    setMode("deleting");
                }
                else if (keyCode == 13) {
                    // 13: Enter
                    setMode("newlines");
                }
                else if (keyCode == 27) {
                    // 27: escape
                    setMode("escape");
                }
                else if ((keyCode < 16 || keyCode > 20) && keyCode != 91) {
                    // 16-20 are shift, etc. 
                    // 91: left window key
                    // I think this might be a little messed up since there are
                    // a lot of nonprinting keys above 20.
                    setMode("typing");
                }
            }
        };

        var setEventHandlers = function () {
            util.addEvent(panels.input, "keypress", function (event) {
                // keyCode 89: y
                // keyCode 90: z
                if ((event.ctrlKey || event.metaKey) && (event.keyCode == 89 || event.keyCode == 90)) {
                    event.preventDefault();
                }
            });

            var handlePaste = function () {
                if (uaSniffed.isIE || (inputStateObj && inputStateObj.text != panels.input.value)) {
                    if (timer == undefined) {
                        mode = "paste";
                        saveState();
                        refreshState();
                    }
                }
            };

            util.addEvent(panels.input, "keydown", handleCtrlYZ);
            util.addEvent(panels.input, "keydown", handleModeChange);
            util.addEvent(panels.input, "mousedown", function () {
                setMode("moving");
            });

            panels.input.onpaste = handlePaste;
            panels.input.ondrop = handlePaste;
        };

        var init = function () {
            setEventHandlers();
            refreshState(true);
            saveState();
        };

        init();
    }

    // end of UndoManager

    // The input textarea state/contents.
    // This is used to implement undo/redo by the undo manager.
    function TextareaState(panels, isInitialState) {

        // Aliases
        var stateObj = this;
        var inputArea = panels.input;
        this.init = function () {
            if (!util.isVisible(inputArea)) {
                return;
            }
            if (!isInitialState && doc.activeElement && doc.activeElement !== inputArea) { // this happens when tabbing out of the input box
                return;
            }

            this.setInputAreaSelectionStartEnd();
            this.scrollTop = inputArea.scrollTop;
            if (!this.text && inputArea.selectionStart || inputArea.selectionStart === 0) {
                this.text = inputArea.value;
            }

        }

        // Sets the selected text in the input box after we've performed an
        // operation.
        this.setInputAreaSelection = function () {

            if (!util.isVisible(inputArea)) {
                return;
            }

            if (inputArea.selectionStart !== undefined && !uaSniffed.isOpera) {

                inputArea.focus();
                inputArea.selectionStart = stateObj.start;
                inputArea.selectionEnd = stateObj.end;
                inputArea.scrollTop = stateObj.scrollTop;
            }
            else if (doc.selection) {

                if (doc.activeElement && doc.activeElement !== inputArea) {
                    return;
                }

                inputArea.focus();
                var range = inputArea.createTextRange();
                range.moveStart("character", -inputArea.value.length);
                range.moveEnd("character", -inputArea.value.length);
                range.moveEnd("character", stateObj.end);
                range.moveStart("character", stateObj.start);
                range.select();
            }
        };

        this.setInputAreaSelectionStartEnd = function () {

            if (!panels.ieCachedRange && (inputArea.selectionStart || inputArea.selectionStart === 0)) {

                stateObj.start = inputArea.selectionStart;
                stateObj.end = inputArea.selectionEnd;
            }
            else if (doc.selection) {

                stateObj.text = util.fixEolChars(inputArea.value);

                // IE loses the selection in the textarea when buttons are
                // clicked.  On IE we cache the selection. Here, if something is cached,
                // we take it.
                var range = panels.ieCachedRange || doc.selection.createRange();

                var fixedRange = util.fixEolChars(range.text);
                var marker = "\x07";
                var markedRange = marker + fixedRange + marker;
                range.text = markedRange;
                var inputText = util.fixEolChars(inputArea.value);

                range.moveStart("character", -markedRange.length);
                range.text = fixedRange;

                stateObj.start = inputText.indexOf(marker);
                stateObj.end = inputText.lastIndexOf(marker) - marker.length;

                var len = stateObj.text.length - util.fixEolChars(inputArea.value).length;

                if (len) {
                    range.moveStart("character", -fixedRange.length);
                    while (len--) {
                        fixedRange += "\n";
                        stateObj.end += 1;
                    }
                    range.text = fixedRange;
                }

                if (panels.ieCachedRange)
                    stateObj.scrollTop = panels.ieCachedScrollTop; // this is set alongside with ieCachedRange
                
                panels.ieCachedRange = null;

                this.setInputAreaSelection();
            }
        };

        // Restore this state into the input area.
        this.restore = function () {

            if (stateObj.text != undefined && stateObj.text != inputArea.value) {
                inputArea.value = stateObj.text;
            }
            this.setInputAreaSelection();
            inputArea.scrollTop = stateObj.scrollTop;
        };

        // Gets a collection of HTML chunks from the inptut textarea.
        this.getChunks = function () {

            var chunk = new Chunks();
            chunk.before = util.fixEolChars(stateObj.text.substring(0, stateObj.start));
            chunk.startTag = "";
            chunk.selection = util.fixEolChars(stateObj.text.substring(stateObj.start, stateObj.end));
            chunk.endTag = "";
            chunk.after = util.fixEolChars(stateObj.text.substring(stateObj.end));
            chunk.scrollTop = stateObj.scrollTop;

            return chunk;
        };

        // Sets the TextareaState properties given a chunk of markdown.
        this.setChunks = function (chunk) {

            chunk.before = chunk.before + chunk.startTag;
            chunk.after = chunk.endTag + chunk.after;

            this.start = chunk.before.length;
            this.end = chunk.before.length + chunk.selection.length;
            this.text = chunk.before + chunk.selection + chunk.after;
            this.scrollTop = chunk.scrollTop;
        };
        this.init();
    };

    function PreviewManager(converter, panels, previewRefreshCallback) {

        var managerObj = this;
        var timeout;
        var elapsedTime;
        var oldInputText;
        var maxDelay = 3000;
        var startType = "delayed"; // The other legal value is "manual"

        // Adds event listeners to elements
        var setupEvents = function (inputElem, listener) {

            util.addEvent(inputElem, "input", listener);
            inputElem.onpaste = listener;
            inputElem.ondrop = listener;

            util.addEvent(inputElem, "keypress", listener);
            util.addEvent(inputElem, "keydown", listener);
        };

        var getDocScrollTop = function () {

            var result = 0;

            if (window.innerHeight) {
                result = window.pageYOffset;
            }
            else
                if (doc.documentElement && doc.documentElement.scrollTop) {
                    result = doc.documentElement.scrollTop;
                }
                else
                    if (doc.body) {
                        result = doc.body.scrollTop;
                    }

            return result;
        };

        var makePreviewHtml = function () {

            // If there is no registered preview panel
            // there is nothing to do.
            if (!panels.preview)
                return;


            var text = panels.input.value;
            if (text && text == oldInputText) {
                return; // Input text hasn't changed.
            }
            else {
                oldInputText = text;
            }

            var prevTime = new Date().getTime();

            text = converter.makeHtml(text);

            // Calculate the processing time of the HTML creation.
            // It's used as the delay time in the event listener.
            var currTime = new Date().getTime();
            elapsedTime = currTime - prevTime;

            pushPreviewHtml(text);
        };

        // setTimeout is already used.  Used as an event listener.
        var applyTimeout = function () {

            if (timeout) {
                clearTimeout(timeout);
                timeout = undefined;
            }

            if (startType !== "manual") {

                var delay = 0;

                if (startType === "delayed") {
                    delay = elapsedTime;
                }

                if (delay > maxDelay) {
                    delay = maxDelay;
                }
                timeout = setTimeout(makePreviewHtml, delay);
            }
        };

        var getScaleFactor = function (panel) {
            if (panel.scrollHeight <= panel.clientHeight) {
                return 1;
            }
            return panel.scrollTop / (panel.scrollHeight - panel.clientHeight);
        };

        var setPanelScrollTops = function () {
            if (panels.preview) {
                panels.preview.scrollTop = (panels.preview.scrollHeight - panels.preview.clientHeight) * getScaleFactor(panels.preview);
            }
        };

        this.refresh = function (requiresRefresh) {

            if (requiresRefresh) {
                oldInputText = "";
                makePreviewHtml();
            }
            else {
                applyTimeout();
            }
        };

        this.processingTime = function () {
            return elapsedTime;
        };

        var isFirstTimeFilled = true;

        // IE doesn't let you use innerHTML if the element is contained somewhere in a table
        // (which is the case for inline editing) -- in that case, detach the element, set the
        // value, and reattach. Yes, that *is* ridiculous.
        var ieSafePreviewSet = function (text) {
            var preview = panels.preview;
            var parent = preview.parentNode;
            var sibling = preview.nextSibling;
            parent.removeChild(preview);
            preview.innerHTML = text;
            if (!sibling)
                parent.appendChild(preview);
            else
                parent.insertBefore(preview, sibling);
        }

        var nonSuckyBrowserPreviewSet = function (text) {
            panels.preview.innerHTML = text;
        }

        var previewSetter;

        var previewSet = function (text) {
            if (previewSetter)
                return previewSetter(text);

            try {
                nonSuckyBrowserPreviewSet(text);
                previewSetter = nonSuckyBrowserPreviewSet;
            } catch (e) {
                previewSetter = ieSafePreviewSet;
                previewSetter(text);
            }
        };

        var pushPreviewHtml = function (text) {

            var emptyTop = position.getTop(panels.input) - getDocScrollTop();

            if (panels.preview) {
                previewSet(text);
                previewRefreshCallback();
            }

            setPanelScrollTops();

            if (isFirstTimeFilled) {
                isFirstTimeFilled = false;
                return;
            }

            var fullTop = position.getTop(panels.input) - getDocScrollTop();

            if (uaSniffed.isIE) {
                setTimeout(function () {
                    window.scrollBy(0, fullTop - emptyTop);
                }, 0);
            }
            else {
                window.scrollBy(0, fullTop - emptyTop);
            }
        };

        var init = function () {

            setupEvents(panels.input, applyTimeout);
            makePreviewHtml();

            if (panels.preview) {
                panels.preview.scrollTop = 0;
            }
        };

        init();
    };

    // Creates the background behind the hyperlink text entry box.
    // And download dialog
    // Most of this has been moved to CSS but the div creation and
    // browser-specific hacks remain here.
    ui.createBackground = function () {

        var background = doc.createElement("div"),
            style = background.style;
        
        background.className = "wmd-prompt-background";
        
        style.position = "absolute";
        style.top = "0";

        style.zIndex = "1000";

        if (uaSniffed.isIE) {
            style.filter = "alpha(opacity=50)";
        }
        else {
            style.opacity = "0.5";
        }

        var pageSize = position.getPageSize();
        style.height = pageSize[1] + "px";

        if (uaSniffed.isIE) {
            style.left = doc.documentElement.scrollLeft;
            style.width = doc.documentElement.clientWidth;
        }
        else {
            style.left = "0";
            style.width = "100%";
        }

        doc.body.appendChild(background);
        return background;
    };

    // This simulates a modal dialog box and asks for the URL when you
    // click the hyperlink or image buttons.
    //
    // text: The html for the input box.
    // defaultInputText: The default value that appears in the input box.
    // callback: The function which is executed when the prompt is dismissed, either via OK or Cancel.
    //      It receives a single argument; either the entered text (if OK was chosen) or null (if Cancel
    //      was chosen).
    ui.prompt = function (text, defaultInputText, callback) {

        // These variables need to be declared at this level since they are used
        // in multiple functions.
        var dialog;         // The dialog box.
        var input;         // The text box where you enter the hyperlink.


        if (defaultInputText === undefined) {
            defaultInputText = "";
        }

        // Used as a keydown event handler. Esc dismisses the prompt.
        // Key code 27 is ESC.
        var checkEscape = function (key) {
            var code = (key.charCode || key.keyCode);
            if (code === 27) {
                close(true);
            }
        };

        // Dismisses the hyperlink input box.
        // isCancel is true if we don't care about the input text.
        // isCancel is false if we are going to keep the text.
        var close = function (isCancel) {
            util.removeEvent(doc.body, "keydown", checkEscape);
            var text = input.value;

            if (isCancel) {
                text = null;
            }
            else {
                // Fixes common pasting errors.
                text = text.replace(/^http:\/\/(https?|ftp):\/\//, '$1://');
                if (!/^(?:https?|ftp):\/\//.test(text))
                    text = 'http://' + text;
            }

            dialog.parentNode.removeChild(dialog);

            callback(text);
            return false;
        };



        // Create the text input box form/window.
        var createDialog = function () {

            // The main dialog box.
            dialog = doc.createElement("div");
            dialog.className = "wmd-prompt-dialog";
            dialog.style.padding = "10px;";
            dialog.style.position = "fixed";
            dialog.style.width = "400px";
            dialog.style.zIndex = "9001";

            // The dialog text.
            var question = doc.createElement("div");
            question.innerHTML = text;
            question.style.padding = "5px";
            dialog.appendChild(question);

            // The web form container for the text box and buttons.
            var form = doc.createElement("form"),
                style = form.style;
            form.onsubmit = function () { return close(false); };
            style.padding = "0";
            style.margin = "0";
            style.cssFloat = "left";
            style.width = "100%";
            style.textAlign = "center";
            style.position = "relative";
            dialog.appendChild(form);

            // The input text box
            input = doc.createElement("input");
            input.type = "text";
            input.value = defaultInputText;
            style = input.style;
            style.display = "block";
            style.width = "80%";
            style.marginLeft = style.marginRight = "auto";
            form.appendChild(input);

            // The ok button
            var okButton = doc.createElement("input");
            okButton.type = "button";
            okButton.onclick = function () { return close(false); };
            okButton.value = "OK";
            style = okButton.style;
            style.margin = "10px";
            style.display = "inline";
            style.width = "7em";


            // The cancel button
            var cancelButton = doc.createElement("input");
            cancelButton.type = "button";
            cancelButton.onclick = function () { return close(true); };
            cancelButton.value = "Cancel";
            style = cancelButton.style;
            style.margin = "10px";
            style.display = "inline";
            style.width = "7em";

            form.appendChild(okButton);
            form.appendChild(cancelButton);

            util.addEvent(doc.body, "keydown", checkEscape);
            dialog.style.top = "50%";
            dialog.style.left = "50%";
            dialog.style.display = "block";
            if (uaSniffed.isIE_5or6) {
                dialog.style.position = "absolute";
                dialog.style.top = doc.documentElement.scrollTop + 200 + "px";
                dialog.style.left = "50%";
            }
            doc.body.appendChild(dialog);

            // This has to be done AFTER adding the dialog to the form if you
            // want it to be centered.
            dialog.style.marginTop = -(position.getHeight(dialog) / 2) + "px";
            dialog.style.marginLeft = -(position.getWidth(dialog) / 2) + "px";

        };

        // Why is this in a zero-length timeout?
        // Is it working around a browser bug?
        setTimeout(function () {

            createDialog();

            var defTextLen = defaultInputText.length;
            if (input.selectionStart !== undefined) {
                input.selectionStart = 0;
                input.selectionEnd = defTextLen;
            }
            else if (input.createTextRange) {
                var range = input.createTextRange();
                range.collapse(false);
                range.moveStart("character", -defTextLen);
                range.moveEnd("character", defTextLen);
                range.select();
            }

            input.focus();
        }, 0);
    };

    function UIManager(postfix, panels, undoManager, previewManager, commandManager, helpOptions) {

        var inputBox = panels.input,
            buttons = {}; // buttons.undo, buttons.link, etc. The actual DOM elements.

        makeSpritedButtonRow();

        var keyEvent = "keydown";
        if (uaSniffed.isOpera) {
            keyEvent = "keypress";
        }

        util.addEvent(inputBox, keyEvent, function (key) {

            // Check to see if we have a button key and, if so execute the callback.
            if ((key.ctrlKey || key.metaKey) && !key.altKey && !key.shiftKey) {

                var keyCode = key.charCode || key.keyCode;
                var keyCodeStr = String.fromCharCode(keyCode).toLowerCase();

                switch (keyCodeStr) {
                    case "b":
                        doClick(buttons.bold);
                        break;
                    case "i":
                        doClick(buttons.italic);
                        break;
                    case "l":
                        doClick(buttons.link);
                        break;
                    case "q":
                        doClick(buttons.quote);
                        break;
                    case "k":
                        doClick(buttons.code);
                        break;
                    case "g":
                        doClick(buttons.image);
                        break;
                    case "o":
                        doClick(buttons.olist);
                        break;
                    case "u":
                        doClick(buttons.ulist);
                        break;
                    case "h":
                        doClick(buttons.heading);
                        break;
                    case "r":
                        doClick(buttons.hr);
                        break;
                    case "y":
                        doClick(buttons.redo);
                        break;
                    case "z":
                        if (key.shiftKey) {
                            doClick(buttons.redo);
                        }
                        else {
                            doClick(buttons.undo);
                        }
                        break;
                    default:
                        return;
                }


                if (key.preventDefault) {
                    key.preventDefault();
                }

                if (window.event) {
                    window.event.returnValue = false;
                }
            }
        });

        // Auto-indent on shift-enter
        util.addEvent(inputBox, "keyup", function (key) {
            if (key.shiftKey && !key.ctrlKey && !key.metaKey) {
                var keyCode = key.charCode || key.keyCode;
                // Character 13 is Enter
                if (keyCode === 13) {
                    var fakeButton = {};
                    fakeButton.textOp = bindCommand("doAutoindent");
                    doClick(fakeButton);
                }
            }
        });

        // special handler because IE clears the context of the textbox on ESC
        if (uaSniffed.isIE) {
            util.addEvent(inputBox, "keydown", function (key) {
                var code = key.keyCode;
                if (code === 27) {
                    return false;
                }
            });
        }


        // Perform the button's action.
        function doClick(button) {

            inputBox.focus();

            if (button.textOp) {

                if (undoManager) {
                    undoManager.setCommandMode();
                }

                var state = new TextareaState(panels);

                if (!state) {
                    return;
                }

                var chunks = state.getChunks();

                // Some commands launch a "modal" prompt dialog.  Javascript
                // can't really make a modal dialog box and the WMD code
                // will continue to execute while the dialog is displayed.
                // This prevents the dialog pattern I'm used to and means
                // I can't do something like this:
                //
                // var link = CreateLinkDialog();
                // makeMarkdownLink(link);
                // 
                // Instead of this straightforward method of handling a
                // dialog I have to pass any code which would execute
                // after the dialog is dismissed (e.g. link creation)
                // in a function parameter.
                //
                // Yes this is awkward and I think it sucks, but there's
                // no real workaround.  Only the image and link code
                // create dialogs and require the function pointers.
                var fixupInputArea = function () {

                    inputBox.focus();

                    if (chunks) {
                        state.setChunks(chunks);
                    }

                    state.restore();
                    previewManager.refresh();
                };

                var noCleanup = button.textOp(chunks, fixupInputArea);

                if (!noCleanup) {
                    fixupInputArea();
                }

            }

            if (button.execute) {
                button.execute(undoManager);
            }
        };

        function setupButton(button, isEnabled) {

            var normalYShift = "0px";
            var disabledYShift = "-20px";
            var highlightYShift = "-40px";
            var image = button.getElementsByTagName("span")[0];
            if (isEnabled) {
                image.style.backgroundPosition = button.XShift + " " + normalYShift;
                button.onmouseover = function () {
                    image.style.backgroundPosition = this.XShift + " " + highlightYShift;
                };

                button.onmouseout = function () {
                    image.style.backgroundPosition = this.XShift + " " + normalYShift;
                };

                // IE tries to select the background image "button" text (it's
                // implemented in a list item) so we have to cache the selection
                // on mousedown.
                if (uaSniffed.isIE) {
                    button.onmousedown = function () {
                        if (doc.activeElement && doc.activeElement !== panels.input) { // we're not even in the input box, so there's no selection
                            return;
                        }
                        panels.ieCachedRange = document.selection.createRange();
                        panels.ieCachedScrollTop = panels.input.scrollTop;
                    };
                }

                if (!button.isHelp) {
                    button.onclick = function () {
                        if (this.onmouseout) {
                            this.onmouseout();
                        }
                        doClick(this);
                        return false;
                    }
                }
            }
            else {
                image.style.backgroundPosition = button.XShift + " " + disabledYShift;
                button.onmouseover = button.onmouseout = button.onclick = function () { };
            }
        }

        function bindCommand(method) {
            if (typeof method === "string")
                method = commandManager[method];
            return function () { method.apply(commandManager, arguments); }
        }

        function makeSpritedButtonRow() {

            var buttonBar = panels.buttonBar;

            var normalYShift = "0px";
            var disabledYShift = "-20px";
            var highlightYShift = "-40px";

            var buttonRow = document.createElement("ul");
            buttonRow.id = "wmd-button-row" + postfix;
            buttonRow.className = 'wmd-button-row';
            buttonRow = buttonBar.appendChild(buttonRow);
            var xPosition = 0;
            var makeButton = function (id, title, XShift, textOp) {
                var button = document.createElement("li");
                button.className = "wmd-button";
                button.style.left = xPosition + "px";
                xPosition += 25;
                var buttonImage = document.createElement("span");
                button.id = id + postfix;
                button.appendChild(buttonImage);
                button.title = title;
                button.XShift = XShift;
                if (textOp)
                    button.textOp = textOp;
                setupButton(button, true);
                buttonRow.appendChild(button);
                return button;
            };
            var makeSpacer = function (num) {
                var spacer = document.createElement("li");
                spacer.className = "wmd-spacer wmd-spacer" + num;
                spacer.id = "wmd-spacer" + num + postfix;
                buttonRow.appendChild(spacer);
                xPosition += 25;
            }

            buttons.bold = makeButton("wmd-bold-button", "Strong <strong> Ctrl+B", "0px", bindCommand("doBold"));
            buttons.italic = makeButton("wmd-italic-button", "Emphasis <em> Ctrl+I", "-20px", bindCommand("doItalic"));
            makeSpacer(1);
            buttons.link = makeButton("wmd-link-button", "Hyperlink <a> Ctrl+L", "-40px", bindCommand(function (chunk, postProcessing) {
                return this.doLinkOrImage(chunk, postProcessing, false);
            }));
            buttons.quote = makeButton("wmd-quote-button", "Blockquote <blockquote> Ctrl+Q", "-60px", bindCommand("doBlockquote"));
            buttons.code = makeButton("wmd-code-button", "Code Sample <pre><code> Ctrl+K", "-80px", bindCommand("doCode"));
            buttons.image = makeButton("wmd-image-button", "Image <img> Ctrl+G", "-100px", bindCommand(function (chunk, postProcessing) {
                return this.doLinkOrImage(chunk, postProcessing, true);
            }));
            makeSpacer(2);
            buttons.olist = makeButton("wmd-olist-button", "Numbered List <ol> Ctrl+O", "-120px", bindCommand(function (chunk, postProcessing) {
                this.doList(chunk, postProcessing, true);
            }));
            buttons.ulist = makeButton("wmd-ulist-button", "Bulleted List <ul> Ctrl+U", "-140px", bindCommand(function (chunk, postProcessing) {
                this.doList(chunk, postProcessing, false);
            }));
            buttons.heading = makeButton("wmd-heading-button", "Heading <h1>/<h2> Ctrl+H", "-160px", bindCommand("doHeading"));
            buttons.hr = makeButton("wmd-hr-button", "Horizontal Rule <hr> Ctrl+R", "-180px", bindCommand("doHorizontalRule"));
            makeSpacer(3);
            buttons.undo = makeButton("wmd-undo-button", "Undo - Ctrl+Z", "-200px", null);
            buttons.undo.execute = function (manager) { if (manager) manager.undo(); };

            var redoTitle = /win/.test(nav.platform.toLowerCase()) ?
                "Redo - Ctrl+Y" :
                "Redo - Ctrl+Shift+Z"; // mac and other non-Windows platforms

            buttons.redo = makeButton("wmd-redo-button", redoTitle, "-220px", null);
            buttons.redo.execute = function (manager) { if (manager) manager.redo(); };

            if (helpOptions) {
                var helpButton = document.createElement("li");
                var helpButtonImage = document.createElement("span");
                helpButton.appendChild(helpButtonImage);
                helpButton.className = "wmd-button wmd-help-button";
                helpButton.id = "wmd-help-button" + postfix;
                helpButton.XShift = "-240px";
                helpButton.isHelp = true;
                helpButton.style.right = "0px";
                helpButton.title = helpOptions.title || defaultHelpHoverTitle;
                helpButton.onclick = helpOptions.handler;

                setupButton(helpButton, true);
                buttonRow.appendChild(helpButton);
                buttons.help = helpButton;
            }

            setUndoRedoButtonStates();
        }

        function setUndoRedoButtonStates() {
            if (undoManager) {
                setupButton(buttons.undo, undoManager.canUndo());
                setupButton(buttons.redo, undoManager.canRedo());
            }
        };

        this.setUndoRedoButtonStates = setUndoRedoButtonStates;

    }

    function CommandManager(pluginHooks) {
        this.hooks = pluginHooks;
    }

    var commandProto = CommandManager.prototype;

    // The markdown symbols - 4 spaces = code, > = blockquote, etc.
    commandProto.prefixes = "(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)";

    // Remove markdown symbols from the chunk selection.
    commandProto.unwrap = function (chunk) {
        var txt = new re("([^\\n])\\n(?!(\\n|" + this.prefixes + "))", "g");
        chunk.selection = chunk.selection.replace(txt, "$1 $2");
    };

    commandProto.wrap = function (chunk, len) {
        this.unwrap(chunk);
        var regex = new re("(.{1," + len + "})( +|$\\n?)", "gm"),
            that = this;

        chunk.selection = chunk.selection.replace(regex, function (line, marked) {
            if (new re("^" + that.prefixes, "").test(line)) {
                return line;
            }
            return marked + "\n";
        });

        chunk.selection = chunk.selection.replace(/\s+$/, "");
    };

    commandProto.doBold = function (chunk, postProcessing) {
        return this.doBorI(chunk, postProcessing, 2, "strong text");
    };

    commandProto.doItalic = function (chunk, postProcessing) {
        return this.doBorI(chunk, postProcessing, 1, "emphasized text");
    };

    // chunk: The selected region that will be enclosed with */**
    // nStars: 1 for italics, 2 for bold
    // insertText: If you just click the button without highlighting text, this gets inserted
    commandProto.doBorI = function (chunk, postProcessing, nStars, insertText) {

        // Get rid of whitespace and fixup newlines.
        chunk.trimWhitespace();
        chunk.selection = chunk.selection.replace(/\n{2,}/g, "\n");

        // Look for stars before and after.  Is the chunk already marked up?
        // note that these regex matches cannot fail
        var starsBefore = /(\**$)/.exec(chunk.before)[0];
        var starsAfter = /(^\**)/.exec(chunk.after)[0];

        var prevStars = Math.min(starsBefore.length, starsAfter.length);

        // Remove stars if we have to since the button acts as a toggle.
        if ((prevStars >= nStars) && (prevStars != 2 || nStars != 1)) {
            chunk.before = chunk.before.replace(re("[*]{" + nStars + "}$", ""), "");
            chunk.after = chunk.after.replace(re("^[*]{" + nStars + "}", ""), "");
        }
        else if (!chunk.selection && starsAfter) {
            // It's not really clear why this code is necessary.  It just moves
            // some arbitrary stuff around.
            chunk.after = chunk.after.replace(/^([*_]*)/, "");
            chunk.before = chunk.before.replace(/(\s?)$/, "");
            var whitespace = re.$1;
            chunk.before = chunk.before + starsAfter + whitespace;
        }
        else {

            // In most cases, if you don't have any selected text and click the button
            // you'll get a selected, marked up region with the default text inserted.
            if (!chunk.selection && !starsAfter) {
                chunk.selection = insertText;
            }

            // Add the true markup.
            var markup = nStars <= 1 ? "*" : "**"; // shouldn't the test be = ?
            chunk.before = chunk.before + markup;
            chunk.after = markup + chunk.after;
        }

        return;
    };

    commandProto.stripLinkDefs = function (text, defsToAdd) {

        text = text.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,
            function (totalMatch, id, link, newlines, title) {
                defsToAdd[id] = totalMatch.replace(/\s*$/, "");
                if (newlines) {
                    // Strip the title and return that separately.
                    defsToAdd[id] = totalMatch.replace(/["(](.+?)[")]$/, "");
                    return newlines + title;
                }
                return "";
            });

        return text;
    };

    commandProto.addLinkDef = function (chunk, linkDef) {

        var refNumber = 0; // The current reference number
        var defsToAdd = {}; //
        // Start with a clean slate by removing all previous link definitions.
        chunk.before = this.stripLinkDefs(chunk.before, defsToAdd);
        chunk.selection = this.stripLinkDefs(chunk.selection, defsToAdd);
        chunk.after = this.stripLinkDefs(chunk.after, defsToAdd);

        var defs = "";
        var regex = /(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g;

        var addDefNumber = function (def) {
            refNumber++;
            def = def.replace(/^[ ]{0,3}\[(\d+)\]:/, "  [" + refNumber + "]:");
            defs += "\n" + def;
        };

        // note that
        // a) the recursive call to getLink cannot go infinite, because by definition
        //    of regex, inner is always a proper substring of wholeMatch, and
        // b) more than one level of nesting is neither supported by the regex
        //    nor making a lot of sense (the only use case for nesting is a linked image)
        var getLink = function (wholeMatch, before, inner, afterInner, id, end) {
            inner = inner.replace(regex, getLink);
            if (defsToAdd[id]) {
                addDefNumber(defsToAdd[id]);
                return before + inner + afterInner + refNumber + end;
            }
            return wholeMatch;
        };

        chunk.before = chunk.before.replace(regex, getLink);

        if (linkDef) {
            addDefNumber(linkDef);
        }
        else {
            chunk.selection = chunk.selection.replace(regex, getLink);
        }

        var refOut = refNumber;

        chunk.after = chunk.after.replace(regex, getLink);

        if (chunk.after) {
            chunk.after = chunk.after.replace(/\n*$/, "");
        }
        if (!chunk.after) {
            chunk.selection = chunk.selection.replace(/\n*$/, "");
        }

        chunk.after += "\n\n" + defs;

        return refOut;
    };

    // takes the line as entered into the add link/as image dialog and makes
    // sure the URL and the optinal title are "nice".
    function properlyEncoded(linkdef) {
        return linkdef.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/, function (wholematch, link, title) {
            link = link.replace(/\?.*$/, function (querypart) {
                return querypart.replace(/\+/g, " "); // in the query string, a plus and a space are identical
            });
            link = decodeURIComponent(link); // unencode first, to prevent double encoding
            link = encodeURI(link).replace(/'/g, '%27').replace(/\(/g, '%28').replace(/\)/g, '%29');
            link = link.replace(/\?.*$/, function (querypart) {
                return querypart.replace(/\+/g, "%2b"); // since we replaced plus with spaces in the query part, all pluses that now appear where originally encoded
            });
            if (title) {
                title = title.trim ? title.trim() : title.replace(/^\s*/, "").replace(/\s*$/, "");
                title = $.trim(title).replace(/"/g, "quot;").replace(/\(/g, "&#40;").replace(/\)/g, "&#41;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
            }
            return title ? link + ' "' + title + '"' : link;
        });
    }

    commandProto.doLinkOrImage = function (chunk, postProcessing, isImage) {

        chunk.trimWhitespace();
        chunk.findTags(/\s*!?\[/, /\][ ]?(?:\n[ ]*)?(\[.*?\])?/);
        var background;

        if (chunk.endTag.length > 1 && chunk.startTag.length > 0) {

            chunk.startTag = chunk.startTag.replace(/!?\[/, "");
            chunk.endTag = "";
            this.addLinkDef(chunk, null);

        }
        else {
            
            // We're moving start and end tag back into the selection, since (as we're in the else block) we're not
            // *removing* a link, but *adding* one, so whatever findTags() found is now back to being part of the
            // link text. linkEnteredCallback takes care of escaping any brackets.
            chunk.selection = chunk.startTag + chunk.selection + chunk.endTag;
            chunk.startTag = chunk.endTag = "";

            if (/\n\n/.test(chunk.selection)) {
                this.addLinkDef(chunk, null);
                return;
            }
            var that = this;
            // The function to be executed when you enter a link and press OK or Cancel.
            // Marks up the link and adds the ref.
            var linkEnteredCallback = function (link) {

                background.parentNode.removeChild(background);

                if (link !== null) {
                    // (                          $1
                    //     [^\\]                  anything that's not a backslash
                    //     (?:\\\\)*              an even number (this includes zero) of backslashes
                    // )
                    // (?=                        followed by
                    //     [[\]]                  an opening or closing bracket
                    // )
                    //
                    // In other words, a non-escaped bracket. These have to be escaped now to make sure they
                    // don't count as the end of the link or similar.
                    // Note that the actual bracket has to be a lookahead, because (in case of to subsequent brackets),
                    // the bracket in one match may be the "not a backslash" character in the next match, so it
                    // should not be consumed by the first match.
                    // The "prepend a space and finally remove it" steps makes sure there is a "not a backslash" at the
                    // start of the string, so this also works if the selection begins with a bracket. We cannot solve
                    // this by anchoring with ^, because in the case that the selection starts with two brackets, this
                    // would mean a zero-width match at the start. Since zero-width matches advance the string position,
                    // the first bracket could then not act as the "not a backslash" for the second.
                    chunk.selection = (" " + chunk.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g, "$1\\").substr(1);
                    
                    var linkDef = " [999]: " + properlyEncoded(link);

                    var num = that.addLinkDef(chunk, linkDef);
                    chunk.startTag = isImage ? "![" : "[";
                    chunk.endTag = "][" + num + "]";

                    if (!chunk.selection) {
                        if (isImage) {
                            chunk.selection = "enter image description here";
                        }
                        else {
                            chunk.selection = "enter link description here";
                        }
                    }
                }
                postProcessing();
            };

            background = ui.createBackground();

            if (isImage) {
                if (!this.hooks.insertImageDialog(linkEnteredCallback))
                    ui.prompt(imageDialogText, imageDefaultText, linkEnteredCallback);
            }
            else {
                ui.prompt(linkDialogText, linkDefaultText, linkEnteredCallback);
            }
            return true;
        }
    };

    // When making a list, hitting shift-enter will put your cursor on the next line
    // at the current indent level.
    commandProto.doAutoindent = function (chunk, postProcessing) {

        var commandMgr = this;

        chunk.before = chunk.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/, "\n\n");
        chunk.before = chunk.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/, "\n\n");
        chunk.before = chunk.before.replace(/(\n|^)[ \t]+\n$/, "\n\n");

        if (/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(chunk.before)) {
            if (commandMgr.doList) {
                commandMgr.doList(chunk);
            }
        }
        if (/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(chunk.before)) {
            if (commandMgr.doBlockquote) {
                commandMgr.doBlockquote(chunk);
            }
        }
        if (/(\n|^)(\t|[ ]{4,}).*\n$/.test(chunk.before)) {
            if (commandMgr.doCode) {
                commandMgr.doCode(chunk);
            }
        }
    };

    commandProto.doBlockquote = function (chunk, postProcessing) {

        chunk.selection = chunk.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,
            function (totalMatch, newlinesBefore, text, newlinesAfter) {
                chunk.before += newlinesBefore;
                chunk.after = newlinesAfter + chunk.after;
                return text;
            });

        chunk.before = chunk.before.replace(/(>[ \t]*)$/,
            function (totalMatch, blankLine) {
                chunk.selection = blankLine + chunk.selection;
                return "";
            });

        chunk.selection = chunk.selection.replace(/^(\s|>)+$/, "");
        chunk.selection = chunk.selection || "Blockquote";

        // The original code uses a regular expression to find out how much of the
        // text *directly before* the selection already was a blockquote:

        /*
        if (chunk.before) {
        chunk.before = chunk.before.replace(/\n?$/, "\n");
        }
        chunk.before = chunk.before.replace(/(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*$)/,
        function (totalMatch) {
        chunk.startTag = totalMatch;
        return "";
        });
        */

        // This comes down to:
        // Go backwards as many lines a possible, such that each line
        //  a) starts with ">", or
        //  b) is almost empty, except for whitespace, or
        //  c) is preceeded by an unbroken chain of non-empty lines
        //     leading up to a line that starts with ">" and at least one more character
        // and in addition
        //  d) at least one line fulfills a)
        //
        // Since this is essentially a backwards-moving regex, it's susceptible to
        // catstrophic backtracking and can cause the browser to hang;
        // see e.g. http://meta.stackoverflow.com/questions/9807.
        //
        // Hence we replaced this by a simple state machine that just goes through the
        // lines and checks for a), b), and c).

        var match = "",
            leftOver = "",
            line;
        if (chunk.before) {
            var lines = chunk.before.replace(/\n$/, "").split("\n");
            var inChain = false;
            for (var i = 0; i < lines.length; i++) {
                var good = false;
                line = lines[i];
                inChain = inChain && line.length > 0; // c) any non-empty line continues the chain
                if (/^>/.test(line)) {                // a)
                    good = true;
                    if (!inChain && line.length > 1)  // c) any line that starts with ">" and has at least one more character starts the chain
                        inChain = true;
                } else if (/^[ \t]*$/.test(line)) {   // b)
                    good = true;
                } else {
                    good = inChain;                   // c) the line is not empty and does not start with ">", so it matches if and only if we're in the chain
                }
                if (good) {
                    match += line + "\n";
                } else {
                    leftOver += match + line;
                    match = "\n";
                }
            }
            if (!/(^|\n)>/.test(match)) {             // d)
                leftOver += match;
                match = "";
            }
        }

        chunk.startTag = match;
        chunk.before = leftOver;

        // end of change

        if (chunk.after) {
            chunk.after = chunk.after.replace(/^\n?/, "\n");
        }

        chunk.after = chunk.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,
            function (totalMatch) {
                chunk.endTag = totalMatch;
                return "";
            }
        );

        var replaceBlanksInTags = function (useBracket) {

            var replacement = useBracket ? "> " : "";

            if (chunk.startTag) {
                chunk.startTag = chunk.startTag.replace(/\n((>|\s)*)\n$/,
                    function (totalMatch, markdown) {
                        return "\n" + markdown.replace(/^[ ]{0,3}>?[ \t]*$/gm, replacement) + "\n";
                    });
            }
            if (chunk.endTag) {
                chunk.endTag = chunk.endTag.replace(/^\n((>|\s)*)\n/,
                    function (totalMatch, markdown) {
                        return "\n" + markdown.replace(/^[ ]{0,3}>?[ \t]*$/gm, replacement) + "\n";
                    });
            }
        };

        if (/^(?![ ]{0,3}>)/m.test(chunk.selection)) {
            this.wrap(chunk, SETTINGS.lineLength - 2);
            chunk.selection = chunk.selection.replace(/^/gm, "> ");
            replaceBlanksInTags(true);
            chunk.skipLines();
        } else {
            chunk.selection = chunk.selection.replace(/^[ ]{0,3}> ?/gm, "");
            this.unwrap(chunk);
            replaceBlanksInTags(false);

            if (!/^(\n|^)[ ]{0,3}>/.test(chunk.selection) && chunk.startTag) {
                chunk.startTag = chunk.startTag.replace(/\n{0,2}$/, "\n\n");
            }

            if (!/(\n|^)[ ]{0,3}>.*$/.test(chunk.selection) && chunk.endTag) {
                chunk.endTag = chunk.endTag.replace(/^\n{0,2}/, "\n\n");
            }
        }

        chunk.selection = this.hooks.postBlockquoteCreation(chunk.selection);

        if (!/\n/.test(chunk.selection)) {
            chunk.selection = chunk.selection.replace(/^(> *)/,
            function (wholeMatch, blanks) {
                chunk.startTag += blanks;
                return "";
            });
        }
    };

    commandProto.doCode = function (chunk, postProcessing) {

        var hasTextBefore = /\S[ ]*$/.test(chunk.before);
        var hasTextAfter = /^[ ]*\S/.test(chunk.after);

        // Use 'four space' markdown if the selection is on its own
        // line or is multiline.
        if ((!hasTextAfter && !hasTextBefore) || /\n/.test(chunk.selection)) {

            chunk.before = chunk.before.replace(/[ ]{4}$/,
                function (totalMatch) {
                    chunk.selection = totalMatch + chunk.selection;
                    return "";
                });

            var nLinesBack = 1;
            var nLinesForward = 1;

            if (/\n(\t|[ ]{4,}).*\n$/.test(chunk.before)) {
                nLinesBack = 0;
            }
            if (/^\n(\t|[ ]{4,})/.test(chunk.after)) {
                nLinesForward = 0;
            }

            chunk.skipLines(nLinesBack, nLinesForward);

            if (!chunk.selection) {
                chunk.startTag = "    ";
                chunk.selection = "enter code here";
            }
            else {
                if (/^[ ]{0,3}\S/m.test(chunk.selection)) {
                    chunk.selection = chunk.selection.replace(/^/gm, "    ");
                }
                else {
                    chunk.selection = chunk.selection.replace(/^[ ]{4}/gm, "");
                }
            }
        }
        else {
            // Use backticks (`) to delimit the code block.

            chunk.trimWhitespace();
            chunk.findTags(/`/, /`/);

            if (!chunk.startTag && !chunk.endTag) {
                chunk.startTag = chunk.endTag = "`";
                if (!chunk.selection) {
                    chunk.selection = "enter code here";
                }
            }
            else if (chunk.endTag && !chunk.startTag) {
                chunk.before += chunk.endTag;
                chunk.endTag = "";
            }
            else {
                chunk.startTag = chunk.endTag = "";
            }
        }
    };

    commandProto.doList = function (chunk, postProcessing, isNumberedList) {

        // These are identical except at the very beginning and end.
        // Should probably use the regex extension function to make this clearer.
        var previousItemsRegex = /(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/;
        var nextItemsRegex = /^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/;

        // The default bullet is a dash but others are possible.
        // This has nothing to do with the particular HTML bullet,
        // it's just a markdown bullet.
        var bullet = "-";

        // The number in a numbered list.
        var num = 1;

        // Get the item prefix - e.g. " 1. " for a numbered list, " - " for a bulleted list.
        var getItemPrefix = function () {
            var prefix;
            if (isNumberedList) {
                prefix = " " + num + ". ";
                num++;
            }
            else {
                prefix = " " + bullet + " ";
            }
            return prefix;
        };

        // Fixes the prefixes of the other list items.
        var getPrefixedItem = function (itemText) {

            // The numbering flag is unset when called by autoindent.
            if (isNumberedList === undefined) {
                isNumberedList = /^\s*\d/.test(itemText);
            }

            // Renumber/bullet the list element.
            itemText = itemText.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,
                function (_) {
                    return getItemPrefix();
                });

            return itemText;
        };

        chunk.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/, null);

        if (chunk.before && !/\n$/.test(chunk.before) && !/^\n/.test(chunk.startTag)) {
            chunk.before += chunk.startTag;
            chunk.startTag = "";
        }

        if (chunk.startTag) {

            var hasDigits = /\d+[.]/.test(chunk.startTag);
            chunk.startTag = "";
            chunk.selection = chunk.selection.replace(/\n[ ]{4}/g, "\n");
            this.unwrap(chunk);
            chunk.skipLines();

            if (hasDigits) {
                // Have to renumber the bullet points if this is a numbered list.
                chunk.after = chunk.after.replace(nextItemsRegex, getPrefixedItem);
            }
            if (isNumberedList == hasDigits) {
                return;
            }
        }

        var nLinesUp = 1;

        chunk.before = chunk.before.replace(previousItemsRegex,
            function (itemText) {
                if (/^\s*([*+-])/.test(itemText)) {
                    bullet = re.$1;
                }
                nLinesUp = /[^\n]\n\n[^\n]/.test(itemText) ? 1 : 0;
                return getPrefixedItem(itemText);
            });

        if (!chunk.selection) {
            chunk.selection = "List item";
        }

        var prefix = getItemPrefix();

        var nLinesDown = 1;

        chunk.after = chunk.after.replace(nextItemsRegex,
            function (itemText) {
                nLinesDown = /[^\n]\n\n[^\n]/.test(itemText) ? 1 : 0;
                return getPrefixedItem(itemText);
            });

        chunk.trimWhitespace(true);
        chunk.skipLines(nLinesUp, nLinesDown, true);
        chunk.startTag = prefix;
        var spaces = prefix.replace(/./g, " ");
        this.wrap(chunk, SETTINGS.lineLength - spaces.length);
        chunk.selection = chunk.selection.replace(/\n/g, "\n" + spaces);

    };

    commandProto.doHeading = function (chunk, postProcessing) {

        // Remove leading/trailing whitespace and reduce internal spaces to single spaces.
        chunk.selection = chunk.selection.replace(/\s+/g, " ");
        chunk.selection = chunk.selection.replace(/(^\s+|\s+$)/g, "");

        // If we clicked the button with no selected text, we just
        // make a level 2 hash header around some default text.
        if (!chunk.selection) {
            chunk.startTag = "## ";
            chunk.selection = "Heading";
            chunk.endTag = " ##";
            return;
        }

        var headerLevel = 0;     // The existing header level of the selected text.

        // Remove any existing hash heading markdown and save the header level.
        chunk.findTags(/#+[ ]*/, /[ ]*#+/);
        if (/#+/.test(chunk.startTag)) {
            headerLevel = re.lastMatch.length;
        }
        chunk.startTag = chunk.endTag = "";

        // Try to get the current header level by looking for - and = in the line
        // below the selection.
        chunk.findTags(null, /\s?(-+|=+)/);
        if (/=+/.test(chunk.endTag)) {
            headerLevel = 1;
        }
        if (/-+/.test(chunk.endTag)) {
            headerLevel = 2;
        }

        // Skip to the next line so we can create the header markdown.
        chunk.startTag = chunk.endTag = "";
        chunk.skipLines(1, 1);

        // We make a level 2 header if there is no current header.
        // If there is a header level, we substract one from the header level.
        // If it's already a level 1 header, it's removed.
        var headerLevelToCreate = headerLevel == 0 ? 2 : headerLevel - 1;

        if (headerLevelToCreate > 0) {

            // The button only creates level 1 and 2 underline headers.
            // Why not have it iterate over hash header levels?  Wouldn't that be easier and cleaner?
            var headerChar = headerLevelToCreate >= 2 ? "-" : "=";
            var len = chunk.selection.length;
            if (len > SETTINGS.lineLength) {
                len = SETTINGS.lineLength;
            }
            chunk.endTag = "\n";
            while (len--) {
                chunk.endTag += headerChar;
            }
        }
    };

    commandProto.doHorizontalRule = function (chunk, postProcessing) {
        chunk.startTag = "----------\n";
        chunk.selection = "";
        chunk.skipLines(2, 1, true);
    }


})();
;
;
/* module-key = 'com.atlassian.labs.jira.markdown:jira-markdown-plugin', location = 'pagedown/js/Markdown.Sanitizer.js' */
(function ()
{ // bb added global window object
    var output, Converter;
    if (typeof exports === "object" && typeof require === "function")
    { // we're in a CommonJS (e.g. Node.js) module
        output = exports;
        Converter = require("./Markdown.Converter").Converter;
    } else
    {
        output = Markdown;
        Converter = output.Converter;
    }

    //
    // BB add support for a shared secret that allows tags to pass through without change IF they contain the shared secret as a data attribute
    // Since the shared secret is a time stamp + random number and cant be pre-guess easily then its perfect as a shared secret to allow tags that
    // don't conform to the regex specs below
    //
    output.getSanitizingConverter = function (sharedSecret)
    {
        var converter = new Converter();

        converter.hooks.chain("postConversion", function (html)
        {
            return sanitizeHtml(html, sharedSecret);
        });
        converter.hooks.chain("postConversion", balanceTags);
        return converter;
    }

    function sanitizeHtml(html, sharedSecret)
    {
        return html.replace(/<[^>]*>?/gi, function (tag)
        {
            return sanitizeTag(tag, sharedSecret);
        });
    }

    // (tags that can be opened/closed) | (tags that stand alone)
    var basic_tag_whitelist = /^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul|table|thead|tbody|tr|td|th)>|<(br|hr)\s?\/?>)$/i;

    //
    // BB - allowing class attribute
    //
    // <a href="url..." optional title>|</a>
    var a_white = /^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?(\sclass="[^"<>]+")?\s?>|<\/a>)$/i;

    // <img src="url..." optional width  optional height  optional alt  optional title
    var img_white = /^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?(\sclass="[^"<>]*")?\s?\/?>)$/i;

    var tcell_white = /^<(td|th)(\salign="(right|left|center)")?/i;

    function sanitizeTag(tag, sharedSecret)
    {
        if (tag.match(basic_tag_whitelist) || tag.match(a_white) || tag.match(img_white) || tag.match(tcell_white))
        {
            return tag;
        } else
        {
            if (sharedSecret)
            {
                var searchString = 'data-shared-secret="' + sharedSecret + '"';
                if (tag.indexOf(searchString) != -1)
                {
                    return tag.replace(searchString, "");
                }
            }
            return "";
        }
    }

    /// <summary>
    /// attempt to balance HTML tags in the html string
    /// by removing any unmatched opening or closing tags
    /// IMPORTANT: we *assume* HTML has *already* been
    /// sanitized and is safe/sane before balancing!
    ///
    /// adapted from CODESNIPPET: A8591DBA-D1D3-11DE-947C-BA5556D89593
    /// </summary>
    function balanceTags(html)
    {

        if (html == "")
            return "";

        var re = /<\/?\w+[^>]*(\s|$|>)/g;
        // convert everything to lower case; this makes
        // our case insensitive comparisons easier
        var tags = html.toLowerCase().match(re);

        // no HTML tags present? nothing to do; exit now
        var tagcount = (tags || []).length;
        if (tagcount == 0)
            return html;

        var tagname, tag;
        var ignoredtags = "<p><img><br><li><hr>";
        var match;
        var tagpaired = [];
        var tagremove = [];
        var needsRemoval = false;

        // loop through matched tags in forward order
        for (var ctag = 0; ctag < tagcount; ctag++)
        {
            tagname = tags[ctag].replace(/<\/?(\w+).*/, "$1");
            // skip any already paired tags
            // and skip tags in our ignore list; assume they're self-closed
            if (tagpaired[ctag] || ignoredtags.search("<" + tagname + ">") > -1)
                continue;

            tag = tags[ctag];
            match = -1;

            if (!/^<\//.test(tag))
            {
                // this is an opening tag
                // search forwards (next tags), look for closing tags
                for (var ntag = ctag + 1; ntag < tagcount; ntag++)
                {
                    if (!tagpaired[ntag] && tags[ntag] == "</" + tagname + ">")
                    {
                        match = ntag;
                        break;
                    }
                }
            }

            if (match == -1)
                needsRemoval = tagremove[ctag] = true; // mark for removal
            else
                tagpaired[match] = true; // mark paired
        }

        if (!needsRemoval)
            return html;

        // delete all orphaned tags from the string

        var ctag = 0;
        html = html.replace(re, function (match)
        {
            var res = tagremove[ctag] ? "" : match;
            ctag++;
            return res;
        });
        return html;
    }
})();
;
;
/* module-key = 'com.atlassian.labs.jira.markdown:jira-markdown-plugin', location = 'pagedown/js/Markdown.SharedSecret.js' */
(function() {
    /**
     * This top level method instantiates a new shared secret per run and then invokes markdown with it
     *
     * @param text the markdown text to be converted into html
     */
    Markdown.getSharedSecretConverter = function ()
    {
        if (typeof javaHtmlGeneration == 'undefined') {
            javaHtmlGeneration = false;
        }
        /*
         This invoker script wraps up the PageDown code into something that can be more easily invoked from Java.  It was of course
         never part of the standard PageDown code base.
         */

        var sharedSecret = '' + new Date().getTime() + '-' + Math.random();

        converter = Markdown.getSanitizingConverter(sharedSecret);

        /*
         Its really important to the Markdown Sanitizer that there be no extra spaces and the right attributes
         it will strip them otherwise
         */
        var toAttr = function (attrName, attrValue)
        {
            return attrValue ? ' ' + attrName + '="' + attrValue + '"' : "";
        };

        converter.hooks.set("generateImageHTML", function (obj)
        {
            if (javaHtmlGeneration) {
                return javaHtmlGeneration.generateImageHTML(sharedSecret, obj.url,obj.alt_text,obj.title);
            }
            return '<img' +
                    toAttr('src', obj.url) +
                    toAttr('alt', obj.alt_text) +
                    toAttr('title', obj.title) +
                    toAttr('class', 'markdownImg') +
                    toAttr('data-shared-secret', sharedSecret) +
                    '/>';
        });
        converter.hooks.set("generateLinkHTML", function (obj)
        {
            if (javaHtmlGeneration) {
                return javaHtmlGeneration.generateLinkHTML(sharedSecret, obj.url,obj.title, obj.link_text);
            }
            return '<a' +
                    toAttr('href', obj.url) +
                    toAttr('title', obj.title) +
                    toAttr('class', 'markdownLink') +
                    toAttr('data-shared-secret', sharedSecret) +
                    '>' + obj.link_text + '</a>';
        });

        converter.hooks.set("generateCodeBlockHTML", function (obj)
        {
            return '<pre' +
                    toAttr('class', 'prettyprint') +
                    toAttr('data-shared-secret', sharedSecret) +
                    '><code>' + obj.codeblock + '</code></pre>';
        });


        converter.hooks.set("generateCodeSpanHTML", function (obj)
        {
            return '<code' +
                    toAttr('class', 'prettyprint') +
                    toAttr('data-shared-secret', sharedSecret) +
                    '>' + obj.codespan + '</code>';
        });


        return converter;
   };

})();

// the java support requires that the last object evaluated is what is accessible to be called.
Markdown.getSharedSecretConverter();
;
;
/* module-key = 'com.atlassian.labs.jira.markdown:jira-markdown-plugin', location = 'googleprettify/js/prettify.js' */
var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;
(function(){function L(a){function m(a){var f=a.charCodeAt(0);if(f!==92)return f;var b=a.charAt(1);return(f=r[b])?f:"0"<=b&&b<="7"?parseInt(a.substring(1),8):b==="u"||b==="x"?parseInt(a.substring(2),16):a.charCodeAt(1)}function e(a){if(a<32)return(a<16?"\\x0":"\\x")+a.toString(16);a=String.fromCharCode(a);if(a==="\\"||a==="-"||a==="["||a==="]")a="\\"+a;return a}function h(a){for(var f=a.substring(1,a.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),a=
[],b=[],o=f[0]==="^",c=o?1:0,i=f.length;c<i;++c){var j=f[c];if(/\\[bdsw]/i.test(j))a.push(j);else{var j=m(j),d;c+2<i&&"-"===f[c+1]?(d=m(f[c+2]),c+=2):d=j;b.push([j,d]);d<65||j>122||(d<65||j>90||b.push([Math.max(65,j)|32,Math.min(d,90)|32]),d<97||j>122||b.push([Math.max(97,j)&-33,Math.min(d,122)&-33]))}}b.sort(function(a,f){return a[0]-f[0]||f[1]-a[1]});f=[];j=[NaN,NaN];for(c=0;c<b.length;++c)i=b[c],i[0]<=j[1]+1?j[1]=Math.max(j[1],i[1]):f.push(j=i);b=["["];o&&b.push("^");b.push.apply(b,a);for(c=0;c<
f.length;++c)i=f[c],b.push(e(i[0])),i[1]>i[0]&&(i[1]+1>i[0]&&b.push("-"),b.push(e(i[1])));b.push("]");return b.join("")}function y(a){for(var f=a.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),b=f.length,d=[],c=0,i=0;c<b;++c){var j=f[c];j==="("?++i:"\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(d[j]=-1)}for(c=1;c<d.length;++c)-1===d[c]&&(d[c]=++t);for(i=c=0;c<b;++c)j=f[c],j==="("?(++i,d[i]===void 0&&(f[c]="(?:")):"\\"===j.charAt(0)&&
(j=+j.substring(1))&&j<=i&&(f[c]="\\"+d[i]);for(i=c=0;c<b;++c)"^"===f[c]&&"^"!==f[c+1]&&(f[c]="");if(a.ignoreCase&&s)for(c=0;c<b;++c)j=f[c],a=j.charAt(0),j.length>=2&&a==="["?f[c]=h(j):a!=="\\"&&(f[c]=j.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return"["+String.fromCharCode(a&-33,a|32)+"]"}));return f.join("")}for(var t=0,s=!1,l=!1,p=0,d=a.length;p<d;++p){var g=a[p];if(g.ignoreCase)l=!0;else if(/[a-z]/i.test(g.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){s=!0;l=!1;break}}for(var r=
{b:8,t:9,n:10,v:11,f:12,r:13},n=[],p=0,d=a.length;p<d;++p){g=a[p];if(g.global||g.multiline)throw Error(""+g);n.push("(?:"+y(g)+")")}return RegExp(n.join("|"),l?"gi":"g")}function M(a){function m(a){switch(a.nodeType){case 1:if(e.test(a.className))break;for(var g=a.firstChild;g;g=g.nextSibling)m(g);g=a.nodeName;if("BR"===g||"LI"===g)h[s]="\n",t[s<<1]=y++,t[s++<<1|1]=a;break;case 3:case 4:g=a.nodeValue,g.length&&(g=p?g.replace(/\r\n?/g,"\n"):g.replace(/[\t\n\r ]+/g," "),h[s]=g,t[s<<1]=y,y+=g.length,
t[s++<<1|1]=a)}}var e=/(?:^|\s)nocode(?:\s|$)/,h=[],y=0,t=[],s=0,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=document.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var p=l&&"pre"===l.substring(0,3);m(a);return{a:h.join("").replace(/\n$/,""),c:t}}function B(a,m,e,h){m&&(a={a:m,d:a},e(a),h.push.apply(h,a.e))}function x(a,m){function e(a){for(var l=a.d,p=[l,"pln"],d=0,g=a.a.match(y)||[],r={},n=0,z=g.length;n<z;++n){var f=g[n],b=r[f],o=void 0,c;if(typeof b===
"string")c=!1;else{var i=h[f.charAt(0)];if(i)o=f.match(i[1]),b=i[0];else{for(c=0;c<t;++c)if(i=m[c],o=f.match(i[1])){b=i[0];break}o||(b="pln")}if((c=b.length>=5&&"lang-"===b.substring(0,5))&&!(o&&typeof o[1]==="string"))c=!1,b="src";c||(r[f]=b)}i=d;d+=f.length;if(c){c=o[1];var j=f.indexOf(c),k=j+c.length;o[2]&&(k=f.length-o[2].length,j=k-c.length);b=b.substring(5);B(l+i,f.substring(0,j),e,p);B(l+i+j,c,C(b,c),p);B(l+i+k,f.substring(k),e,p)}else p.push(l+i,b)}a.e=p}var h={},y;(function(){for(var e=a.concat(m),
l=[],p={},d=0,g=e.length;d<g;++d){var r=e[d],n=r[3];if(n)for(var k=n.length;--k>=0;)h[n.charAt(k)]=r;r=r[1];n=""+r;p.hasOwnProperty(n)||(l.push(r),p[n]=q)}l.push(/[\S\s]/);y=L(l)})();var t=m.length;return e}function u(a){var m=[],e=[];a.tripleQuotedStrings?m.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):a.multiLineStrings?m.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,
q,"'\"`"]):m.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]);a.verbatimStrings&&e.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var h=a.hashComments;h&&(a.cStyleComments?(h>1?m.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):m.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),e.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):m.push(["com",/^#[^\n\r]*/,
q,"#"]));a.cStyleComments&&(e.push(["com",/^\/\/[^\n\r]*/,q]),e.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q]));a.regexLiterals&&e.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]);(h=a.types)&&e.push(["typ",h]);a=(""+a.keywords).replace(/^ | $/g,
"");a.length&&e.push(["kwd",RegExp("^(?:"+a.replace(/[\s,]+/g,"|")+")\\b"),q]);m.push(["pln",/^\s+/,q," \r\n\t\xa0"]);e.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]);return x(m,e)}function D(a,m){function e(a){switch(a.nodeType){case 1:if(k.test(a.className))break;if("BR"===a.nodeName)h(a),
a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)e(a);break;case 3:case 4:if(p){var b=a.nodeValue,d=b.match(t);if(d){var c=b.substring(0,d.index);a.nodeValue=c;(b=b.substring(d.index+d[0].length))&&a.parentNode.insertBefore(s.createTextNode(b),a.nextSibling);h(a);c||a.parentNode.removeChild(a)}}}}function h(a){function b(a,d){var e=d?a.cloneNode(!1):a,f=a.parentNode;if(f){var f=b(f,1),g=a.nextSibling;f.appendChild(e);for(var h=g;h;h=g)g=h.nextSibling,f.appendChild(h)}return e}
for(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var a=b(a.nextSibling,0),e;(e=a.parentNode)&&e.nodeType===1;)a=e;d.push(a)}var k=/(?:^|\s)nocode(?:\s|$)/,t=/\r\n?|\n/,s=a.ownerDocument,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=s.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var p=l&&"pre"===l.substring(0,3);for(l=s.createElement("LI");a.firstChild;)l.appendChild(a.firstChild);for(var d=[l],g=0;g<d.length;++g)e(d[g]);m===(m|0)&&d[0].setAttribute("value",
m);var r=s.createElement("OL");r.className="linenums";for(var n=Math.max(0,m-1|0)||0,g=0,z=d.length;g<z;++g)l=d[g],l.className="L"+(g+n)%10,l.firstChild||l.appendChild(s.createTextNode("\xa0")),r.appendChild(l);a.appendChild(r)}function k(a,m){for(var e=m.length;--e>=0;){var h=m[e];A.hasOwnProperty(h)?window.console&&console.warn("cannot override language handler %s",h):A[h]=a}}function C(a,m){if(!a||!A.hasOwnProperty(a))a=/^\s*</.test(m)?"default-markup":"default-code";return A[a]}function E(a){var m=
a.g;try{var e=M(a.h),h=e.a;a.a=h;a.c=e.c;a.d=0;C(m,h)(a);var k=/\bMSIE\b/.test(navigator.userAgent),m=/\n/g,t=a.a,s=t.length,e=0,l=a.c,p=l.length,h=0,d=a.e,g=d.length,a=0;d[g]=s;var r,n;for(n=r=0;n<g;)d[n]!==d[n+2]?(d[r++]=d[n++],d[r++]=d[n++]):n+=2;g=r;for(n=r=0;n<g;){for(var z=d[n],f=d[n+1],b=n+2;b+2<=g&&d[b+1]===f;)b+=2;d[r++]=z;d[r++]=f;n=b}for(d.length=r;h<p;){var o=l[h+2]||s,c=d[a+2]||s,b=Math.min(o,c),i=l[h+1],j;if(i.nodeType!==1&&(j=t.substring(e,b))){k&&(j=j.replace(m,"\r"));i.nodeValue=
j;var u=i.ownerDocument,v=u.createElement("SPAN");v.className=d[a+1];var x=i.parentNode;x.replaceChild(v,i);v.appendChild(i);e<o&&(l[h+1]=i=u.createTextNode(t.substring(b,o)),x.insertBefore(i,v.nextSibling))}e=b;e>=o&&(h+=2);e>=c&&(a+=2)}}catch(w){"console"in window&&console.log(w&&w.stack?w.stack:w)}}var v=["break,continue,do,else,for,if,return,while"],w=[[v,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],
"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],F=[w,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],G=[w,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],
H=[G,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],w=[w,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],I=[v,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],
J=[v,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],v=[v,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],K=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,N=/\S/,O=u({keywords:[F,H,w,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+
I,J,v],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),A={};k(O,["default-code"]);k(x([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),
["default-markup","htm","html","mxml","xhtml","xml","xsl"]);k(x([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",
/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);k(x([],[["atv",/^[\S\s]+/]]),["uq.val"]);k(u({keywords:F,hashComments:!0,cStyleComments:!0,types:K}),["c","cc","cpp","cxx","cyc","m"]);k(u({keywords:"null,true,false"}),["json"]);k(u({keywords:H,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:K}),["cs"]);k(u({keywords:G,cStyleComments:!0}),["java"]);k(u({keywords:v,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);k(u({keywords:I,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),
["cv","py"]);k(u({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);k(u({keywords:J,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);k(u({keywords:w,cStyleComments:!0,regexLiterals:!0}),["js"]);k(u({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",
hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);k(x([],[["str",/^[\S\s]+/]]),["regex"]);window.prettyPrintOne=function(a,m,e){var h=document.createElement("PRE");h.innerHTML=a;e&&D(h,e);E({g:m,i:e,h:h});return h.innerHTML};window.prettyPrint=function(a){function m(){for(var e=window.PR_SHOULD_USE_CONTINUATION?l.now()+250:Infinity;p<h.length&&l.now()<e;p++){var n=h[p],k=n.className;if(k.indexOf("prettyprint")>=0){var k=k.match(g),f,b;if(b=
!k){b=n;for(var o=void 0,c=b.firstChild;c;c=c.nextSibling)var i=c.nodeType,o=i===1?o?b:c:i===3?N.test(c.nodeValue)?b:o:o;b=(f=o===b?void 0:o)&&"CODE"===f.tagName}b&&(k=f.className.match(g));k&&(k=k[1]);b=!1;for(o=n.parentNode;o;o=o.parentNode)if((o.tagName==="pre"||o.tagName==="code"||o.tagName==="xmp")&&o.className&&o.className.indexOf("prettyprint")>=0){b=!0;break}b||((b=(b=n.className.match(/\blinenums\b(?::(\d+))?/))?b[1]&&b[1].length?+b[1]:!0:!1)&&D(n,b),d={g:k,h:n,i:b},E(d))}}p<h.length?setTimeout(m,
250):a&&a()}for(var e=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],h=[],k=0;k<e.length;++k)for(var t=0,s=e[k].length;t<s;++t)h.push(e[k][t]);var e=q,l=Date;l.now||(l={now:function(){return+new Date}});var p=0,d,g=/\blang(?:uage)?-([\w.]+)(?!\S)/;m()};window.PR={createSimpleLexer:x,registerLangHandler:k,sourceDecorator:u,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",
PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}})();;
;
/* module-key = 'com.atlassian.labs.jira.markdown:jira-markdown-plugin', location = 'js/markdown-init.js' */
(function(A){var B=function(D,C){C=C||document.body;
prettyPrint();
A(".wmd-input",C).each(function(){var E=A(this);
if(E.data("bound")){return 
}var J=E.attr("data-id-postfix");
var G=Markdown.getSharedSecretConverter();
var I=function(){window.open(contextPath+"/MarkdownHelpAction.jspa","markdown_renderer_notation_help","width=780, height=800, resizable, scrollbars=yes")
};
var H={handler:I};
var F=new Markdown.Editor(G,"-"+J,null);
F.run();
A("#wmd-preview-button-"+J).bind("click",function(K){K.preventDefault();
A(this).toggleClass("selected");
A("#wmd-preview-container-"+J).toggleClass("selected")
});
A("#wmd-help-button-"+J).bind("click",function(K){K.preventDefault();
I()
});
prettyPrint()
})
};
if(JIRA.Events&&JIRA.Events.NEW_CONTENT_ADDED){JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,B)
}else{A(B)
}})(jQuery);;